"use strict";(self.webpackChunkTPFinal_Labo_IV=self.webpackChunkTPFinal_Labo_IV||[]).push([[179],{3560:(Nt,Be,O)=>{O.d(Be,{$:()=>Ke,A:()=>ve,C:()=>Mt,E:()=>tt,J:()=>cs,K:()=>Do,M:()=>kr,P:()=>Ml,Q:()=>Ue,R:()=>cl,U:()=>Sr,V:()=>bo,W:()=>Gr,X:()=>Ws,Y:()=>Ho,Z:()=>Es,_:()=>mi,a:()=>ll,a0:()=>qs,a1:()=>tc,a2:()=>il,a3:()=>nc,a4:()=>rl,a5:()=>wo,a6:()=>Al,a7:()=>ic,a8:()=>ba,a9:()=>rc,aA:()=>Le,aB:()=>Fe,aC:()=>Za,aD:()=>B,aE:()=>vt,aF:()=>Pa,aG:()=>Ld,aH:()=>zc,aI:()=>si,aM:()=>ns,aP:()=>no,aa:()=>Po,ab:()=>la,ac:()=>Ri,ad:()=>Xu,ae:()=>Oo,af:()=>Ua,ag:()=>ja,aj:()=>D,ak:()=>z,al:()=>X,ao:()=>Ro,ap:()=>Bi,ar:()=>kc,as:()=>sl,at:()=>Ut,au:()=>we,av:()=>ie,aw:()=>ge,ax:()=>kl,ay:()=>Su,az:()=>at,b:()=>sc,c:()=>lo,d:()=>ws,e:()=>Hc,f:()=>Ol,g:()=>fl,h:()=>qa,i:()=>q,j:()=>pl,k:()=>ta,l:()=>Vh,m:()=>Pu,o:()=>Ja,p:()=>fe,r:()=>kd,s:()=>td,u:()=>Sa});var h=O(5861),H=O(9058),te=O(534),R=O(7879),me=O(7582),Ee=O(4537);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ve={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const tt=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},bt=function Ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pt=new R.Yd("@firebase/auth");function _t(E,...m){pt.logLevel<=R.in.ERROR&&pt.error(`Auth (${te.SDK_VERSION}): ${E}`,...m)}function ge(E,...m){throw ct(E,...m)}function Le(E,...m){return ct(E,...m)}function Me(E,m,y){const C=Object.assign(Object.assign({},bt()),{[m]:y});return new H.LL("auth","Firebase",C).create(m,{appName:E.name})}function Xe(E,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&ge(E,"argument-error"),Me(E,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ct(E,...m){if("string"!=typeof E){const y=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=E.name),E._errorFactory.create(y,...C)}return it.create(E,...m)}function Fe(E,m,...y){if(!E)throw ct(m,...y)}function Wt(E){const m="INTERNAL ASSERTION FAILED: "+E;throw _t(m),new Error(m)}function Ut(E,m){E||Wt(m)}function dn(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function an(){return"http:"===jt()||"https:"===jt()}function jt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class bn{constructor(m,y){this.shortDelay=m,this.longDelay=y,Ut(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function bi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(an()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function En(E,m){Ut(E.emulator,"Emulator should always be set here");const{url:y}=E.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class We{static initialize(m,y,C){this.fetchImpl=m,y&&(this.headersImpl=y),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ye=new bn(3e4,6e4);function Qe(E,m){return E.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:E.tenantId}):m}function $e(E,m,y,C){return st.apply(this,arguments)}function st(){return(st=(0,h.Z)(function*(E,m,y,C,Q={}){return Pe(E,Q,(0,h.Z)(function*(){let ue={},He={};C&&("GET"===m?He=C:ue={body:JSON.stringify(C)});const mt=(0,H.xO)(Object.assign({key:E.config.apiKey},He)).slice(1),Vt=yield E._getAdditionalHeaders();return Vt["Content-Type"]="application/json",E.languageCode&&(Vt["X-Firebase-Locale"]=E.languageCode),We.fetch()(Kn(E,E.config.apiHost,y,mt),Object.assign({method:m,headers:Vt,referrerPolicy:"no-referrer"},ue))}))})).apply(this,arguments)}function Pe(E,m,y){return wt.apply(this,arguments)}function wt(){return(wt=(0,h.Z)(function*(E,m,y){E._canInitEmulator=!1;const C=Object.assign(Object.assign({},Je),m);try{const Q=new _n(E),ue=yield Promise.race([y(),Q.promise]);Q.clearNetworkTimeout();const He=yield ue.json();if("needConfirmation"in He)throw Ln(E,"account-exists-with-different-credential",He);if(ue.ok&&!("errorMessage"in He))return He;{const mt=ue.ok?He.errorMessage:He.error.message,[Vt,Rn]=mt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Vt)throw Ln(E,"credential-already-in-use",He);if("EMAIL_EXISTS"===Vt)throw Ln(E,"email-already-in-use",He);if("USER_DISABLED"===Vt)throw Ln(E,"user-disabled",He);const Gt=C[Vt]||Vt.toLowerCase().replace(/[_\s]+/g,"-");if(Rn)throw Me(E,Gt,Rn);ge(E,Gt)}}catch(Q){if(Q instanceof H.ZR)throw Q;ge(E,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function zn(E,m,y,C){return rn.apply(this,arguments)}function rn(){return(rn=(0,h.Z)(function*(E,m,y,C,Q={}){const ue=yield $e(E,m,y,C,Q);return"mfaPendingCredential"in ue&&ge(E,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function Kn(E,m,y,C){const Q=`${m}${y}?${C}`;return E.config.emulator?En(E.config,Q):`${E.config.apiScheme}://${Q}`}function Dn(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _n{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,C)=>{this.timer=setTimeout(()=>C(Le(this.auth,"network-request-failed")),Ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ln(E,m,y){const C={appName:E.name};y.email&&(C.email=y.email),y.phoneNumber&&(C.phoneNumber=y.phoneNumber);const Q=Le(E,m,C);return Q.customData._tokenResponse=y,Q}function li(E){return void 0!==E&&void 0!==E.getResponse}function Bn(E){return void 0!==E&&void 0!==E.enterprise}class Ei{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const y of this.recaptchaEnforcementState)if(y.provider&&y.provider===m)return Dn(y.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function lr(){return(lr=(0,h.Z)(function*(E){return(yield $e(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Li(E,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,h.Z)(function*(E,m){return $e(E,"GET","/v2/recaptchaConfig",Qe(E,m))})).apply(this,arguments)}function Ii(){return(Ii=(0,h.Z)(function*(E,m){return $e(E,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function fn(){return(fn=(0,h.Z)(function*(E,m){return $e(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function hn(){return(hn=(0,h.Z)(function*(E,m){return $e(E,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function wi(E){if(E)try{const m=new Date(Number(E));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function $n(){return($n=(0,h.Z)(function*(E,m=!1){const y=(0,H.m9)(E),C=yield y.getIdToken(m),Q=Qt(C);Fe(Q&&Q.exp&&Q.auth_time&&Q.iat,y.auth,"internal-error");const ue="object"==typeof Q.firebase?Q.firebase:void 0,He=ue?.sign_in_provider;return{claims:Q,token:C,authTime:wi(Mr(Q.auth_time)),issuedAtTime:wi(Mr(Q.iat)),expirationTime:wi(Mr(Q.exp)),signInProvider:He||null,signInSecondFactor:ue?.sign_in_second_factor||null}})).apply(this,arguments)}function Mr(E){return 1e3*Number(E)}function Qt(E){const[m,y,C]=E.split(".");if(void 0===m||void 0===y||void 0===C)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,H.tV)(y);return Q?JSON.parse(Q):(_t("Failed to decode base64 JWT payload"),null)}catch(Q){return _t("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function vn(E,m){return fi.apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(E,m,y=!1){if(y)return m;try{return yield m}catch(C){throw C instanceof H.ZR&&function Di({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(C)&&E.auth.currentUser===E&&(yield E.auth.signOut()),C}})).apply(this,arguments)}class ui{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const Q=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,h.Z)(function*(){yield y.iteration()}),C)}iteration(){var m=this;return(0,h.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&m.schedule(!0))}m.schedule()})()}}class Gn{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=wi(this.lastLoginAt),this.creationTime=wi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mn(E){return vi.apply(this,arguments)}function vi(){return vi=(0,h.Z)(function*(E){var m;const y=E.auth,C=yield E.getIdToken(),Q=yield vn(E,function en(E,m){return hn.apply(this,arguments)}(y,{idToken:C}));Fe(Q?.users.length,y,"internal-error");const ue=Q.users[0];E._notifyReloadListener(ue);const He=null!==(m=ue.providerUserInfo)&&void 0!==m&&m.length?function Gi(E){return E.map(m=>{var{providerId:y}=m,C=(0,me._T)(m,["providerId"]);return{providerId:y,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(ue.providerUserInfo):[],mt=function Ui(E,m){return[...E.filter(C=>!m.some(Q=>Q.providerId===C.providerId)),...m]}(E.providerData,He),Gt=!!E.isAnonymous&&!(E.email&&ue.passwordHash||mt?.length),sr={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:mt,metadata:new Gn(ue.createdAt,ue.lastLoginAt),isAnonymous:Gt};Object.assign(E,sr)}),vi.apply(this,arguments)}function Xi(){return(Xi=(0,h.Z)(function*(E){const m=(0,H.m9)(E);yield Mn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Dt(){return(Dt=(0,h.Z)(function*(E,m){const y=yield Pe(E,{},(0,h.Z)(function*(){const C=(0,H.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:Q,apiKey:ue}=E.config,He=Kn(E,Q,"/v1/token",`key=${ue}`),mt=yield E._getAdditionalHeaders();return mt["Content-Type"]="application/x-www-form-urlencoded",We.fetch()(He,{method:"POST",headers:mt,body:C})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class oe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Fe(m.idToken,"internal-error"),Fe(typeof m.idToken<"u","internal-error"),Fe(typeof m.refreshToken<"u","internal-error");const y="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function hr(E){const m=Qt(E);return Fe(m,"internal-error"),Fe(typeof m.exp<"u","internal-error"),Fe(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var C=this;return(0,h.Z)(function*(){return Fe(!C.accessToken||C.refreshToken,m,"user-token-expired"),y||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var C=this;return(0,h.Z)(function*(){const{accessToken:Q,refreshToken:ue,expiresIn:He}=yield function fr(E,m){return Dt.apply(this,arguments)}(m,y);C.updateTokensAndExpiration(Q,ue,Number(He))})()}updateTokensAndExpiration(m,y,C){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,y){const{refreshToken:C,accessToken:Q,expirationTime:ue}=y,He=new oe;return C&&(Fe("string"==typeof C,"internal-error",{appName:m}),He.refreshToken=C),Q&&(Fe("string"==typeof Q,"internal-error",{appName:m}),He.accessToken=Q),ue&&(Fe("number"==typeof ue,"internal-error",{appName:m}),He.expirationTime=ue),He}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new oe,this.toJSON())}_performRefresh(){return Wt("not implemented")}}function U(E,m){Fe("string"==typeof E||typeof E>"u","internal-error",{appName:m})}class F{constructor(m){var{uid:y,auth:C,stsTokenManager:Q}=m,ue=(0,me._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ui(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=C,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new Gn(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,h.Z)(function*(){const C=yield vn(y,y.stsTokenManager.getToken(y.auth,m));return Fe(C,y.auth,"internal-error"),y.accessToken!==C&&(y.accessToken=C,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),C})()}getIdTokenResult(m){return function Pn(E){return $n.apply(this,arguments)}(this,m)}reload(){return function $i(E){return Xi.apply(this,arguments)}(this)}_assign(m){this!==m&&(Fe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const y=new F(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(m){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var C=this;return(0,h.Z)(function*(){let Q=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),Q=!0),y&&(yield Mn(C)),yield C.auth._persistUserIfCurrent(C),Q&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,h.Z)(function*(){const y=yield m.getIdToken();return yield vn(m,function Pi(E,m){return Ii.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var C,Q,ue,He,mt,Vt,Rn,Gt;const sr=null!==(C=y.displayName)&&void 0!==C?C:void 0,os=null!==(Q=y.email)&&void 0!==Q?Q:void 0,vl=null!==(ue=y.phoneNumber)&&void 0!==ue?ue:void 0,Fu=null!==(He=y.photoURL)&&void 0!==He?He:void 0,Qc=null!==(mt=y.tenantId)&&void 0!==mt?mt:void 0,fc=null!==(Vt=y._redirectEventId)&&void 0!==Vt?Vt:void 0,Hh=null!==(Rn=y.createdAt)&&void 0!==Rn?Rn:void 0,ld=null!==(Gt=y.lastLoginAt)&&void 0!==Gt?Gt:void 0,{uid:Gd,emailVerified:Bl,isAnonymous:pc,providerData:cd,stsTokenManager:Ul}=y;Fe(Gd&&Ul,m,"internal-error");const ud=oe.fromJSON(this.name,Ul);Fe("string"==typeof Gd,m,"internal-error"),U(sr,m.name),U(os,m.name),Fe("boolean"==typeof Bl,m,"internal-error"),Fe("boolean"==typeof pc,m,"internal-error"),U(vl,m.name),U(Fu,m.name),U(Qc,m.name),U(fc,m.name),U(Hh,m.name),U(ld,m.name);const mc=new F({uid:Gd,auth:m,email:os,emailVerified:Bl,displayName:sr,isAnonymous:pc,photoURL:Fu,phoneNumber:vl,tenantId:Qc,stsTokenManager:ud,createdAt:Hh,lastLoginAt:ld});return cd&&Array.isArray(cd)&&(mc.providerData=cd.map(Qf=>Object.assign({},Qf))),fc&&(mc._redirectEventId=fc),mc}static _fromIdTokenResponse(m,y,C=!1){return(0,h.Z)(function*(){const Q=new oe;Q.updateFromServerResponse(y);const ue=new F({uid:y.localId,auth:m,stsTokenManager:Q,isAnonymous:C});return yield Mn(ue),ue})()}}const k=new Map;function B(E){Ut(E instanceof Function,"Expected a class definition");let m=k.get(E);return m?(Ut(m instanceof E,"Instance stored in cache mismatched with class"),m):(m=new E,k.set(E,m),m)}const Ue=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(y,C){var Q=this;return(0,h.Z)(function*(){Q.storage[y]=C})()}_get(y){var C=this;return(0,h.Z)(function*(){const Q=C.storage[y];return void 0===Q?null:Q})()}_remove(y){var C=this;return(0,h.Z)(function*(){delete C.storage[y]})()}_addListener(y,C){}_removeListener(y,C){}}return E.type="NONE",E})();function vt(E,m,y){return`firebase:${E}:${m}:${y}`}class St{constructor(m,y,C){this.persistence=m,this.auth=y,this.userKey=C;const{config:Q,name:ue}=this.auth;this.fullUserKey=vt(this.userKey,Q.apiKey,ue),this.fullPersistenceKey=vt("persistence",Q.apiKey,ue),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,h.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?F._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,h.Z)(function*(){if(y.persistence===m)return;const C=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,C?y.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,C="authUser"){return(0,h.Z)(function*(){if(!y.length)return new St(B(Ue),m,C);const Q=(yield Promise.all(y.map(function(){var Rn=(0,h.Z)(function*(Gt){if(yield Gt._isAvailable())return Gt});return function(Gt){return Rn.apply(this,arguments)}}()))).filter(Rn=>Rn);let ue=Q[0]||B(Ue);const He=vt(C,m.config.apiKey,m.name);let mt=null;for(const Rn of y)try{const Gt=yield Rn._get(He);if(Gt){const sr=F._fromJSON(m,Gt);Rn!==ue&&(mt=sr),ue=Rn;break}}catch{}const Vt=Q.filter(Rn=>Rn._shouldAllowMigration);return ue._shouldAllowMigration&&Vt.length?(ue=Vt[0],mt&&(yield ue._set(He,mt.toJSON())),yield Promise.all(y.map(function(){var Rn=(0,h.Z)(function*(Gt){if(Gt!==ue)try{yield Gt._remove(He)}catch{}});return function(Gt){return Rn.apply(this,arguments)}}())),new St(ue,m,C)):new St(ue,m,C)})()}}function Lt(E){const m=E.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(et(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Ht(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Ie(m))return"Blackberry";if(_e(m))return"Webos";if(gn(m))return"Safari";if((m.includes("chrome/")||An(m))&&!m.includes("edge/"))return"Chrome";if(ie(m))return"Android";{const C=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Ht(E=(0,H.z$)()){return/firefox\//i.test(E)}function gn(E=(0,H.z$)()){const m=E.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function An(E=(0,H.z$)()){return/crios\//i.test(E)}function et(E=(0,H.z$)()){return/iemobile/i.test(E)}function ie(E=(0,H.z$)()){return/android/i.test(E)}function Ie(E=(0,H.z$)()){return/blackberry/i.test(E)}function _e(E=(0,H.z$)()){return/webos/i.test(E)}function we(E=(0,H.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function at(E=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function Bt(E=(0,H.z$)()){return we(E)||ie(E)||_e(E)||Ie(E)||/windows phone/i.test(E)||et(E)}function yi(E,m=[]){let y;switch(E){case"Browser":y=Lt((0,H.z$)());break;case"Worker":y=`${Lt((0,H.z$)())}-${E}`;break;default:y=E}const C=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${te.SDK_VERSION}/${C}`}class xi{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const C=ue=>new Promise((He,mt)=>{try{He(m(ue))}catch(Vt){mt(Vt)}});C.onAbort=y,this.queue.push(C);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,h.Z)(function*(){if(y.auth.currentUser===m)return;const C=[];try{for(const Q of y.queue)yield Q(m),Q.onAbort&&C.push(Q.onAbort)}catch(Q){C.reverse();for(const ue of C)try{ue()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}function Ti(){return(Ti=(0,h.Z)(function*(E,m={}){return $e(E,"GET","/v2/passwordPolicy",Qe(E,m))})).apply(this,arguments)}class er{constructor(m){var y,C,Q,ue;const He=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(y=He.minPasswordLength)&&void 0!==y?y:6,He.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=He.maxPasswordLength),void 0!==He.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=He.containsLowercaseCharacter),void 0!==He.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=He.containsUppercaseCharacter),void 0!==He.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=He.containsNumericCharacter),void 0!==He.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=He.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(C=m.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(ue=m.forceUpgradeOnSignin)&&void 0!==ue&&ue,this.schemaVersion=m.schemaVersion}validatePassword(m){var y,C,Q,ue,He,mt;const Vt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,Vt),this.validatePasswordCharacterOptions(m,Vt),Vt.isValid&&(Vt.isValid=null===(y=Vt.meetsMinPasswordLength)||void 0===y||y),Vt.isValid&&(Vt.isValid=null===(C=Vt.meetsMaxPasswordLength)||void 0===C||C),Vt.isValid&&(Vt.isValid=null===(Q=Vt.containsLowercaseLetter)||void 0===Q||Q),Vt.isValid&&(Vt.isValid=null===(ue=Vt.containsUppercaseLetter)||void 0===ue||ue),Vt.isValid&&(Vt.isValid=null===(He=Vt.containsNumericCharacter)||void 0===He||He),Vt.isValid&&(Vt.isValid=null===(mt=Vt.containsNonAlphanumericCharacter)||void 0===mt||mt),Vt}validatePasswordLengthOptions(m,y){const C=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;C&&(y.meetsMinPasswordLength=m.length>=C),Q&&(y.meetsMaxPasswordLength=m.length<=Q)}validatePasswordCharacterOptions(m,y){let C;this.updatePasswordCharacterOptionsStatuses(y,!1,!1,!1,!1);for(let Q=0;Q<m.length;Q++)C=m.charAt(Q),this.updatePasswordCharacterOptionsStatuses(y,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(m,y,C,Q,ue){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=y)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=ue))}}class zr{constructor(m,y,C,Q){this.app=m,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=C,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pr(this),this.idTokenSubscription=new Pr(this),this.beforeStateQueue=new xi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(m,y){var C=this;return y&&(this._popupRedirectResolver=B(y)),this._initializationPromise=this.queue((0,h.Z)(function*(){var Q,ue;if(!C._deleted&&(C.persistenceManager=yield St.create(C,m),!C._deleted)){if(null!==(Q=C._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(y),C.lastNotifiedUid=(null===(ue=C.currentUser)||void 0===ue?void 0:ue.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,h.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,h.Z)(function*(){var C;const Q=yield y.assertedPersistence.getCurrentUser();let ue=Q,He=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const mt=null===(C=y.redirectUser)||void 0===C?void 0:C._redirectEventId,Vt=ue?._redirectEventId,Rn=yield y.tryRedirectSignIn(m);(!mt||mt===Vt)&&Rn?.user&&(ue=Rn.user,He=!0)}if(!ue)return y.directlySetCurrentUser(null);if(!ue._redirectEventId){if(He)try{yield y.beforeStateQueue.runMiddleware(ue)}catch(mt){ue=Q,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(mt))}return ue?y.reloadAndSetCurrentUserOrClear(ue):y.directlySetCurrentUser(null)}return Fe(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===ue._redirectEventId?y.directlySetCurrentUser(ue):y.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(m){var y=this;return(0,h.Z)(function*(){let C=null;try{C=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch{yield y._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,h.Z)(function*(){try{yield Mn(m)}catch(C){if("auth/network-request-failed"!==C?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Jt(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var m=this;return(0,h.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,h.Z)(function*(){const C=m?(0,H.m9)(m):null;return C&&Fe(C.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(C&&C._clone(y))})()}_updateCurrentUser(m,y=!1){var C=this;return(0,h.Z)(function*(){if(!C._deleted)return m&&Fe(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),y||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,h.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,h.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,h.Z)(function*(){yield y.assertedPersistence.setPersistence(B(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var y=this;return(0,h.Z)(function*(){y._getPasswordPolicyInternal()||(yield y._updatePasswordPolicy());const C=y._getPasswordPolicyInternal();return C.schemaVersion!==y.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(y._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,h.Z)(function*(){const y=yield function Ji(E){return Ti.apply(this,arguments)}(m),C=new er(y);null===m.tenantId?m._projectPasswordPolicy=C:m._tenantPasswordPolicies[m.tenantId]=C})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new H.LL("auth","Firebase",m())}onAuthStateChanged(m,y,C){return this.registerStateListener(this.authStateSubscription,m,y,C)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,C){return this.registerStateListener(this.idTokenSubscription,m,y,C)}authStateReady(){return new Promise((m,y)=>{if(this.currentUser)m();else{const C=this.onAuthStateChanged(()=>{C(),m()},y)}})}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var C=this;return(0,h.Z)(function*(){const Q=yield C.getOrInitRedirectPersistenceManager(y);return null===m?Q.removeCurrentUser():Q.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,h.Z)(function*(){if(!y.redirectPersistenceManager){const C=m&&B(m)||y._popupRedirectResolver;Fe(C,y,"argument-error"),y.redirectPersistenceManager=yield St.create(y,[B(C._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,h.Z)(function*(){var C,Q;return y._isInitialized&&(yield y.queue((0,h.Z)(function*(){}))),(null===(C=y._currentUser)||void 0===C?void 0:C._redirectEventId)===m?y._currentUser:(null===(Q=y.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,h.Z)(function*(){if(m===y.currentUser)return y.queue((0,h.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,C,Q){if(this._deleted)return()=>{};const ue="function"==typeof y?y:y.next.bind(y);let He=!1;const mt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(mt,this,"internal-error"),mt.then(()=>{He||ue(this.currentUser)}),"function"==typeof y){const Vt=m.addObserver(y,C,Q);return()=>{He=!0,Vt()}}{const Vt=m.addObserver(y);return()=>{He=!0,Vt()}}}directlySetCurrentUser(m){var y=this;return(0,h.Z)(function*(){y.currentUser&&y.currentUser!==m&&y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh(),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=yi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,h.Z)(function*(){var y;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const Q=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();Q&&(C["X-Firebase-Client"]=Q);const ue=yield m._getAppCheckToken();return ue&&(C["X-Firebase-AppCheck"]=ue),C})()}_getAppCheckToken(){var m=this;return(0,h.Z)(function*(){var y;const C=yield null===(y=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return C?.error&&function Pt(E,...m){pt.logLevel<=R.in.WARN&&pt.warn(`Auth (${te.SDK_VERSION}): ${E}`,...m)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function si(E){return(0,H.m9)(E)}class Pr{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,H.ne)(y=>this.observer=y)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ai(E){return new Promise((m,y)=>{const C=document.createElement("script");C.setAttribute("src",E),C.onload=m,C.onerror=Q=>{const ue=Le("internal-error");ue.customData=Q,y(ue)},C.type="text/javascript",C.charset="UTF-8",function pi(){var E,m;return null!==(m=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==m?m:document}().appendChild(C)})}function Vi(E){return`__${E}${Math.floor(1e6*Math.random())}`}class ls{constructor(m){this.type="recaptcha-enterprise",this.auth=si(m)}verify(m="verify",y=!1){var C=this;return(0,h.Z)(function*(){function ue(){return ue=(0,h.Z)(function*(mt){if(!y){if(null==mt.tenantId&&null!=mt._agentRecaptchaConfig)return mt._agentRecaptchaConfig.siteKey;if(null!=mt.tenantId&&void 0!==mt._tenantRecaptchaConfigs[mt.tenantId])return mt._tenantRecaptchaConfigs[mt.tenantId].siteKey}return new Promise(function(){var Vt=(0,h.Z)(function*(Rn,Gt){Li(mt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(sr=>{if(void 0!==sr.recaptchaKey){const os=new Ei(sr);return null==mt.tenantId?mt._agentRecaptchaConfig=os:mt._tenantRecaptchaConfigs[mt.tenantId]=os,Rn(os.siteKey)}Gt(new Error("recaptcha Enterprise site key undefined"))}).catch(sr=>{Gt(sr)})});return function(Rn,Gt){return Vt.apply(this,arguments)}}())}),ue.apply(this,arguments)}function He(mt,Vt,Rn){const Gt=window.grecaptcha;Bn(Gt)?Gt.enterprise.ready(()=>{Gt.enterprise.execute(mt,{action:m}).then(sr=>{Vt(sr)}).catch(()=>{Vt("NO_RECAPTCHA")})}):Rn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((mt,Vt)=>{(function Q(mt){return ue.apply(this,arguments)})(C.auth).then(Rn=>{if(!y&&Bn(window.grecaptcha))He(Rn,mt,Vt);else{if(typeof window>"u")return void Vt(new Error("RecaptchaVerifier is only supported in browser"));Ai("https://www.google.com/recaptcha/enterprise.js?render="+Rn).then(()=>{He(Rn,mt,Vt)}).catch(Gt=>{Vt(Gt)})}}).catch(Rn=>{Vt(Rn)})})})()}}function es(E,m,y){return xr.apply(this,arguments)}function xr(){return(xr=(0,h.Z)(function*(E,m,y,C=!1){const Q=new ls(E);let ue;try{ue=yield Q.verify(y)}catch{ue=yield Q.verify(y,!0)}const He=Object.assign({},m);return Object.assign(He,C?{captchaResp:ue}:{captchaResponse:ue}),Object.assign(He,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(He,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),He})).apply(this,arguments)}function $r(E,m,y,C){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,h.Z)(function*(E,m,y,C){var Q;if(null!==(Q=E._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ue=yield es(E,m,y,"getOobCode"===y);return C(E,ue)}return C(E,m).catch(function(){var ue=(0,h.Z)(function*(He){if("auth/missing-recaptcha-token"===He.code){console.log(`${y} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const mt=yield es(E,m,y,"getOobCode"===y);return C(E,mt)}return Promise.reject(He)});return function(He){return ue.apply(this,arguments)}}())}),Ko.apply(this,arguments)}function cs(E,m,y){const C=si(E);Fe(C._canInitEmulator,C,"emulator-config-failed"),Fe(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const Q=!!y?.disableWarnings,ue=Or(m),{host:He,port:mt}=function Dr(E){const m=Or(E),y=/(\/\/)?([^?#/]+)/.exec(E.substr(m.length));if(!y)return{host:"",port:null};const C=y[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(C);if(Q){const ue=Q[1];return{host:ue,port:Zo(C.substr(ue.length+1))}}{const[ue,He]=C.split(":");return{host:ue,port:Zo(He)}}}(m);C.config.emulator={url:`${ue}//${He}${null===mt?"":`:${mt}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:He,port:mt,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function fo(){function E(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function Or(E){const m=E.indexOf(":");return m<0?"":E.substr(0,m+1)}function Zo(E){if(!E)return null;const m=Number(E);return isNaN(m)?null:m}class Do{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return Wt("not implemented")}_getIdTokenResponse(m){return Wt("not implemented")}_linkToIdToken(m,y){return Wt("not implemented")}_getReauthenticationResolver(m){return Wt("not implemented")}}function Os(E,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,h.Z)(function*(E,m){return $e(E,"POST","/v1/accounts:resetPassword",Qe(E,m))})).apply(this,arguments)}function pr(E,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,h.Z)(function*(E,m){return $e(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function vo(){return(vo=(0,h.Z)(function*(E,m){return $e(E,"POST","/v1/accounts:update",Qe(E,m))})).apply(this,arguments)}function So(E,m){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,h.Z)(function*(E,m){return zn(E,"POST","/v1/accounts:signInWithPassword",Qe(E,m))})).apply(this,arguments)}function ji(E,m){return rr.apply(this,arguments)}function rr(){return(rr=(0,h.Z)(function*(E,m){return $e(E,"POST","/v1/accounts:sendOobCode",Qe(E,m))})).apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(E,m){return ji(E,m)})).apply(this,arguments)}function us(E,m){return so.apply(this,arguments)}function so(){return(so=(0,h.Z)(function*(E,m){return ji(E,m)})).apply(this,arguments)}function Fi(E,m){return po.apply(this,arguments)}function po(){return(po=(0,h.Z)(function*(E,m){return ji(E,m)})).apply(this,arguments)}function Si(){return(Si=(0,h.Z)(function*(E,m){return ji(E,m)})).apply(this,arguments)}function Hn(){return(Hn=(0,h.Z)(function*(E,m){return zn(E,"POST","/v1/accounts:signInWithEmailLink",Qe(E,m))})).apply(this,arguments)}function Nr(){return(Nr=(0,h.Z)(function*(E,m){return zn(E,"POST","/v1/accounts:signInWithEmailLink",Qe(E,m))})).apply(this,arguments)}class to extends Do{constructor(m,y,C,Q=null){super("password",C),this._email=m,this._password=y,this._tenantId=Q}static _fromEmailAndPassword(m,y){return new to(m,y,"password")}static _fromEmailAndCode(m,y,C=null){return new to(m,y,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,h.Z)(function*(){switch(y.signInMethod){case"password":return $r(m,{returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",So);case"emailLink":return function Yt(E,m){return Hn.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:ge(m,"internal-error")}})()}_linkToIdToken(m,y){var C=this;return(0,h.Z)(function*(){switch(C.signInMethod){case"password":return pr(m,{idToken:y,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Hi(E,m){return Nr.apply(this,arguments)}(m,{idToken:y,email:C._email,oobCode:C._password});default:ge(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function or(E,m){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,h.Z)(function*(E,m){return zn(E,"POST","/v1/accounts:signInWithIdp",Qe(E,m))})).apply(this,arguments)}class kr extends Do{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new kr(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):ge("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:Q}=y,ue=(0,me._T)(y,["providerId","signInMethod"]);if(!C||!Q)return null;const He=new kr(C,Q);return He.idToken=ue.idToken||void 0,He.accessToken=ue.accessToken||void 0,He.secret=ue.secret,He.nonce=ue.nonce,He.pendingToken=ue.pendingToken||null,He}_getIdTokenResponse(m){return or(m,this.buildRequest())}_linkToIdToken(m,y){const C=this.buildRequest();return C.idToken=y,or(m,C)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,or(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,H.xO)(y)}return m}}function G(){return(G=(0,h.Z)(function*(E,m){return $e(E,"POST","/v1/accounts:sendVerificationCode",Qe(E,m))})).apply(this,arguments)}function J(){return(J=(0,h.Z)(function*(E,m){return zn(E,"POST","/v1/accounts:signInWithPhoneNumber",Qe(E,m))})).apply(this,arguments)}function Ne(){return(Ne=(0,h.Z)(function*(E,m){const y=yield zn(E,"POST","/v1/accounts:signInWithPhoneNumber",Qe(E,m));if(y.temporaryProof)throw Ln(E,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const ft={USER_NOT_FOUND:"user-not-found"};function Xt(){return(Xt=(0,h.Z)(function*(E,m){return zn(E,"POST","/v1/accounts:signInWithPhoneNumber",Qe(E,Object.assign(Object.assign({},m),{operation:"REAUTH"})),ft)})).apply(this,arguments)}class yn extends Do{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new yn({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new yn({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function $(E,m){return J.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function ye(E,m){return Ne.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function kt(E,m){return Xt.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:C,verificationCode:Q}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:C,code:Q}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:C,phoneNumber:Q,temporaryProof:ue}=m;return C||y||Q||ue?new yn({verificationId:y,verificationCode:C,phoneNumber:Q,temporaryProof:ue}):null}}class cr{constructor(m){var y,C,Q,ue,He,mt;const Vt=(0,H.zd)((0,H.pd)(m)),Rn=null!==(y=Vt.apiKey)&&void 0!==y?y:null,Gt=null!==(C=Vt.oobCode)&&void 0!==C?C:null,sr=function kn(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Vt.mode)&&void 0!==Q?Q:null);Fe(Rn&&Gt&&sr,"argument-error"),this.apiKey=Rn,this.operation=sr,this.code=Gt,this.continueUrl=null!==(ue=Vt.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==(He=Vt.languageCode)&&void 0!==He?He:null,this.tenantId=null!==(mt=Vt.tenantId)&&void 0!==mt?mt:null}static parseLink(m){const y=function di(E){const m=(0,H.zd)((0,H.pd)(E)).link,y=m?(0,H.zd)((0,H.pd)(m)).deep_link_id:null,C=(0,H.zd)((0,H.pd)(E)).deep_link_id;return(C?(0,H.zd)((0,H.pd)(C)).link:null)||C||y||m||E}(m);try{return new cr(y)}catch{return null}}}let Sr=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(y,C){return to._fromEmailAndPassword(y,C)}static credentialWithLink(y,C){const Q=cr.parseLink(C);return Fe(Q,"argument-error"),to._fromEmailAndCode(y,Q.code,Q.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Sn{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Fr extends Sn{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ho extends Fr{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return Fe("providerId"in y&&"signInMethod"in y,"argument-error"),kr._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Fe(m.idToken||m.accessToken,"argument-error"),kr._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ho.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ho.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:C,oauthTokenSecret:Q,pendingToken:ue,nonce:He,providerId:mt}=m;if(!C&&!Q&&!y&&!ue||!mt)return null;try{return new Ho(mt)._credential({idToken:y,accessToken:C,nonce:He,pendingToken:ue})}catch{return null}}}let bo=(()=>{class E extends Fr{constructor(){super("facebook.com")}static credential(y){return kr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return E.credential(y.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Gr=(()=>{class E extends Fr{constructor(){super("google.com"),this.addScope("profile")}static credential(y,C){return kr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:C})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:C,oauthAccessToken:Q}=y;if(!C&&!Q)return null;try{return E.credential(C,Q)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),Ws=(()=>{class E extends Fr{constructor(){super("github.com")}static credential(y){return kr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return E.credential(y.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class no extends Do{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return or(m,this.buildRequest())}_linkToIdToken(m,y){const C=this.buildRequest();return C.idToken=y,or(m,C)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,or(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:Q,pendingToken:ue}=y;return C&&Q&&ue&&C===Q?new no(C,ue):null}static _create(m,y){return new no(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Es extends Sn{constructor(m){Fe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Es.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Es.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=no.fromJSON(m);return Fe(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:C}=m;if(!y||!C)return null;try{return no._create(C,y)}catch{return null}}}let mi=(()=>{class E extends Fr{constructor(){super("twitter.com")}static credential(y,C){return kr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:C})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:C,oauthTokenSecret:Q}=y;if(!C||!Q)return null;try{return E.credential(C,Q)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function br(E,m){return Et.apply(this,arguments)}function Et(){return(Et=(0,h.Z)(function*(E,m){return zn(E,"POST","/v1/accounts:signUp",Qe(E,m))})).apply(this,arguments)}class Ge{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,C,Q=!1){return(0,h.Z)(function*(){const ue=yield F._fromIdTokenResponse(m,C,Q),He=Ve(C);return new Ge({user:ue,providerId:He,_tokenResponse:C,operationType:y})})()}static _forOperation(m,y,C){return(0,h.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const Q=Ve(C);return new Ge({user:m,providerId:Q,_tokenResponse:C,operationType:y})})()}}function Ve(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Ke(E){return yt.apply(this,arguments)}function yt(){return(yt=(0,h.Z)(function*(E){var m;const y=si(E);if(yield y._initializationPromise,null!==(m=y.currentUser)&&void 0!==m&&m.isAnonymous)return new Ge({user:y.currentUser,providerId:null,operationType:"signIn"});const C=yield br(y,{returnSecureToken:!0}),Q=yield Ge._fromIdTokenResponse(y,"signIn",C,!0);return yield y._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class cn extends H.ZR{constructor(m,y,C,Q){var ue;super(y.code,y.message),this.operationType=C,this.user=Q,Object.setPrototypeOf(this,cn.prototype),this.customData={appName:m.name,tenantId:null!==(ue=m.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:y.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,y,C,Q){return new cn(m,y,C,Q)}}function Zn(E,m,y,C){return("reauthenticate"===m?y._getReauthenticationResolver(E):y._getIdTokenResponse(E)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?cn._fromErrorAndOperation(E,ue,m,C):ue})}function Zr(E){return new Set(E.map(({providerId:m})=>m).filter(m=>!!m))}function Ro(E,m){return Y.apply(this,arguments)}function Y(){return Y=(0,h.Z)(function*(E,m){const y=(0,H.m9)(E);yield de(!0,y,m);const{providerUserInfo:C}=yield function ln(E,m){return fn.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),Q=Zr(C||[]);return y.providerData=y.providerData.filter(ue=>Q.has(ue.providerId)),Q.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),Y.apply(this,arguments)}function ee(E,m){return j.apply(this,arguments)}function j(){return(j=(0,h.Z)(function*(E,m,y=!1){const C=yield vn(E,m._linkToIdToken(E.auth,yield E.getIdToken()),y);return Ge._forOperation(E,"link",C)})).apply(this,arguments)}function de(E,m,y){return ke.apply(this,arguments)}function ke(){return(ke=(0,h.Z)(function*(E,m,y){yield Mn(m);const Q=!1===E?"provider-already-linked":"no-such-provider";Fe(Zr(m.providerData).has(y)===E,m.auth,Q)})).apply(this,arguments)}function Nn(E,m){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,h.Z)(function*(E,m,y=!1){const{auth:C}=E,Q="reauthenticate";try{const ue=yield vn(E,Zn(C,Q,m,E),y);Fe(ue.idToken,C,"internal-error");const He=Qt(ue.idToken);Fe(He,C,"internal-error");const{sub:mt}=He;return Fe(E.uid===mt,C,"user-mismatch"),Ge._forOperation(E,Q,ue)}catch(ue){throw"auth/user-not-found"===ue?.code&&ge(C,"user-mismatch"),ue}})).apply(this,arguments)}function Qo(E,m){return _a.apply(this,arguments)}function _a(){return(_a=(0,h.Z)(function*(E,m,y=!1){const C="signIn",Q=yield Zn(E,C,m),ue=yield Ge._fromIdTokenResponse(E,C,Q);return y||(yield E._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function qs(E,m){return vu.apply(this,arguments)}function vu(){return(vu=(0,h.Z)(function*(E,m){return Qo(si(E),m)})).apply(this,arguments)}function tc(E,m){return va.apply(this,arguments)}function va(){return(va=(0,h.Z)(function*(E,m){const y=(0,H.m9)(E);return yield de(!1,y,m.providerId),ee(y,m)})).apply(this,arguments)}function il(E,m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,h.Z)(function*(E,m){return Nn((0,H.m9)(E),m)})).apply(this,arguments)}function oa(){return(oa=(0,h.Z)(function*(E,m){return zn(E,"POST","/v1/accounts:signInWithCustomToken",Qe(E,m))})).apply(this,arguments)}function nc(E,m){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,h.Z)(function*(E,m){const y=si(E),C=yield function Nc(E,m){return oa.apply(this,arguments)}(y,{token:m,returnSecureToken:!0}),Q=yield Ge._fromIdTokenResponse(y,"signIn",C);return yield y._updateCurrentUser(Q.user),Q}),Mo.apply(this,arguments)}class Eo{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?ts._fromServerResponse(m,y):"totpInfo"in y?sa._fromServerResponse(m,y):ge(m,"internal-error")}}class ts extends Eo{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new ts(y)}}class sa extends Eo{constructor(m){super("totp",m)}static _fromServerResponse(m,y){return new sa(y)}}function Br(E,m,y){var C;Fe((null===(C=y.url)||void 0===C?void 0:C.length)>0,E,"invalid-continue-uri"),Fe(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Fe(y.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(Fe(y.android.packageName.length>0,E,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function Ks(E){return Io.apply(this,arguments)}function Io(){return(Io=(0,h.Z)(function*(E){const m=si(E);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function rl(E,m,y){return ya.apply(this,arguments)}function ya(){return(ya=(0,h.Z)(function*(E,m,y){const C=si(E),Q={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};y&&Br(C,Q,y),yield $r(C,Q,"getOobCode",us)})).apply(this,arguments)}function wo(E,m,y){return aa.apply(this,arguments)}function aa(){return aa=(0,h.Z)(function*(E,m,y){yield Os((0,H.m9)(E),{oobCode:m,newPassword:y}).catch(function(){var C=(0,h.Z)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&Ks(E),Q});return function(Q){return C.apply(this,arguments)}}())}),aa.apply(this,arguments)}function Al(E,m){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,h.Z)(function*(E,m){yield function ys(E,m){return vo.apply(this,arguments)}((0,H.m9)(E),{oobCode:m})}),Zs.apply(this,arguments)}function ic(E,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,h.Z)(function*(E,m){const y=(0,H.m9)(E),C=yield Os(y,{oobCode:m}),Q=C.requestType;switch(Fe(Q,y,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Fe(C.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Fe(C.mfaInfo,y,"internal-error");default:Fe(C.email,y,"internal-error")}let ue=null;return C.mfaInfo&&(ue=Eo._fromServerResponse(si(y),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ue},operation:Q}})).apply(this,arguments)}function ba(E,m){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,h.Z)(function*(E,m){const{data:y}=yield ic((0,H.m9)(E),m);return y.email})).apply(this,arguments)}function rc(E,m,y){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,h.Z)(function*(E,m,y){const C=si(E),He=yield $r(C,{returnSecureToken:!0,email:m,password:y,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",br).catch(Vt=>{throw"auth/password-does-not-meet-requirements"===Vt.code&&Ks(E),Vt}),mt=yield Ge._fromIdTokenResponse(C,"signIn",He);return yield C._updateCurrentUser(mt.user),mt})).apply(this,arguments)}function Po(E,m,y){return qs((0,H.m9)(E),Sr.credential(m,y)).catch(function(){var C=(0,h.Z)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&Ks(E),Q});return function(Q){return C.apply(this,arguments)}}())}function la(E,m,y){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,h.Z)(function*(E,m,y){const C=si(E),Q={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function ue(He,mt){Fe(mt.handleCodeInApp,C,"argument-error"),mt&&Br(C,He,mt)})(Q,y),yield $r(C,Q,"getOobCode",Fi)})).apply(this,arguments)}function Ri(E,m){const y=cr.parseLink(m);return"EMAIL_SIGNIN"===y?.operation}function Xu(E,m,y){return ol.apply(this,arguments)}function ol(){return(ol=(0,h.Z)(function*(E,m,y){const C=(0,H.m9)(E),Q=Sr.credentialWithLink(m,y||dn());return Fe(Q._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),qs(C,Q)})).apply(this,arguments)}function Xo(){return(Xo=(0,h.Z)(function*(E,m){return $e(E,"POST","/v1/accounts:createAuthUri",Qe(E,m))})).apply(this,arguments)}function Oo(E,m){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,h.Z)(function*(E,m){const C={identifier:m,continueUri:an()?dn():"http://localhost"},{signinMethods:Q}=yield function Ns(E,m){return Xo.apply(this,arguments)}((0,H.m9)(E),C);return Q||[]}),Ia.apply(this,arguments)}function Ua(E,m){return wa.apply(this,arguments)}function wa(){return wa=(0,h.Z)(function*(E,m){const y=(0,H.m9)(E),Q={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};m&&Br(y.auth,Q,m);const{email:ue}=yield function Ar(E,m){return tr.apply(this,arguments)}(y.auth,Q);ue!==E.email&&(yield E.reload())}),wa.apply(this,arguments)}function ja(E,m,y){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,h.Z)(function*(E,m,y){const C=(0,H.m9)(E),ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:m};y&&Br(C.auth,ue,y);const{email:He}=yield function yo(E,m){return Si.apply(this,arguments)}(C.auth,ue);He!==E.email&&(yield E.reload())}),Sl.apply(this,arguments)}function ca(){return(ca=(0,h.Z)(function*(E,m){return $e(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function D(E,m){return re.apply(this,arguments)}function re(){return re=(0,h.Z)(function*(E,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const C=(0,H.m9)(E),ue={idToken:yield C.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},He=yield vn(C,function Is(E,m){return ca.apply(this,arguments)}(C.auth,ue));C.displayName=He.displayName||null,C.photoURL=He.photoUrl||null;const mt=C.providerData.find(({providerId:Vt})=>"password"===Vt);mt&&(mt.displayName=C.displayName,mt.photoURL=C.photoURL),yield C._updateTokensIfNecessary(He)}),re.apply(this,arguments)}function z(E,m){return Re((0,H.m9)(E),m,null)}function X(E,m){return Re((0,H.m9)(E),null,m)}function Re(E,m,y){return ht.apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(E,m,y){const{auth:C}=E,ue={idToken:yield E.getIdToken(),returnSecureToken:!0};m&&(ue.email=m),y&&(ue.password=y);const He=yield vn(E,pr(C,ue));yield E._updateTokensIfNecessary(He,!0)})).apply(this,arguments)}class In{constructor(m,y,C={}){this.isNewUser=m,this.providerId=y,this.profile=C}}class ur extends In{constructor(m,y,C,Q){super(m,y,C),this.username=Q}}class qi extends In{constructor(m,y){super(m,"facebook.com",y)}}class Ki extends ur{constructor(m,y){super(m,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class On extends In{constructor(m,y){super(m,"google.com",y)}}class gr extends ur{constructor(m,y,C){super(m,"twitter.com",y,C)}}function Bi(E){const{user:m,_tokenResponse:y}=E;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function It(E){var m,y;if(!E)return null;const{providerId:C}=E,Q=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},ue=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!C&&E?.idToken){const He=null===(y=null===(m=Qt(E.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(He)return new In(ue,"anonymous"!==He&&"custom"!==He?He:null)}if(!C)return null;switch(C){case"facebook.com":return new qi(ue,Q);case"github.com":return new Ki(ue,Q);case"google.com":return new On(ue,Q);case"twitter.com":return new gr(ue,Q,E.screenName||null);case"custom":case"anonymous":return new In(ue,null);default:return new In(ue,C,Q)}}(y)}function Mt(E){return(0,H.m9)(E).signOut()}class ai{constructor(m,y,C){this.type=m,this.credential=y,this.user=C}static _fromIdtoken(m,y){return new ai("enroll",m,y)}static _fromMfaPendingCredential(m){return new ai("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,C;if(m?.multiFactorSession){if(null!==(y=m.multiFactorSession)&&void 0!==y&&y.pendingCredential)return ai._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(C=m.multiFactorSession)&&void 0!==C&&C.idToken)return ai._fromIdtoken(m.multiFactorSession.idToken)}return null}}class oc{constructor(m,y,C){this.session=m,this.hints=y,this.signInResolver=C}static _fromError(m,y){const C=si(m),Q=y.customData._serverResponse,ue=(Q.mfaInfo||[]).map(mt=>Eo._fromServerResponse(C,mt));Fe(Q.mfaPendingCredential,C,"internal-error");const He=ai._fromMfaPendingCredential(Q.mfaPendingCredential);return new oc(He,ue,function(){var mt=(0,h.Z)(function*(Vt){const Rn=yield Vt._process(C,He);delete Q.mfaInfo,delete Q.mfaPendingCredential;const Gt=Object.assign(Object.assign({},Q),{idToken:Rn.idToken,refreshToken:Rn.refreshToken});switch(y.operationType){case"signIn":const sr=yield Ge._fromIdTokenResponse(C,y.operationType,Gt);return yield C._updateCurrentUser(sr.user),sr;case"reauthenticate":return Fe(y.user,C,"internal-error"),Ge._forOperation(y.user,y.operationType,Gt);default:ge(C,"internal-error")}});return function(Vt){return mt.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,h.Z)(function*(){return y.signInResolver(m)})()}}function kc(E,m){var y;const C=(0,H.m9)(E),Q=m;return Fe(m.customData.operationType,C,"argument-error"),Fe(null===(y=Q.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,C,"argument-error"),oc._fromError(C,Q)}class ao{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(C=>Eo._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new ao(m)}getSession(){var m=this;return(0,h.Z)(function*(){return ai._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,y){var C=this;return(0,h.Z)(function*(){const Q=m,ue=yield C.getSession(),He=yield vn(C.user,Q._process(C.user.auth,ue,y));return yield C.user._updateTokensIfNecessary(He),C.user.reload()})()}unenroll(m){var y=this;return(0,h.Z)(function*(){const C="string"==typeof m?m:m.uid,Q=yield y.user.getIdToken();try{const ue=yield vn(y.user,function Fc(E,m){return $e(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Qe(E,m))}(y.user.auth,{idToken:Q,mfaEnrollmentId:C}));y.enrolledFactors=y.enrolledFactors.filter(({uid:He})=>He!==C),yield y.user._updateTokensIfNecessary(ue),yield y.user.reload()}catch(ue){throw ue}})()}}const Lc=new WeakMap;function sl(E){const m=(0,H.m9)(E);return Lc.has(m)||Lc.set(m,ao._fromUser(m)),Lc.get(m)}const al="__sak";class ii{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(al,"1"),this.storage.removeItem(al),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const sc=(()=>{class E extends ii{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,C)=>this.onStorageEvent(y,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ha(){const E=(0,H.z$)();return gn(E)||we(E)}()&&function Un(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Bt(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const C of Object.keys(this.listeners)){const Q=this.storage.getItem(C),ue=this.localCache[C];Q!==ue&&y(C,ue,Q)}}onStorageEvent(y,C=!1){if(!y.key)return void this.forAllChangedKeys((mt,Vt,Rn)=>{this.notifyListeners(mt,Rn)});const Q=y.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const mt=this.storage.getItem(Q);if(y.newValue!==mt)null!==y.newValue?this.storage.setItem(Q,y.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===y.newValue&&!C)return}const ue=()=>{const mt=this.storage.getItem(Q);!C&&this.localCache[Q]===mt||this.notifyListeners(Q,mt)},He=this.storage.getItem(Q);!function Kt(){return(0,H.w1)()&&10===document.documentMode}()||He===y.newValue||y.newValue===y.oldValue?ue():setTimeout(ue,10)}notifyListeners(y,C){this.localCache[y]=C;const Q=this.listeners[y];if(Q)for(const ue of Array.from(Q))ue(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,C,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:C,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,C){var Q=()=>super._set,ue=this;return(0,h.Z)(function*(){yield Q().call(ue,y,C),ue.localCache[y]=JSON.stringify(C)})()}_get(y){var C=()=>super._get,Q=this;return(0,h.Z)(function*(){const ue=yield C().call(Q,y);return Q.localCache[y]=JSON.stringify(ue),ue})()}_remove(y){var C=()=>super._remove,Q=this;return(0,h.Z)(function*(){yield C().call(Q,y),delete Q.localCache[y]})()}}return E.type="LOCAL",E})(),ll=(()=>{class E extends ii{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,C){}_removeListener(y,C){}}return E.type="SESSION",E})();let nn=(()=>{class E{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const C=this.receivers.find(ue=>ue.isListeningto(y));if(C)return C;const Q=new E(y);return this.receivers.push(Q),Q}isListeningto(y){return this.eventTarget===y}handleEvent(y){var C=this;return(0,h.Z)(function*(){const Q=y,{eventId:ue,eventType:He,data:mt}=Q.data,Vt=C.handlersMap[He];if(!Vt?.size)return;Q.ports[0].postMessage({status:"ack",eventId:ue,eventType:He});const Rn=Array.from(Vt).map(function(){var sr=(0,h.Z)(function*(os){return os(Q.origin,mt)});return function(os){return sr.apply(this,arguments)}}()),Gt=yield function Lr(E){return Promise.all(E.map(function(){var m=(0,h.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(C){return{fulfilled:!1,reason:C}}});return function(y){return m.apply(this,arguments)}}()))}(Rn);Q.ports[0].postMessage({status:"done",eventId:ue,eventType:He,response:Gt})})()}_subscribe(y,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(C)}_unsubscribe(y,C){this.handlersMap[y]&&C&&this.handlersMap[y].delete(C),(!C||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function ns(E="",m=10){let y="";for(let C=0;C<m;C++)y+=Math.floor(10*Math.random());return E+y}class ac{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,C=50){var Q=this;return(0,h.Z)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let He,mt;return new Promise((Vt,Rn)=>{const Gt=ns("",20);ue.port1.start();const sr=setTimeout(()=>{Rn(new Error("unsupported_event"))},C);mt={messageChannel:ue,onMessage(os){const vl=os;if(vl.data.eventId===Gt)switch(vl.data.status){case"ack":clearTimeout(sr),He=setTimeout(()=>{Rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(He),Vt(vl.data.response);break;default:clearTimeout(sr),clearTimeout(He),Rn(new Error("invalid_response"))}}},Q.handlers.add(mt),ue.port1.addEventListener("message",mt.onMessage),Q.target.postMessage({eventType:m,eventId:Gt,data:y},[ue.port2])}).finally(()=>{mt&&Q.removeMessageHandler(mt)})})()}}function _r(){return window}function hs(){return typeof _r().WorkerGlobalScope<"u"&&"function"==typeof _r().importScripts}function Tt(){return(Tt=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xo="firebaseLocalStorageDb",Qs="firebaseLocalStorage",Ta="fbase_key";class Yr{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ua(E,m){return E.transaction([Qs],m?"readwrite":"readonly").objectStore(Qs)}function is(){const E=indexedDB.open(xo,1);return new Promise((m,y)=>{E.addEventListener("error",()=>{y(E.error)}),E.addEventListener("upgradeneeded",()=>{const C=E.result;try{C.createObjectStore(Qs,{keyPath:Ta})}catch(Q){y(Q)}}),E.addEventListener("success",(0,h.Z)(function*(){const C=E.result;C.objectStoreNames.contains(Qs)?m(C):(C.close(),yield function nt(){const E=indexedDB.deleteDatabase(xo);return new Yr(E).toPromise()}(),m(yield is()))}))})}function $o(E,m,y){return za.apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(E,m,y){const C=ua(E,!0).put({[Ta]:m,value:y});return new Yr(C).toPromise()})).apply(this,arguments)}function go(){return(go=(0,h.Z)(function*(E,m){const y=ua(E,!1).get(m),C=yield new Yr(y).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function T(E,m){const y=ua(E,!0).delete(m);return new Yr(y).toPromise()}const q=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,h.Z)(function*(){return y.db||(y.db=yield is()),y.db})()}_withRetries(y){var C=this;return(0,h.Z)(function*(){let Q=0;for(;;)try{const ue=yield C._openDb();return yield y(ue)}catch(ue){if(Q++>3)throw ue;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,h.Z)(function*(){return hs()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,h.Z)(function*(){y.receiver=nn._getInstance(function Rl(){return hs()?self:null}()),y.receiver._subscribe("keyChanged",function(){var C=(0,h.Z)(function*(Q,ue){return{keyProcessed:(yield y._poll()).includes(ue.key)}});return function(Q,ue){return C.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var C=(0,h.Z)(function*(Q,ue){return["keyChanged"]});return function(Q,ue){return C.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,h.Z)(function*(){var C,Q;if(y.activeServiceWorker=yield function bu(){return Tt.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new ac(y.activeServiceWorker);const ue=yield y.sender._send("ping",{},800);ue&&null!==(C=ue[0])&&void 0!==C&&C.fulfilled&&null!==(Q=ue[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var C=this;return(0,h.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function gi(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:y},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const y=yield is();return yield $o(y,al,"1"),yield T(y,al),!0}catch{}return!1})()}_withPendingWrite(y){var C=this;return(0,h.Z)(function*(){C.pendingWrites++;try{yield y()}finally{C.pendingWrites--}})()}_set(y,C){var Q=this;return(0,h.Z)(function*(){return Q._withPendingWrite((0,h.Z)(function*(){return yield Q._withRetries(ue=>$o(ue,y,C)),Q.localCache[y]=C,Q.notifyServiceWorker(y)}))})()}_get(y){var C=this;return(0,h.Z)(function*(){const Q=yield C._withRetries(ue=>function To(E,m){return go.apply(this,arguments)}(ue,y));return C.localCache[y]=Q,Q})()}_remove(y){var C=this;return(0,h.Z)(function*(){return C._withPendingWrite((0,h.Z)(function*(){return yield C._withRetries(Q=>T(Q,y)),delete C.localCache[y],C.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,h.Z)(function*(){const C=yield y._withRetries(He=>{const mt=ua(He,!1).getAll();return new Yr(mt).toPromise()});if(!C)return[];if(0!==y.pendingWrites)return[];const Q=[],ue=new Set;for(const{fbase_key:He,value:mt}of C)ue.add(He),JSON.stringify(y.localCache[He])!==JSON.stringify(mt)&&(y.notifyListeners(He,mt),Q.push(He));for(const He of Object.keys(y.localCache))y.localCache[He]&&!ue.has(He)&&(y.notifyListeners(He,null),Q.push(He));return Q})()}notifyListeners(y,C){this.localCache[y]=C;const Q=this.listeners[y];if(Q)for(const ue of Array.from(Q))ue(C)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),Vn=1e12;class Wr{constructor(m){this.auth=m,this.counter=Vn,this._widgets=new Map}render(m,y){const C=this.counter;return this._widgets.set(C,new zi(m,this.auth.name,y||{})),this.counter++,C}reset(m){var y;const C=m||Vn;null===(y=this._widgets.get(C))||void 0===y||y.delete(),this._widgets.delete(C)}getResponse(m){var y;return(null===(y=this._widgets.get(m||Vn))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,h.Z)(function*(){var C;return null===(C=y._widgets.get(m||Vn))||void 0===C||C.execute(),""})()}}class zi{constructor(m,y,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof m?document.getElementById(m):m;Fe(Q,"argument-error",{appName:y}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _o(E){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<E;C++)m.push(y.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ca=Vi("rcb"),Da=new bn(3e4,6e4);class $a{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=_r().grecaptcha)||void 0===m||!m.render)}load(m,y=""){return Fe(function Uc(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(y),m,"argument-error"),this.shouldResolveImmediately(y)&&li(_r().grecaptcha)?Promise.resolve(_r().grecaptcha):new Promise((C,Q)=>{const ue=_r().setTimeout(()=>{Q(Le(m,"network-request-failed"))},Da.get());_r()[Ca]=()=>{_r().clearTimeout(ue),delete _r()[Ca];const mt=_r().grecaptcha;if(!mt||!li(mt))return void Q(Le(m,"internal-error"));const Vt=mt.render;mt.render=(Rn,Gt)=>{const sr=Vt(Rn,Gt);return this.counter++,sr},this.hostLanguage=y,C(mt)},Ai(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Ca,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(ue),Q(Le(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var y;return!(null===(y=_r().grecaptcha)||void 0===y||!y.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Lh{load(m){return(0,h.Z)(function*(){return new Wr(m)})()}clearedOneInstance(){}}const jc="recaptcha",Go={theme:"light",type:"image"};class cl{constructor(m,y,C=Object.assign({},Go)){this.parameters=C,this.type=jc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=si(m),this.isInvisible="invisible"===this.parameters.size,Fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof y?document.getElementById(y):y;Fe(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lh:new $a,this.validateStartingState()}verify(){var m=this;return(0,h.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(y)||new Promise(ue=>{const He=mt=>{mt&&(m.tokenChangeListeners.delete(He),ue(mt))};m.tokenChangeListeners.add(He),m.isInvisible&&C.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Fe(!this.parameters.sitekey,this.auth,"argument-error"),Fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(C=>C(y)),"function"==typeof m)m(y);else if("string"==typeof m){const C=_r()[m];"function"==typeof C&&C(y)}}}assertNotDestroyed(){Fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,h.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const C=document.createElement("div");y.appendChild(C),y=C}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,h.Z)(function*(){Fe(an()&&!hs(),m.auth,"internal-error"),yield function Qr(){let E=null;return new Promise(m=>{"complete"!==document.readyState?(E=()=>m(),window.addEventListener("load",E)):m()}).catch(m=>{throw E&&window.removeEventListener("load",E),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function Xn(E){return lr.apply(this,arguments)}(m.auth);Fe(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return Fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ed{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=yn._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function td(E,m,y){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,h.Z)(function*(E,m,y){const C=si(E),Q=yield da(C,m,(0,H.m9)(y));return new ed(Q,ue=>qs(C,ue))})).apply(this,arguments)}function Vh(E,m,y){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,h.Z)(function*(E,m,y){const C=(0,H.m9)(E);yield de(!1,C,"phone");const Q=yield da(C.auth,m,(0,H.m9)(y));return new ed(Q,ue=>tc(C,ue))})).apply(this,arguments)}function kd(E,m,y){return lc.apply(this,arguments)}function lc(){return(lc=(0,h.Z)(function*(E,m,y){const C=(0,H.m9)(E),Q=yield da(C.auth,m,(0,H.m9)(y));return new ed(Q,ue=>il(C,ue))})).apply(this,arguments)}function da(E,m,y){return wu.apply(this,arguments)}function wu(){return wu=(0,h.Z)(function*(E,m,y){var C;const Q=yield y.verify();try{let ue;if(Fe("string"==typeof Q,E,"argument-error"),Fe(y.type===jc,E,"argument-error"),ue="string"==typeof m?{phoneNumber:m}:m,"session"in ue){const He=ue.session;if("phoneNumber"in ue)return Fe("enroll"===He.type,E,"internal-error"),(yield function xa(E,m){return $e(E,"POST","/v2/accounts/mfaEnrollment:start",Qe(E,m))}(E,{idToken:He.credential,phoneEnrollmentInfo:{phoneNumber:ue.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{Fe("signin"===He.type,E,"internal-error");const mt=(null===(C=ue.multiFactorHint)||void 0===C?void 0:C.uid)||ue.multiFactorUid;return Fe(mt,E,"missing-multi-factor-info"),(yield function ce(E,m){return $e(E,"POST","/v2/accounts/mfaSignIn:start",Qe(E,m))}(E,{mfaPendingCredential:He.credential,mfaEnrollmentId:mt,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:He}=yield function Ce(E,m){return G.apply(this,arguments)}(E,{phoneNumber:ue.phoneNumber,recaptchaToken:Q});return He}}finally{y._reset()}}),wu.apply(this,arguments)}function Sa(E,m){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,h.Z)(function*(E,m){yield ee((0,H.m9)(E),m)})).apply(this,arguments)}let Ml=(()=>{class E{constructor(y){this.providerId=E.PROVIDER_ID,this.auth=si(y)}verifyPhoneNumber(y,C){return da(this.auth,y,(0,H.m9)(C))}static credential(y,C){return yn._fromVerification(y,C)}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:C,temporaryProof:Q}=y;return C&&Q?yn._fromTokenResponse(C,Q):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Xs(E,m){return m?B(m):(Fe(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class cc extends Do{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return or(m,this._buildIdpRequest())}_linkToIdToken(m,y){return or(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return or(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function ko(E){return Qo(E.auth,new cc(E),E.bypassAuthState)}function Fd(E){const{auth:m,user:y}=E;return Fe(y,m,"internal-error"),Nn(y,new cc(E),E.bypassAuthState)}function Ls(E){return ul.apply(this,arguments)}function ul(){return(ul=(0,h.Z)(function*(E){const{auth:m,user:y}=E;return Fe(y,m,"internal-error"),ee(y,new cc(E),E.bypassAuthState)})).apply(this,arguments)}class Tr{constructor(m,y,C,Q,ue=!1){this.auth=m,this.resolver=C,this.user=Q,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,h.Z)(function*(C,Q){m.pendingPromise={resolve:C,reject:Q};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(ue){m.reject(ue)}});return function(C,Q){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,h.Z)(function*(){const{urlResponse:C,sessionId:Q,postBody:ue,tenantId:He,error:mt,type:Vt}=m;if(mt)return void y.reject(mt);const Rn={auth:y.auth,requestUri:C,sessionId:Q,tenantId:He||void 0,postBody:ue||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Vt)(Rn))}catch(Gt){y.reject(Gt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ko;case"linkViaPopup":case"linkViaRedirect":return Ls;case"reauthViaPopup":case"reauthViaRedirect":return Fd;default:ge(this.auth,"internal-error")}}resolve(m){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nd=new bn(2e3,1e4);function lo(E,m,y){return vr.apply(this,arguments)}function vr(){return(vr=(0,h.Z)(function*(E,m,y){const C=si(E);Xe(E,m,Sn);const Q=Xs(C,y);return new xu(C,"signInViaPopup",m,Q).executeNotNull()})).apply(this,arguments)}function Hc(E,m,y){return dl.apply(this,arguments)}function dl(){return(dl=(0,h.Z)(function*(E,m,y){const C=(0,H.m9)(E);Xe(C.auth,m,Sn);const Q=Xs(C.auth,y);return new xu(C.auth,"reauthViaPopup",m,Q,C).executeNotNull()})).apply(this,arguments)}function ws(E,m,y){return id.apply(this,arguments)}function id(){return(id=(0,h.Z)(function*(E,m,y){const C=(0,H.m9)(E);Xe(C.auth,m,Sn);const Q=Xs(C.auth,y);return new xu(C.auth,"linkViaPopup",m,Q,C).executeNotNull()})).apply(this,arguments)}let xu=(()=>{class E extends Tr{constructor(y,C,Q,ue,He){super(y,C,ue,He),this.provider=Q,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var y=this;return(0,h.Z)(function*(){const C=yield y.execute();return Fe(C,y.auth,"internal-error"),C})()}onExecution(){var y=this;return(0,h.Z)(function*(){Ut(1===y.filter.length,"Popup operations only handle one event");const C=ns();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],C),y.authWindow.associatedEvent=C,y.resolver._originValidation(y.auth).catch(Q=>{y.reject(Q)}),y.resolver._isIframeWebStorageSupported(y.auth,Q=>{Q||y.reject(Le(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const y=()=>{var C,Q;this.pollId=null!==(Q=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,nd.get())};y()}}return E.currentPopupAction=null,E})();const qr="pendingRedirect",Tu=new Map;class Js extends Tr{constructor(m,y,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,h.Z)(function*(){let C=Tu.get(y.auth._key());if(!C){try{const ue=(yield function Xr(E,m){return fs.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;C=()=>Promise.resolve(ue)}catch(Q){C=()=>Promise.reject(Q)}Tu.set(y.auth._key(),C)}return y.bypassAuthState||Tu.set(y.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,C=this;return(0,h.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(C,m);if("unknown"!==m.type){if(m.eventId){const Q=yield C.auth._redirectUserForId(m.eventId);if(Q)return C.user=Q,y().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function fs(){return(fs=(0,h.Z)(function*(E,m){const y=Wa(m),C=Wo(E);if(!(yield C._isAvailable()))return!1;const Q="true"===(yield C._get(y));return yield C._remove(y),Q})).apply(this,arguments)}function Pl(E,m){return hl.apply(this,arguments)}function hl(){return(hl=(0,h.Z)(function*(E,m){return Wo(E)._set(Wa(m),"true")})).apply(this,arguments)}function zc(){Tu.clear()}function Ld(E,m){Tu.set(E._key(),m)}function Wo(E){return B(E._redirectPersistence)}function Wa(E){return vt(qr,E.config.apiKey,E.name)}function Ol(E,m,y){return function Ra(E,m,y){return Vs.apply(this,arguments)}(E,m,y)}function Vs(){return(Vs=(0,h.Z)(function*(E,m,y){const C=si(E);Xe(E,m,Sn),yield C._initializationPromise;const Q=Xs(C,y);return yield Pl(Q,C),Q._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function qa(E,m,y){return function Ma(E,m,y){return Cu.apply(this,arguments)}(E,m,y)}function Cu(){return(Cu=(0,h.Z)(function*(E,m,y){const C=(0,H.m9)(E);Xe(C.auth,m,Sn),yield C.auth._initializationPromise;const Q=Xs(C.auth,y);yield Pl(Q,C.auth);const ue=yield Au(C);return Q._openRedirect(C.auth,m,"reauthViaRedirect",ue)})).apply(this,arguments)}function fl(E,m,y){return function Du(E,m,y){return Ka.apply(this,arguments)}(E,m,y)}function Ka(){return(Ka=(0,h.Z)(function*(E,m,y){const C=(0,H.m9)(E);Xe(C.auth,m,Sn),yield C.auth._initializationPromise;const Q=Xs(C.auth,y);yield de(!1,C,m.providerId),yield Pl(Q,C.auth);const ue=yield Au(C);return Q._openRedirect(C.auth,m,"linkViaRedirect",ue)})).apply(this,arguments)}function pl(E,m){return $c.apply(this,arguments)}function $c(){return($c=(0,h.Z)(function*(E,m){return yield si(E)._initializationPromise,Pa(E,m,!1)})).apply(this,arguments)}function Pa(E,m){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,h.Z)(function*(E,m,y=!1){const C=si(E),Q=Xs(C,m),He=yield new Js(C,Q,y).execute();return He&&!y&&(delete He.user._redirectEventId,yield C._persistUserIfCurrent(He.user),yield C._setRedirectUser(null,m)),He})).apply(this,arguments)}function Au(E){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,h.Z)(function*(E){const m=ns(`${E.uid}:::`);return E._redirectEventId=m,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),m})).apply(this,arguments)}class Za{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(y=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Vd(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qo(E);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var C;if(m.error&&!qo(m)){const Q=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";y.onError(Le(this.auth,Q))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const C=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uc(m))}saveEventToCache(m){this.cachedEventUids.add(uc(m)),this.lastProcessedEventTime=Date.now()}}function uc(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(m=>m).join("-")}function qo({type:E,error:m}){return"unknown"===E&&"auth/no-auth-event"===m?.code}function Su(E){return io.apply(this,arguments)}function io(){return(io=(0,h.Z)(function*(E,m={}){return $e(E,"GET","/v1/projects",m)})).apply(this,arguments)}const Bd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ur=/^https?/;function Ya(){return(Ya=(0,h.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:m}=yield Su(E);for(const y of m)try{if(ml(y))return}catch{}ge(E,"unauthorized-domain")})).apply(this,arguments)}function ml(E){const m=dn(),{protocol:y,hostname:C}=new URL(m);if(E.startsWith("chrome-extension://")){const He=new URL(E);return""===He.hostname&&""===C?"chrome-extension:"===y&&E.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&He.hostname===C}if(!Ur.test(y))return!1;if(Bd.test(E))return C===E;const Q=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(C)}const ha=new bn(3e4,6e4);function Ru(){const E=_r().___jsl;if(E?.H)for(const m of Object.keys(E.H))if(E.H[m].r=E.H[m].r||[],E.H[m].L=E.H[m].L||[],E.H[m].r=[...E.H[m].L],E.CP)for(let y=0;y<E.CP.length;y++)E.CP[y]=null}let ri=null;const dc=new bn(5e3,15e3),rd="__/auth/iframe",Ud="emulator/auth/iframe",jd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bh(E){const m=E.config;Fe(m.authDomain,E,"auth-domain-config-required");const y=m.emulator?En(m,Ud):`https://${E.config.authDomain}/${rd}`,C={apiKey:m.apiKey,appName:E.name,v:te.SDK_VERSION},Q=Gc.get(E.config.apiHost);Q&&(C.eid=Q);const ue=E._getFrameworks();return ue.length&&(C.fw=ue.join(",")),`${y}?${(0,H.xO)(C).slice(1)}`}function fa(){return fa=(0,h.Z)(function*(E){const m=yield function Rr(E){return ri=ri||function ps(E){return new Promise((m,y)=>{var C,Q,ue;function He(){Ru(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Ru(),y(Le(E,"network-request-failed"))},timeout:ha.get()})}if(null!==(Q=null===(C=_r().gapi)||void 0===C?void 0:C.iframes)&&void 0!==Q&&Q.Iframe)m(gapi.iframes.getContext());else{if(null===(ue=_r().gapi)||void 0===ue||!ue.load){const mt=Vi("iframefcb");return _r()[mt]=()=>{gapi.load?He():y(Le(E,"network-request-failed"))},Ai(`https://apis.google.com/js/api.js?onload=${mt}`).catch(Vt=>y(Vt))}He()}}).catch(m=>{throw ri=null,m})}(E),ri}(E),y=_r().gapi;return Fe(y,E,"internal-error"),m.open({where:document.body,url:Bh(E),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jd,dontclear:!0},C=>new Promise(function(){var Q=(0,h.Z)(function*(ue,He){yield C.restyle({setHideOnLeave:!1});const mt=Le(E,"network-request-failed"),Vt=_r().setTimeout(()=>{He(mt)},dc.get());function Rn(){_r().clearTimeout(Vt),ue(C)}C.ping(Rn).then(Rn,()=>{He(mt)})});return function(ue,He){return Q.apply(this,arguments)}}()))}),fa.apply(this,arguments)}const jh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class od{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const sd="__/auth/handler",hc="emulator/auth/handler",ea=encodeURIComponent("fac");function kl(E,m,y,C,Q,ue){return qc.apply(this,arguments)}function qc(){return(qc=(0,h.Z)(function*(E,m,y,C,Q,ue){Fe(E.config.authDomain,E,"auth-domain-config-required"),Fe(E.config.apiKey,E,"invalid-api-key");const He={apiKey:E.config.apiKey,appName:E.name,authType:y,redirectUrl:C,v:te.SDK_VERSION,eventId:Q};if(m instanceof Sn){m.setDefaultLanguage(E.languageCode),He.providerId=m.providerId||"",(0,H.xb)(m.getCustomParameters())||(He.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Gt,sr]of Object.entries(ue||{}))He[Gt]=sr}if(m instanceof Fr){const Gt=m.getScopes().filter(sr=>""!==sr);Gt.length>0&&(He.scopes=Gt.join(","))}E.tenantId&&(He.tid=E.tenantId);const mt=He;for(const Gt of Object.keys(mt))void 0===mt[Gt]&&delete mt[Gt];const Vt=yield E._getAppCheckToken(),Rn=Vt?`#${ea}=${encodeURIComponent(Vt)}`:"";return`${function Mu({config:E}){return E.emulator?En(E,hc):`https://${E.authDomain}/${sd}`}(E)}?${(0,H.xO)(mt).slice(1)}${Rn}`})).apply(this,arguments)}const ad="webStorageSupport",ta=class xs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ll,this._completeRedirectFn=Pa,this._overrideRedirectResult=Ld}_openPopup(m,y,C,Q){var ue=this;return(0,h.Z)(function*(){var He;Ut(null===(He=ue.eventManagers[m._key()])||void 0===He?void 0:He.manager,"_initialize() not called before _openPopup()");const mt=yield kl(m,y,C,dn(),Q);return function Us(E,m,y,C=500,Q=600){const ue=Math.max((window.screen.availHeight-Q)/2,0).toString(),He=Math.max((window.screen.availWidth-C)/2,0).toString();let mt="";const Vt=Object.assign(Object.assign({},jh),{width:C.toString(),height:Q.toString(),top:ue,left:He}),Rn=(0,H.z$)().toLowerCase();y&&(mt=An(Rn)?"_blank":y),Ht(Rn)&&(m=m||"http://localhost",Vt.scrollbars="yes");const Gt=Object.entries(Vt).reduce((os,[vl,Fu])=>`${os}${vl}=${Fu},`,"");if(function Ot(E=(0,H.z$)()){var m;return we(E)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Rn)&&"_self"!==mt)return function Qa(E,m){const y=document.createElement("a");y.href=E,y.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(C)}(m||"",mt),new od(null);const sr=window.open(m||"",mt,Gt);Fe(sr,E,"popup-blocked");try{sr.focus()}catch{}return new od(sr)}(m,mt,ns())})()}_openRedirect(m,y,C,Q){var ue=this;return(0,h.Z)(function*(){return yield ue._originValidation(m),function Bc(E){_r().location.href=E}(yield kl(m,y,C,dn(),Q)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:Q,promise:ue}=this.eventManagers[y];return Q?Promise.resolve(Q):(Ut(ue,"If manager is not set, promise should be"),ue)}const C=this.initAndGetManager(m);return this.eventManagers[y]={promise:C},C.catch(()=>{delete this.eventManagers[y]}),C}initAndGetManager(m){var y=this;return(0,h.Z)(function*(){const C=yield function Uh(E){return fa.apply(this,arguments)}(m),Q=new Za(m);return C.register("authEvent",ue=>(Fe(ue?.authEvent,m,"invalid-auth-event"),{status:Q.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:Q},y.iframes[m._key()]=C,Q})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(ad,{type:ad},Q=>{var ue;const He=null===(ue=Q?.[0])||void 0===ue?void 0:ue[ad];void 0!==He&&y(!!He),ge(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Bs(E){return Ya.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return Bt()||gn()||we()}};class gl{constructor(m){this.factorId=m}_process(m,y,C){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,C);case"signin":return this._finalizeSignIn(m,y.credential);default:return Wt("unexpected MultiFactorSessionType")}}}class Xa extends gl{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Xa(m)}_finalizeEnroll(m,y,C){return function No(E,m){return $e(E,"POST","/v2/accounts/mfaEnrollment:finalize",Qe(E,m))}(m,{idToken:y,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function De(E,m){return $e(E,"POST","/v2/accounts/mfaSignIn:finalize",Qe(E,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pu=(()=>{class E{constructor(){}static assertion(y){return Xa._fromCredential(y)}}return E.FACTOR_ID="phone",E})();var Nu="@firebase/auth";class Ll{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,h.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(C=>{m(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);y&&(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vl=(0,H.Pz)("authIdTokenMaxAge")||300;let Yc=null;const Yf=E=>function(){var m=(0,h.Z)(function*(y){const C=y&&(yield y.getIdTokenResult()),Q=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(Q&&Q>Vl)return;const ue=C?.token;Yc!==ue&&(Yc=ue,yield fetch(E,{method:ue?"POST":"DELETE",headers:ue?{Authorization:`Bearer ${ue}`}:{}}))});return function(y){return m.apply(this,arguments)}}();function Ja(E=(0,te.getApp)()){const m=(0,te._getProvider)(E,"auth");if(m.isInitialized())return m.getImmediate();const y=function Ps(E,m){const y=(0,te._getProvider)(E,"auth");if(y.isInitialized()){const Q=y.getImmediate(),ue=y.getOptions();if((0,H.vZ)(ue,m??{}))return Q;ge(Q,"already-initialized")}return y.initialize({options:m})}(E,{popupRedirectResolver:ta,persistence:[q,sc,ll]}),C=(0,H.Pz)("authTokenSyncURL");if(C){const ue=Yf(C);(function Fs(E,m,y){(0,H.m9)(E).beforeAuthStateChanged(m,y)})(y,ue,()=>ue(y.currentUser)),function Ir(E,m,y,C){(0,H.m9)(E).onIdTokenChanged(m,y,C)}(y,He=>ue(He))}const Q=(0,H.q4)("auth");return Q&&cs(y,`http://${Q}`),y}!function Zc(E){(0,te._registerComponent)(new Ee.wA("auth",(m,{options:y})=>{const C=m.getProvider("app").getImmediate(),Q=m.getProvider("heartbeat"),ue=m.getProvider("app-check-internal"),{apiKey:He,authDomain:mt}=C.options;Fe(He&&!He.includes(":"),"invalid-api-key",{appName:C.name});const Vt={apiKey:He,authDomain:mt,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yi(E)},Rn=new zr(C,Q,ue,Vt);return function vs(E,m){const y=m?.persistence||[],C=(Array.isArray(y)?y:[y]).map(B);m?.errorMap&&E._updateErrorMap(m.errorMap),E._initializeWithPersistence(C,m?.popupRedirectResolver)}(Rn,y),Rn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,C)=>{m.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new Ee.wA("auth-internal",m=>{const y=si(m.getProvider("auth").getImmediate());return new Ll(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(Nu,"1.3.2",function ku(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,te.registerVersion)(Nu,"1.3.2","esm2017")}("Browser")},5776:(Nt,Be,O)=>{O.d(Be,{u7:()=>Rg,Jj:()=>fu,IX:()=>dy,my:()=>Bo,xU:()=>Xl,Lz:()=>Sc,WA:()=>Rt,F8:()=>sm,$q:()=>Gf,W:()=>Pd,EK:()=>pn,PU:()=>Ug,l7:()=>Wo,Ky:()=>nn,Xb:()=>Lr,Cf:()=>Qi,K9:()=>yu,Me:()=>xu,yq:()=>Ir,Wi:()=>wg,ET:()=>Ly,Ab:()=>Hg,vr:()=>bv,Fc:()=>fy,hJ:()=>im,B$:()=>Vf,at:()=>nm,oe:()=>Fy,AK:()=>yv,TF:()=>my,JU:()=>Cg,ST:()=>J_,fH:()=>ev,Ix:()=>py,Wu:()=>Dy,Lx:()=>Cy,qY:()=>ho,GL:()=>Od,QT:()=>Pg,kl:()=>pm,Xk:()=>qb,PL:()=>Oy,UQ:()=>Ny,zN:()=>Og,ad:()=>Q_,nP:()=>zg,b9:()=>lv,vh:()=>cv,Pb:()=>gy,L$:()=>_y,cf:()=>gv,sc:()=>_v,Xo:()=>av,IO:()=>Oh,iE:()=>Z_,Eo:()=>rm,i3:()=>Wy,Bt:()=>jg,pl:()=>ky,Ub:()=>ks,qK:()=>Py,TQ:()=>Wb,e0:()=>Ty,r7:()=>mv,Mx:()=>Bf,ar:()=>sv});var fe,h=O(5861),H=O(534),te=O(4537),R=O(7879),me=O(9058),Ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Te={},Se=Se||{},ae=Ee||self;function ve(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Oe(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var tt="closure_uid_"+(1e9*Math.random()>>>0),bt=0;function it(r,e,n){return r.call.apply(r.bind,arguments)}function lt(r,e,n){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),r.apply(e,l)}}return function(){return r.apply(e,arguments)}}function pt(r,e,n){return(pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?it:lt).apply(null,arguments)}function Pt(r,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function _t(r,e){function n(){}n.prototype=e.prototype,r.$=e.prototype,r.prototype=new n,r.prototype.constructor=r,r.ac=function(s,l,f){for(var g=Array(arguments.length-2),S=2;S<arguments.length;S++)g[S-2]=arguments[S];return e.prototype[l].apply(s,g)}}function ge(){this.s=this.s,this.o=this.o}ge.prototype.s=!1,ge.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ze(r){Object.prototype.hasOwnProperty.call(r,tt)&&r[tt]||(r[tt]=++bt)}(this)},ge.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Me=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let n=0;n<r.length;n++)if(n in r&&r[n]===e)return n;return-1};function Xe(r){const e=r.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=r[s];return n}return[]}function ct(r,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(ve(s)){const l=r.length||0,f=s.length||0;r.length=l+f;for(let g=0;g<f;g++)r[l+g]=s[g]}else r.push(s)}}function Fe(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Fe.prototype.h=function(){this.defaultPrevented=!0};var Wt=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ae.addEventListener("test",()=>{},e),ae.removeEventListener("test",()=>{},e)}catch{}return r}();function Ut(r){return/^[\s\xa0]*$/.test(r)}function dn(){var r=ae.navigator;return r&&(r=r.userAgent)?r:""}function an(r){return-1!=dn().indexOf(r)}function jt(r){return jt[" "](r),r}jt[" "]=function(){};var $e,r,Jt=an("Opera"),bn=an("Trident")||an("MSIE"),En=an("Edge"),We=En||bn,Je=an("Gecko")&&!(-1!=dn().toLowerCase().indexOf("webkit")&&!an("Edge"))&&!(an("Trident")||an("MSIE"))&&!an("Edge"),Ye=-1!=dn().toLowerCase().indexOf("webkit")&&!an("Edge");function Qe(){var r=ae.document;return r?r.documentMode:void 0}e:{var st="",Pe=(r=dn(),Je?/rv:([^\);]+)(\)|;)/.exec(r):En?/Edge\/([\d\.]+)/.exec(r):bn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Ye?/WebKit\/(\S+)/.exec(r):Jt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Pe&&(st=Pe?Pe[1]:""),bn){var wt=Qe();if(null!=wt&&wt>parseFloat(st)){$e=String(wt);break e}}$e=st}var Kn=ae.document&&bn&&(Qe()||parseInt($e,10))||void 0;function Dn(r,e){if(Fe.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Je){e:{try{jt(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=r.fromElement:"mouseout"==n&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:_n[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Dn.$.h.call(this)}}_t(Dn,Fe);var _n={2:"touch",3:"pen",4:"mouse"};Dn.prototype.h=function(){Dn.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Ln="closure_listenable_"+(1e6*Math.random()|0),li=0;function Bn(r,e,n,s,l){this.listener=r,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=l,this.key=++li,this.fa=this.ia=!1}function Ei(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Xn(r,e,n){for(const s in r)e.call(n,r[s],s,r)}function Li(r){const e={};for(const n in r)e[n]=r[n];return e}const ni="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pi(r,e){let n,s;for(let l=1;l<arguments.length;l++){for(n in s=arguments[l],s)r[n]=s[n];for(let f=0;f<ni.length;f++)n=ni[f],Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}}function Ii(r){this.src=r,this.g={},this.h=0}function ln(r,e){var n=e.type;if(n in r.g){var f,s=r.g[n],l=Me(s,e);(f=0<=l)&&Array.prototype.splice.call(s,l,1),f&&(Ei(e),0==r.g[n].length&&(delete r.g[n],r.h--))}}function fn(r,e,n,s){for(var l=0;l<r.length;++l){var f=r[l];if(!f.fa&&f.listener==e&&f.capture==!!n&&f.la==s)return l}return-1}Ii.prototype.add=function(r,e,n,s,l){var f=r.toString();(r=this.g[f])||(r=this.g[f]=[],this.h++);var g=fn(r,e,s,l);return-1<g?(e=r[g],n||(e.ia=!1)):((e=new Bn(e,this.src,f,!!s,l)).ia=n,r.push(e)),e};var en="closure_lm_"+(1e6*Math.random()|0),hn={};function wi(r,e,n,s,l){if(s&&s.once)return $n(r,e,n,s,l);if(Array.isArray(e)){for(var f=0;f<e.length;f++)wi(r,e[f],n,s,l);return null}return n=ui(n),r&&r[Ln]?r.O(e,n,Oe(s)?!!s.capture:!!s,l):ki(r,e,n,!1,s,l)}function ki(r,e,n,s,l,f){if(!e)throw Error("Invalid event type");var g=Oe(l)?!!l.capture:!!l,S=fi(r);if(S||(r[en]=S=new Ii(r)),(n=S.add(e,n,s,g,f)).proxy)return n;if(s=function Pn(){const e=vn;return function r(n){return e.call(r.src,r.listener,n)}}(),n.proxy=s,s.src=r,s.listener=n,r.addEventListener)Wt||(l=g),void 0===l&&(l=!1),r.addEventListener(e.toString(),s,l);else if(r.attachEvent)r.attachEvent(hr(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return n}function $n(r,e,n,s,l){if(Array.isArray(e)){for(var f=0;f<e.length;f++)$n(r,e[f],n,s,l);return null}return n=ui(n),r&&r[Ln]?r.P(e,n,Oe(s)?!!s.capture:!!s,l):ki(r,e,n,!0,s,l)}function Mr(r,e,n,s,l){if(Array.isArray(e))for(var f=0;f<e.length;f++)Mr(r,e[f],n,s,l);else s=Oe(s)?!!s.capture:!!s,n=ui(n),r&&r[Ln]?(r=r.i,(e=String(e).toString())in r.g&&-1<(n=fn(f=r.g[e],n,s,l))&&(Ei(f[n]),Array.prototype.splice.call(f,n,1),0==f.length&&(delete r.g[e],r.h--))):r&&(r=fi(r))&&(e=r.g[e.toString()],r=-1,e&&(r=fn(e,n,s,l)),(n=-1<r?e[r]:null)&&Qt(n))}function Qt(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Ln])ln(e.i,r);else{var n=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(n,s,r.capture):e.detachEvent?e.detachEvent(hr(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=fi(e))?(ln(n,r),0==n.h&&(n.src=null,e[en]=null)):Ei(r)}}}function hr(r){return r in hn?hn[r]:hn[r]="on"+r}function vn(r,e){if(r.fa)r=!0;else{e=new Dn(e,this);var n=r.listener,s=r.la||r.src;r.ia&&Qt(r),r=n.call(s,e)}return r}function fi(r){return(r=r[en])instanceof Ii?r:null}var Di="__closure_events_fn_"+(1e9*Math.random()>>>0);function ui(r){return"function"==typeof r?r:(r[Di]||(r[Di]=function(e){return r.handleEvent(e)}),r[Di])}function Gn(){ge.call(this),this.i=new Ii(this),this.S=this,this.J=null}function Mn(r,e){var n,s=r.J;if(s)for(n=[];s;s=s.J)n.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new Fe(e,r);else if(e instanceof Fe)e.target=e.target||r;else{var l=e;Pi(e=new Fe(s,r),l)}if(l=!0,n)for(var f=n.length-1;0<=f;f--){var g=e.g=n[f];l=vi(g,s,!0,e)&&l}if(l=vi(g=e.g=r,s,!0,e)&&l,l=vi(g,s,!1,e)&&l,n)for(f=0;f<n.length;f++)l=vi(g=e.g=n[f],s,!1,e)&&l}function vi(r,e,n,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,f=0;f<e.length;++f){var g=e[f];if(g&&!g.fa&&g.capture==n){var S=g.listener,L=g.la||g.src;g.ia&&ln(r.i,g),l=!1!==S.call(L,s)&&l}}return l&&!s.defaultPrevented}_t(Gn,ge),Gn.prototype[Ln]=!0,Gn.prototype.removeEventListener=function(r,e,n,s){Mr(this,r,e,n,s)},Gn.prototype.N=function(){if(Gn.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var n=r.g[e],s=0;s<n.length;s++)Ei(n[s]);delete r.g[e],r.h--}}this.J=null},Gn.prototype.O=function(r,e,n,s){return this.i.add(String(r),e,!1,n,s)},Gn.prototype.P=function(r,e,n,s){return this.i.add(String(r),e,!0,n,s)};var $i=ae.JSON.stringify;function Ui(){var r=B;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var fr=new class Xi{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Dt,r=>r.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function oe(r){var e=1;r=r.split(":");const n=[];for(;0<e&&r.length;)n.push(r.shift()),e--;return r.length&&n.push(r.join(":")),n}function U(r){ae.setTimeout(()=>{throw r},0)}let F,k=!1,B=new class Gi{constructor(){this.h=this.g=null}add(e,n){const s=fr.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},pe=()=>{const r=ae.Promise.resolve(void 0);F=()=>{r.then(Ue)}};var Ue=()=>{for(var r;r=Ui();){try{r.h.call(r.g)}catch(n){U(n)}var e=fr;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}k=!1};function vt(r,e){Gn.call(this),this.h=r||1,this.g=e||ae,this.j=pt(this.qb,this),this.l=Date.now()}function St(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Lt(r,e,n){if("function"==typeof r)n&&(r=pt(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=pt(r.handleEvent,r)}return 2147483647<Number(e)?-1:ae.setTimeout(r,e||0)}function Ht(r){r.g=Lt(()=>{r.g=null,r.i&&(r.i=!1,Ht(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}_t(vt,Gn),(fe=vt.prototype).ga=!1,fe.T=null,fe.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mn(this,"tick"),this.ga&&(St(this),this.start()))}},fe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fe.N=function(){vt.$.N.call(this),St(this),delete this.g};class gn extends ge{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(r){ge.call(this),this.h=r,this.g={}}_t(An,ge);var et=[];function ie(r,e,n,s){Array.isArray(n)||(n&&(et[0]=n.toString()),n=et);for(var l=0;l<n.length;l++){var f=wi(e,n[l],s||r.handleEvent,!1,r.h||r);if(!f)break;r.g[f.key]=f}}function Ie(r){Xn(r.g,function(e,n){this.g.hasOwnProperty(n)&&Qt(e)},r),r.g={}}function _e(){this.g=!0}function Ot(r,e,n,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Bt(r,e){if(!r.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var s=n[r];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var f=l[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var g=1;g<l.length;g++)l[g]=""}}}return $i(n)}catch{return e}}(r,n)+(s?" "+s:"")})}An.prototype.N=function(){An.$.N.call(this),Ie(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_e.prototype.Ea=function(){this.g=!1},_e.prototype.info=function(){};var Un={},yi=null;function xi(){return yi=yi||new Gn}function Ji(r){Fe.call(this,Un.Ta,r)}function Ti(r){const e=xi();Mn(e,new Ji(e))}function Cr(r,e){Fe.call(this,Un.STAT_EVENT,r),this.stat=e}function er(r){const e=xi();Mn(e,new Cr(e,r))}function zr(r,e){Fe.call(this,Un.Ua,r),this.size=e}function si(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){r()},e)}Un.Ta="serverreachability",_t(Ji,Fe),Un.STAT_EVENT="statevent",_t(Cr,Fe),Un.Ua="timingevent",_t(zr,Fe);var Pr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pi={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ai(){}function Uo(){}Ai.prototype.h=null;var es,Kr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jo(){Fe.call(this,"d")}function ls(){Fe.call(this,"c")}function xr(){}function $r(r,e,n,s){this.l=r,this.j=e,this.m=n,this.W=s||1,this.U=new An(this),this.P=Va,this.V=new vt(r=We?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ko}function Ko(){this.i=null,this.g="",this.h=!1}_t(jo,Fe),_t(ls,Fe),_t(xr,Ai),xr.prototype.g=function(){return new XMLHttpRequest},xr.prototype.i=function(){return{}},es=new xr;var Va=45e3,_s={},Ps={};function vs(r,e,n){r.L=1,r.v=po(Ar(e)),r.s=n,r.S=!0,cs(r,null)}function cs(r,e){r.G=Date.now(),fo(r),r.A=Ar(r.v);var n=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),G(n.i,"t",s),r.C=0,n=r.l.J,r.h=new Ko,r.g=Io(r.l,n?e:null,!r.s),0<r.O&&(r.M=new gn(pt(r.Pa,r,r.g),r.O)),ie(r.U,r.g,"readystatechange",r.nb),e=r.I?Li(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Ti(),function we(r,e,n,s,l,f){r.info(function(){if(r.g)if(f)for(var g="",S=f.split("&"),L=0;L<S.length;L++){var K=S[L].split("=");if(1<K.length){var se=K[0];K=K[1];var be=se.split("_");g=2<=be.length&&"type"==be[1]?g+(se+"=")+K+"&":g+(se+"=redacted&")}}else g=null;else g=f;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+n+"\n"+g})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Or(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Dr(r,e,n){let l,s=!0;for(;!r.J&&r.C<n.length;){if(l=Zo(r,n),l==Ps){4==e&&(r.o=4,er(14),s=!1),Ot(r.j,r.m,null,"[Incomplete Response]");break}if(l==_s){r.o=4,er(15),Ot(r.j,r.m,n,"[Invalid Chunk]"),s=!1;break}Ot(r.j,r.m,l,null),Yo(r,l)}Or(r)&&l!=Ps&&l!=_s&&(r.h.g="",r.C=0),4!=e||0!=n.length||r.h.h||(r.o=1,er(16),s=!1),r.i=r.i&&s,s?0<n.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),oa(e),e.M=!0,er(11))):(Ot(r.j,r.m,n,"[Invalid Chunked Response]"),pr(r),Ao(r))}function Zo(r,e){var n=r.C,s=e.indexOf("\n",n);return-1==s?Ps:(n=Number(e.substring(n,s)),isNaN(n)?_s:(s+=1)+n>e.length?Ps:(e=e.slice(s,s+n),r.C=s+n,e))}function fo(r){r.Y=Date.now()+r.P,Do(r,r.P)}function Do(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=si(pt(r.lb,r),e)}function Os(r){r.B&&(ae.clearTimeout(r.B),r.B=null)}function Ao(r){0==r.l.H||r.J||Eo(r.l,r)}function pr(r){Os(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,St(r.V),Ie(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Yo(r,e){try{var n=r.l;if(0!=n.H&&(n.g==r||yn(n.i,r)))if(!r.K&&yn(n.i,r)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<r.G))break e;Mo(n),Qo(n)}Nc(n),er(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=si(pt(n.ib,n),6e3));if(1>=Xt(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else sa(n,11)}else if((r.K||n.g==r)&&Mo(n),!Ut(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let K=l[e];if(n.V=K[0],K=K[1],2==n.H)if("c"==K[0]){n.K=K[1],n.pa=K[2];const se=K[3];null!=se&&(n.ra=se,n.l.info("VER="+n.ra));const be=K[4];null!=be&&(n.Ga=be,n.l.info("SVER="+n.Ga));const je=K[5];null!=je&&"number"==typeof je&&0<je&&(n.L=s=1.5*je,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const ut=r.g;if(ut){const Zt=ut.g?ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zt){var f=s.i;f.g||-1==Zt.indexOf("spdy")&&-1==Zt.indexOf("quic")&&-1==Zt.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(kn(f,f.h),f.h=null))}if(s.F){const on=ut.g?ut.g.getResponseHeader("X-HTTP-Session-Id"):null;on&&(s.Da=on,Fi(s.I,s.F,on))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-r.G,n.l.info("Handshake RTT: "+n.S+"ms"));var g=r;if((s=n).wa=Ks(s,s.J?s.pa:null,s.Y),g.K){di(s.i,g);var S=g,L=s.L;L&&S.setTimeout(L),S.B&&(Os(S),fo(S)),s.g=g}else Ba(s);0<n.j.length&&qs(n)}else"stop"!=K[0]&&"close"!=K[0]||sa(n,7);else 3==n.H&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?sa(n,7):Qn(n):"noop"!=K[0]&&n.h&&n.h.Aa(K),n.A=0)}Ti()}catch{}}function So(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ve(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var n=function vo(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ve(r)||"string"==typeof r){var e=[];r=r.length;for(var n=0;n<r;n++)e.push(n);return e}e=[],n=0;for(const s in r)e[n++]=s;return e}}}(r),s=function ys(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ve(r)){for(var e=[],n=r.length,s=0;s<n;s++)e.push(r[s]);return e}for(s in e=[],n=0,r)e[n++]=r[s];return e}(r),l=s.length,f=0;f<l;f++)e.call(void 0,s[f],n&&n[f],r)}(fe=$r.prototype).setTimeout=function(r){this.P=r},fe.nb=function(r){r=r.target;const e=this.M;e&&3==Ro(r)?e.l():this.Pa(r)},fe.Pa=function(r){try{if(r==this.g)e:{const se=Ro(this.g);var e=this.g.Ia();if(this.g.da(),!(3>se)&&(3!=se||We||this.g&&(this.h.h||this.g.ja()||Y(this.g)))){this.J||4!=se||7==e||Ti(),Os(this);var n=this.g.da();this.ca=n;t:if(Or(this)){var s=Y(this.g);r="";var l=s.length,f=4==Ro(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pr(this),Ao(this);var g="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:f&&e==l-1});s.splice(0,l),this.h.g+=r,this.C=0,g=this.h.g}else g=this.g.ja();if(this.i=200==n,function at(r,e,n,s,l,f,g){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+f+" "+g})}(this.j,this.u,this.A,this.m,this.W,se,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ut(S)){var K=S;break t}}K=null}if(!(n=K)){this.i=!1,this.o=3,er(12),pr(this),Ao(this);break e}Ot(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yo(this,n)}this.S?(Dr(this,se,g),We&&this.i&&3==se&&(ie(this.U,this.V,"tick",this.mb),this.V.start())):(Ot(this.j,this.m,g,null),Yo(this,g)),4==se&&pr(this),this.i&&!this.J&&(4==se?Eo(this.l,this):(this.i=!1,fo(this)))}else(function ee(r){const e={};r=(r.g&&2<=Ro(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(Ut(r[s]))continue;var n=oe(r[s]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const f=e[l]||[];e[l]=f,f.push(n)}!function lr(r,e){for(const n in r)e.call(void 0,r[n],n,r)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<g.indexOf("Unknown SID")?(this.o=3,er(12)):(this.o=0,er(13)),pr(this),Ao(this)}}}catch{}},fe.mb=function(){if(this.g){var r=Ro(this.g),e=this.g.ja();this.C<e.length&&(Os(this),Dr(this,r,e),this.i&&4!=r&&fo(this))}},fe.cancel=function(){this.J=!0,pr(this)},fe.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Kt(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ti(),er(17)),pr(this),this.o=2,Ao(this)):Do(this,this.Y-r)};var Jn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rr(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof rr){this.h=r.h,tr(this,r.j),this.s=r.s,this.g=r.g,us(this,r.m),this.l=r.l;var e=r.i,n=new Vr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),so(this,n),this.o=r.o}else r&&(e=String(r).match(Jn))?(this.h=!1,tr(this,e[1]||"",!0),this.s=yo(e[2]||""),this.g=yo(e[3]||"",!0),us(this,e[4]),this.l=yo(e[5]||"",!0),so(this,e[6]||"",!0),this.o=yo(e[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}function Ar(r){return new rr(r)}function tr(r,e,n){r.j=n?yo(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function us(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function so(r,e,n){e instanceof Vr?(r.i=e,function J(r,e){e&&!r.j&&(Oi(r),r.i=null,r.g.forEach(function(n,s){var l=s.toLowerCase();s!=l&&(kr(this,s),G(this,l,n))},r)),r.j=e}(r.i,r.h)):(n||(e=Si(e,to)),r.i=new Vr(e,r.h))}function Fi(r,e,n){r.i.set(e,n)}function po(r){return Fi(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function yo(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Si(r,e,n){return"string"==typeof r?(r=encodeURI(r).replace(e,Yt),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Yt(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}rr.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Si(e,Hn,!0),":");var n=this.g;return(n||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Si(e,Hn,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&r.push("/"),r.push(Si(n,"/"==n.charAt(0)?Nr:Hi,!0))),(n=this.i.toString())&&r.push("?",n),(n=this.o)&&r.push("#",Si(n,or)),r.join("")};var Hn=/[#\/\?@]/g,Hi=/[#\?:]/g,Nr=/[#\?]/g,to=/[#\?@]/g,or=/#/g;function Vr(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Oi(r){r.g||(r.g=new Map,r.h=0,r.i&&function ji(r,e){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var s=r[n].indexOf("="),l=null;if(0<=s){var f=r[n].substring(0,s);l=r[n].substring(s+1)}else f=r[n];e(f,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(r.i,function(e,n){r.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function kr(r,e){Oi(r),e=$(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Ce(r,e){return Oi(r),e=$(r,e),r.g.has(e)}function G(r,e,n){kr(r,e),0<n.length&&(r.i=null,r.g.set($(r,e),Xe(n)),r.h+=n.length)}function $(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ne(r){this.l=r||ft,r=ae.PerformanceNavigationTiming?0<(r=ae.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ae.g&&ae.g.Ka&&ae.g.Ka()&&ae.g.Ka().dc),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(fe=Vr.prototype).add=function(r,e){Oi(this),this.i=null,r=$(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(e),this.h+=1,this},fe.forEach=function(r,e){Oi(this),this.g.forEach(function(n,s){n.forEach(function(l){r.call(e,l,s,this)},this)},this)},fe.ta=function(){Oi(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const l=r[s];for(let f=0;f<l.length;f++)n.push(e[s])}return n},fe.Z=function(r){Oi(this);let e=[];if("string"==typeof r)Ce(this,r)&&(e=e.concat(this.g.get($(this,r))));else{r=Array.from(this.g.values());for(let n=0;n<r.length;n++)e=e.concat(r[n])}return e},fe.set=function(r,e){return Oi(this),this.i=null,Ce(this,r=$(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},fe.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const f=encodeURIComponent(String(s)),g=this.Z(s);for(s=0;s<g.length;s++){var l=f;""!==g[s]&&(l+="="+encodeURIComponent(String(g[s]))),r.push(l)}}return this.i=r.join("&")};var ft=10;function kt(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Xt(r){return r.h?1:r.g?r.g.size:0}function yn(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function kn(r,e){r.g?r.g.add(e):r.h=e}function di(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function cr(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const n of r.g.values())e=e.concat(n.F);return e}return Xe(r.i)}Ne.prototype.cancel=function(){if(this.i=cr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var yr=class{stringify(r){return ae.JSON.stringify(r,void 0)}parse(r){return ae.JSON.parse(r,void 0)}};function Sr(){this.g=new yr}function Sn(r,e,n){const s=n||"";try{So(r,function(l,f){let g=l;Oe(l)&&(g=$i(l)),e.push(s+f+"="+encodeURIComponent(g))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function Ho(r,e,n,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function bo(r){this.l=r.ec||null,this.j=r.ob||!1}function Gr(r,e){Gn.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=Ws,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_t(bo,Ai),bo.prototype.g=function(){return new Gr(this.l,this.j)},bo.prototype.i=function(r){return function(){return r}}({}),_t(Gr,Gn);var Ws=0;function bs(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function no(r){r.readyState=4,r.l=null,r.j=null,r.A=null,mr(r)}function mr(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(fe=Gr.prototype).open=function(r,e){if(this.readyState!=Ws)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,mr(this)},fe.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,no(this)),this.readyState=Ws},fe.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bs(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},fe.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?no(this):mr(this),3==this.readyState&&bs(this)}},fe.Za=function(r){this.g&&(this.response=this.responseText=r,no(this))},fe.Ya=function(r){this.g&&(this.response=r,no(this))},fe.ka=function(){this.g&&no(this)},fe.setRequestHeader=function(r,e){this.v.append(r,e)},fe.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},fe.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var n=e.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=e.next();return r.join("\r\n")},Object.defineProperty(Gr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Es=ae.JSON.parse;function mi(r){Gn.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=br,this.L=this.M=!1}_t(mi,Gn);var br="",Et=/^https?$/i,Ge=["POST","PUT"];function Ke(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,yt(r),Zn(r)}function yt(r){r.F||(r.F=!0,Mn(r,"complete"),Mn(r,"error"))}function cn(r){if(r.h&&typeof Se<"u"&&(!r.C[1]||4!=Ro(r)||2!=r.da()))if(r.v&&4==Ro(r))Lt(r.La,0,r);else if(Mn(r,"readystatechange"),4==Ro(r)){r.h=!1;try{const g=r.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===g){var l=String(r.I).match(Jn)[1]||null;!l&&ae.self&&ae.self.location&&(l=ae.self.location.protocol.slice(0,-1)),s=!Et.test(l?l.toLowerCase():"")}n=s}if(n)Mn(r,"complete"),Mn(r,"success");else{r.m=6;try{var f=2<Ro(r)?r.g.statusText:""}catch{f=""}r.j=f+" ["+r.da()+"]",yt(r)}}finally{Zn(r)}}}function Zn(r,e){if(r.g){Zr(r);const n=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Mn(r,"ready");try{n.onreadystatechange=s}catch{}}}function Zr(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(ae.clearTimeout(r.A),r.A=null)}function Ro(r){return r.g?r.g.readyState:0}function Y(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case br:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function j(r){let e="";return Xn(r,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function de(r,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=j(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):Fi(r,e,n))}function ke(r,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||e}function Nn(r){this.Ga=0,this.j=[],this.l=new _e,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ke("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ke("baseRetryDelayMs",5e3,r),this.hb=ke("retryDelaySeedMs",1e4,r),this.eb=ke("forwardChannelMaxRetries",2,r),this.xa=ke("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.useFetchStreams||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Ne(r&&r.concurrentRequestLimit),this.Ja=new Sr,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Qn(r){if(_a(r),3==r.H){var e=r.W++,n=Ar(r.I);if(Fi(n,"SID",r.K),Fi(n,"RID",e),Fi(n,"TYPE","terminate"),va(r,n),(e=new $r(r,r.l,e)).L=2,e.v=po(Ar(n)),n=!1,ae.navigator&&ae.navigator.sendBeacon)try{n=ae.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ae.Image&&((new Image).src=e.v,n=!0),n||(e.g=Io(e.l,null),e.g.ha(e.v)),e.G=Date.now(),fo(e)}Br(r)}function Qo(r){r.g&&(oa(r),r.g.cancel(),r.g=null)}function _a(r){Qo(r),r.u&&(ae.clearTimeout(r.u),r.u=null),Mo(r),r.i.cancel(),r.m&&("number"==typeof r.m&&ae.clearTimeout(r.m),r.m=null)}function qs(r){if(!kt(r.i)&&!r.m){r.m=!0;var e=r.Na;F||pe(),k||(F(),k=!0),B.add(e,r),r.C=0}}function tc(r,e){var n;n=e?e.m:r.W++;const s=Ar(r.I);Fi(s,"SID",r.K),Fi(s,"RID",n),Fi(s,"AID",r.V),va(r,s),r.o&&r.s&&de(s,r.o,r.s),n=new $r(r,r.l,n,r.C+1),null===r.o&&(n.I=r.s),e&&(r.j=e.F.concat(r.j)),e=il(r,n,1e3),n.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),kn(r.i,n),vs(n,s,e)}function va(r,e){r.na&&Xn(r.na,function(n,s){Fi(e,s,n)}),r.h&&So({},function(n,s){Fi(e,s,n)})}function il(r,e,n){n=Math.min(r.j.length,n);var s=r.h?pt(r.h.Va,r.h,r):null;e:{var l=r.j;let f=-1;for(;;){const g=["count="+n];-1==f?0<n?(f=l[0].g,g.push("ofs="+f)):f=0:g.push("ofs="+f);let S=!0;for(let L=0;L<n;L++){let K=l[L].g;const se=l[L].map;if(K-=f,0>K)f=Math.max(0,l[L].g-100),S=!1;else try{Sn(se,g,"req"+K+"_")}catch{s&&s(se)}}if(S){s=g.join("&");break e}}}return r=r.j.splice(0,n),e.F=r,s}function Ba(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;F||pe(),k||(F(),k=!0),B.add(e,r),r.A=0}}function Nc(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=si(pt(r.Ma,r),ts(r,r.A)),r.A++,0))}function oa(r){null!=r.B&&(ae.clearTimeout(r.B),r.B=null)}function nc(r){r.g=new $r(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Ar(r.wa);Fi(e,"RID","rpc"),Fi(e,"SID",r.K),Fi(e,"AID",r.V),Fi(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Fi(e,"TO",r.qa),Fi(e,"TYPE","xmlhttp"),va(r,e),r.o&&r.s&&de(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var n=r.g;r=r.pa,n.L=1,n.v=po(Ar(e)),n.s=null,n.S=!0,cs(n,r)}function Mo(r){null!=r.v&&(ae.clearTimeout(r.v),r.v=null)}function Eo(r,e){var n=null;if(r.g==e){Mo(r),oa(r),r.g=null;var s=2}else{if(!yn(r.i,e))return;n=e.F,di(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){n=e.s?e.s.length:0,e=Date.now()-e.G;var l=r.C;Mn(s=xi(),new zr(s,n)),qs(r)}else Ba(r);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==s&&function vu(r,e){return!(Xt(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=si(pt(r.Na,r,e),ts(r,r.C)),r.C++,0)))}(r,e)||2==s&&Nc(r)))switch(n&&0<n.length&&(e=r.i,e.i=e.i.concat(n)),l){case 1:sa(r,5);break;case 4:sa(r,10);break;case 3:sa(r,6);break;default:sa(r,2)}}function ts(r,e){let n=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(n*=2),n*e}function sa(r,e){if(r.l.info("Error code "+e),2==e){var n=null;r.h&&(n=null);var s=pt(r.pb,r);n||(n=new rr("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||tr(n,"https"),po(n)),function Fr(r,e){const n=new _e;if(ae.Image){const s=new Image;s.onload=Pt(Ho,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Pt(Ho,n,s,"TestLoadImage: error",!1,e),s.onabort=Pt(Ho,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Pt(Ho,n,s,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(n.toString(),s)}else er(2);r.H=0,r.h&&r.h.za(e),Br(r),_a(r)}function Br(r){if(r.H=0,r.ma=[],r.h){const e=cr(r.i);(0!=e.length||0!=r.j.length)&&(ct(r.ma,e),ct(r.ma,r.j),r.i.i.length=0,Xe(r.j),r.j.length=0),r.h.ya()}}function Ks(r,e,n){var s=n instanceof rr?Ar(n):new rr(n);if(""!=s.g)e&&(s.g=e+"."+s.g),us(s,s.m);else{var l=ae.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var f=new rr(null);s&&tr(f,s),e&&(f.g=e),l&&us(f,l),n&&(f.l=n),s=f}return e=r.Da,(n=r.F)&&e&&Fi(s,n,e),Fi(s,"VER",r.ra),va(r,s),s}function Io(r,e,n){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mi(n&&r.Ha&&!r.va?new bo({ob:!0}):r.va)).Oa(r.J),e}function rl(){}function ya(){if(bn&&!(10<=Number(Kn)))throw Error("Environmental error: no available transport.")}function wo(r,e){Gn.call(this),this.g=new Nn(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Ut(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ut(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Zs(this)}function aa(r){jo.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const n in e){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Al(){ls.call(this),this.status=1}function Zs(r){this.g=r}function zo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ba(r,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)s[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var f=r.g[3],g=(e=r.g[0])+(f^(n=r.g[1])&((l=r.g[2])^f))+s[0]+3614090360&4294967295;g=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=n+(g<<7&4294967295|g>>>25))+((g=f+(l^e&(n^l))+s[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=l+(n^f&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=n+(e^l&(f^e))+s[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(f^n&(l^f))+s[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=f+(l^e&(n^l))+s[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=l+(n^f&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=n+(e^l&(f^e))+s[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(f^n&(l^f))+s[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=f+(l^e&(n^l))+s[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=l+(n^f&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=n+(e^l&(f^e))+s[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(f^n&(l^f))+s[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=f+(l^e&(n^l))+s[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=l+(n^f&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=n+(e^l&(f^e))+s[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(l^f&(n^l))+s[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=f+(n^l&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^n&(f^e))+s[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=n+(f^e&(l^f))+s[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^f&(n^l))+s[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=f+(n^l&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^n&(f^e))+s[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=n+(f^e&(l^f))+s[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^f&(n^l))+s[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=f+(n^l&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^n&(f^e))+s[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=n+(f^e&(l^f))+s[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^f&(n^l))+s[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=f+(n^l&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^n&(f^e))+s[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=n+(f^e&(l^f))+s[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(n^l^f)+s[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=f+(e^n^l)+s[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=l+(f^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=n+(l^f^e)+s[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(n^l^f)+s[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=f+(e^n^l)+s[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=l+(f^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=n+(l^f^e)+s[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(n^l^f)+s[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=f+(e^n^l)+s[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=l+(f^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=n+(l^f^e)+s[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(n^l^f)+s[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=f+(e^n^l)+s[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=l+(f^e^n)+s[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=n+(l^f^e)+s[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(l^(n|~f))+s[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=f+(n^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(f|~n))+s[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=n+(f^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(l^(n|~f))+s[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=f+(n^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(f|~n))+s[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=n+(f^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(l^(n|~f))+s[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=f+(n^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(f|~n))+s[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=n+(f^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((f=(e=n+((g=e+(l^(n|~f))+s[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=f+(n^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((l=f+((g=l+(e^(f|~n))+s[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(l+(g<<21&4294967295|g>>>11))&4294967295,r.g[2]=r.g[2]+l&4294967295,r.g[3]=r.g[3]+f&4294967295}function Wi(r,e){this.h=e;for(var n=[],s=!0,l=r.length-1;0<=l;l--){var f=0|r[l];s&&f==e||(n[l]=f,s=!1)}this.g=n}(fe=mi.prototype).Oa=function(r){this.M=r},fe.ha=function(r,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():es.g(),this.C=function Vi(r){return r.h||(r.h=r.i())}(this.u?this.u:es),this.g.onreadystatechange=pt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(f){return void Ke(this,f)}if(r=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)n.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const f of s.keys())n.set(f,s.get(f))}s=Array.from(n.keys()).find(f=>"content-type"==f.toLowerCase()),l=ae.FormData&&r instanceof ae.FormData,!(0<=Me(Ge,e))||s||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[f,g]of n)this.g.setRequestHeader(f,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Zr(this),0<this.B&&((this.L=function Ve(r){return bn&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.ua,this)):this.A=Lt(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(f){Ke(this,f)}},fe.ua=function(){typeof Se<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mn(this,"timeout"),this.abort(8))},fe.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Mn(this,"complete"),Mn(this,"abort"),Zn(this))},fe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zn(this,!0)),mi.$.N.call(this)},fe.La=function(){this.s||(this.G||this.v||this.l?cn(this):this.kb())},fe.kb=function(){cn(this)},fe.isActive=function(){return!!this.g},fe.da=function(){try{return 2<Ro(this)?this.g.status:-1}catch{return-1}},fe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},fe.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Es(e)}},fe.Ia=function(){return this.m},fe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(fe=Nn.prototype).ra=8,fe.H=1,fe.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const l=new $r(this,this.l,r);let f=this.s;if(this.U&&(f?(f=Li(f),Pi(f,this.U)):f=this.U),null!==this.o||this.O||(l.I=f,f=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=il(this,l,e),Fi(n=Ar(this.I),"RID",r),Fi(n,"CVER",22),this.F&&Fi(n,"X-HTTP-Session-Id",this.F),va(this,n),f&&(this.O?e="headers="+encodeURIComponent(String(j(f)))+"&"+e:this.o&&de(n,this.o,f)),kn(this.i,l),this.bb&&Fi(n,"TYPE","init"),this.P?(Fi(n,"$req",e),Fi(n,"SID","null"),l.aa=!0,vs(l,n,null)):vs(l,n,e),this.H=2}}else 3==this.H&&(r?tc(this,r):0==this.j.length||kt(this.i)||tc(this))},fe.Ma=function(){if(this.u=null,nc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=si(pt(this.jb,this),r)}},fe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,er(10),Qo(this),nc(this))},fe.ib=function(){null!=this.v&&(this.v=null,Qo(this),Nc(this),er(19))},fe.pb=function(r){r?(this.l.info("Successfully pinged google.com"),er(2)):(this.l.info("Failed to ping google.com"),er(1))},fe.isActive=function(){return!!this.h&&this.h.isActive(this)},(fe=rl.prototype).Ba=function(){},fe.Aa=function(){},fe.za=function(){},fe.ya=function(){},fe.isActive=function(){return!0},fe.Va=function(){},ya.prototype.g=function(r,e){return new wo(r,e)},_t(wo,Gn),wo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,n=this.h||void 0;er(0),r.Y=e,r.na=n||{},r.G=r.aa,r.I=Ks(r,null,r.Y),qs(r)},wo.prototype.close=function(){Qn(this.g)},wo.prototype.u=function(r){var e=this.g;if("string"==typeof r){var n={};n.__data__=r,r=n}else this.v&&((n={}).__data__=$i(r),r=n);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&qs(e)},wo.prototype.N=function(){this.g.h=null,delete this.j,Qn(this.g),delete this.g,wo.$.N.call(this)},_t(aa,jo),_t(Al,ls),_t(Zs,rl),Zs.prototype.Ba=function(){Mn(this.g,"a")},Zs.prototype.Aa=function(r){Mn(this.g,new aa(r))},Zs.prototype.za=function(r){Mn(this.g,new Al)},Zs.prototype.ya=function(){Mn(this.g,"b")},_t(zo,function ic(){this.blockSize=-1}),zo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zo.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var n=e-this.blockSize,s=this.m,l=this.h,f=0;f<e;){if(0==l)for(;f<=n;)ba(this,r,f),f+=this.blockSize;if("string"==typeof r){for(;f<e;)if(s[l++]=r.charCodeAt(f++),l==this.blockSize){ba(this,s),l=0;break}}else for(;f<e;)if(s[l++]=r[f++],l==this.blockSize){ba(this,s),l=0;break}}this.h=l,this.i+=e},zo.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var n=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&n,n/=256;for(this.j(r),r=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)r[n++]=this.g[e]>>>s&255;return r};var rc={};function Ys(r){return-128<=r&&128>r?function bi(r,e){var n=rc;return Object.prototype.hasOwnProperty.call(n,r)?n[r]:n[r]=e(r)}(r,function(e){return new Wi([0|e],0>e?-1:0)}):new Wi([0|r],0>r?-1:0)}function Po(r){if(isNaN(r)||!isFinite(r))return Ri;if(0>r)return Oo(Po(-r));for(var e=[],n=1,s=0;r>=n;s++)e[s]=r/n|0,n*=Ea;return new Wi(e,0)}var Ea=4294967296,Ri=Ys(0),Xu=Ys(1),ol=Ys(16777216);function Ns(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Xo(r){return-1==r.h}function Oo(r){for(var e=r.g.length,n=[],s=0;s<e;s++)n[s]=~r.g[s];return new Wi(n,~r.h).add(Xu)}function Ia(r,e){return r.add(Oo(e))}function Ua(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function wa(r,e){this.g=r,this.h=e}function ja(r,e){if(Ns(e))throw Error("division by zero");if(Ns(r))return new wa(Ri,Ri);if(Xo(r))return e=ja(Oo(r),e),new wa(Oo(e.g),Oo(e.h));if(Xo(e))return e=ja(r,Oo(e)),new wa(Oo(e.g),e.h);if(30<r.g.length){if(Xo(r)||Xo(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Xu,s=e;0>=s.X(r);)n=Sl(n),s=Sl(s);var l=Is(n,1),f=Is(s,1);for(s=Is(s,2),n=Is(n,2);!Ns(s);){var g=f.add(s);0>=g.X(r)&&(l=l.add(n),f=g),s=Is(s,1),n=Is(n,1)}return e=Ia(r,l.R(e)),new wa(l,e)}for(l=Ri;0<=r.X(e);){for(n=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),g=(f=Po(n)).R(e);Xo(g)||0<g.X(r);)g=(f=Po(n-=s)).R(e);Ns(f)&&(f=Xu),l=l.add(f),r=Ia(r,g)}return new wa(l,r)}function Sl(r){for(var e=r.g.length+1,n=[],s=0;s<e;s++)n[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Wi(n,r.h)}function Is(r,e){var n=e>>5;e%=32;for(var s=r.g.length-n,l=[],f=0;f<s;f++)l[f]=0<e?r.D(f+n)>>>e|r.D(f+n+1)<<32-e:r.D(f+n);return new Wi(l,r.h)}(fe=Wi.prototype).ea=function(){if(Xo(this))return-Oo(this).ea();for(var r=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);r+=(0<=s?s:Ea+s)*e,e*=Ea}return r},fe.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Ns(this))return"0";if(Xo(this))return"-"+Oo(this).toString(r);for(var e=Po(Math.pow(r,6)),n=this,s="";;){var l=ja(n,e).g,f=((0<(n=Ia(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(r);if(Ns(n=l))return f+s;for(;6>f.length;)f="0"+f;s=f+s}},fe.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},fe.X=function(r){return Xo(r=Ia(this,r))?-1:Ns(r)?0:1},fe.abs=function(){return Xo(this)?Oo(this):this},fe.add=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0,l=0;l<=e;l++){var f=s+(65535&this.D(l))+(65535&r.D(l)),g=(f>>>16)+(this.D(l)>>>16)+(r.D(l)>>>16);s=g>>>16,n[l]=(g&=65535)<<16|(f&=65535)}return new Wi(n,-2147483648&n[n.length-1]?-1:0)},fe.R=function(r){if(Ns(this)||Ns(r))return Ri;if(Xo(this))return Xo(r)?Oo(this).R(Oo(r)):Oo(Oo(this).R(r));if(Xo(r))return Oo(this.R(Oo(r)));if(0>this.X(ol)&&0>r.X(ol))return Po(this.ea()*r.ea());for(var e=this.g.length+r.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<r.g.length;l++){var f=this.D(s)>>>16,g=65535&this.D(s),S=r.D(l)>>>16,L=65535&r.D(l);n[2*s+2*l]+=g*L,Ua(n,2*s+2*l),n[2*s+2*l+1]+=f*L,Ua(n,2*s+2*l+1),n[2*s+2*l+1]+=g*S,Ua(n,2*s+2*l+1),n[2*s+2*l+2]+=f*S,Ua(n,2*s+2*l+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new Wi(n,0)},fe.gb=function(r){return ja(this,r).h},fe.and=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&r.D(s);return new Wi(n,this.h&r.h)},fe.or=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|r.D(s);return new Wi(n,this.h|r.h)},fe.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^r.D(s);return new Wi(n,this.h^r.h)},ya.prototype.createWebChannel=ya.prototype.g,wo.prototype.send=wo.prototype.u,wo.prototype.open=wo.prototype.m,wo.prototype.close=wo.prototype.close,Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,pi.COMPLETE="complete",Uo.EventType=Kr,Kr.OPEN="a",Kr.CLOSE="b",Kr.ERROR="c",Kr.MESSAGE="d",Gn.prototype.listen=Gn.prototype.O,mi.prototype.listenOnce=mi.prototype.P,mi.prototype.getLastError=mi.prototype.Sa,mi.prototype.getLastErrorCode=mi.prototype.Ia,mi.prototype.getStatus=mi.prototype.da,mi.prototype.getResponseJson=mi.prototype.Wa,mi.prototype.getResponseText=mi.prototype.ja,mi.prototype.send=mi.prototype.ha,mi.prototype.setWithCredentials=mi.prototype.Oa,zo.prototype.digest=zo.prototype.l,zo.prototype.reset=zo.prototype.reset,zo.prototype.update=zo.prototype.j,Wi.prototype.add=Wi.prototype.add,Wi.prototype.multiply=Wi.prototype.R,Wi.prototype.modulo=Wi.prototype.gb,Wi.prototype.compare=Wi.prototype.X,Wi.prototype.toNumber=Wi.prototype.ea,Wi.prototype.toString=Wi.prototype.toString,Wi.prototype.getBits=Wi.prototype.D,Wi.fromNumber=Po,Wi.fromString=function la(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Oo(la(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Po(Math.pow(e,8)),s=Ri,l=0;l<r.length;l+=8){var f=Math.min(8,r.length-l),g=parseInt(r.substring(l,l+f),e);8>f?(f=Po(Math.pow(e,f)),s=s.R(f).add(Po(g))):s=(s=s.R(n)).add(Po(g))}return s};var ca=Te.createWebChannelTransport=function(){return new ya},D=Te.getStatEventTarget=function(){return xi()},re=Te.ErrorCode=Pr,z=Te.EventType=pi,X=Te.Event=Un,Re=Te.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ht=Te.FetchXmlHttpFactory=bo,It=Te.WebChannel=Uo,In=Te.XhrIo=mi,ur=Te.Md5=zo,qi=Te.Integer=Wi;const Ki="@firebase/firestore";class On{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");let gr="10.5.2";const Bi=new R.Yd("@firebase/firestore");function Er(){return Bi.logLevel}function ks(r){Bi.setLogLevel(r)}function Ct(r,...e){if(Bi.logLevel<=R.in.DEBUG){const n=e.map(Fs);Bi.debug(`Firestore (${gr}): ${r}`,...n)}}function dr(r,...e){if(Bi.logLevel<=R.in.ERROR){const n=e.map(Fs);Bi.error(`Firestore (${gr}): ${r}`,...n)}}function Ir(r,...e){if(Bi.logLevel<=R.in.WARN){const n=e.map(Fs);Bi.warn(`Firestore (${gr}): ${r}`,...n)}}function Fs(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function zt(r="Unexpected state"){const e=`FIRESTORE (${gr}) INTERNAL ASSERTION FAILED: `+r;throw dr(e),new Error(e)}function Cn(r,e){r||zt()}function yu(r,e){r||zt()}function Mt(r,e){return r}const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends me.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class oc{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(On.UNAUTHENTICATED))}shutdown(){}}class xa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class No{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let l=this.i;const f=K=>this.i!==l?(l=this.i,n(K)):Promise.resolve();let g=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new ai,e.enqueueRetryable(()=>f(this.currentUser))};const S=()=>{const K=g;e.enqueueRetryable((0,h.Z)(function*(){yield K.promise,yield f(s.currentUser)}))},L=K=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(K=>L(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?L(K):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new ai)}},0),S()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Cn("string"==typeof s.accessToken),new oc(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Cn(null===e||"string"==typeof e),new On(e)}}class ds{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=On.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ju{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new ds(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ao{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=f=>{null!=f.error&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const g=f.token!==this.R;return this.R=f.token,Ct("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?n(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const l=f=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>l(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?l(f):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Cn("string"==typeof n.token),this.R=n.token,new Fc(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sl(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class al{static newId(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=sl(40);for(let f=0;f<l.length;++f)s.length<20&&l[f]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[f]%62))}return s}}function ii(r,e){return r<e?-1:r>e?1:0}function Ha(r,e,n){return r.length===e.length&&r.every((s,l)=>n(s,e[l]))}function Vc(r){return r+"\0"}class pn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Rt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Rt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new pn(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ii(this.nanoseconds,e.nanoseconds):ii(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fn(e)}static min(){return new Fn(new pn(0,0))}static max(){return new Fn(new pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sc{constructor(e,n,s){void 0===n?n=0:n>e.length&&zt(),void 0===s?s=e.length-n:s>e.length-n&&zt(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===sc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sc?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const f=e.get(l),g=n.get(l);if(f<g)return-1;if(f>g)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Zi extends sc{construct(e,n,s){return new Zi(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Rt(gt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Zi(n)}static emptyPath(){return new Zi([])}}const ll=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lr extends sc{construct(e,n,s){return new Lr(e,n,s)}static isValidIdentifier(e){return ll.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Lr(["__name__"])}static fromServerFormat(e){const n=[];let s="",l=0;const f=()=>{if(0===s.length)throw new Rt(gt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let g=!1;for(;l<e.length;){const S=e[l];if("\\"===S){if(l+1===e.length)throw new Rt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[l+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new Rt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,l+=2}else"`"===S?(g=!g,l++):"."!==S||g?(s+=S,l++):(f(),l++)}if(f(),g)throw new Rt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lr(n)}static emptyPath(){return new Lr([])}}class nn{constructor(e){this.path=e}static fromPath(e){return new nn(Zi.fromString(e))}static fromName(e){return new nn(Zi.fromString(e).popFirst(5))}static empty(){return new nn(Zi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Zi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nn(new Zi(e.slice()))}}class ns{constructor(e,n,s,l){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=l}}function ac(r){return r.fields.find(e=>2===e.kind)}function _r(r){return r.fields.filter(e=>2!==e.kind)}ns.UNKNOWN_ID=-1;class hs{constructor(e,n){this.fieldPath=e,this.kind=n}}class Tt{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Tt(0,xo.min())}}function gi(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Fn.fromTimestamp(1e9===s?new pn(n+1,0):new pn(n,s));return new xo(l,nn.empty(),e)}function Rl(r){return new xo(r.readTime,r.key,-1)}class xo{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new xo(Fn.min(),nn.empty(),-1)}static max(){return new xo(Fn.max(),nn.empty(),-1)}}function mo(r,e){let n=r.readTime.compareTo(e.readTime);return 0!==n?n:(n=nn.comparator(r.documentKey,e.documentKey),0!==n?n:ii(r.largestBatchId,e.largestBatchId))}const Qs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ta{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Yr(r){return ua.apply(this,arguments)}function ua(){return ua=(0,h.Z)(function*(r){if(r.code!==gt.FAILED_PRECONDITION||r.message!==Qs)throw r;Ct("LocalStore","Unexpectedly lost primary lease")}),ua.apply(this,arguments)}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new nt((s,l)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,l)},this.catchCallback=f=>{this.wrapFailure(n,f).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):nt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):nt.reject(n)}static resolve(e){return new nt((n,s)=>{n(e)})}static reject(e){return new nt((n,s)=>{s(e)})}static waitFor(e){return new nt((n,s)=>{let l=0,f=0,g=!1;e.forEach(S=>{++l,S.next(()=>{++f,g&&f===l&&n()},L=>s(L))}),g=!0,f===l&&n()})}static or(e){let n=nt.resolve(!1);for(const s of e)n=n.next(l=>l?nt.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,f)=>{s.push(n.call(this,l,f))}),this.waitFor(s)}static mapArray(e,n){return new nt((s,l)=>{const f=e.length,g=new Array(f);let S=0;for(let L=0;L<f;L++){const K=L;n(e[K]).next(se=>{g[K]=se,++S,S===f&&s(g)},se=>l(se))}})}static doWhile(e,n){return new nt((s,l)=>{const f=()=>{!0===e()?n().next(()=>{f()},l):s()};f()})}}class is{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ai,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new To(e,n.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=N(s.target.error);this.V.reject(new To(e,l))}}static open(e,n,s,l){try{return new is(n,e.transaction(l,s))}catch(f){throw new To(n,f)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ct("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new T(n)}}class $o{constructor(e,n,s){this.name=e,this.version=n,this.p=s,12.2===$o.S((0,me.z$)())&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ct("SimpleDb","Removing database:",e),P(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,me.hl)())return!1;if($o.C())return!0;const e=(0,me.z$)(),n=$o.S(e),s=0<n&&n<10,l=$o.v(e),f=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||f)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var n=this;return(0,h.Z)(function*(){return n.db||(Ct("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,l)=>{const f=indexedDB.open(n.name,n.version);f.onsuccess=g=>{s(g.target.result)},f.onblocked=()=>{l(new To(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=g=>{const S=g.target.error;l("VersionError"===S.name?new Rt(gt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new Rt(gt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new To(e,S))},f.onupgradeneeded=g=>{Ct("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',g.oldVersion),n.p.N(g.target.result,f.transaction,g.oldVersion,n.version).next(()=>{Ct("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=s=>n.B(s)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,s,l){var f=this;return(0,h.Z)(function*(){const g="readonly"===n;let S=0;for(;;){++S;try{f.db=yield f.O(e);const L=is.open(f.db,e,g?"readonly":"readwrite",s),K=l(L).next(se=>(L.g(),se)).catch(se=>(L.abort(se),nt.reject(se))).toPromise();return K.catch(()=>{}),yield L.m,K}catch(L){const K=L,se="FirebaseError"!==K.name&&S<3;if(Ct("SimpleDb","Transaction failed with error:",K.message,"Retrying:",se),f.close(),!se)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class za{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return P(this.k.delete())}}class To extends Rt{constructor(e,n){super(gt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function go(r){return"IndexedDbTransactionError"===r.name}class T{constructor(e){this.store=e}put(e,n){let s;return void 0!==n?(Ct("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(Ct("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),P(s)}add(e){return Ct("SimpleDb","ADD",this.store.name,e,e),P(this.store.add(e))}get(e){return P(this.store.get(e)).next(n=>(void 0===n&&(n=null),Ct("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Ct("SimpleDb","DELETE",this.store.name,e),P(this.store.delete(e))}count(){return Ct("SimpleDb","COUNT",this.store.name),P(this.store.count())}W(e,n){const s=this.options(e,n);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),f=[];return this.G(l,(g,S)=>{f.push(S)}).next(()=>f)}{const l=this.store.getAll(s.range);return new nt((f,g)=>{l.onerror=S=>{g(S.target.error)},l.onsuccess=S=>{f(S.target.result)}})}}j(e,n){const s=this.store.getAll(e,null===n?void 0:n);return new nt((l,f)=>{s.onerror=g=>{f(g.target.error)},s.onsuccess=g=>{l(g.target.result)}})}H(e,n){Ct("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,n);s.J=!1;const l=this.cursor(s);return this.G(l,(f,g,S)=>S.delete())}Y(e,n){let s;n?s=e:(s={},n=e);const l=this.cursor(s);return this.G(l,n)}Z(e){const n=this.cursor({});return new nt((s,l)=>{n.onerror=f=>{const g=N(f.target.error);l(g)},n.onsuccess=f=>{const g=f.target.result;g?e(g.primaryKey,g.value).next(S=>{S?g.continue():s()}):s()}})}G(e,n){const s=[];return new nt((l,f)=>{e.onerror=g=>{f(g.target.error)},e.onsuccess=g=>{const S=g.target.result;if(!S)return void l();const L=new za(S),K=n(S.primaryKey,S.value,L);if(K instanceof nt){const se=K.catch(be=>(L.done(),nt.reject(be)));s.push(se)}L.isDone?l():null===L.$?S.continue():S.continue(L.$)}}).next(()=>nt.waitFor(s))}options(e,n){let s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function P(r){return new nt((e,n)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const l=N(s.target.error);n(l)}})}let I=!1;function N(r){const e=$o.S((0,me.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const s=new Rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return I||(I=!0,setTimeout(()=>{throw s},0)),s}}return r}class q{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;Ct("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,h.Z)(function*(){n.task=null;try{Ct("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(s){go(s)?Ct("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Yr(s)}yield n.ee(6e4)}))}}class ce{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,h.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>n.ne(s,e))})()}ne(e,n){const s=new Set;let l=n,f=!0;return nt.doWhile(()=>!0===f&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!s.has(g))return Ct("IndexBackiller",`Processing collection: ${g}`),this.re(e,g,l).next(S=>{l-=S,s.add(g)});f=!1})).next(()=>n-l)}re(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,s).next(f=>{const g=f.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ie(l,f)).next(S=>(Ct("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,n,S))).next(()=>g.size)}))}ie(e,n){let s=e;return n.changes.forEach((l,f)=>{const g=Rl(f);mo(g,s)>0&&(s=g)}),new xo(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}let De=(()=>{class r{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=l=>this.se(l),this.oe=l=>s.writeSequenceNumber(l))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return r._e=-1,r})();function dt(r){return null==r}function ot(r){return 0===r&&1/r==-1/0}function un(r){return"number"==typeof r&&Number.isInteger(r)&&!ot(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Vn(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=zi(e)),e=Wr(r.get(n),e);return zi(e)}function Wr(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const f=r.charAt(l);switch(f){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=f}}return n}function zi(r){return r+"\x01\x01"}function _o(r){const e=r.length;if(Cn(e>=2),2===e)return Cn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Zi.emptyPath();const n=e-2,s=[];let l="";for(let f=0;f<e;){const g=r.indexOf("\x01",f);switch((g<0||g>n)&&zt(),r.charAt(g+1)){case"\x01":const S=r.substring(f,g);let L;0===l.length?L=S:(l+=S,L=l,l=""),s.push(L);break;case"\x10":l+=r.substring(f,g),l+="\0";break;case"\x11":l+=r.substring(f,g+1);break;default:zt()}f=g+2}return new Zi(s)}const Ca=["userId","batchId"];function Da(r,e){return[r,Vn(e)]}function Aa(r,e,n){return[r,Vn(e),n]}const $a={},Uc=["prefixPath","collectionGroup","readTime","documentId"],Lh=["prefixPath","collectionGroup","documentId"],jc=["collectionGroup","readTime","prefixPath","documentId"],Go=["canonicalId","targetId"],cl=["targetId","path"],Qr=["path","targetId"],ed=["collectionId","parent"],td=["indexId","uid"],Eu=["uid","sequenceNumber"],Vh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Iu=["indexId","uid","orderedDocumentKey"],kd=["userId","collectionPath","documentId"],lc=["userId","collectionPath","largestBatchId"],da=["userId","collectionGroup","largestBatchId"],wu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Sa=[...wu,"documentOverlays"],Ga=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ml=Ga,Xs=[...Ml,"indexConfiguration","indexState","indexEntries"];class cc extends Ta{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function ko(r,e){const n=Mt(r);return $o.M(n.ae,e)}function Fd(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ls(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function ul(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Tr{constructor(e,n){this.comparator=e,this.root=n||lo.EMPTY}insert(e,n){return new Tr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lo.BLACK,null,null))}remove(e){return new Tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nd(this.root,e,this.comparator,!0)}}class nd{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=n?s(e.key,n):1,n&&l&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lo{constructor(e,n,s,l,f){this.key=e,this.value=n,this.color=s??lo.RED,this.left=l??lo.EMPTY,this.right=f??lo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,f){return new lo(e??this.key,n??this.value,s??this.color,l??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const f=s(e,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(e,n,s),null):0===f?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return lo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return lo.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zt();const e=this.left.check();if(e!==this.right.check())throw zt();return e+(this.isRed()?0:1)}}lo.EMPTY=null,lo.RED=!0,lo.BLACK=!1,lo.EMPTY=new class{constructor(){this.size=0}get key(){throw zt()}get value(){throw zt()}get color(){throw zt()}get left(){throw zt()}get right(){throw zt()}copy(e,n,s,l,f){return this}insert(e,n,s){return new lo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vr{constructor(e){this.comparator=e,this.data=new Tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hc(this.data.getIterator())}getIteratorFrom(e){return new Hc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof vr)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,f=s.getNext().key;if(0!==this.comparator(l,f))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vr(this.comparator);return n.data=e,n}}class Hc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function dl(r){return r.hasNext()?r.getNext():void 0}class ws{constructor(e){this.fields=e,e.sort(Lr.comparator)}static empty(){return new ws([])}unionWith(e){let n=new vr(Lr.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ws(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class id extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function xu(){return typeof atob<"u"}class qr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new id("Invalid base64 string: "+f):f}}(e);return new qr(n)}static fromUint8Array(e){const n=function(l){let f="";for(let g=0;g<l.length;++g)f+=String.fromCharCode(l[g]);return f}(e);return new qr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ii(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qr.EMPTY_BYTE_STRING=new qr("");const Tu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(r){if(Cn(!!r),"string"==typeof r){let e=0;const n=Tu.exec(r);if(Cn(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Xr(r.seconds),nanos:Xr(r.nanos)}}function Xr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function fs(r){return"string"==typeof r?qr.fromBase64String(r):qr.fromUint8Array(r)}function Pl(r){var e,n;return"server_timestamp"===(null===(n=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hl(r){const e=r.mapValue.fields.__previous_value__;return Pl(e)?hl(e):e}function zc(r){const e=Js(r.mapValue.fields.__local_write_time__.timestampValue);return new pn(e.seconds,e.nanos)}class Ld{constructor(e,n,s,l,f,g,S,L,K){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=f,this.forceLongPolling=g,this.autoDetectLongPolling=S,this.longPollingOptions=L,this.useFetchStreams=K}}class Wo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wo&&e.projectId===this.projectId&&e.database===this.database}}const Wa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ol={nullValue:"NULL_VALUE"};function Ra(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Pl(r)?4:Za(r)?9007199254740991:10:zt()}function Vs(r,e){if(r===e)return!0;const n=Ra(r);if(n!==Ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return zc(r).isEqual(zc(e));case 3:return function(l,f){if("string"==typeof l.timestampValue&&"string"==typeof f.timestampValue&&l.timestampValue.length===f.timestampValue.length)return l.timestampValue===f.timestampValue;const g=Js(l.timestampValue),S=Js(f.timestampValue);return g.seconds===S.seconds&&g.nanos===S.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return f=e,fs(r.bytesValue).isEqual(fs(f.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(l,f){return Xr(l.geoPointValue.latitude)===Xr(f.geoPointValue.latitude)&&Xr(l.geoPointValue.longitude)===Xr(f.geoPointValue.longitude)}(r,e);case 2:return function(l,f){if("integerValue"in l&&"integerValue"in f)return Xr(l.integerValue)===Xr(f.integerValue);if("doubleValue"in l&&"doubleValue"in f){const g=Xr(l.doubleValue),S=Xr(f.doubleValue);return g===S?ot(g)===ot(S):isNaN(g)&&isNaN(S)}return!1}(r,e);case 9:return Ha(r.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:return function(l,f){const g=l.mapValue.fields||{},S=f.mapValue.fields||{};if(Fd(g)!==Fd(S))return!1;for(const L in g)if(g.hasOwnProperty(L)&&(void 0===S[L]||!Vs(g[L],S[L])))return!1;return!0}(r,e);default:return zt()}var f}function qa(r,e){return void 0!==(r.values||[]).find(n=>Vs(n,e))}function Ma(r,e){if(r===e)return 0;const n=Ra(r),s=Ra(e);if(n!==s)return ii(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ii(r.booleanValue,e.booleanValue);case 2:return function(f,g){const S=Xr(f.integerValue||f.doubleValue),L=Xr(g.integerValue||g.doubleValue);return S<L?-1:S>L?1:S===L?0:isNaN(S)?isNaN(L)?0:-1:1}(r,e);case 3:return Cu(r.timestampValue,e.timestampValue);case 4:return Cu(zc(r),zc(e));case 5:return ii(r.stringValue,e.stringValue);case 6:return function(f,g){const S=fs(f),L=fs(g);return S.compareTo(L)}(r.bytesValue,e.bytesValue);case 7:return function(f,g){const S=f.split("/"),L=g.split("/");for(let K=0;K<S.length&&K<L.length;K++){const se=ii(S[K],L[K]);if(0!==se)return se}return ii(S.length,L.length)}(r.referenceValue,e.referenceValue);case 8:return function(f,g){const S=ii(Xr(f.latitude),Xr(g.latitude));return 0!==S?S:ii(Xr(f.longitude),Xr(g.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(f,g){const S=f.values||[],L=g.values||[];for(let K=0;K<S.length&&K<L.length;++K){const se=Ma(S[K],L[K]);if(se)return se}return ii(S.length,L.length)}(r.arrayValue,e.arrayValue);case 10:return function(f,g){if(f===Wa.mapValue&&g===Wa.mapValue)return 0;if(f===Wa.mapValue)return 1;if(g===Wa.mapValue)return-1;const S=f.fields||{},L=Object.keys(S),K=g.fields||{},se=Object.keys(K);L.sort(),se.sort();for(let be=0;be<L.length&&be<se.length;++be){const je=ii(L[be],se[be]);if(0!==je)return je;const ut=Ma(S[L[be]],K[se[be]]);if(0!==ut)return ut}return ii(L.length,se.length)}(r.mapValue,e.mapValue);default:throw zt()}}function Cu(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return ii(r,e);const n=Js(r),s=Js(e),l=ii(n.seconds,s.seconds);return 0!==l?l:ii(n.nanos,s.nanos)}function fl(r){return Du(r)}function Du(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Js(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?fs(r.bytesValue).toBase64():"referenceValue"in r?nn.fromName(r.referenceValue).toString():"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const f of n.values||[])l?l=!1:s+=",",s+=Du(f);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",f=!0;for(const g of s)f?f=!1:l+=",",l+=`${g}:${Du(n.fields[g])}`;return l+"}"}(r.mapValue):zt()}function pl(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function $c(r){return!!r&&"integerValue"in r}function Pa(r){return!!r&&"arrayValue"in r}function Oa(r){return!!r&&"nullValue"in r}function Au(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nl(r){return!!r&&"mapValue"in r}function rs(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ls(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=rs(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rs(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Za(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function uc(r){return"nullValue"in r?Ol:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?pl(Wo.empty(),nn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:zt()}function qo(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?pl(Wo.empty(),nn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Wa:zt()}function Vd(r,e){const n=Ma(r.value,e.value);return 0!==n?n:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Su(r,e){const n=Ma(r.value,e.value);return 0!==n?n:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class io{constructor(e){this.value=e}static empty(){return new io({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Nl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rs(n)}setAll(e){let n=Lr.emptyPath(),s={},l=[];e.forEach((g,S)=>{if(!n.isImmediateParentOf(S)){const L=this.getFieldsMap(n);this.applyChanges(L,s,l),s={},l=[],n=S.popLast()}g?s[S.lastSegment()]=rs(g):l.push(S.lastSegment())});const f=this.getFieldsMap(n);this.applyChanges(f,s,l)}delete(e){const n=this.field(e.popLast());Nl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Nl(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){Ls(n,(l,f)=>e[l]=f);for(const l of s)delete e[l]}clone(){return new io(rs(this.value))}}function Bd(r){const e=[];return Ls(r.fields,(n,s)=>{const l=new Lr([n]);if(Nl(s)){const f=Bd(s.mapValue).fields;if(0===f.length)e.push(l);else for(const g of f)e.push(l.child(g))}else e.push(l)}),new ws(e)}class Ur{constructor(e,n,s,l,f,g,S){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=f,this.data=g,this.documentState=S}static newInvalidDocument(e){return new Ur(e,0,Fn.min(),Fn.min(),Fn.min(),io.empty(),0)}static newFoundDocument(e,n,s,l){return new Ur(e,1,n,Fn.min(),s,l,0)}static newNoDocument(e,n){return new Ur(e,2,n,Fn.min(),Fn.min(),io.empty(),0)}static newUnknownDocument(e,n){return new Ur(e,3,n,Fn.min(),Fn.min(),io.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bs{constructor(e,n){this.position=e,this.inclusive=n}}function Ya(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const f=e[l],g=r.position[l];if(s=f.field.isKeyField()?nn.comparator(nn.fromName(g.referenceValue),n.key):Ma(g,n.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function ml(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Vs(r.position[n],e.position[n]))return!1;return!0}class ha{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ru(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class ps{}class ri extends ps{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new jh(e,n,s):"array-contains"===n?new Wc(e,s):"in"===n?new od(e,s):"not-in"===n?new Us(e,s):"array-contains-any"===n?new Qa(e,s):new ri(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new Hd(e,s):new Fo(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ma(n,this.value)):null!==n&&Ra(this.value)===Ra(n)&&this.matchesComparison(Ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends ps{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Rr(e,n)}matches(e){return dc(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function dc(r){return"and"===r.op}function rd(r){return"or"===r.op}function Ud(r){return jd(r)&&dc(r)}function jd(r){for(const e of r.filters)if(e instanceof Rr)return!1;return!0}function Gc(r){if(r instanceof ri)return r.field.canonicalString()+r.op.toString()+fl(r.value);if(Ud(r))return r.filters.map(e=>Gc(e)).join(",");{const e=r.filters.map(n=>Gc(n)).join(",");return`${r.op}(${e})`}}function Bh(r,e){return r instanceof ri?(s=r,(l=e)instanceof ri&&s.op===l.op&&s.field.isEqual(l.field)&&Vs(s.value,l.value)):r instanceof Rr?function(s,l){return l instanceof Rr&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((f,g,S)=>f&&Bh(g,l.filters[S]),!0)}(r,e):void zt();var s,l}function Uh(r,e){const n=r.filters.concat(e);return Rr.create(n,r.op)}function fa(r){return r instanceof ri?`${(n=r).field.canonicalString()} ${n.op} ${fl(n.value)}`:r instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(fa).join(" ,")+"}"}(r):"Filter";var n}class jh extends ri{constructor(e,n,s){super(e,n,s),this.key=nn.fromName(s.referenceValue)}matches(e){const n=nn.comparator(e.key,this.key);return this.matchesComparison(n)}}class Hd extends ri{constructor(e,n){super(e,"in",n),this.keys=zd(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Fo extends ri{constructor(e,n){super(e,"not-in",n),this.keys=zd(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zd(r,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>nn.fromName(s.referenceValue))}class Wc extends ri{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pa(n)&&qa(n.arrayValue,this.value)}}class od extends ri{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&qa(this.value.arrayValue,n)}}class Us extends ri{constructor(e,n){super(e,"not-in",n)}matches(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!qa(this.value.arrayValue,n)}}class Qa extends ri{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pa(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>qa(this.value.arrayValue,s))}}class sd{constructor(e,n=null,s=[],l=[],f=null,g=null,S=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=f,this.startAt=g,this.endAt=S,this.ce=null}}function hc(r,e=null,n=[],s=[],l=null,f=null,g=null){return new sd(r,e,n,s,l,f,g)}function ea(r){const e=Mt(r);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Gc(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),dt(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>fl(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>fl(s)).join(",")),e.ce=n}return e.ce}function kl(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Ru(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Bh(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ml(r.startAt,e.startAt)&&ml(r.endAt,e.endAt)}function qc(r){return nn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function Mu(r,e){return r.filters.filter(n=>n instanceof ri&&n.field.isEqual(e))}function ad(r,e,n){let s=Ol,l=!0;for(const f of Mu(r,e)){let g=Ol,S=!0;switch(f.op){case"<":case"<=":g=uc(f.value);break;case"==":case"in":case">=":g=f.value;break;case">":g=f.value,S=!1;break;case"!=":case"not-in":g=Ol}Vd({value:s,inclusive:l},{value:g,inclusive:S})<0&&(s=g,l=S)}if(null!==n)for(let f=0;f<r.orderBy.length;++f)if(r.orderBy[f].field.isEqual(e)){const g=n.position[f];Vd({value:s,inclusive:l},{value:g,inclusive:n.inclusive})<0&&(s=g,l=n.inclusive);break}return{value:s,inclusive:l}}function xs(r,e,n){let s=Wa,l=!0;for(const f of Mu(r,e)){let g=Wa,S=!0;switch(f.op){case">=":case">":g=qo(f.value),S=!1;break;case"==":case"in":case"<=":g=f.value;break;case"<":g=f.value,S=!1;break;case"!=":case"not-in":g=Wa}Su({value:s,inclusive:l},{value:g,inclusive:S})>0&&(s=g,l=S)}if(null!==n)for(let f=0;f<r.orderBy.length;++f)if(r.orderBy[f].field.isEqual(e)){const g=n.position[f];Su({value:s,inclusive:l},{value:g,inclusive:n.inclusive})>0&&(s=g,l=n.inclusive);break}return{value:s,inclusive:l}}class ta{constructor(e,n=null,s=[],l=[],f=null,g="F",S=null,L=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=f,this.limitType=g,this.startAt=S,this.endAt=L,this.le=null,this.he=null,this.Pe=null}}function gl(r,e,n,s,l,f,g,S){return new ta(r,e,n,s,l,f,g,S)}function Xa(r){return new ta(r)}function Pu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function $d(r){return null!==r.collectionGroup}function Fl(r){const e=Mt(r);if(null===e.le){e.le=[];const n=new Set;for(const f of e.explicitOrderBy)e.le.push(f),n.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let S=new vr(Lr.comparator);return g.filters.forEach(L=>{L.getFlattenedFilters().forEach(K=>{K.isInequality()&&(S=S.add(K.field))})}),S})(e).forEach(f=>{n.has(f.canonicalString())||f.isKeyField()||e.le.push(new ha(f,s))}),n.has(Lr.keyField().canonicalString())||e.le.push(new ha(Lr.keyField(),s))}return e.le}function ms(r){const e=Mt(r);return e.he||(e.he=function Ou(r,e){if("F"===r.limitType)return hc(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(l=>new ha(l.field,"desc"===l.dir?"asc":"desc"));const n=r.endAt?new Bs(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Bs(r.startAt.position,r.startAt.inclusive):null;return hc(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}(e,Fl(r))),e.he}function Nu(r,e){const n=r.filters.concat([e]);return new ta(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Kc(r,e,n){return new ta(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ll(r,e){return kl(ms(r),ms(e))&&r.limitType===e.limitType}function ku(r){return`${ea(ms(r))}|lt:${r.limitType}`}function Zc(r){return`Query(target=${function(n){let s=n.path.canonicalString();return null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>fa(l)).join(", ")}]`),dt(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>{return`${(g=l).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>fl(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>fl(l)).join(",")),`Target(${s})`}(ms(r))}; limitType=${r.limitType})`}function _l(r,e){return e.isFoundDocument()&&function(s,l){const f=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):nn.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(r,e)&&function(s,l){for(const f of Fl(s))if(!f.field.isKeyField()&&null===l.data.field(f.field))return!1;return!0}(r,e)&&function(s,l){for(const f of s.filters)if(!f.matches(l))return!1;return!0}(r,e)&&(l=e,!((s=r).startAt&&!function(g,S,L){const K=Ya(g,S,L);return g.inclusive?K<=0:K<0}(s.startAt,Fl(s),l)||s.endAt&&!function(g,S,L){const K=Ya(g,S,L);return g.inclusive?K>=0:K>0}(s.endAt,Fl(s),l)));var s,l}function Vl(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Yc(r){return(e,n)=>{let s=!1;for(const l of Fl(r)){const f=Yf(l,e,n);if(0!==f)return f;s=s||l.field.isKeyField()}return 0}}function Yf(r,e,n){const s=r.field.isKeyField()?nn.comparator(e.key,n.key):function(f,g,S){const L=g.data.field(f),K=S.data.field(f);return null!==L&&null!==K?Ma(L,K):zt()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return zt()}}class Ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[l,f]of s)if(this.equalsFn(l,e))return f}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,n]],void this.innerSize++;for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],e))return void(l[f]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(n,s)=>{for(const[l,f]of s)e(l,f)})}isEmpty(){return ul(this.inner)}size(){return this.innerSize}}const E=new Tr(nn.comparator);function m(){return E}const y=new Tr(nn.comparator);function C(...r){let e=y;for(const n of r)e=e.insert(n.key,n);return e}function Q(r){let e=y;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ue(){return mt()}function He(){return mt()}function mt(){return new Ja(r=>r.toString(),(r,e)=>r.isEqual(e))}const Vt=new Tr(nn.comparator),Rn=new vr(nn.comparator);function Gt(...r){let e=Rn;for(const n of r)e=e.add(n);return e}const sr=new vr(ii);function os(){return sr}function vl(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ot(e)?"-0":e}}function Fu(r){return{integerValue:""+r}}function Qc(r,e){return un(e)?Fu(e):vl(r,e)}class fc{constructor(){this._=void 0}}function Hh(r,e,n){return r instanceof Bl?function(l,f){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return f&&Pl(f)&&(f=hl(f)),f&&(g.fields.__previous_value__=f),{mapValue:g}}(n,e):r instanceof pc?cd(r,e):r instanceof Ul?ud(r,e):function(l,f){const g=Gd(l,f),S=Qf(g)+Qf(l.Ie);return $c(g)&&$c(l.Ie)?Fu(S):vl(l.serializer,S)}(r,e)}function ld(r,e,n){return r instanceof pc?cd(r,e):r instanceof Ul?ud(r,e):n}function Gd(r,e){return r instanceof mc?$c(s=e)||(f=s)&&"doubleValue"in f?e:{integerValue:0}:null;var s,f}class Bl extends fc{}class pc extends fc{constructor(e){super(),this.elements=e}}function cd(r,e){const n=zh(e);for(const s of r.elements)n.some(l=>Vs(l,s))||n.push(s);return{arrayValue:{values:n}}}class Ul extends fc{constructor(e){super(),this.elements=e}}function ud(r,e){let n=zh(e);for(const s of r.elements)n=n.filter(l=>!Vs(l,s));return{arrayValue:{values:n}}}class mc extends fc{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Qf(r){return Xr(r.integerValue||r.doubleValue)}function zh(r){return Pa(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class $h{constructor(e,n){this.field=e,this.transform=n}}class Bv{constructor(e,n){this.version=e,this.transformResults=n}}class Co{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Co}static exists(e){return new Co(void 0,e)}static updateTime(e){return new Co(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xf(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Gh{}function Wd(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new gc(r.key,Co.none()):new yl(r.key,r.data,Co.none());{const n=r.data,s=io.empty();let l=new vr(Lr.comparator);for(let f of e.fields)if(!l.has(f)){let g=n.field(f);null===g&&f.length>1&&(f=f.popLast(),g=n.field(f)),null===g?s.delete(f):s.set(f,g),l=l.add(f)}return new jl(r.key,s,new ws(l.toArray()),Co.none())}}function Wh(r,e,n){r instanceof yl?function(l,f,g){const S=l.value.clone(),L=qd(l.fieldTransforms,f,g.transformResults);S.setAll(L),f.convertToFoundDocument(g.version,S).setHasCommittedMutations()}(r,e,n):r instanceof jl?function(l,f,g){if(!Xf(l.precondition,f))return void f.convertToUnknownDocument(g.version);const S=qd(l.fieldTransforms,f,g.transformResults),L=f.data;L.setAll(ep(l)),L.setAll(S),f.convertToFoundDocument(g.version,L).setHasCommittedMutations()}(r,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function dd(r,e,n,s){return r instanceof yl?function(f,g,S,L){if(!Xf(f.precondition,g))return S;const K=f.value.clone(),se=Kd(f.fieldTransforms,L,g);return K.setAll(se),g.convertToFoundDocument(g.version,K).setHasLocalMutations(),null}(r,e,n,s):r instanceof jl?function(f,g,S,L){if(!Xf(f.precondition,g))return S;const K=Kd(f.fieldTransforms,L,g),se=g.data;return se.setAll(ep(f)),se.setAll(K),g.convertToFoundDocument(g.version,se).setHasLocalMutations(),null===S?null:S.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(be=>be.field))}(r,e,n,s):(S=n,Xf(r.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):S);var g,S}function Cm(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),f=Gd(s.transform,l||null);null!=f&&(null===n&&(n=io.empty()),n.set(s.field,f))}return n||null}function Jf(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=r.fieldTransforms)&&void 0===l||s&&l&&Ha(s,l,(f,g)=>function Vv(r,e){return r.field.isEqual(e.field)&&(l=e.transform,(s=r.transform)instanceof pc&&l instanceof pc||s instanceof Ul&&l instanceof Ul?Ha(s.elements,l.elements,Vs):s instanceof mc&&l instanceof mc?Vs(s.Ie,l.Ie):s instanceof Bl&&l instanceof Bl);var s,l}(f,g))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var s,l}class yl extends Gh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class jl extends Gh{constructor(e,n,s,l,f=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function ep(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function qd(r,e,n){const s=new Map;Cn(r.length===n.length);for(let l=0;l<n.length;l++){const f=r[l],g=f.transform,S=e.data.field(f.field);s.set(f.field,ld(g,S,n[l]))}return s}function Kd(r,e,n){const s=new Map;for(const l of r){const f=l.transform,g=n.data.field(l.field);s.set(l.field,Hh(f,g,e))}return s}class gc extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tp extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class np{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const f=this.mutations[l];f.key.isEqual(e.key)&&Wh(f,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=dd(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=dd(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=He();return this.mutations.forEach(l=>{const f=e.get(l.key),g=f.overlayedDocument;let S=this.applyToLocalView(g,f.mutatedFields);S=n.has(l.key)?null:S;const L=Wd(g,S);null!==L&&s.set(l.key,L),g.isValidDocument()||g.convertToNoDocument(Fn.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Gt())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(n,s)=>Jf(n,s))&&Ha(this.baseMutations,e.baseMutations,(n,s)=>Jf(n,s))}}class ip{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Cn(e.mutations.length===s.length);let l=Vt;const f=e.mutations;for(let g=0;g<f.length;g++)l=l.insert(f[g].key,s[g].version);return new ip(e,n,s,l)}}class qh{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class r_{constructor(e,n){this.count=e,this.unchangedNames=n}}var Jo,nr;function Kh(r){switch(r){default:return zt();case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0}}function op(r){if(void 0===r)return dr("GRPC error has no .code"),gt.UNKNOWN;switch(r){case Jo.OK:return gt.OK;case Jo.CANCELLED:return gt.CANCELLED;case Jo.UNKNOWN:return gt.UNKNOWN;case Jo.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case Jo.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case Jo.INTERNAL:return gt.INTERNAL;case Jo.UNAVAILABLE:return gt.UNAVAILABLE;case Jo.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case Jo.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case Jo.NOT_FOUND:return gt.NOT_FOUND;case Jo.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case Jo.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case Jo.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case Jo.ABORTED:return gt.ABORTED;case Jo.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case Jo.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case Jo.DATA_LOSS:return gt.DATA_LOSS;default:return zt()}}(nr=Jo||(Jo={}))[nr.OK=0]="OK",nr[nr.CANCELLED=1]="CANCELLED",nr[nr.UNKNOWN=2]="UNKNOWN",nr[nr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nr[nr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nr[nr.NOT_FOUND=5]="NOT_FOUND",nr[nr.ALREADY_EXISTS=6]="ALREADY_EXISTS",nr[nr.PERMISSION_DENIED=7]="PERMISSION_DENIED",nr[nr.UNAUTHENTICATED=16]="UNAUTHENTICATED",nr[nr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nr[nr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nr[nr.ABORTED=10]="ABORTED",nr[nr.OUT_OF_RANGE=11]="OUT_OF_RANGE",nr[nr.UNIMPLEMENTED=12]="UNIMPLEMENTED",nr[nr.INTERNAL=13]="INTERNAL",nr[nr.UNAVAILABLE=14]="UNAVAILABLE",nr[nr.DATA_LOSS=15]="DATA_LOSS";function js(){return new TextEncoder}const Zh=new qi([4294967295,4294967295],0);function Yh(r){const e=js().encode(r),n=new ur;return n.update(e),new Uint8Array(n.digest())}function Zd(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new qi([n,s],0),new qi([l,f],0)]}class ss{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new el(`Invalid padding: ${n}`);if(s<0)throw new el(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new el(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new el(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=qi.fromNumber(this.Te)}de(e,n,s){let l=e.add(n.multiply(qi.fromNumber(s)));return 1===l.compare(Zh)&&(l=new qi([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Yh(e),[s,l]=Zd(n);for(let f=0;f<this.hashCount;f++){const g=this.de(s,l,f);if(!this.Ae(g))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),g=new ss(f,l,n);return s.forEach(S=>g.insert(S)),g}insert(e){if(0===this.Te)return;const n=Yh(e),[s,l]=Zd(n);for(let f=0;f<this.hashCount;f++){const g=this.de(s,l,f);this.Re(g)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class el extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _c{constructor(e,n,s,l,f){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,na.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new _c(Fn.min(),l,new Tr(ii),m(),Gt())}}class na{constructor(e,n,s,l,f){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new na(s,n,Gt(),Gt(),Gt())}}class Qh{constructor(e,n,s,l){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=l}}class Xh{constructor(e,n){this.targetId=e,this.fe=n}}class sp{constructor(e,n,s=qr.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Jh{constructor(){this.ge=0,this.pe=hd(),this.ye=qr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Gt(),n=Gt(),s=Gt();return this.pe.forEach((l,f)=>{switch(f){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:zt()}}),new na(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=hd()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Dm{constructor(e){this.Le=e,this.ke=new Map,this.qe=m(),this.Qe=Yd(),this.Ke=new Tr(ii)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:zt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,l)=>{this.je(l)&&n(l)})}Je(e){const n=e.targetId,s=e.fe.count,l=this.Ye(n);if(l){const f=l.target;if(qc(f))if(0===s){const g=new nn(f.path);this.We(n,g,Ur.newNoDocument(g,Fn.min()))}else Cn(1===s);else{const g=this.Ze(n);if(g!==s){const S=this.Xe(e),L=S?this.et(S,e,g):1;0!==L&&(this.He(n),this.Ke=this.Ke.insert(n,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:f=0}=n;let g,S;try{g=fs(s).toUint8Array()}catch(L){if(L instanceof id)return Ir("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{S=new ss(g,l,f)}catch(L){return Ir(L instanceof el?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===S.Te?null:S}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let l=0;return s.forEach(f=>{const g=this.Le.nt(),S=`projects/${g.projectId}/databases/${g.database}/documents/${f.path.canonicalString()}`;e.mightContain(S)||(this.We(n,f,null),l++)}),l}it(e){const n=new Map;this.ke.forEach((f,g)=>{const S=this.Ye(g);if(S){if(f.current&&qc(S.target)){const L=new nn(S.target.path);null!==this.qe.get(L)||this.st(g,L)||this.We(g,L,Ur.newNoDocument(L,e))}f.De&&(n.set(g,f.ve()),f.Fe())}});let s=Gt();this.Qe.forEach((f,g)=>{let S=!0;g.forEachWhile(L=>{const K=this.Ye(L);return!K||"TargetPurposeLimboResolution"===K.purpose||(S=!1,!1)}),S&&(s=s.add(f))}),this.qe.forEach((f,g)=>g.setReadTime(e));const l=new _c(e,n,this.Ke,this.qe,s);return this.qe=m(),this.Qe=Yd(),this.Ke=new Tr(ii),l}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const l=this.ze(e);this.st(e,n)?l.Me(n,1):l.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Jh,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new vr(ii),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Ct("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Jh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Yd(){return new Tr(nn.comparator)}function hd(){return new Tr(nn.comparator)}const vc={asc:"ASCENDING",desc:"DESCENDING"},ap={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ef={and:"AND",or:"OR"};class Am{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yc(r,e){return r.useProto3Json||dt(e)?e:{value:e}}function Xc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tf(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function lp(r,e){return Xc(r,e.toTimestamp())}function Jr(r){return Cn(!!r),Fn.fromTimestamp(function(n){const s=Js(n);return new pn(s.seconds,s.nanos)}(r))}function Vu(r,e){return(s=r,new Zi(["projects",s.projectId,"databases",s.database])).child("documents").child(e).canonicalString();var s}function Jc(r){const e=Zi.fromString(r);return Cn(fp(e)),e}function Hl(r,e){return Vu(r.databaseId,e.path)}function Hs(r,e){const n=Jc(e);if(n.get(1)!==r.databaseId.projectId)throw new Rt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Rt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new nn(Sm(n))}function Qd(r,e){return Vu(r.databaseId,e)}function eu(r){const e=Jc(r);return 4===e.length?Zi.emptyPath():Sm(e)}function tu(r){return new Zi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Sm(r){return Cn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function cp(r,e,n){return{name:Hl(r,e),fields:n.value.mapValue.fields}}function Rm(r,e,n){const s=Hs(r,e.name),l=Jr(e.updateTime),f=e.createTime?Jr(e.createTime):Fn.min(),g=new io({mapValue:{fields:e.fields}}),S=Ur.newFoundDocument(s,l,f,g);return n&&S.setHasCommittedMutations(),n?S.setHasCommittedMutations():S}function nu(r,e){let n;if(e instanceof yl)n={update:cp(r,e.key,e.value)};else if(e instanceof gc)n={delete:Hl(r,e.key)};else if(e instanceof jl)n={update:cp(r,e.key,e.data),updateMask:s_(e.fieldMask)};else{if(!(e instanceof tp))return zt();n={verify:Hl(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(f,g){const S=g.transform;if(S instanceof Bl)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof pc)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof Ul)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof mc)return{fieldPath:g.field.canonicalString(),increment:S.Ie};throw zt()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:lp(r,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:zt()),n;var f}function fd(r,e){const n=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?Co.updateTime(Jr(f.updateTime)):void 0!==f.exists?Co.exists(f.exists):Co.none():Co.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(g,S){let L=null;"setToServerValue"in S?(Cn("REQUEST_TIME"===S.setToServerValue),L=new Bl):"appendMissingElements"in S?L=new pc(S.appendMissingElements.values||[]):"removeAllFromArray"in S?L=new Ul(S.removeAllFromArray.values||[]):"increment"in S?L=new mc(g,S.increment):zt();const K=Lr.fromServerFormat(S.fieldPath);return new $h(K,L)}(r,l)):[];var f;if(e.update){const l=Hs(r,e.update.name),f=new io({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new ws((e.updateMask.fieldPaths||[]).map(se=>Lr.fromServerFormat(se)));return new jl(l,f,g,n,s)}return new yl(l,f,n,s)}if(e.delete){const l=Hs(r,e.delete);return new gc(l,n)}if(e.verify){const l=Hs(r,e.verify);return new tp(l,n)}return zt()}function Xd(r,e){return{documents:[Qd(r,e.path)]}}function dp(r,e){const n={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(n.parent=Qd(r,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Qd(r,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(L){if(0!==L.length)return eh(Rr.create(L,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const f=function(L){if(0!==L.length)return L.map(K=>{return{field:ru((be=K).field),direction:iu(be.dir)};var be})}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=yc(r,e.limit);return null!==g&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt={before:(L=e.startAt).inclusive,values:L.position}),e.endAt&&(n.structuredQuery.endAt=function(L){return{before:!L.inclusive,values:L.position}}(e.endAt)),n;var L}function hp(r){let e=eu(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Cn(1===s);const se=n.from[0];se.allDescendants?l=se.collectionId:e=e.child(se.collectionId)}let f=[];n.where&&(f=function(be){const je=rf(be);return je instanceof Rr&&Ud(je)?je.getFilters():[je]}(n.where));let g=[];n.orderBy&&(g=n.orderBy.map(je=>{return new ha(Jd((Zt=je).field),function(sn){switch(sn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Zt.direction));var Zt}));let S=null;n.limit&&(S=function(be){let je;return je="object"==typeof be?be.value:be,dt(je)?null:je}(n.limit));let L=null;var be;n.startAt&&(L=new Bs((be=n.startAt).values||[],!!be.before));let K=null;return n.endAt&&(K=function(be){return new Bs(be.values||[],!be.before)}(n.endAt)),gl(e,l,g,f,S,"F",L,K)}function rf(r){return void 0!==r.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Jd(n.unaryFilter.field);return ri.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Jd(n.unaryFilter.field);return ri.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Jd(n.unaryFilter.field);return ri.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Jd(n.unaryFilter.field);return ri.create(g,"!=",{nullValue:"NULL_VALUE"});default:return zt()}}(r):void 0!==r.fieldFilter?ri.create(Jd((n=r).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==r.compositeFilter?function(n){return Rr.create(n.compositeFilter.filters.map(s=>rf(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return zt()}}(n.compositeFilter.op))}(r):zt();var n}function iu(r){return vc[r]}function sf(r){return ap[r]}function Mm(r){return ef[r]}function ru(r){return{fieldPath:r.canonicalString()}}function Jd(r){return Lr.fromServerFormat(r.fieldPath)}function eh(r){return r instanceof ri?function(n){if("=="===n.op){if(Au(n.value))return{unaryFilter:{field:ru(n.field),op:"IS_NAN"}};if(Oa(n.value))return{unaryFilter:{field:ru(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Au(n.value))return{unaryFilter:{field:ru(n.field),op:"IS_NOT_NAN"}};if(Oa(n.value))return{unaryFilter:{field:ru(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ru(n.field),op:sf(n.op),value:n.value}}}(r):r instanceof Rr?function(n){const s=n.getFilters().map(l=>eh(l));return 1===s.length?s[0]:{compositeFilter:{op:Mm(n.op),filters:s}}}(r):zt()}function s_(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fp(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class bl{constructor(e,n,s,l,f=Fn.min(),g=Fn.min(),S=qr.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=S,this.expectedCount=L}withSequenceNumber(e){return new bl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class af{constructor(e){this.ut=e}}function lf(r,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Uu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Hl(f=r.ut,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:Xc(f,g.version.toTimestamp()),createTime:Xc(f,g.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:El(e.version)};else{if(!e.isUnknownDocument())return zt();s.unknownDocument={path:n.path.toArray(),version:El(e.version)}}var f,g;return s}function Uu(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function El(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ou(r){const e=new pn(r.seconds,r.nanoseconds);return Fn.fromTimestamp(e)}function Il(r,e){const n=(e.baseMutations||[]).map(f=>fd(r.ut,f));for(let f=0;f<e.mutations.length-1;++f)f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(e.mutations[f].updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f);const s=e.mutations.map(f=>fd(r.ut,f)),l=pn.fromMillis(e.localWriteTimeMs);return new np(e.batchId,l,n,s)}function wl(r){const e=ou(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?ou(r.lastLimboFreeSnapshotVersion):Fn.min();let s;return s=void 0!==r.query.documents?(Cn(1===(f=r.query).documents.length),ms(Xa(eu(f.documents[0])))):function(f){return ms(hp(f))}(r.query),new bl(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,n,qr.fromBase64String(r.resumeToken));var f}function cf(r,e){const n=El(e.snapshotVersion),s=El(e.lastLimboFreeSnapshotVersion);let l;l=qc(e.target)?Xd(r.ut,e.target):dp(r.ut,e.target);const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ea(e.target),readTime:n,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function pd(r){const e=hp({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Kc(e,e.limit,"L"):e}function su(r,e){return new qh(e.largestBatchId,fd(r.ut,e.overlayMutation))}function uf(r,e){const n=e.path.lastSegment();return[r,Vn(e.path.popLast()),n]}function nh(r,e,n,s){return{indexId:r,uid:e.uid||"",sequenceNumber:n,readTime:El(s.readTime),documentKey:Vn(s.documentKey.path),largestBatchId:s.largestBatchId}}class Pm{getBundleMetadata(e,n){return pp(e).get(n).next(s=>{if(s)return{id:(f=s).bundleId,createTime:ou(f.createTime),version:f.version};var f})}saveBundleMetadata(e,n){return pp(e).put({bundleId:(l=n).id,createTime:El(Jr(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return Om(e).get(n).next(s=>{if(s)return{name:(f=s).name,query:pd(f.bundledQuery),readTime:ou(f.readTime)};var f})}saveNamedQuery(e,n){return Om(e).put({name:(l=n).name,readTime:El(Jr(l.readTime)),bundledQuery:l.bundledQuery});var l}}function pp(r){return ko(r,"bundles")}function Om(r){return ko(r,"namedQueries")}class Na{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new Na(e,n.uid||"")}getOverlay(e,n){return ka(e).get(uf(this.userId,n)).next(s=>s?su(this.serializer,s):null)}getOverlays(e,n){const s=ue();return nt.forEach(n,l=>this.getOverlay(e,l).next(f=>{null!==f&&s.set(l,f)})).next(()=>s)}saveOverlays(e,n,s){const l=[];return s.forEach((f,g)=>{const S=new qh(n,g);l.push(this.lt(e,S))}),nt.waitFor(l)}removeOverlaysForBatchId(e,n,s){const l=new Set;n.forEach(g=>l.add(Vn(g.getCollectionPath())));const f=[];return l.forEach(g=>{const S=IDBKeyRange.bound([this.userId,g,s],[this.userId,g,s+1],!1,!0);f.push(ka(e).H("collectionPathOverlayIndex",S))}),nt.waitFor(f)}getOverlaysForCollection(e,n,s){const l=ue(),f=Vn(n),g=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,Number.POSITIVE_INFINITY],!0);return ka(e).W("collectionPathOverlayIndex",g).next(S=>{for(const L of S){const K=su(this.serializer,L);l.set(K.getKey(),K)}return l})}getOverlaysForCollectionGroup(e,n,s,l){const f=ue();let g;const S=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ka(e).Y({index:"collectionGroupOverlayIndex",range:S},(L,K,se)=>{const be=su(this.serializer,K);f.size()<l||be.largestBatchId===g?(f.set(be.getKey(),be),g=be.largestBatchId):se.done()}).next(()=>f)}lt(e,n){return ka(e).put(function(l,f,g){const[S,L,K]=uf(f,g.mutation.key);return{userId:f,collectionPath:L,documentId:K,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:nu(l.ut,g.mutation)}}(this.serializer,this.userId,n))}}function ka(r){return ko(r,"documentOverlays")}class zl{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Xr(e.integerValue));else if("doubleValue"in e){const s=Xr(e.doubleValue);isNaN(s)?this.Tt(n,13):(this.Tt(n,15),ot(s)?n.Et(0):n.Et(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Tt(n,20),"string"==typeof s?n.dt(s):(n.dt(`${s.seconds||""}`),n.Et(s.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(fs(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Tt(n,45),n.Et(s.latitude||0),n.Et(s.longitude||0)}else"mapValue"in e?Za(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):zt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const s=e.fields||{};this.Tt(n,55);for(const l of Object.keys(s))this.At(l,n),this.Pt(s[l],n)}yt(e,n){const s=e.values||[];this.Tt(n,50);for(const l of s)this.Pt(l,n)}ft(e,n){this.Tt(n,37),nn.fromName(e).path.forEach(s=>{this.Tt(n,60),this.wt(s,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function mp(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function bc(r){const e=64-function(s){let l=0;for(let f=0;f<8;++f){const g=mp(255&s[f]);if(l+=g,8!==g)break}return l}(r);return Math.ceil(e/8)}zl.St=new zl;class a_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Dt(s.value),s=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Ft(s.value),s=n.next();this.Mt()}xt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Dt(s);else if(s<2048)this.Dt(960|s>>>6),this.Dt(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s);else{const l=n.codePointAt(0);this.Dt(240|l>>>18),this.Dt(128|63&l>>>12),this.Dt(128|63&l>>>6),this.Dt(128|63&l)}}this.Ct()}Ot(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const l=n.codePointAt(0);this.Ft(240|l>>>18),this.Ft(128|63&l>>>12),this.Ft(128|63&l>>>6),this.Ft(128|63&l)}}this.Mt()}Nt(e){const n=this.Bt(e),s=bc(n);this.Lt(1+s),this.buffer[this.position++]=255&s;for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=255&n[l]}kt(e){const n=this.Bt(e),s=bc(n);this.Lt(1+s),this.buffer[this.position++]=~(255&s);for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(f){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,f,!1),new Uint8Array(g.buffer)}(e),s=0!=(128&n[0]);n[0]^=s?255:128;for(let l=1;l<n.length;++l)n[l]^=s?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class l_{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Uv{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class ih{constructor(){this.Wt=new a_,this.Gt=new l_(this.Wt),this.zt=new Uv(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Ec{constructor(e,n,s,l){this.indexId=e,this.documentKey=n,this.arrayValue=s,this.directionalValue=l}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(n);return s.set(this.directionalValue,0),n!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Ec(this.indexId,this.documentKey,this.arrayValue,s)}}function au(r,e){let n=r.indexId-e.indexId;return 0!==n?n:(n=ju(r.arrayValue,e.arrayValue),0!==n?n:(n=ju(r.directionalValue,e.directionalValue),0!==n?n:nn.comparator(r.documentKey,e.documentKey)))}function ju(r,e){for(let n=0;n<r.length&&n<e.length;++n){const s=r[n]-e[n];if(0!==s)return s}return r.length-e.length}class rh{constructor(e){this.Jt=new vr((n,s)=>Lr.comparator(n.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const s=n;s.isInequality()?this.Jt=this.Jt.add(s):this.Zt.push(s)}}get Xt(){return this.Jt.size>1}en(e){if(Cn(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=ac(e);if(void 0!==n&&!this.tn(n))return!1;const s=_r(e);let l=new Set,f=0,g=0;for(;f<s.length&&this.tn(s[f]);++f)l=l.add(s[f].fieldPath.canonicalString());if(f===s.length)return!0;if(this.Jt.size>0){const S=this.Jt.getIterator().getNext();if(!l.has(S.field.canonicalString())){const L=s[f];if(!this.nn(S,L)||!this.rn(this.Yt[g++],L))return!1}++f}for(;f<s.length;++f)if(g>=this.Yt.length||!this.rn(this.Yt[g++],s[f]))return!1;return!0}sn(){if(this.Xt)return null;let e=new vr(Lr.comparator);const n=[];for(const s of this.Zt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)n.push(new hs(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),n.push(new hs(s.field,0))}for(const s of this.Yt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),n.push(new hs(s.field,"asc"===s.dir?0:1)));return new ns(ns.UNKNOWN_ID,this.collectionId,n,Tt.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function df(r){var e,n;if(Cn(r instanceof ri||r instanceof Rr),r instanceof ri){if(r instanceof od){const l=(null===(n=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(f=>ri.create(r.field,"==",f)))||[];return Rr.create(l,"or")}return r}const s=r.filters.map(l=>df(l));return Rr.create(s,r.op)}function md(r){if(0===r.getFilters().length)return[];const e=hf(df(r));return Cn(Ic(e)),oh(e)||sh(e)?[e]:e.getFilters()}function oh(r){return r instanceof ri}function sh(r){return r instanceof Rr&&Ud(r)}function Ic(r){return oh(r)||sh(r)||function(n){if(n instanceof Rr&&rd(n)){for(const s of n.getFilters())if(!oh(s)&&!sh(s))return!1;return!0}return!1}(r)}function hf(r){if(Cn(r instanceof ri||r instanceof Rr),r instanceof ri)return r;if(1===r.filters.length)return hf(r.filters[0]);const e=r.filters.map(s=>hf(s));let n=Rr.create(e,r.op);return n=pf(n),Ic(n)?n:(Cn(n instanceof Rr),Cn(dc(n)),Cn(n.filters.length>1),n.filters.reduce((s,l)=>ff(s,l)))}function ff(r,e){let n;return Cn(r instanceof ri||r instanceof Rr),Cn(e instanceof ri||e instanceof Rr),n=r instanceof ri?e instanceof ri?Rr.create([r,e],"and"):Nm(r,e):e instanceof ri?Nm(e,r):function(l,f){if(Cn(l.filters.length>0&&f.filters.length>0),dc(l)&&dc(f))return Uh(l,f.getFilters());const g=rd(l)?l:f,S=rd(l)?f:l,L=g.filters.map(K=>ff(K,S));return Rr.create(L,"or")}(r,e),pf(n)}function Nm(r,e){if(dc(e))return Uh(e,r.getFilters());{const n=e.filters.map(s=>ff(r,s));return Rr.create(n,"or")}}function pf(r){if(Cn(r instanceof ri||r instanceof Rr),r instanceof ri)return r;const e=r.getFilters();if(1===e.length)return pf(e[0]);if(jd(r))return r;const n=e.map(l=>pf(l)),s=[];return n.forEach(l=>{l instanceof ri?s.push(l):l instanceof Rr&&(l.op===r.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:Rr.create(s,r.op)}class ah{constructor(){this.on=new tl}addToCollectionParentIndex(e,n){return this.on.add(n),nt.resolve()}getCollectionParents(e,n){return nt.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return nt.resolve()}deleteFieldIndex(e,n){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,n){return nt.resolve()}getDocumentsMatchingTarget(e,n){return nt.resolve(null)}getIndexType(e,n){return nt.resolve(0)}getFieldIndexes(e,n){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,n){return nt.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,n){return nt.resolve(xo.min())}updateCollectionGroup(e,n,s){return nt.resolve()}updateIndexEntries(e,n){return nt.resolve()}}class tl{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new vr(Zi.comparator),f=!l.has(s);return this.index[n]=l.add(s),f}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new vr(Zi.comparator)).toArray()}}const pa=new Uint8Array(0);class gp{constructor(e,n){this.user=e,this.databaseId=n,this._n=new tl,this.an=new Ja(s=>ea(s),(s,l)=>kl(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const s=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const f={collectionId:s,parent:Vn(l)};return _p(e).put(f)}return nt.resolve()}getCollectionParents(e,n){const s=[],l=IDBKeyRange.bound([n,""],[Vc(n),""],!1,!0);return _p(e).W(l).next(f=>{for(const g of f){if(g.collectionId!==n)break;s.push(_o(g.parent))}return s})}addFieldIndex(e,n){const s=Hu(e),l={indexId:(S=n).indexId,collectionGroup:S.collectionGroup,fields:S.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var S;delete l.indexId;const f=s.add(l);if(n.indexState){const g=Fa(e);return f.next(S=>{g.put(nh(S,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return f.next()}deleteFieldIndex(e,n){const s=Hu(e),l=Fa(e),f=lu(e);return s.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Hu(e),s=lu(e),l=Fa(e);return n.H().next(()=>s.H()).next(()=>l.H())}createTargetIndexes(e,n){return nt.forEach(this.un(n),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const f=new rh(s).sn();if(null!=f)return this.addFieldIndex(e,f)}}))}getDocumentsMatchingTarget(e,n){const s=lu(e);let l=!0;const f=new Map;return nt.forEach(this.un(n),g=>this.cn(e,g).next(S=>{l&&(l=!!S),f.set(g,S)})).next(()=>{if(l){let g=Gt();const S=[];return nt.forEach(f,(L,K)=>{var ci;Ct("IndexedDbIndexManager",`Using index ${ci=L,`id=${ci.indexId}|cg=${ci.collectionGroup}|f=${ci.fields.map(ti=>`${ti.fieldPath}:${ti.kind}`).join(",")}`} to execute ${ea(n)}`);const se=function(ci,ti){const eo=ac(ti);if(void 0===eo)return null;for(const Hr of Mu(ci,eo.fieldPath))switch(Hr.op){case"array-contains-any":return Hr.value.arrayValue.values||[];case"array-contains":return[Hr.value]}return null}(K,L),be=function(ci,ti){const eo=new Map;for(const Hr of _r(ti))for(const Ms of Mu(ci,Hr.fieldPath))switch(Ms.op){case"==":case"in":eo.set(Hr.fieldPath.canonicalString(),Ms.value);break;case"not-in":case"!=":return eo.set(Hr.fieldPath.canonicalString(),Ms.value),Array.from(eo.values())}return null}(K,L),je=function(ci,ti){const eo=[];let Hr=!0;for(const Ms of _r(ti)){const ec=0===Ms.kind?ad(ci,Ms.fieldPath,ci.startAt):xs(ci,Ms.fieldPath,ci.startAt);eo.push(ec.value),Hr&&(Hr=ec.inclusive)}return new Bs(eo,Hr)}(K,L),ut=function(ci,ti){const eo=[];let Hr=!0;for(const Ms of _r(ti)){const ec=0===Ms.kind?xs(ci,Ms.fieldPath,ci.endAt):ad(ci,Ms.fieldPath,ci.endAt);eo.push(ec.value),Hr&&(Hr=ec.inclusive)}return new Bs(eo,Hr)}(K,L),Zt=this.ln(L,K,je),on=this.ln(L,K,ut),sn=this.hn(L,K,be),oi=this.Pn(L.indexId,se,Zt,je.inclusive,on,ut.inclusive,sn);return nt.forEach(oi,hi=>s.j(hi,n.limit).next(ci=>{ci.forEach(ti=>{const eo=nn.fromSegments(ti.documentKey);g.has(eo)||(g=g.add(eo),S.push(eo))})}))}).next(()=>S)}return nt.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:md(Rr.create(e.filters,"and")).map(s=>hc(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,s,l,f,g,S){const L=(null!=n?n.length:1)*Math.max(s.length,f.length),K=L/(null!=n?n.length:1),se=[];for(let be=0;be<L;++be){const je=n?this.In(n[be/K]):pa,ut=this.Tn(e,je,s[be%K],l),Zt=this.En(e,je,f[be%K],g),on=S.map(sn=>this.Tn(e,je,sn,!0));se.push(...this.createRange(ut,Zt,on))}return se}Tn(e,n,s,l){const f=new Ec(e,nn.empty(),n,s);return l?f:f.Ht()}En(e,n,s,l){const f=new Ec(e,nn.empty(),n,s);return l?f.Ht():f}cn(e,n){const s=new rh(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(f=>{let g=null;for(const S of f)s.en(S)&&(!g||S.fields.length>g.fields.length)&&(g=S);return g})}getIndexType(e,n){let s=2;const l=this.un(n);return nt.forEach(l,f=>this.cn(e,f).next(g=>{g?0!==s&&g.fields.length<function(L){let K=new vr(Lr.comparator),se=!1;for(const be of L.filters)for(const je of be.getFlattenedFilters())je.field.isKeyField()||("array-contains"===je.op||"array-contains-any"===je.op?se=!0:K=K.add(je.field));for(const be of L.orderBy)be.field.isKeyField()||(K=K.add(be.field));return K.size+(se?1:0)}(f)&&(s=1):s=0})).next(()=>null!==n.limit&&l.length>1&&2===s?1:s)}dn(e,n){const s=new ih;for(const l of _r(e)){const f=n.data.field(l.fieldPath);if(null==f)return null;const g=s.jt(l.kind);zl.St.ht(f,g)}return s.Ut()}In(e){const n=new ih;return zl.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const s=new ih;return zl.St.ht(pl(this.databaseId,n),s.jt(function(f){const g=_r(f);return 0===g.length?0:g[g.length-1].kind}(e))),s.Ut()}hn(e,n,s){if(null===s)return[];let l=[];l.push(new ih);let f=0;for(const g of _r(e)){const S=s[f++];for(const L of l)if(this.Rn(n,g.fieldPath)&&Pa(S))l=this.Vn(l,g,S);else{const K=L.jt(g.kind);zl.St.ht(S,K)}}return this.mn(l)}ln(e,n,s){return this.hn(e,n,s.position)}mn(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].Ut();return n}Vn(e,n,s){const l=[...e],f=[];for(const g of s.arrayValue.values||[])for(const S of l){const L=new ih;L.seed(S.Ut()),zl.St.ht(g,L.jt(n.kind)),f.push(L)}return f}Rn(e,n){return!!e.filters.find(s=>s instanceof ri&&s.field.isEqual(n)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,n){const s=Hu(e),l=Fa(e);return(n?s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):s.W()).next(f=>{const g=[];return nt.forEach(f,S=>l.get([S.indexId,this.uid]).next(L=>{g.push(function(se,be){const je=be?new Tt(be.sequenceNumber,new xo(ou(be.readTime),new nn(_o(be.documentKey)),be.largestBatchId)):Tt.empty(),ut=se.fields.map(([Zt,on])=>new hs(Lr.fromServerFormat(Zt),on));return new ns(se.indexId,se.collectionGroup,ut,je)}(S,L))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((s,l)=>{const f=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==f?f:ii(s.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const l=Hu(e),f=Fa(e);return this.fn(e).next(g=>l.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(S=>nt.forEach(S,L=>f.put(nh(L.indexId,this.user,g,s)))))}updateIndexEntries(e,n){const s=new Map;return nt.forEach(n,(l,f)=>{const g=s.get(l.collectionGroup);return(g?nt.resolve(g):this.getFieldIndexes(e,l.collectionGroup)).next(S=>(s.set(l.collectionGroup,S),nt.forEach(S,L=>this.gn(e,l,L).next(K=>{const se=this.pn(f,L);return K.isEqual(se)?nt.resolve():this.yn(e,f,L,K,se)}))))})}wn(e,n,s,l){return lu(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.An(s,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,s,l){return lu(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.An(s,n.key),n.key.path.toArray()])}gn(e,n,s){const l=lu(e);let f=new vr(au);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.An(s,n)])},(g,S)=>{f=f.add(new Ec(s.indexId,n,S.arrayValue,S.directionalValue))}).next(()=>f)}pn(e,n){let s=new vr(au);const l=this.dn(n,e);if(null==l)return s;const f=ac(n);if(null!=f){const g=e.data.field(f.fieldPath);if(Pa(g))for(const S of g.arrayValue.values||[])s=s.add(new Ec(n.indexId,e.key,this.In(S),l))}else s=s.add(new Ec(n.indexId,e.key,pa,l));return s}yn(e,n,s,l,f){Ct("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const g=[];return function(L,K,se,be,je){const ut=L.getIterator(),Zt=K.getIterator();let on=dl(ut),sn=dl(Zt);for(;on||sn;){let oi=!1,hi=!1;if(on&&sn){const ci=se(on,sn);ci<0?hi=!0:ci>0&&(oi=!0)}else null!=on?hi=!0:oi=!0;oi?(be(sn),sn=dl(Zt)):hi?(je(on),on=dl(ut)):(on=dl(ut),sn=dl(Zt))}}(l,f,au,S=>{g.push(this.wn(e,n,s,S))},S=>{g.push(this.Sn(e,n,s,S))}),nt.waitFor(g)}fn(e){let n=1;return Fa(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,f)=>{f.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((g,S)=>au(g,S)).filter((g,S,L)=>!S||0!==au(g,L[S-1]));const l=[];l.push(e);for(const g of s){const S=au(g,e),L=au(g,n);if(0===S)l[0]=e.Ht();else if(S>0&&L<0)l.push(g),l.push(g.Ht());else if(L>0)break}l.push(n);const f=[];for(let g=0;g<l.length;g+=2){if(this.bn(l[g],l[g+1]))return[];f.push(IDBKeyRange.bound([l[g].indexId,this.uid,l[g].arrayValue,l[g].directionalValue,pa,[]],[l[g+1].indexId,this.uid,l[g+1].arrayValue,l[g+1].directionalValue,pa,[]]))}return f}bn(e,n){return au(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(lh)}getMinOffset(e,n){return nt.mapArray(this.un(n),s=>this.cn(e,s).next(l=>l||zt())).next(lh)}}function _p(r){return ko(r,"collectionParents")}function lu(r){return ko(r,"indexEntries")}function Hu(r){return ko(r,"indexConfiguration")}function Fa(r){return ko(r,"indexState")}function lh(r){Cn(0!==r.length);let e=r[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<r.length;s++){const l=r[s].indexState.offset;mo(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new xo(e.readTime,e.documentKey,n)}const mf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zs{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new zs(e,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gd(r,e,n){const s=r.store("mutations"),l=r.store("documentMutations"),f=[],g=IDBKeyRange.only(n.batchId);let S=0;const L=s.Y({range:g},(se,be,je)=>(S++,je.delete()));f.push(L.next(()=>{Cn(1===S)}));const K=[];for(const se of n.mutations){const be=Aa(e,se.key.path,n.batchId);f.push(l.delete(be)),K.push(se.key)}return nt.waitFor(f).next(()=>K)}function _d(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw zt();e=r.noDocument}return JSON.stringify(e).length}zs.DEFAULT_COLLECTION_PERCENTILE=10,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zs.DEFAULT=new zs(41943040,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zs.DISABLED=new zs(-1,0,0);class ch{constructor(e,n,s,l){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=l,this.Dn={}}static ct(e,n,s,l){Cn(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new ch(f,n,s,l)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $s(e).Y({index:"userMutationsIndex",range:s},(l,f,g)=>{n=!1,g.done()}).next(()=>n)}addMutationBatch(e,n,s,l){const f=$l(e),g=$s(e);return g.add({}).next(S=>{Cn("number"==typeof S);const L=new np(S,n,s,l),K=function(ut,Zt,on){const sn=on.baseMutations.map(hi=>nu(ut.ut,hi)),oi=on.mutations.map(hi=>nu(ut.ut,hi));return{userId:Zt,batchId:on.batchId,localWriteTimeMs:on.localWriteTime.toMillis(),baseMutations:sn,mutations:oi}}(this.serializer,this.userId,L),se=[];let be=new vr((je,ut)=>ii(je.canonicalString(),ut.canonicalString()));for(const je of l){const ut=Aa(this.userId,je.key.path,S);be=be.add(je.key.path.popLast()),se.push(g.put(K)),se.push(f.put(ut,$a))}return be.forEach(je=>{se.push(this.indexManager.addToCollectionParentIndex(e,je))}),e.addOnCommittedListener(()=>{this.Dn[S]=L.keys()}),nt.waitFor(se).next(()=>L)})}lookupMutationBatch(e,n){return $s(e).get(n).next(s=>s?(Cn(s.userId===this.userId),Il(this.serializer,s)):null)}Cn(e,n){return this.Dn[n]?nt.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const l=s.keys();return this.Dn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]);let f=null;return $s(e).Y({index:"userMutationsIndex",range:l},(g,S,L)=>{S.userId===this.userId&&(Cn(S.batchId>=s),f=Il(this.serializer,S)),L.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return $s(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(l,f,g)=>{s=f.batchId,g.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $s(e).W("userMutationsIndex",n).next(s=>s.map(l=>Il(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=Da(this.userId,n.path),l=IDBKeyRange.lowerBound(s),f=[];return $l(e).Y({range:l},(g,S,L)=>{const[K,se,be]=g,je=_o(se);if(K===this.userId&&n.path.isEqual(je))return $s(e).get(be).next(ut=>{if(!ut)throw zt();Cn(ut.userId===this.userId),f.push(Il(this.serializer,ut))});L.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new vr(ii);const l=[];return n.forEach(f=>{const g=Da(this.userId,f.path),S=IDBKeyRange.lowerBound(g),L=$l(e).Y({range:S},(K,se,be)=>{const[je,ut,Zt]=K,on=_o(ut);je===this.userId&&f.path.isEqual(on)?s=s.add(Zt):be.done()});l.push(L)}),nt.waitFor(l).next(()=>this.vn(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1,f=Da(this.userId,s),g=IDBKeyRange.lowerBound(f);let S=new vr(ii);return $l(e).Y({range:g},(L,K,se)=>{const[be,je,ut]=L,Zt=_o(je);be===this.userId&&s.isPrefixOf(Zt)?Zt.length===l&&(S=S.add(ut)):se.done()}).next(()=>this.vn(e,S))}vn(e,n){const s=[],l=[];return n.forEach(f=>{l.push($s(e).get(f).next(g=>{if(null===g)throw zt();Cn(g.userId===this.userId),s.push(Il(this.serializer,g))}))}),nt.waitFor(l).next(()=>s)}removeMutationBatch(e,n){return gd(e.ae,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),nt.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return nt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return $l(e).Y({range:s},(f,g,S)=>{if(f[0]===this.userId){const L=_o(f[1]);l.push(L)}else S.done()}).next(()=>{Cn(0===l.length)})})}containsKey(e,n){return uh(e,this.userId,n)}Mn(e){return gf(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uh(r,e,n){const s=Da(e,n.path),l=s[1],f=IDBKeyRange.lowerBound(s);let g=!1;return $l(r).Y({range:f,J:!0},(S,L,K)=>{const[se,be,je]=S;se===e&&be===l&&(g=!0),K.done()}).next(()=>g)}function $s(r){return ko(r,"mutations")}function $l(r){return ko(r,"documentMutations")}function gf(r){return ko(r,"mutationQueues")}class cu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new cu(0)}static Nn(){return new cu(-1)}}class km{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const s=new cu(n.highestTargetId);return n.highestTargetId=s.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Fn.fromTimestamp(new pn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=n,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.Ln(e,l)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.qn(n,s),this.Ln(e,s))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>dh(e).delete(n.targetId)).next(()=>this.Bn(e)).next(s=>(Cn(s.targetCount>0),s.targetCount-=1,this.Ln(e,s)))}removeTargets(e,n,s){let l=0;const f=[];return dh(e).Y((g,S)=>{const L=wl(S);L.sequenceNumber<=n&&null===s.get(L.targetId)&&(l++,f.push(this.removeTargetData(e,L)))}).next(()=>nt.waitFor(f)).next(()=>l)}forEachTarget(e,n){return dh(e).Y((s,l)=>{const f=wl(l);n(f)})}Bn(e){return c_(e).get("targetGlobalKey").next(n=>(Cn(null!==n),n))}Ln(e,n){return c_(e).put("targetGlobalKey",n)}kn(e,n){return dh(e).put(cf(this.serializer,n))}qn(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const s=ea(n),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let f=null;return dh(e).Y({range:l,index:"queryTargetsIndex"},(g,S,L)=>{const K=wl(S);kl(n,K.target)&&(f=K,L.done())}).next(()=>f)}addMatchingKeys(e,n,s){const l=[],f=uu(e);return n.forEach(g=>{const S=Vn(g.path);l.push(f.put({targetId:s,path:S})),l.push(this.referenceDelegate.addReference(e,s,g))}),nt.waitFor(l)}removeMatchingKeys(e,n,s){const l=uu(e);return nt.forEach(n,f=>{const g=Vn(f.path);return nt.waitFor([l.delete([s,g]),this.referenceDelegate.removeReference(e,s,f)])})}removeMatchingKeysForTargetId(e,n){const s=uu(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),l=uu(e);let f=Gt();return l.Y({range:s,J:!0},(g,S,L)=>{const K=_o(g[1]),se=new nn(K);f=f.add(se)}).next(()=>f)}containsKey(e,n){const s=Vn(n.path),l=IDBKeyRange.bound([s],[Vc(s)],!1,!0);let f=0;return uu(e).Y({index:"documentTargetsIndex",J:!0,range:l},([g,S],L,K)=>{0!==g&&(f++,K.done())}).next(()=>f>0)}_t(e,n){return dh(e).get(n).next(s=>s?wl(s):null)}}function dh(r){return ko(r,"targets")}function c_(r){return ko(r,"targetGlobal")}function uu(r){return ko(r,"targetDocuments")}function hh([r,e],[n,s]){const l=ii(r,n);return 0===l?ii(e,s):l}class vp{constructor(e){this.Qn=e,this.buffer=new vr(hh),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();hh(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class u_{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;Ct("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,h.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(s){go(s)?Ct("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Yr(s)}yield n.Gn(3e5)}))}}class jv{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(0===n)return nt.resolve(De._e);const s=new vp(n);return this.zn.forEachTarget(e,l=>s.Un(l.sequenceNumber)).next(()=>this.zn.Hn(e,l=>s.Un(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(mf)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mf):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let s,l,f,g,S,L,K;const se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(be=>(be>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${be}`),l=this.params.maximumSequenceNumbersToCollect):l=be,g=Date.now(),this.nthSequenceNumber(e,l))).next(be=>(s=be,S=Date.now(),this.removeTargets(e,s,n))).next(be=>(f=be,L=Date.now(),this.removeOrphanedDocuments(e,s))).next(be=>(K=Date.now(),Er()<=R.in.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-se}ms\n\tDetermined least recently used ${l} in `+(S-g)+`ms\n\tRemoved ${f} targets in `+(L-S)+`ms\n\tRemoved ${be} documents in `+(K-L)+`ms\nTotal Duration: ${K-se}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:f,documentsRemoved:be})))}}class Fm{constructor(e,n){this.db=e,this.garbageCollector=function yp(r,e){return new jv(r,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}Yn(e){let n=0;return this.Hn(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(s,l)=>n(l))}addReference(e,n,s){return _f(e,s)}removeReference(e,n,s){return _f(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return _f(e,n)}Xn(e,n){return function(l,f){let g=!1;return gf(l).Z(S=>uh(l,S,f).next(L=>(L&&(g=!0),nt.resolve(!L)))).next(()=>g)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let f=0;return this.Zn(e,(g,S)=>{if(S<=n){const L=this.Xn(e,g).next(K=>{if(!K)return f++,s.getEntry(e,g).next(()=>(s.removeEntry(g,Fn.min()),uu(e).delete([0,Vn(g.path)])))});l.push(L)}}).next(()=>nt.waitFor(l)).next(()=>s.apply(e)).next(()=>f)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return _f(e,n)}Zn(e,n){const s=uu(e);let l,f=De._e;return s.Y({index:"documentTargetsIndex"},([g,S],{path:L,sequenceNumber:K})=>{0===g?(f!==De._e&&n(new nn(_o(l)),f),f=K,l=L):f=De._e}).next(()=>{f!==De._e&&n(new nn(_o(l)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _f(r,e){return uu(r).put((l=r.currentSequenceNumber,{targetId:0,path:Vn(e.path),sequenceNumber:l}));var l}class Lm{constructor(){this.changes=new Ja(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?nt.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class d_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return Gl(e).put(s)}removeEntry(e,n,s){return Gl(e).delete(function(f,g){const S=f.path.toArray();return[S.slice(0,S.length-2),S[S.length-2],Uu(g),S[S.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.er(e,s)))}getEntry(e,n){let s=Ur.newInvalidDocument(n);return Gl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(vd(n))},(l,f)=>{s=this.tr(n,f)}).next(()=>s)}nr(e,n){let s={size:0,document:Ur.newInvalidDocument(n)};return Gl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(vd(n))},(l,f)=>{s={document:this.tr(n,f),size:_d(f)}}).next(()=>s)}getEntries(e,n){let s=m();return this.rr(e,n,(l,f)=>{const g=this.tr(l,f);s=s.insert(l,g)}).next(()=>s)}ir(e,n){let s=m(),l=new Tr(nn.comparator);return this.rr(e,n,(f,g)=>{const S=this.tr(f,g);s=s.insert(f,S),l=l.insert(f,_d(g))}).next(()=>({documents:s,sr:l}))}rr(e,n,s){if(n.isEmpty())return nt.resolve();let l=new vr(u);n.forEach(L=>l=l.add(L));const f=IDBKeyRange.bound(vd(l.first()),vd(l.last())),g=l.getIterator();let S=g.getNext();return Gl(e).Y({index:"documentKeyIndex",range:f},(L,K,se)=>{const be=nn.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;S&&u(S,be)<0;)s(S,null),S=g.getNext();S&&S.isEqual(be)&&(s(S,K),S=g.hasNext()?g.getNext():null),S?se.U(vd(S)):se.done()}).next(()=>{for(;S;)s(S,null),S=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,n,s,l,f){const g=n.path,S=[g.popLast().toArray(),g.lastSegment(),Uu(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],L=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gl(e).W(IDBKeyRange.bound(S,L,!0)).next(K=>{f?.incrementDocumentReadCount(K.length);let se=m();for(const be of K){const je=this.tr(nn.fromSegments(be.prefixPath.concat(be.collectionGroup,be.documentId)),be);je.isFoundDocument()&&(_l(n,je)||l.has(je.key))&&(se=se.insert(je.key,je))}return se})}getAllFromCollectionGroup(e,n,s,l){let f=m();const g=_(n,s),S=_(n,xo.max());return Gl(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,S,!0)},(L,K,se)=>{const be=this.tr(nn.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);f=f.insert(be.key,be),f.size===l&&se.done()}).next(()=>f)}newChangeBuffer(e){return new vf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Ep(e).get("remoteDocumentGlobalKey").next(n=>(Cn(!!n),n))}er(e,n){return Ep(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const s=function th(r,e){let n;if(e.document)n=Rm(r.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=nn.fromSegments(e.noDocument.path),l=ou(e.noDocument.readTime);n=Ur.newNoDocument(s,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return zt();{const s=nn.fromSegments(e.unknownDocument.path),l=ou(e.unknownDocument.version);n=Ur.newUnknownDocument(s,l)}}return e.readTime&&n.setReadTime(function(l){const f=new pn(l[0],l[1]);return Fn.fromTimestamp(f)}(e.readTime)),n}(this.serializer,n);if(!s.isNoDocument()||!s.version.isEqual(Fn.min()))return s}return Ur.newInvalidDocument(e)}}function bp(r){return new d_(r)}class vf extends Lm{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Ja(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const n=[];let s=0,l=new vr((f,g)=>ii(f.canonicalString(),g.canonicalString()));return this.changes.forEach((f,g)=>{const S=this.ar.get(f);if(n.push(this._r.removeEntry(e,f,S.readTime)),g.isValidDocument()){const L=lf(this._r.serializer,g);l=l.add(f.path.popLast());const K=_d(L);s+=K-S.size,n.push(this._r.addEntry(e,f,L))}else if(s-=S.size,this.trackRemovals){const L=lf(this._r.serializer,g.convertToNoDocument(Fn.min()));n.push(this._r.addEntry(e,f,L))}}),l.forEach(f=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,f))}),n.push(this._r.updateMetadata(e,s)),nt.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(s=>(this.ar.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:s,sr:l})=>(l.forEach((f,g)=>{this.ar.set(f,{size:g,readTime:s.get(f).readTime})}),s))}}function Ep(r){return ko(r,"remoteDocumentGlobal")}function Gl(r){return ko(r,"remoteDocumentsV14")}function vd(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _(r,e){const n=e.documentKey.path.toArray();return[r,Uu(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function u(r,e){const n=r.path.toArray(),s=e.path.toArray();let l=0;for(let f=0;f<n.length-2&&f<s.length-2;++f)if(l=ii(n[f],s[f]),l)return l;return l=ii(n.length,s.length),l||(l=ii(n[n.length-2],s[s.length-2]),l||ii(n[n.length-1],s[s.length-1]))}class d{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class v{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(null!==s&&dd(s.mutation,l,ws.empty(),pn.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Gt()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Gt()){const l=ue();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(f=>{let g=C();return f.forEach((S,L)=>{g=g.insert(S,L.overlayedDocument)}),g}))}getOverlayedDocuments(e,n){const s=ue();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Gt()))}populateOverlays(e,n,s){const l=[];return s.forEach(f=>{n.has(f)||l.push(f)}),this.documentOverlayCache.getOverlays(e,l).next(f=>{f.forEach((g,S)=>{n.set(g,S)})})}computeViews(e,n,s,l){let f=m();const g=mt(),S=mt();return n.forEach((L,K)=>{const se=s.get(K.key);l.has(K.key)&&(void 0===se||se.mutation instanceof jl)?f=f.insert(K.key,K):void 0!==se?(g.set(K.key,se.mutation.getFieldMask()),dd(se.mutation,K,se.mutation.getFieldMask(),pn.now())):g.set(K.key,ws.empty())}),this.recalculateAndSaveOverlays(e,f).next(L=>(L.forEach((K,se)=>g.set(K,se)),n.forEach((K,se)=>{var be;return S.set(K,new d(se,null!==(be=g.get(K))&&void 0!==be?be:null))}),S))}recalculateAndSaveOverlays(e,n){const s=mt();let l=new Tr((g,S)=>g-S),f=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(g=>{for(const S of g)S.keys().forEach(L=>{const K=n.get(L);if(null===K)return;let se=s.get(L)||ws.empty();se=S.applyToLocalView(K,se),s.set(L,se);const be=(l.get(S.batchId)||Gt()).add(L);l=l.insert(S.batchId,be)})}).next(()=>{const g=[],S=l.getReverseIterator();for(;S.hasNext();){const L=S.getNext(),K=L.key,se=L.value,be=He();se.forEach(je=>{if(!f.has(je)){const ut=Wd(n.get(je),s.get(je));null!==ut&&be.set(je,ut),f=f.add(je)}}),g.push(this.documentOverlayCache.saveOverlays(e,K,be))}return nt.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return nn.isDocumentKey((g=n).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):$d(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l);var g}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(f=>{const g=l-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-f.size):nt.resolve(ue());let S=-1,L=f;return g.next(K=>nt.forEach(K,(se,be)=>(S<be.largestBatchId&&(S=be.largestBatchId),f.get(se)?nt.resolve():this.remoteDocumentCache.getEntry(e,se).next(je=>{L=L.insert(se,je)}))).next(()=>this.populateOverlays(e,K,f)).next(()=>this.computeViews(e,L,K,Gt())).next(se=>({batchId:S,changes:Q(se)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new nn(n)).next(s=>{let l=C();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const f=n.collectionGroup;let g=C();return this.indexManager.getCollectionParents(e,f).next(S=>nt.forEach(S,L=>{const K=(be=n,je=L.child(f),new ta(je,null,be.explicitOrderBy.slice(),be.filters.slice(),be.limit,be.limitType,be.startAt,be.endAt));var be,je;return this.getDocumentsMatchingCollectionQuery(e,K,s,l).next(se=>{se.forEach((be,je)=>{g=g.insert(be,je)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,n,s,l){let f;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(g=>(f=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,f,l))).next(g=>{f.forEach((L,K)=>{const se=K.getKey();null===g.get(se)&&(g=g.insert(se,Ur.newInvalidDocument(se)))});let S=C();return g.forEach((L,K)=>{const se=f.get(L);void 0!==se&&dd(se.mutation,K,ws.empty(),pn.now()),_l(n,K)&&(S=S.insert(L,K))}),S})}}class w{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return nt.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(l=n).id,version:l.version,createTime:Jr(l.createTime)}),nt.resolve();var l}getNamedQuery(e,n){return nt.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(l=n).name,query:pd(l.bundledQuery),readTime:Jr(l.readTime)}),nt.resolve();var l}}class V{constructor(){this.overlays=new Tr(nn.comparator),this.lr=new Map}getOverlay(e,n){return nt.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ue();return nt.forEach(n,l=>this.getOverlay(e,l).next(f=>{null!==f&&s.set(l,f)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,f)=>{this.lt(e,n,f)}),nt.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.lr.get(s);return void 0!==l&&(l.forEach(f=>this.overlays=this.overlays.remove(f)),this.lr.delete(s)),nt.resolve()}getOverlaysForCollection(e,n,s){const l=ue(),f=n.length+1,g=new nn(n.child("")),S=this.overlays.getIteratorFrom(g);for(;S.hasNext();){const L=S.getNext().value,K=L.getKey();if(!n.isPrefixOf(K.path))break;K.path.length===f&&L.largestBatchId>s&&l.set(L.getKey(),L)}return nt.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let f=new Tr((K,se)=>K-se);const g=this.overlays.getIterator();for(;g.hasNext();){const K=g.getNext().value;if(K.getKey().getCollectionGroup()===n&&K.largestBatchId>s){let se=f.get(K.largestBatchId);null===se&&(se=ue(),f=f.insert(K.largestBatchId,se)),se.set(K.getKey(),K)}}const S=ue(),L=f.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((K,se)=>S.set(K,se)),!(S.size()>=l)););return nt.resolve(S)}lt(e,n,s){const l=this.overlays.get(s.key);if(null!==l){const g=this.lr.get(l.largestBatchId).delete(s.key);this.lr.set(l.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new qh(n,s));let f=this.lr.get(n);void 0===f&&(f=Gt(),this.lr.set(n,f)),this.lr.set(n,f.add(s.key))}}class ne{constructor(){this.hr=new vr(he.Pr),this.Ir=new vr(he.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const s=new he(e,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.dr(new he(e,n))}Ar(e,n){e.forEach(s=>this.removeReference(s,n))}Rr(e){const n=new nn(new Zi([])),s=new he(n,e),l=new he(n,e+1),f=[];return this.Ir.forEachInRange([s,l],g=>{this.dr(g),f.push(g.key)}),f}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new nn(new Zi([])),s=new he(n,e),l=new he(n,e+1);let f=Gt();return this.Ir.forEachInRange([s,l],g=>{f=f.add(g.key)}),f}containsKey(e){const n=new he(e,0),s=this.hr.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class he{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return nn.comparator(e.key,n.key)||ii(e.gr,n.gr)}static Tr(e,n){return ii(e.gr,n.gr)||nn.comparator(e.key,n.key)}}class Ae{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new vr(he.Pr)}checkEmpty(e){return nt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,l){const f=this.pr;this.pr++;const g=new np(f,n,s,l);this.mutationQueue.push(g);for(const S of l)this.yr=this.yr.add(new he(S.key,f)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return nt.resolve(g)}lookupMutationBatch(e,n){return nt.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.Sr(n+1),f=l<0?0:l;return nt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new he(n,0),l=new he(n,Number.POSITIVE_INFINITY),f=[];return this.yr.forEachInRange([s,l],g=>{const S=this.wr(g.gr);f.push(S)}),nt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new vr(ii);return n.forEach(l=>{const f=new he(l,0),g=new he(l,Number.POSITIVE_INFINITY);this.yr.forEachInRange([f,g],S=>{s=s.add(S.gr)})}),nt.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let f=s;nn.isDocumentKey(f)||(f=f.child(""));const g=new he(new nn(f),0);let S=new vr(ii);return this.yr.forEachWhile(L=>{const K=L.key.path;return!!s.isPrefixOf(K)&&(K.length===l&&(S=S.add(L.gr)),!0)},g),nt.resolve(this.br(S))}br(e){const n=[];return e.forEach(s=>{const l=this.wr(s);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){Cn(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let s=this.yr;return nt.forEach(n.mutations,l=>{const f=new he(l.key,n.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,n){const s=new he(n,0),l=this.yr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return nt.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class qe{constructor(e){this.Cr=e,this.docs=new Tr(nn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),f=l?l.size:0,g=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:g}),this.size+=g-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():Ur.newInvalidDocument(n))}getEntries(e,n){let s=m();return n.forEach(l=>{const f=this.docs.get(l);s=s.insert(l,f?f.document.mutableCopy():Ur.newInvalidDocument(l))}),nt.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let f=m();const g=n.path,S=new nn(g.child("")),L=this.docs.getIteratorFrom(S);for(;L.hasNext();){const{key:K,value:{document:se}}=L.getNext();if(!g.isPrefixOf(K.path))break;K.path.length>g.length+1||mo(Rl(se),s)<=0||(l.has(se.key)||_l(n,se))&&(f=f.insert(se.key,se.mutableCopy()))}return nt.resolve(f)}getAllFromCollectionGroup(e,n,s,l){zt()}vr(e,n){return nt.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new At(this)}getSize(e){return nt.resolve(this.size)}}class At extends Lm{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this._r.addEntry(e,l)):this._r.removeEntry(s)}),nt.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class $t{constructor(e){this.persistence=e,this.Fr=new Ja(n=>ea(n),kl),this.lastRemoteSnapshotVersion=Fn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new ne,this.targetCount=0,this.Nr=cu.On()}forEachTarget(e,n){return this.Fr.forEach((s,l)=>n(l)),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),nt.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new cu(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,nt.resolve()}updateTargetData(e,n){return this.kn(n),nt.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,n,s){let l=0;const f=[];return this.Fr.forEach((g,S)=>{S.sequenceNumber<=n&&null===s.get(S.targetId)&&(this.Fr.delete(g),f.push(this.removeMatchingKeysForTargetId(e,S.targetId)),l++)}),nt.waitFor(f).next(()=>l)}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,n){const s=this.Fr.get(n)||null;return nt.resolve(s)}addMatchingKeys(e,n,s){return this.Or.Er(n,s),nt.resolve()}removeMatchingKeys(e,n,s){this.Or.Ar(n,s);const l=this.persistence.referenceDelegate,f=[];return l&&n.forEach(g=>{f.push(l.markPotentiallyOrphaned(e,g))}),nt.waitFor(f)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),nt.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Or.mr(n);return nt.resolve(s)}containsKey(e,n){return nt.resolve(this.Or.containsKey(n))}}class mn{constructor(e,n){this.Br={},this.overlays={},this.Lr=new De(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new $t(this),this.indexManager=new ah,this.remoteDocumentCache=new qe(s=>this.referenceDelegate.Qr(s)),this.serializer=new af(n),this.Kr=new w(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new V,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Br[e.toKey()];return s||(s=new Ae(n,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,s){Ct("MemoryPersistence","Starting transaction:",e);const l=new wn(this.Lr.next());return this.referenceDelegate.$r(),s(l).next(f=>this.referenceDelegate.Ur(l).next(()=>f)).toPromise().then(f=>(l.raiseOnCommittedEvent(),f))}Wr(e,n){return nt.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,n)))}}class wn extends Ta{constructor(e){super(),this.currentSequenceNumber=e}}class tn{constructor(e){this.persistence=e,this.Gr=new ne,this.zr=null}static jr(e){return new tn(e)}get Hr(){if(this.zr)return this.zr;throw zt()}addReference(e,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),nt.resolve()}removeReference(e,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),nt.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(l=>this.Hr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(f=>this.Hr.add(f.toString()))}).next(()=>s.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.Hr,s=>{const l=nn.fromPath(s);return this.Jr(e,l).next(f=>{f||n.removeEntry(l,Fn.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return nt.or([()=>nt.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Yn{constructor(e){this.serializer=e}N(e,n,s,l){const f=new is("createOrUpgrade",n);var L;s<1&&l>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ca,{unique:!0}),L.createObjectStore("documentMutations"),ar(e),function(L){L.createObjectStore("remoteDocuments")}(e));let g=nt.resolve();return s<3&&l>=3&&(0!==s&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),ar(e)),g=g.next(()=>function(L){const K=L.store("targetGlobal"),se={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fn.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",se)}(f))),s<4&&l>=4&&(0!==s&&(g=g.next(()=>function(L,K){return K.store("mutations").W().next(se=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ca,{unique:!0});const be=K.store("mutations"),je=se.map(ut=>be.put(ut));return nt.waitFor(je)})}(e,f))),g=g.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(g=g.next(()=>this.Zr(f))),s<6&&l>=6&&(g=g.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(f)))),s<7&&l>=7&&(g=g.next(()=>this.ei(f))),s<8&&l>=8&&(g=g.next(()=>this.ti(e,f))),s<9&&l>=9&&(g=g.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(g=g.next(()=>this.ni(f))),s<11&&l>=11&&(g=g.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(g=g.next(()=>{!function(L){const K=L.createObjectStore("documentOverlays",{keyPath:kd});K.createIndex("collectionPathOverlayIndex",lc,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",da,{unique:!1})}(e)})),s<13&&l>=13&&(g=g.next(()=>function(L){const K=L.createObjectStore("remoteDocumentsV14",{keyPath:Uc});K.createIndex("documentKeyIndex",Lh),K.createIndex("collectionGroupIndex",jc)}(e)).next(()=>this.ri(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(g=g.next(()=>this.ii(e,f))),s<15&&l>=15&&(g=g.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:td}).createIndex("sequenceNumberIndex",Eu,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:Vh}).createIndex("documentKeyIndex",Iu,{unique:!1})}(e))),g}Xr(e){let n=0;return e.store("remoteDocuments").Y((s,l)=>{n+=_d(l)}).next(()=>{const s={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Zr(e){const n=e.store("mutationQueues"),s=e.store("mutations");return n.W().next(l=>nt.forEach(l,f=>{const g=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",g).next(S=>nt.forEach(S,L=>{Cn(L.userId===f.userId);const K=Il(this.serializer,L);return gd(e,f.userId,K).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const f=[];return s.Y((g,S)=>{const L=new Zi(g),K=[0,Vn(L)];f.push(n.get(K).next(se=>se?nt.resolve():n.put({targetId:0,path:Vn(L),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>nt.waitFor(f))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:ed});const s=n.store("collectionParents"),l=new tl,f=g=>{if(l.add(g)){const S=g.lastSegment(),L=g.popLast();return s.put({collectionId:S,parent:Vn(L)})}};return n.store("remoteDocuments").Y({J:!0},(g,S)=>{const L=new Zi(g);return f(L.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([g,S,L],K)=>{const se=_o(S);return f(se.popLast())}))}ni(e){const n=e.store("targets");return n.Y((s,l)=>{const f=wl(l),g=cf(this.serializer,f);return n.put(g)})}ri(e,n){const s=n.store("remoteDocuments"),l=[];return s.Y((f,g)=>{const S=n.store("remoteDocumentsV14"),L=(be=g,be.document?new nn(Zi.fromString(be.document.name).popFirst(5)):be.noDocument?nn.fromSegments(be.noDocument.path):be.unknownDocument?nn.fromSegments(be.unknownDocument.path):zt()).path.toArray(),K={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};var be;l.push(S.put(K))}).next(()=>nt.waitFor(l))}ii(e,n){const s=n.store("mutations"),l=bp(this.serializer),f=new mn(tn.jr,this.serializer.ut);return s.W().next(g=>{const S=new Map;return g.forEach(L=>{var K;let se=null!==(K=S.get(L.userId))&&void 0!==K?K:Gt();Il(this.serializer,L).keys().forEach(be=>se=se.add(be)),S.set(L.userId,se)}),nt.forEach(S,(L,K)=>{const se=new On(K),be=Na.ct(this.serializer,se),je=f.getIndexManager(se),ut=ch.ct(se,this.serializer,je,f.referenceDelegate);return new v(l,ut,be,je).recalculateAndSaveOverlaysForDocumentKeys(new cc(n,De._e),L).next()})})}}function ar(r){r.createObjectStore("targetDocuments",{keyPath:cl}).createIndex("documentTargetsIndex",Qr,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Go,{unique:!0}),r.createObjectStore("targetGlobal")}const wr="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yi{constructor(e,n,s,l,f,g,S,L,K,se,be=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.si=f,this.window=g,this.document=S,this.oi=K,this._i=se,this.ai=be,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=je=>Promise.resolve(),!Yi.D())throw new Rt(gt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fm(this,l),this.Ii=n+"main",this.serializer=new af(L),this.Ti=new $o(this.Ii,this.ai,new Yn(this.serializer)),this.qr=new km(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bp(this.serializer),this.Kr=new Pm,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===se&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Rt(gt.FAILED_PRECONDITION,wr);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new De(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var s=(0,h.Z)(function*(l){if(n.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,h.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,h.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Lo(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(go(e))return Ct("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ct("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Ni(e).get("owner").next(n=>nt.resolve(this.wi(n)))}Si(e){return Lo(e).delete(this.clientId)}bi(){var e=this;return(0,h.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=ko(s,"clientMetadata");return l.W().next(f=>{const g=e.Ci(f,18e5),S=f.filter(L=>-1===g.indexOf(L));return nt.forEach(S,L=>l.delete(L.clientId)).next(()=>S)})}).catch(()=>[]);if(e.Ei)for(const s of n)e.Ei.removeItem(e.vi(s.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?nt.resolve(!0):Ni(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new Rt(gt.FAILED_PRECONDITION,wr);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lo(e).W().next(s=>void 0===this.Ci(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Ct("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,h.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const s=new cc(n,De._e);return e.pi(s).next(()=>e.Si(s))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(s=>this.Di(s.updateTimeMs,n)&&!this.Fi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Lo(e).W().next(n=>this.Ci(n,18e5).map(s=>s.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return ch.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gp(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Na.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,s){Ct("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",f=15===(L=this.ai)?Xs:14===L?Ml:13===L?Ga:12===L?Sa:11===L?wu:void zt();var L;let g;return this.Ti.runTransaction(e,l,f,S=>(g=new cc(S,this.Lr?this.Lr.next():De._e),"readwrite-primary"===n?this.fi(g).next(L=>!!L||this.gi(g)).next(L=>{if(!L)throw dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new Rt(gt.FAILED_PRECONDITION,Qs);return s(g)}).next(L=>this.yi(g).next(()=>L)):this.Li(g).next(()=>s(g)))).then(S=>(g.raiseOnCommittedEvent(),S))}Li(e){return Ni(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Rt(gt.FAILED_PRECONDITION,wr)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ni(e).put("owner",n)}static D(){return $o.D()}pi(e){const n=Ni(e);return n.get("owner").next(s=>this.wi(s)?(Ct("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):nt.resolve())}Di(e,n){const s=Date.now();return!(e<s-n||e>s&&(dr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,me.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const s=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return Ct("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return dr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){dr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ni(r){return ko(r,"owner")}function Lo(r){return ko(r,"clientMetadata")}function Vo(r,e){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+e+"/"+n+"/"}class co{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.ki=s,this.qi=l}static Qi(e,n){let s=Gt(),l=Gt();for(const f of n.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:l=l.add(f.doc.key)}return new co(e,n.fromCache,s,l)}}class Ts{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Cs{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,s,l){const f={result:null};return this.zi(e,n).next(g=>{f.result=g}).next(()=>{if(!f.result)return this.ji(e,n,l,s).next(g=>{f.result=g})}).next(()=>{if(f.result)return;const g=new Ts;return this.Hi(e,n,g).next(S=>{if(f.result=S,this.$i)return this.Ji(e,n,g,S.size)})}).next(()=>f.result)}Ji(e,n,s,l){return s.documentReadCount<this.Ui?(Er()<=R.in.DEBUG&&Ct("QueryEngine","SDK will not create cache indexes for query:",Zc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),nt.resolve()):(Er()<=R.in.DEBUG&&Ct("QueryEngine","Query:",Zc(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Wi*l?(Er()<=R.in.DEBUG&&Ct("QueryEngine","The SDK decides to create cache indexes for query:",Zc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ms(n))):nt.resolve())}zi(e,n){if(Pu(n))return nt.resolve(null);let s=ms(n);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==n.limit&&1===l&&(n=Kc(n,null,"F"),s=ms(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(f=>{const g=Gt(...f);return this.Gi.getDocuments(e,g).next(S=>this.indexManager.getMinOffset(e,s).next(L=>{const K=this.Yi(n,S);return this.Zi(n,K,g,L.readTime)?this.zi(e,Kc(n,null,"F")):this.Xi(e,K,n,L)}))})))}ji(e,n,s,l){return Pu(n)||l.isEqual(Fn.min())?nt.resolve(null):this.Gi.getDocuments(e,s).next(f=>{const g=this.Yi(n,f);return this.Zi(n,g,s,l)?nt.resolve(null):(Er()<=R.in.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Zc(n)),this.Xi(e,g,n,gi(l,-1)).next(S=>S))})}Yi(e,n){let s=new vr(Yc(e));return n.forEach((l,f)=>{_l(e,f)&&(s=s.add(f))}),s}Zi(e,n,s,l){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const f="F"===e.limitType?n.last():n.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(l)>0)}Hi(e,n,s){return Er()<=R.in.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",Zc(n)),this.Gi.getDocumentsMatchingQuery(e,n,xo.min(),s)}Xi(e,n,s,l){return this.Gi.getDocumentsMatchingQuery(e,s,l).next(f=>(n.forEach(g=>{f=f.insert(g.key,g)}),f))}}class xl{constructor(e,n,s,l){this.persistence=e,this.es=n,this.serializer=l,this.ts=new Tr(ii),this.ns=new Ja(f=>ea(f),kl),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function fh(r,e,n,s){return new xl(r,e,n,s)}function La(r,e){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,h.Z)(function*(r,e){const n=Mt(r);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(f=>(l=f,n.os(e),n.mutationQueue.getAllMutationBatches(s))).next(f=>{const g=[],S=[];let L=Gt();for(const K of l){g.push(K.batchId);for(const se of K.mutations)L=L.add(se.key)}for(const K of f){S.push(K.batchId);for(const se of K.mutations)L=L.add(se.key)}return n.localDocuments.getDocuments(s,L).next(K=>({_s:K,removedBatchIds:g,addedBatchIds:S}))})})}),Wl.apply(this,arguments)}function zu(r){const e=Mt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Wn(r,e,n){let s=Gt(),l=Gt();return n.forEach(f=>s=s.add(f)),e.getEntries(r,s).next(f=>{let g=m();return n.forEach((S,L)=>{const K=f.get(S);L.isFoundDocument()!==K.isFoundDocument()&&(l=l.add(S)),L.isNoDocument()&&L.version.isEqual(Fn.min())?(e.removeEntry(S,L.readTime),g=g.insert(S,L)):!K.isValidDocument()||L.version.compareTo(K.version)>0||0===L.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(L),g=g.insert(S,L)):Ct("LocalStore","Ignoring outdated watch update for ",S,". Current version:",K.version," Watch version:",L.version)}),{us:g,cs:l}})}function ei(r,e){const n=Mt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function _i(r,e){const n=Mt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.qr.getTargetData(s,e).next(f=>f?(l=f,nt.resolve(l)):n.qr.allocateTargetId(s).next(g=>(l=new bl(e,g,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.ts.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(e,s.targetId)),s})}function jr(r,e,n){return ia.apply(this,arguments)}function ia(){return ia=(0,h.Z)(function*(r,e,n){const s=Mt(r),l=s.ts.get(e),f=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",f,g=>s.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!go(g))throw g;Ct("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.ts=s.ts.remove(e),s.ns.delete(l.target)}),ia.apply(this,arguments)}function Ds(r,e,n){const s=Mt(r);let l=Fn.min(),f=Gt();return s.persistence.runTransaction("Execute query","readwrite",g=>function(L,K,se){const be=Mt(L),je=be.ns.get(se);return void 0!==je?nt.resolve(be.ts.get(je)):be.qr.getTargetData(K,se)}(s,g,ms(e)).next(S=>{if(S)return l=S.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(g,S.targetId).next(L=>{f=L})}).next(()=>s.es.getDocumentsMatchingQuery(g,e,n?l:Fn.min(),n?f:Gt())).next(S=>(wc(s,Vl(e),S),{documents:S,ls:f})))}function ql(r,e){const n=Mt(r),s=Mt(n.qr),l=n.ts.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",f=>s._t(f,e).next(g=>g?g.target:null))}function ro(r,e){const n=Mt(r),s=n.rs.get(e)||Fn.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.ss.getAllFromCollectionGroup(l,e,gi(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(wc(n,e,l),l))}function wc(r,e,n){let s=r.rs.get(e)||Fn.min();n.forEach((l,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),r.rs.set(e,s)}function as(){return as=(0,h.Z)(function*(r,e,n,s){const l=Mt(r);let f=Gt(),g=m();for(const K of n){const se=e.hs(K.metadata.name);K.document&&(f=f.add(se));const be=e.Ps(K);be.setReadTime(e.Is(K.metadata.readTime)),g=g.insert(se,be)}const S=l.ss.newChangeBuffer({trackRemovals:!0}),L=yield _i(l,(se=s,ms(Xa(Zi.fromString(`__bundle__/docs/${se}`)))));var se;return l.persistence.runTransaction("Apply bundle documents","readwrite",K=>Wn(K,S,g).next(se=>(S.apply(K),se)).next(se=>l.qr.removeMatchingKeysForTargetId(K,L.targetId).next(()=>l.qr.addMatchingKeys(K,f,L.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(K,se.us,se.cs)).next(()=>se.us)))}),as.apply(this,arguments)}function du(r,e){return As.apply(this,arguments)}function As(){return As=(0,h.Z)(function*(r,e,n=Gt()){const s=yield _i(r,ms(pd(e.bundledQuery))),l=Mt(r);return l.persistence.runTransaction("Save named query","readwrite",f=>{const g=Jr(e.readTime);if(s.snapshotVersion.compareTo(g)>=0)return l.Kr.saveNamedQuery(f,e);const S=s.withResumeToken(qr.EMPTY_BYTE_STRING,g);return l.ts=l.ts.insert(S.targetId,S),l.qr.updateTargetData(f,S).next(()=>l.qr.removeMatchingKeysForTargetId(f,s.targetId)).next(()=>l.qr.addMatchingKeys(f,n,s.targetId)).next(()=>l.Kr.saveNamedQuery(f,e))})}),As.apply(this,arguments)}function $u(r,e){return`firestore_clients_${r}_${e}`}function mh(r,e,n){let s=`firestore_mutations_${r}_${n}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ip(r,e){return`firestore_targets_${r}_${e}`}class gh{constructor(e,n,s,l){this.user=e,this.batchId=n,this.state=s,this.error=l}static Ts(e,n,s){const l=JSON.parse(s);let f,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(f=new Rt(l.error.code,l.error.message))),g?new gh(e,n,l.state,f):(dr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wp{constructor(e,n,s){this.targetId=e,this.state=n,this.error=s}static Ts(e,n){const s=JSON.parse(n);let l,f="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return f&&s.error&&(f="string"==typeof s.error.message&&"string"==typeof s.error.code,f&&(l=new Rt(s.error.code,s.error.message))),f?new wp(e,s.state,l):(dr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xp{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const s=JSON.parse(n);let l="object"==typeof s&&s.activeTargetIds instanceof Array,f=os();for(let g=0;l&&g<s.activeTargetIds.length;++g)l=un(s.activeTargetIds[g]),f=f.add(s.activeTargetIds[g]);return l?new xp(e,f):(dr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Bm{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Bm(n.clientId,n.onlineState):(dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Um{constructor(){this.activeTargetIds=os()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h_{constructor(e,n,s,l,f){this.window=e,this.si=n,this.persistenceKey=s,this.Rs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Tr(ii),this.started=!1,this.ps=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.ys=$u(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new Um),this.Ss=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,h.Z)(function*(){const n=yield e.syncEngine.Bi();for(const l of n){if(l===e.Rs)continue;const f=e.getItem($u(e.persistenceKey,l));if(f){const g=xp.Ts(l,f);g&&(e.gs=e.gs.insert(g.clientId,g))}}e.Fs();const s=e.storage.getItem(e.Cs);if(s){const l=e.Ms(s);l&&e.xs(l)}for(const l of e.ps)e.fs(l);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((s,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,s){this.Ns(e,n,s),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ip(this.persistenceKey,e));if(s){const l=wp.Ts(e,s);l&&(n=l.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ip(this.persistenceKey,e))}updateQueryState(e,n,s){this.ks(e,n,s)}handleUserChange(e,n,s){n.forEach(l=>{this.Bs(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Ct("SharedClientState","READ",e,n),n}setItem(e,n){Ct("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Ct("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const s=e;if(s.storageArea===this.storage){if(Ct("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ys)return void dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,h.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ss.test(s.key)){if(null==s.newValue){const l=n.Ks(s.key);return n.$s(l,null)}{const l=n.Us(s.key,s.newValue);if(l)return n.$s(l.clientId,l)}}else if(n.bs.test(s.key)){if(null!==s.newValue){const l=n.Ws(s.key,s.newValue);if(l)return n.Gs(l)}}else if(n.Ds.test(s.key)){if(null!==s.newValue){const l=n.zs(s.key,s.newValue);if(l)return n.js(l)}}else if(s.key===n.Cs){if(null!==s.newValue){const l=n.Ms(s.newValue);if(l)return n.xs(l)}}else if(s.key===n.ws){const l=function(g){let S=De._e;if(null!=g)try{const L=JSON.parse(g);Cn("number"==typeof L),S=L}catch(L){dr("SharedClientState","Failed to read sequence number from WebStorage",L)}return S}(s.newValue);l!==De._e&&n.sequenceNumberHandler(l)}else if(s.key===n.vs){const l=n.Hs(s.newValue);yield Promise.all(l.map(f=>n.syncEngine.Js(f)))}}else n.ps.push(s)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,s){const l=new gh(this.currentUser,e,n,s),f=mh(this.persistenceKey,this.currentUser,e);this.setItem(f,l.Es())}Bs(e){const n=mh(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,s){const l=Ip(this.persistenceKey,e),f=new wp(e,n,s);this.setItem(l,f.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const s=this.Ks(e);return xp.Ts(s,n)}Ws(e,n){const s=this.bs.exec(e),l=Number(s[1]);return gh.Ts(new On(void 0!==s[2]?s[2]:null),l,n)}zs(e,n){const s=this.Ds.exec(e),l=Number(s[1]);return wp.Ts(l,n)}Ms(e){return Bm.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,h.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);Ct("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const s=n?this.gs.insert(e,n):this.gs.remove(e),l=this.Os(this.gs),f=this.Os(s),g=[],S=[];return f.forEach(L=>{l.has(L)||g.push(L)}),l.forEach(L=>{f.has(L)||S.push(L)}),this.syncEngine.Xs(g,S).then(()=>{this.gs=s})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=os();return e.forEach((s,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class Hv{constructor(){this.eo=new Um,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,s){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Um,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Tp{ro(e){}shutdown(){}}class f_{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _h=null;function yf(){return null===_h?_h=268435456+Math.round(2147483648*Math.random()):_h++,"0x"+_h.toString(16)}const vh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jm{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ss="WebChannelConnection";class bf extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${l}/databases/${f}`,this.po="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${f}`}get yo(){return!1}wo(n,s,l,f,g){const S=yf(),L=this.So(n,s);Ct("RestConnection",`Sending RPC '${n}' ${S}:`,L,l);const K={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(K,f,g),this.Do(n,L,K,l).then(se=>(Ct("RestConnection",`Received RPC '${n}' ${S}: `,se),se),se=>{throw Ir("RestConnection",`RPC '${n}' ${S} failed with error: `,se,"url: ",L,"request:",l),se})}Co(n,s,l,f,g,S){return this.wo(n,s,l,f,g)}bo(n,s,l){n["X-Goog-Api-Client"]="gl-js/ fire/"+gr,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,g)=>n[g]=f),l&&l.headers.forEach((f,g)=>n[g]=f)}So(n,s){return`${this.mo}/v1/${s}:${vh[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,s,l){const f=yf();return new Promise((g,S)=>{const L=new In;L.setWithCredentials(!0),L.listenOnce(z.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case re.NO_ERROR:const se=L.getResponseJson();Ct(Ss,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(se)),g(se);break;case re.TIMEOUT:Ct(Ss,`RPC '${e}' ${f} timed out`),S(new Rt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case re.HTTP_ERROR:const be=L.getStatus();if(Ct(Ss,`RPC '${e}' ${f} failed with status:`,be,"response text:",L.getResponseText()),be>0){let je=L.getResponseJson();Array.isArray(je)&&(je=je[0]);const ut=je?.error;if(ut&&ut.status&&ut.message){const Zt=function(sn){const oi=sn.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(oi)>=0?oi:gt.UNKNOWN}(ut.status);S(new Rt(Zt,ut.message))}else S(new Rt(gt.UNKNOWN,"Server responded with status "+L.getStatus()))}else S(new Rt(gt.UNAVAILABLE,"Connection failed."));break;default:zt()}}finally{Ct(Ss,`RPC '${e}' ${f} completed.`)}});const K=JSON.stringify(l);Ct(Ss,`RPC '${e}' ${f} sending request:`,l),L.send(n,"POST",K,s,15)})}vo(e,n,s){const l=yf(),f=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=ca(),S=D(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(L.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(L.xmlHttpFactory=new ht({})),this.bo(L.initMessageHeaders,n,s),L.encodeInitMessageHeaders=!0;const se=f.join("");Ct(Ss,`Creating RPC '${e}' stream ${l}: ${se}`,L);const be=g.createWebChannel(se,L);let je=!1,ut=!1;const Zt=new jm({co:sn=>{ut?Ct(Ss,`Not sending because RPC '${e}' stream ${l} is closed:`,sn):(je||(Ct(Ss,`Opening RPC '${e}' stream ${l} transport.`),be.open(),je=!0),Ct(Ss,`RPC '${e}' stream ${l} sending:`,sn),be.send(sn))},lo:()=>be.close()}),on=(sn,oi,hi)=>{sn.listen(oi,ci=>{try{hi(ci)}catch(ti){setTimeout(()=>{throw ti},0)}})};return on(be,It.EventType.OPEN,()=>{ut||Ct(Ss,`RPC '${e}' stream ${l} transport opened.`)}),on(be,It.EventType.CLOSE,()=>{ut||(ut=!0,Ct(Ss,`RPC '${e}' stream ${l} transport closed`),Zt.Ro())}),on(be,It.EventType.ERROR,sn=>{ut||(ut=!0,Ir(Ss,`RPC '${e}' stream ${l} transport errored:`,sn),Zt.Ro(new Rt(gt.UNAVAILABLE,"The operation could not be completed")))}),on(be,It.EventType.MESSAGE,sn=>{var oi;if(!ut){const hi=sn.data[0];Cn(!!hi);const ti=hi.error||(null===(oi=hi[0])||void 0===oi?void 0:oi.error);if(ti){Ct(Ss,`RPC '${e}' stream ${l} received error:`,ti);const eo=ti.status;let Hr=function(Xy){const Wg=Jo[Xy];if(void 0!==Wg)return op(Wg)}(eo),Ms=ti.message;void 0===Hr&&(Hr=gt.INTERNAL,Ms="Unknown error status: "+eo+" with message "+ti.message),ut=!0,Zt.Ro(new Rt(Hr,Ms)),be.close()}else Ct(Ss,`RPC '${e}' stream ${l} received:`,hi),Zt.Vo(hi)}}),on(S,X.STAT_EVENT,sn=>{sn.stat===Re.PROXY?Ct(Ss,`RPC '${e}' stream ${l} detected buffering proxy`):sn.stat===Re.NOPROXY&&Ct(Ss,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Zt.Ao()},0),Zt}}function Ef(){return typeof window<"u"?window:null}function hu(){return typeof document<"u"?document:null}function yd(r){return new Am(r,!0)}class If{constructor(e,n,s=1e3,l=1.5,f=6e4){this.si=e,this.timerId=n,this.Fo=s,this.Mo=l,this.xo=f,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),l=Math.max(0,n-s);l>0&&Ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,l,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class wf{constructor(e,n,s,l,f,g,S,L){this.si=e,this.Ko=s,this.$o=l,this.connection=f,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=S,this.listener=L,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new If(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,h.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,h.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var s=this;return(0,h.Z)(function*(){s.t_(),s.n_(),s.zo.cancel(),s.Uo++,4!==e?s.zo.reset():n&&n.code===gt.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),s.zo.Lo()):n&&n.code===gt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.r_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Uo===n&&this.s_(s,l)},s=>{e(()=>{const l=new Rt(gt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(l)})})}s_(e,n){const s=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(l=>{s(()=>this.o_(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Jo(){var e=this;this.state=5,this.zo.ko((0,h.Z)(function*(){e.state=0,e.start()}))}o_(e){return Ct("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ub extends wf{constructor(e,n,s,l,f,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,g),this.serializer=f}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function o_(r,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:zt(),l=e.targetChange.targetIds||[],f=function(K,se){return K.useProto3Json?(Cn(void 0===se||"string"==typeof se),qr.fromBase64String(se||"")):(Cn(void 0===se||se instanceof Uint8Array),qr.fromUint8Array(se||new Uint8Array))}(r,e.targetChange.resumeToken),g=e.targetChange.cause,S=g&&function(K){const se=void 0===K.code?gt.UNKNOWN:op(K.code);return new Rt(se,K.message||"")}(g);n=new sp(s,l,f,S||null)}else if("documentChange"in e){const s=e.documentChange,l=Hs(r,s.document.name),f=Jr(s.document.updateTime),g=s.document.createTime?Jr(s.document.createTime):Fn.min(),S=new io({mapValue:{fields:s.document.fields}}),L=Ur.newFoundDocument(l,f,g,S);n=new Qh(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,l=Hs(r,s.document),f=s.readTime?Jr(s.readTime):Fn.min(),g=Ur.newNoDocument(l,f);n=new Qh([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,l=Hs(r,s.document);n=new Qh([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return zt();{const s=e.filter,{count:l=0,unchangedNames:f}=s,g=new r_(l,f);n=new Xh(s.targetId,g)}}var K;return n}(this.serializer,e),s=function(f){if(!("targetChange"in f))return Fn.min();const g=f.targetChange;return g.targetIds&&g.targetIds.length?Fn.min():g.readTime?Jr(g.readTime):Fn.min()}(e);return this.listener.a_(n,s)}u_(e){const n={};n.database=tu(this.serializer),n.addTarget=function(f,g){let S;const L=g.target;if(S=qc(L)?{documents:Xd(f,L)}:{query:dp(f,L)},S.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){S.resumeToken=tf(f,g.resumeToken);const K=yc(f,g.expectedCount);null!==K&&(S.expectedCount=K)}else if(g.snapshotVersion.compareTo(Fn.min())>0){S.readTime=Xc(f,g.snapshotVersion.toTimestamp());const K=yc(f,g.expectedCount);null!==K&&(S.expectedCount=K)}return S}(this.serializer,e);const s=function Bu(r,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.e_(n)}c_(e){const n={};n.database=tu(this.serializer),n.removeTarget=e,this.e_(n)}}class Hm extends wf{constructor(e,n,s,l,f,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,g),this.serializer=f,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function nf(r,e){return r&&r.length>0?(Cn(void 0!==e),r.map(n=>function(l,f){let g=Jr(l.updateTime?l.updateTime:f);return g.isEqual(Fn.min())&&(g=Jr(f)),new Bv(g,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=Jr(e.commitTime);return this.listener.I_(s,n)}return Cn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=tu(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>nu(this.serializer,s))};this.e_(n)}}class xf extends class{}{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.d_=!1}A_(){if(this.d_)throw new Rt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.wo(e,n,s,l,f)).catch(l=>{throw"FirebaseError"===l.name?(l.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Rt(gt.UNKNOWN,l.toString())})}Co(e,n,s,l){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Co(e,n,s,f,g,l)).catch(f=>{throw"FirebaseError"===f.name?(f.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Rt(gt.UNKNOWN,f.toString())})}terminate(){this.d_=!0}}class $v{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(dr(n),this.f_=!1):Ct("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Gv{constructor(e,n,s,l,f){var g=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=f,this.F_.ro(S=>{s.enqueueAndForget((0,h.Z)(function*(){var L;xc(g)&&(Ct("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,h.Z)(function*(se){const be=Mt(se);be.C_.add(4),yield yh(be),be.M_.set("Unknown"),be.C_.delete(4),yield bd(be)}),function K(se){return L.apply(this,arguments)})(g))}))}),this.M_=new $v(s,l)}}function bd(r){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,h.Z)(function*(r){if(xc(r))for(const e of r.v_)yield e(!0)}),Dp.apply(this,arguments)}function yh(r){return zm.apply(this,arguments)}function zm(){return zm=(0,h.Z)(function*(r){for(const e of r.v_)yield e(!1)}),zm.apply(this,arguments)}function $m(r,e){const n=Mt(r);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Sp(n)?Gm(n):Eh(n).Ho()&&bh(n,e))}function Tf(r,e){const n=Mt(r),s=Eh(n);n.D_.delete(e),s.Ho()&&Ap(n,e),0===n.D_.size&&(s.Ho()?s.Zo():xc(n)&&n.M_.set("Unknown"))}function bh(r,e){if(r.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fn.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eh(r).u_(e)}function Ap(r,e){r.x_.Oe(e),Eh(r).c_(e)}function Gm(r){r.x_=new Dm({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>r.D_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),Eh(r).start(),r.M_.g_()}function Sp(r){return xc(r)&&!Eh(r).jo()&&r.D_.size>0}function xc(r){return 0===Mt(r).C_.size}function Cf(r){r.x_=void 0}function Wv(r){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,h.Z)(function*(r){r.D_.forEach((e,n)=>{bh(r,e)})}),Rp.apply(this,arguments)}function qv(r,e){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,h.Z)(function*(r,e){Cf(r),Sp(r)?(r.M_.w_(e),Gm(r)):r.M_.set("Unknown")}),Mp.apply(this,arguments)}function jb(r,e,n){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,h.Z)(function*(r,e,n){if(r.M_.set("Online"),e instanceof sp&&2===e.state&&e.cause)try{yield(s=(0,h.Z)(function*(f,g){const S=g.cause;for(const L of g.targetIds)f.D_.has(L)&&(yield f.remoteSyncer.rejectListen(L,S),f.D_.delete(L),f.x_.removeTarget(L))}),function l(f,g){return s.apply(this,arguments)})(r,e)}catch(s){Ct("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Gu(r,s)}else if(e instanceof Qh?r.x_.$e(e):e instanceof Xh?r.x_.Je(e):r.x_.Ge(e),!n.isEqual(Fn.min()))try{const s=yield zu(r.localStore);n.compareTo(s)>=0&&(yield function(f,g){const S=f.x_.it(g);return S.targetChanges.forEach((L,K)=>{if(L.resumeToken.approximateByteSize()>0){const se=f.D_.get(K);se&&f.D_.set(K,se.withResumeToken(L.resumeToken,g))}}),S.targetMismatches.forEach((L,K)=>{const se=f.D_.get(L);if(!se)return;f.D_.set(L,se.withResumeToken(qr.EMPTY_BYTE_STRING,se.snapshotVersion)),Ap(f,L);const be=new bl(se.target,L,K,se.sequenceNumber);bh(f,be)}),f.remoteSyncer.applyRemoteEvent(S)}(r,n))}catch(s){Ct("RemoteStore","Failed to raise snapshot:",s),yield Gu(r,s)}var s}),Wm.apply(this,arguments)}function Gu(r,e,n){return qm.apply(this,arguments)}function qm(){return qm=(0,h.Z)(function*(r,e,n){if(!go(e))throw e;r.C_.add(1),yield yh(r),r.M_.set("Offline"),n||(n=()=>zu(r.localStore)),r.asyncQueue.enqueueRetryable((0,h.Z)(function*(){Ct("RemoteStore","Retrying IndexedDB access"),yield n(),r.C_.delete(1),yield bd(r)}))}),qm.apply(this,arguments)}function Ed(r,e){return e().catch(n=>Gu(r,n,e))}function Tc(r){return Km.apply(this,arguments)}function Km(){return Km=(0,h.Z)(function*(r){const e=Mt(r),n=Id(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;p_(e);)try{const l=yield ei(e.localStore,s);if(null===l){0===e.b_.length&&n.Zo();break}s=l.batchId,Kv(e,l)}catch(l){yield Gu(e,l)}m_(e)&&g_(e)}),Km.apply(this,arguments)}function p_(r){return xc(r)&&r.b_.length<10}function Kv(r,e){r.b_.push(e);const n=Id(r);n.Ho()&&n.h_&&n.P_(e.mutations)}function m_(r){return xc(r)&&!Id(r).jo()&&r.b_.length>0}function g_(r){Id(r).start()}function __(r){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,h.Z)(function*(r){Id(r).E_()}),Pp.apply(this,arguments)}function Zm(r){return v_.apply(this,arguments)}function v_(){return v_=(0,h.Z)(function*(r){const e=Id(r);for(const n of r.b_)e.P_(n.mutations)}),v_.apply(this,arguments)}function Ym(r,e,n){return Op.apply(this,arguments)}function Op(){return Op=(0,h.Z)(function*(r,e,n){const s=r.b_.shift(),l=ip.from(s,e,n);yield Ed(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),yield Tc(r)}),Op.apply(this,arguments)}function Zv(r,e){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,h.Z)(function*(r,e){var n;e&&Id(r).h_&&(yield(n=(0,h.Z)(function*(l,f){if(Kh(S=f.code)&&S!==gt.ABORTED){const g=l.b_.shift();Id(l).Yo(),yield Ed(l,()=>l.remoteSyncer.rejectFailedWrite(g.batchId,f)),yield Tc(l)}var S}),function s(l,f){return n.apply(this,arguments)})(r,e)),m_(r)&&g_(r)}),Qm.apply(this,arguments)}function Xm(r,e){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,h.Z)(function*(r,e){const n=Mt(r);n.asyncQueue.verifyOperationInProgress(),Ct("RemoteStore","RemoteStore received new credentials");const s=xc(n);n.C_.add(3),yield yh(n),s&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield bd(n)}),Jm.apply(this,arguments)}function Np(r,e){return eg.apply(this,arguments)}function eg(){return eg=(0,h.Z)(function*(r,e){const n=Mt(r);e?(n.C_.delete(2),yield bd(n)):e||(n.C_.add(2),yield yh(n),n.M_.set("Unknown"))}),eg.apply(this,arguments)}function Eh(r){return r.O_||(r.O_=function(n,s,l){const f=Mt(n);return f.A_(),new Ub(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,l)}(r.datastore,r.asyncQueue,{ho:Wv.bind(null,r),Io:qv.bind(null,r),a_:jb.bind(null,r)}),r.v_.push(function(){var e=(0,h.Z)(function*(n){n?(r.O_.Yo(),Sp(r)?Gm(r):r.M_.set("Unknown")):(yield r.O_.stop(),Cf(r))});return function(n){return e.apply(this,arguments)}}())),r.O_}function Id(r){return r.N_||(r.N_=function(n,s,l){const f=Mt(n);return f.A_(),new Hm(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,l)}(r.datastore,r.asyncQueue,{ho:__.bind(null,r),Io:Zv.bind(null,r),T_:Zm.bind(null,r),I_:Ym.bind(null,r)}),r.v_.push(function(){var e=(0,h.Z)(function*(n){n?(r.N_.Yo(),yield Tc(r)):(yield r.N_.stop(),r.b_.length>0&&(Ct("RemoteStore",`Stopping write stream with ${r.b_.length} pending writes`),r.b_=[]))});return function(n){return e.apply(this,arguments)}}())),r.N_}class kp{constructor(e,n,s,l,f){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=f,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,f){const g=Date.now()+s,S=new kp(e,n,g,l,f);return S.start(s),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rt(gt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wd(r,e){if(dr("AsyncQueue",`${e}: ${r}`),go(r))return new Rt(gt.UNAVAILABLE,`${e}: ${r}`);throw r}class ra{constructor(e){this.comparator=e?(n,s)=>e(n,s)||nn.comparator(n.key,s.key):(n,s)=>nn.comparator(n.key,s.key),this.keyedMap=C(),this.sortedSet=new Tr(this.comparator)}static emptySet(e){return new ra(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ra)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,f=s.getNext().key;if(!l.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new ra;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class tg{constructor(){this.B_=new Tr(nn.comparator)}track(e){const n=e.doc.key,s=this.B_.get(n);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(n):1===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):zt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Df{constructor(e,n,s,l,f,g,S,L,K){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=f,this.fromCache=g,this.syncStateChanged=S,this.excludesMetadataChanges=L,this.hasCachedResults=K}static fromInitialDocuments(e,n,s,l,f){const g=[];return n.forEach(S=>{g.push({type:0,doc:S})}),new Df(e,n,ra.emptySet(n),g,s,l,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ll(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class ng{constructor(){this.k_=void 0,this.listeners=[]}}class Wu{constructor(){this.queries=new Ja(e=>ku(e),Ll),this.onlineState="Unknown",this.q_=new Set}}function Af(r,e){return ig.apply(this,arguments)}function ig(){return ig=(0,h.Z)(function*(r,e){const n=Mt(r),s=e.query;let l=!1,f=n.queries.get(s);if(f||(l=!0,f=new ng),l)try{f.k_=yield n.onListen(s)}catch(g){const S=wd(g,`Initialization of query '${Zc(e.query)}' failed`);return void e.onError(S)}n.queries.set(s,f),f.listeners.push(e),e.Q_(n.onlineState),f.k_&&e.K_(f.k_)&&Fp(n)}),ig.apply(this,arguments)}function y_(r,e){return rg.apply(this,arguments)}function rg(){return rg=(0,h.Z)(function*(r,e){const n=Mt(r),s=e.query;let l=!1;const f=n.queries.get(s);if(f){const g=f.listeners.indexOf(e);g>=0&&(f.listeners.splice(g,1),l=0===f.listeners.length)}if(l)return n.queries.delete(s),n.onUnlisten(s)}),rg.apply(this,arguments)}function og(r,e){const n=Mt(r);let s=!1;for(const l of e){const g=n.queries.get(l.query);if(g){for(const S of g.listeners)S.K_(l)&&(s=!0);g.k_=l}}s&&Fp(n)}function Cc(r,e,n){const s=Mt(r),l=s.queries.get(e);if(l)for(const f of l.listeners)f.onError(n);s.queries.delete(e)}function Fp(r){r.q_.forEach(e=>{e.next()})}class sg{constructor(e,n,s){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Df(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Df.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Hb{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class gs{constructor(e){this.serializer=e}hs(e){return Hs(this.serializer,e)}Ps(e){return e.metadata.exists?Rm(this.serializer,e.document,!1):Ur.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Jr(e)}}class Yv{constructor(e,n,s){this.X_=e,this.localStore=n,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Lp(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const s=Zi.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,s=new gs(this.serializer);for(const l of e)if(l.metadata.queries){const f=s.hs(l.metadata.name);for(const g of l.metadata.queries){const S=(n.get(g)||Gt()).add(f);n.set(g,S)}}return n}complete(){var e=this;return(0,h.Z)(function*(){const n=yield function Vm(r,e,n,s){return as.apply(this,arguments)}(e.localStore,new gs(e.serializer),e.documents,e.X_.id),s=e.ta(e.documents);for(const l of e.queries)yield du(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function Lp(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class b_{constructor(e){this.key=e}}class E_{constructor(e){this.key=e}}class Vp{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Gt(),this.mutatedKeys=Gt(),this._a=Yc(e),this.aa=new ra(this._a)}get ua(){return this.ia}ca(e,n){const s=n?n.la:new tg,l=n?n.aa:this.aa;let f=n?n.mutatedKeys:this.mutatedKeys,g=l,S=!1;const L="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,K="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((se,be)=>{const je=l.get(se),ut=_l(this.query,be)?be:null,Zt=!!je&&this.mutatedKeys.has(je.key),on=!!ut&&(ut.hasLocalMutations||this.mutatedKeys.has(ut.key)&&ut.hasCommittedMutations);let sn=!1;je&&ut?je.data.isEqual(ut.data)?Zt!==on&&(s.track({type:3,doc:ut}),sn=!0):this.ha(je,ut)||(s.track({type:2,doc:ut}),sn=!0,(L&&this._a(ut,L)>0||K&&this._a(ut,K)<0)&&(S=!0)):!je&&ut?(s.track({type:0,doc:ut}),sn=!0):je&&!ut&&(s.track({type:1,doc:je}),sn=!0,(L||K)&&(S=!0)),sn&&(ut?(g=g.add(ut),f=on?f.add(se):f.delete(se)):(g=g.delete(se),f=f.delete(se)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const se="F"===this.query.limitType?g.last():g.first();g=g.delete(se.key),f=f.delete(se.key),s.track({type:1,doc:se})}return{aa:g,la:s,Zi:S,mutatedKeys:f}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const l=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const f=e.la.L_();f.sort((K,se)=>function(je,ut){const Zt=on=>{switch(on){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt()}};return Zt(je)-Zt(ut)}(K.type,se.type)||this._a(K.doc,se.doc)),this.Pa(s);const g=n?this.Ia():[],S=0===this.oa.size&&this.current?1:0,L=S!==this.sa;return this.sa=S,0!==f.length||L?{snapshot:new Df(this.query,e.aa,l,f,e.mutatedKeys,0===S,L,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:g}:{Ta:g}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new tg,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Gt(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return e.forEach(s=>{this.oa.has(s)||n.push(new E_(s))}),this.oa.forEach(s=>{e.has(s)||n.push(new b_(s))}),n}da(e){this.ia=e.ls,this.oa=Gt();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Df.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class I_{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class w_{constructor(e){this.key=e,this.Ra=!1}}class Qv{constructor(e,n,s,l,f,g){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=f,this.maxConcurrentLimboResolutions=g,this.Va={},this.ma=new Ja(S=>ku(S),Ll),this.fa=new Map,this.ga=new Set,this.pa=new Tr(nn.comparator),this.ya=new Map,this.wa=new ne,this.Sa={},this.ba=new Map,this.Da=cu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function x_(r,e){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,h.Z)(function*(r,e){const n=Mf(r);let s,l;const f=n.ma.get(e);if(f)s=f.targetId,n.sharedClientState.addLocalQueryTarget(s),l=f.view.Aa();else{const g=yield _i(n.localStore,ms(e)),S=n.sharedClientState.addLocalQueryTarget(g.targetId);s=g.targetId,l=yield ag(n,e,s,"current"===S,g.resumeToken),n.isPrimaryClient&&$m(n.remoteStore,g)}return l}),Bp.apply(this,arguments)}function ag(r,e,n,s,l){return lg.apply(this,arguments)}function lg(){return lg=(0,h.Z)(function*(r,e,n,s,l){r.va=(be,je,ut)=>{return(Zt=(0,h.Z)(function*(sn,oi,hi,ci){let ti=oi.view.ca(hi);ti.Zi&&(ti=yield Ds(sn.localStore,oi.query,!1).then(({documents:Ms})=>oi.view.ca(Ms,ti)));const eo=ci&&ci.targetChanges.get(oi.targetId),Hr=oi.view.applyChanges(ti,sn.isPrimaryClient,eo);return A_(sn,oi.targetId,Hr.Ta),Hr.snapshot}),function on(sn,oi,hi,ci){return Zt.apply(this,arguments)})(r,be,je,ut);var Zt};const f=yield Ds(r.localStore,e,!0),g=new Vp(e,f.ls),S=g.ca(f.documents),L=na.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==r.onlineState,l),K=g.applyChanges(S,r.isPrimaryClient,L);A_(r,n,K.Ta);const se=new I_(e,n,g);return r.ma.set(e,se),r.fa.has(n)?r.fa.get(n).push(e):r.fa.set(n,[e]),K.snapshot}),lg.apply(this,arguments)}function Xv(r,e){return Up.apply(this,arguments)}function Up(){return Up=(0,h.Z)(function*(r,e){const n=Mt(r),s=n.ma.get(e),l=n.fa.get(s.targetId);if(l.length>1)return n.fa.set(s.targetId,l.filter(f=>!Ll(f,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield jr(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Tf(n.remoteStore,s.targetId),wh(n,s.targetId)}).catch(Yr))):(wh(n,s.targetId),yield jr(n.localStore,s.targetId,!0))}),Up.apply(this,arguments)}function Kl(){return Kl=(0,h.Z)(function*(r,e,n){const s=Pf(r);try{const l=yield function(g,S){const L=Mt(g),K=pn.now(),se=S.reduce((ut,Zt)=>ut.add(Zt.key),Gt());let be,je;return L.persistence.runTransaction("Locally write mutations","readwrite",ut=>{let Zt=m(),on=Gt();return L.ss.getEntries(ut,se).next(sn=>{Zt=sn,Zt.forEach((oi,hi)=>{hi.isValidDocument()||(on=on.add(oi))})}).next(()=>L.localDocuments.getOverlayedDocuments(ut,Zt)).next(sn=>{be=sn;const oi=[];for(const hi of S){const ci=Cm(hi,be.get(hi.key).overlayedDocument);null!=ci&&oi.push(new jl(hi.key,ci,Bd(ci.value.mapValue),Co.exists(!0)))}return L.mutationQueue.addMutationBatch(ut,K,oi,S)}).next(sn=>{je=sn;const oi=sn.applyToLocalDocumentSet(be,on);return L.documentOverlayCache.saveOverlays(ut,sn.batchId,oi)})}).then(()=>({batchId:je.batchId,changes:Q(be)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(g,S,L){let K=g.Sa[g.currentUser.toKey()];K||(K=new Tr(ii)),K=K.insert(S,L),g.Sa[g.currentUser.toKey()]=K}(s,l.batchId,n),yield qu(s,l.changes),yield Tc(s.remoteStore)}catch(l){const f=wd(l,"Failed to persist write");n.reject(f)}}),Kl.apply(this,arguments)}function xd(r,e){return cg.apply(this,arguments)}function cg(){return cg=(0,h.Z)(function*(r,e){const n=Mt(r);try{const s=yield function jn(r,e){const n=Mt(r),s=e.snapshotVersion;let l=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const g=n.ss.newChangeBuffer({trackRemovals:!0});l=n.ts;const S=[];e.targetChanges.forEach((se,be)=>{const je=l.get(be);if(!je)return;S.push(n.qr.removeMatchingKeys(f,se.removedDocuments,be).next(()=>n.qr.addMatchingKeys(f,se.addedDocuments,be)));let ut=je.withSequenceNumber(f.currentSequenceNumber);var on,sn,oi;null!==e.targetMismatches.get(be)?ut=ut.withResumeToken(qr.EMPTY_BYTE_STRING,Fn.min()).withLastLimboFreeSnapshotVersion(Fn.min()):se.resumeToken.approximateByteSize()>0&&(ut=ut.withResumeToken(se.resumeToken,s)),l=l.insert(be,ut),sn=ut,oi=se,(0===(on=je).resumeToken.approximateByteSize()||sn.snapshotVersion.toMicroseconds()-on.snapshotVersion.toMicroseconds()>=3e8||oi.addedDocuments.size+oi.modifiedDocuments.size+oi.removedDocuments.size>0)&&S.push(n.qr.updateTargetData(f,ut))});let L=m(),K=Gt();if(e.documentUpdates.forEach(se=>{e.resolvedLimboDocuments.has(se)&&S.push(n.persistence.referenceDelegate.updateLimboDocument(f,se))}),S.push(Wn(f,g,e.documentUpdates).next(se=>{L=se.us,K=se.cs})),!s.isEqual(Fn.min())){const se=n.qr.getLastRemoteSnapshotVersion(f).next(be=>n.qr.setTargetsMetadata(f,f.currentSequenceNumber,s));S.push(se)}return nt.waitFor(S).next(()=>g.apply(f)).next(()=>n.localDocuments.getLocalViewOfDocuments(f,L,K)).next(()=>L)}).then(f=>(n.ts=l,f))}(n.localStore,e);e.targetChanges.forEach((l,f)=>{const g=n.ya.get(f);g&&(Cn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.Ra=!0:l.modifiedDocuments.size>0?Cn(g.Ra):l.removedDocuments.size>0&&(Cn(g.Ra),g.Ra=!1))}),yield qu(n,s,e)}catch(s){yield Yr(s)}}),cg.apply(this,arguments)}function T_(r,e,n){const s=Mt(r);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const l=[];s.ma.forEach((f,g)=>{const S=g.view.Q_(e);S.snapshot&&l.push(S.snapshot)}),function(g,S){const L=Mt(g);L.onlineState=S;let K=!1;L.queries.forEach((se,be)=>{for(const je of be.listeners)je.Q_(S)&&(K=!0)}),K&&Fp(L)}(s.eventManager,e),l.length&&s.Va.a_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function C_(r,e,n){return jp.apply(this,arguments)}function jp(){return jp=(0,h.Z)(function*(r,e,n){const s=Mt(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.ya.get(e),f=l&&l.key;if(f){let g=new Tr(nn.comparator);g=g.insert(f,Ur.newNoDocument(f,Fn.min()));const S=Gt().add(f),L=new _c(Fn.min(),new Map,new Tr(ii),g,S);yield xd(s,L),s.pa=s.pa.remove(f),s.ya.delete(e),S_(s)}else yield jr(s.localStore,e,!1).then(()=>wh(s,e,n)).catch(Yr)}),jp.apply(this,arguments)}function ug(r,e){return Td.apply(this,arguments)}function Td(){return Td=(0,h.Z)(function*(r,e){const n=Mt(r),s=e.batch.batchId;try{const l=yield function ph(r,e){const n=Mt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),f=n.ss.newChangeBuffer({trackRemovals:!0});return function(S,L,K,se){const be=K.batch,je=be.keys();let ut=nt.resolve();return je.forEach(Zt=>{ut=ut.next(()=>se.getEntry(L,Zt)).next(on=>{const sn=K.docVersions.get(Zt);Cn(null!==sn),on.version.compareTo(sn)<0&&(be.applyToRemoteDocument(on,K),on.isValidDocument()&&(on.setReadTime(K.commitVersion),se.addEntry(on)))})}),ut.next(()=>S.mutationQueue.removeMutationBatch(L,be))}(n,s,e,f).next(()=>f.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(S){let L=Gt();for(let K=0;K<S.mutationResults.length;++K)S.mutationResults[K].transformResults.length>0&&(L=L.add(S.batch.mutations[K].key));return L}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}(n.localStore,e);fg(n,s,null),hg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield qu(n,l)}catch(l){yield Yr(l)}}),Td.apply(this,arguments)}function Hp(r,e,n){return zp.apply(this,arguments)}function zp(){return zp=(0,h.Z)(function*(r,e,n){const s=Mt(r);try{const l=yield function(g,S){const L=Mt(g);return L.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let se;return L.mutationQueue.lookupMutationBatch(K,S).next(be=>(Cn(null!==be),se=be.keys(),L.mutationQueue.removeMutationBatch(K,be))).next(()=>L.mutationQueue.performConsistencyCheck(K)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(K,se,S)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,se)).next(()=>L.localDocuments.getDocuments(K,se))})}(s.localStore,e);fg(s,e,n),hg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield qu(s,l)}catch(l){yield Yr(l)}}),zp.apply(this,arguments)}function dg(){return dg=(0,h.Z)(function*(r,e){const n=Mt(r);xc(n.remoteStore)||Ct("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(g){const S=Mt(g);return S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>S.mutationQueue.getHighestUnacknowledgedBatchId(L))}(n.localStore);if(-1===s)return void e.resolve();const l=n.ba.get(s)||[];l.push(e),n.ba.set(s,l)}catch(s){const l=wd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),dg.apply(this,arguments)}function hg(r,e){(r.ba.get(e)||[]).forEach(n=>{n.resolve()}),r.ba.delete(e)}function fg(r,e,n){const s=Mt(r);let l=s.Sa[s.currentUser.toKey()];if(l){const f=l.get(e);f&&(n?f.reject(n):f.resolve(),l=l.remove(e)),s.Sa[s.currentUser.toKey()]=l}}function wh(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.fa.get(e))r.ma.delete(s),n&&r.Va.Fa(s,n);r.fa.delete(e),r.isPrimaryClient&&r.wa.Rr(e).forEach(s=>{r.wa.containsKey(s)||pg(r,s)})}function pg(r,e){r.ga.delete(e.path.canonicalString());const n=r.pa.get(e);null!==n&&(Tf(r.remoteStore,n),r.pa=r.pa.remove(e),r.ya.delete(n),S_(r))}function A_(r,e,n){for(const s of n)s instanceof b_?(r.wa.addReference(s.key,e),Jv(r,s)):s instanceof E_?(Ct("SyncEngine","Document no longer in limbo: "+s.key),r.wa.removeReference(s.key,e),r.wa.containsKey(s.key)||pg(r,s.key)):zt()}function Jv(r,e){const n=e.key,s=n.path.canonicalString();r.pa.get(n)||r.ga.has(s)||(Ct("SyncEngine","New document in limbo: "+n),r.ga.add(s),S_(r))}function S_(r){for(;r.ga.size>0&&r.pa.size<r.maxConcurrentLimboResolutions;){const e=r.ga.values().next().value;r.ga.delete(e);const n=new nn(Zi.fromString(e)),s=r.Da.next();r.ya.set(s,new w_(n)),r.pa=r.pa.insert(n,s),$m(r.remoteStore,new bl(ms(Xa(n.path)),s,"TargetPurposeLimboResolution",De._e))}}function qu(r,e,n){return $p.apply(this,arguments)}function $p(){return $p=(0,h.Z)(function*(r,e,n){const s=Mt(r),l=[],f=[],g=[];var S;s.ma.isEmpty()||(s.ma.forEach((S,L)=>{g.push(s.va(L,e,n).then(K=>{if((K||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,K?.fromCache?"not-current":"current"),K){l.push(K);const se=co.Qi(L.targetId,K);f.push(se)}}))}),yield Promise.all(g),s.Va.a_(l),yield(S=(0,h.Z)(function*(K,se){const be=Mt(K);try{yield be.persistence.runTransaction("notifyLocalViewChanges","readwrite",je=>nt.forEach(se,ut=>nt.forEach(ut.ki,Zt=>be.persistence.referenceDelegate.addReference(je,ut.targetId,Zt)).next(()=>nt.forEach(ut.qi,Zt=>be.persistence.referenceDelegate.removeReference(je,ut.targetId,Zt)))))}catch(je){if(!go(je))throw je;Ct("LocalStore","Failed to update sequence numbers: "+je)}for(const je of se){const ut=je.targetId;if(!je.fromCache){const Zt=be.ts.get(ut),sn=Zt.withLastLimboFreeSnapshotVersion(Zt.snapshotVersion);be.ts=be.ts.insert(ut,sn)}}}),function L(K,se){return S.apply(this,arguments)})(s.localStore,f))}),$p.apply(this,arguments)}function R_(r,e){return M_.apply(this,arguments)}function M_(){return M_=(0,h.Z)(function*(r,e){const n=Mt(r);if(!n.currentUser.isEqual(e)){Ct("SyncEngine","User change. New user:",e.toKey());const s=yield La(n.localStore,e);n.currentUser=e,(f=n).ba.forEach(S=>{S.forEach(L=>{L.reject(new Rt(gt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ba.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield qu(n,s._s)}var f}),M_.apply(this,arguments)}function Gp(r,e){const n=Mt(r),s=n.ya.get(e);if(s&&s.Ra)return Gt().add(s.key);{let l=Gt();const f=n.fa.get(e);if(!f)return l;for(const g of f){const S=n.ma.get(g);l=l.unionWith(S.view.ua)}return l}}function P_(r,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,h.Z)(function*(r,e){const n=Mt(r),s=yield Ds(n.localStore,e.query,!0),l=e.view.da(s);return n.isPrimaryClient&&A_(n,e.targetId,l.Ta),l}),Wp.apply(this,arguments)}function ey(r,e){return qp.apply(this,arguments)}function qp(){return qp=(0,h.Z)(function*(r,e){const n=Mt(r);return ro(n.localStore,e).then(s=>qu(n,s))}),qp.apply(this,arguments)}function O_(r,e,n,s){return Ci.apply(this,arguments)}function Ci(){return Ci=(0,h.Z)(function*(r,e,n,s){const l=Mt(r),f=yield function(S,L){const K=Mt(S),se=Mt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",be=>se.Cn(be,L).next(je=>je?K.localDocuments.getDocuments(be,je):nt.resolve(null)))}(l.localStore,e);var L;null!==f?("pending"===n?yield Tc(l.remoteStore):"acknowledged"===n||"rejected"===n?(fg(l,e,s||null),hg(l,e),L=e,Mt(Mt(l.localStore).mutationQueue).Fn(L)):zt(),yield qu(l,f)):Ct("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ci.apply(this,arguments)}function Kp(){return Kp=(0,h.Z)(function*(r,e){const n=Mt(r);if(Mf(n),Pf(n),!0===e&&!0!==n.Ca){const s=n.sharedClientState.getAllActiveQueryTargets(),l=yield Cd(n,s.toArray());n.Ca=!0,yield Np(n.remoteStore,!0);for(const f of l)$m(n.remoteStore,f)}else if(!1===e&&!1!==n.Ca){const s=[];let l=Promise.resolve();n.fa.forEach((f,g)=>{n.sharedClientState.isLocalQueryTarget(g)?s.push(g):l=l.then(()=>(wh(n,g),jr(n.localStore,g,!0))),Tf(n.remoteStore,g)}),yield l,yield Cd(n,s),function(g){const S=Mt(g);S.ya.forEach((L,K)=>{Tf(S.remoteStore,K)}),S.wa.Vr(),S.ya=new Map,S.pa=new Tr(nn.comparator)}(n),n.Ca=!1,yield Np(n.remoteStore,!1)}}),Kp.apply(this,arguments)}function Cd(r,e,n){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,h.Z)(function*(r,e,n){const s=Mt(r),l=[],f=[];for(const g of e){let S;const L=s.fa.get(g);if(L&&0!==L.length){S=yield _i(s.localStore,ms(L[0]));for(const K of L){const se=s.ma.get(K),be=yield P_(s,se);be.snapshot&&f.push(be.snapshot)}}else{const K=yield ql(s.localStore,g);S=yield _i(s.localStore,K),yield ag(s,k_(K),g,!1,S.resumeToken)}l.push(S)}return s.Va.a_(f),l}),Zp.apply(this,arguments)}function k_(r){return gl(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Yp(r){return n=Mt(r).localStore,Mt(Mt(n).persistence).Bi();var n}function xh(r,e,n,s){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,h.Z)(function*(r,e,n,s){const l=Mt(r);if(l.Ca)return void Ct("SyncEngine","Ignoring unexpected query state notification.");const f=l.fa.get(e);if(f&&f.length>0)switch(n){case"current":case"not-current":{const g=yield ro(l.localStore,Vl(f[0])),S=_c.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,qr.EMPTY_BYTE_STRING);yield qu(l,g,S);break}case"rejected":yield jr(l.localStore,e,!0),wh(l,e,s);break;default:zt()}}),Sf.apply(this,arguments)}function Rf(r,e,n){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,h.Z)(function*(r,e,n){const s=Mf(r);if(s.Ca){for(const l of e){if(s.fa.has(l)){Ct("SyncEngine","Adding an already active target "+l);continue}const f=yield ql(s.localStore,l),g=yield _i(s.localStore,f);yield ag(s,k_(f),g.targetId,!1,g.resumeToken),$m(s.remoteStore,g)}for(const l of n)s.fa.has(l)&&(yield jr(s.localStore,l,!1).then(()=>{Tf(s.remoteStore,l),wh(s,l)}).catch(Yr))}}),Qp.apply(this,arguments)}function Mf(r){const e=Mt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=xd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C_.bind(null,e),e.Va.a_=og.bind(null,e.eventManager),e.Va.Fa=Cc.bind(null,e.eventManager),e}function Pf(r){const e=Mt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ug.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hp.bind(null,e),e}class Th{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,h.Z)(function*(){n.serializer=yd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return fh(this.persistence,new Cs,e.initialUser,this.serializer)}createPersistence(e){return new mn(tn.jr,this.serializer)}createSharedClientState(e){return new Hv}terminate(){var e=this;return(0,h.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _g extends Th{constructor(e,n,s){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,s=this;return(0,h.Z)(function*(){yield n().call(s,e),yield s.xa.initialize(s,e),yield Pf(s.xa.syncEngine),yield Tc(s.xa.remoteStore),yield s.persistence.mi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return fh(this.persistence,new Cs,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new u_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const s=new ce(n,this.persistence);return new q(e.asyncQueue,s)}createPersistence(e){const n=Vo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?zs.withCacheSize(this.cacheSizeBytes):zs.DEFAULT;return new Yi(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,Ef(),hu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Hv}}class F_ extends _g{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,s=this;return(0,h.Z)(function*(){yield n().call(s,e);const l=s.xa.syncEngine;s.sharedClientState instanceof h_&&(s.sharedClientState.syncEngine={Ys:O_.bind(null,l),Zs:xh.bind(null,l),Xs:Rf.bind(null,l),Bi:Yp.bind(null,l),Js:ey.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.mi(function(){var f=(0,h.Z)(function*(g){yield function N_(r,e){return Kp.apply(this,arguments)}(s.xa.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start():g||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(g&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():g||s.indexBackfillerScheduler.stop())});return function(g){return f.apply(this,arguments)}}())})()}createSharedClientState(e){const n=Ef();if(!h_.D(n))throw new Rt(gt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Vo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new h_(n,e.asyncQueue,s,e.clientId,e.initialUser)}}class Ch{initialize(e,n){var s=this;return(0,h.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>T_(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=R_.bind(null,s.syncEngine),yield Np(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Wu}createDatastore(e){const n=yd(e.databaseInfo.databaseId),s=new bf(e.databaseInfo);return new xf(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return s=this.localStore,l=this.datastore,f=e.asyncQueue,g=n=>T_(this.syncEngine,n,0),S=f_.D()?new f_:new Tp,new Gv(s,l,f,g,S);var s,l,f,g,S}createSyncEngine(e,n){return function(l,f,g,S,L,K,se){const be=new Qv(l,f,g,S,L,K);return se&&(be.Ca=!0),be}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,h.Z)(function*(s){const l=Mt(s);Ct("RemoteStore","RemoteStore shutting down."),l.C_.add(5),yield yh(l),l.F_.shutdown(),l.M_.set("Unknown")}),function n(s){return e.apply(this,arguments)})(this.remoteStore);var e}}function vg(r,e=10240){let n=0;return{read:()=>(0,h.Z)(function*(){if(n<r.byteLength){const s={value:r.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})(),cancel:()=>(0,h.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Xp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class ty{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new ai,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(s=>{s&&s.Z_()?this.metadata.resolve(s.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Y_)}`))},s=>this.metadata.reject(s))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,h.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,h.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,h.Z)(function*(){const n=yield e.qa();if(null===n)return null;const s=e.La.decode(n),l=Number(s);isNaN(l)&&e.Qa(`length string (${s}) is not valid number`);const f=yield e.Ka(l);return new Hb(JSON.parse(f),n.length+l)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,h.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),s})()}Ka(e){var n=this;return(0,h.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const s=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),s})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,h.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const s=new Uint8Array(e.buffer.length+n.value.length);s.set(e.buffer),s.set(n.value,e.buffer.length),e.buffer=s}return n.done})()}}class ny{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,h.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Rt(gt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,h.Z)(function*(g,S){const L=Mt(g),K=tu(L.serializer)+"/documents",se={documents:S.map(Zt=>Hl(L.serializer,Zt))},be=yield L.Co("BatchGetDocuments",K,se,S.length),je=new Map;be.forEach(Zt=>{const on=function up(r,e){return"found"in e?function(s,l){Cn(!!l.found);const f=Hs(s,l.found.name),g=Jr(l.found.updateTime),S=l.found.createTime?Jr(l.found.createTime):Fn.min(),L=new io({mapValue:{fields:l.found.fields}});return Ur.newFoundDocument(f,g,S,L)}(r,e):"missing"in e?function(s,l){Cn(!!l.missing),Cn(!!l.readTime);const f=Hs(s,l.missing),g=Jr(l.readTime);return Ur.newNoDocument(f,g)}(r,e):zt()}(L.serializer,Zt);je.set(on.key.toString(),on)});const ut=[];return S.forEach(Zt=>{const on=je.get(Zt.toString());Cn(!!on),ut.push(on)}),ut}),function f(g,S){return l.apply(this,arguments)})(n.datastore,e);var l;return s.forEach(l=>n.recordVersion(l)),s})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new gc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,h.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var s;e.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,l)=>{const f=nn.fromPath(l);e.mutations.push(new tp(f,e.precondition(f)))}),yield(s=(0,h.Z)(function*(f,g){const S=Mt(f),L=tu(S.serializer)+"/documents",K={writes:g.map(se=>nu(S.serializer,se))};yield S.wo("Commit",L,K)}),function l(f,g){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw zt();n=Fn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new Rt(gt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Fn.min())?Co.exists(!1):Co.updateTime(n):Co.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Fn.min()))throw new Rt(gt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Co.updateTime(n)}return Co.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class iy{constructor(e,n,s,l,f){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=l,this.deferred=f,this.Wa=s.maxAttempts,this.zo=new If(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,h.Z)(function*(){const n=new ny(e.datastore),s=e.za(n);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(f=>{e.ja(f)}))}).catch(l=>{e.ja(l)})}))}za(e){try{const n=this.updateFunction(e);return!dt(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!Kh(n)}return!1}}class L_{constructor(e,n,s,l){var f=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=On.UNAUTHENTICATED,this.clientId=al.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var g=(0,h.Z)(function*(S){Ct("FirestoreClient","Received user=",S.uid),yield f.authCredentialListener(S),f.user=S});return function(S){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(s,g=>(Ct("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,h.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Rt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const l=wd(s,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function Of(r,e){return yg.apply(this,arguments)}function yg(){return yg=(0,h.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Ct("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(function(){var l=(0,h.Z)(function*(f){s.isEqual(f)||(yield La(e.localStore,f),s=f)});return function(f){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),yg.apply(this,arguments)}function bg(r,e){return ma.apply(this,arguments)}function ma(){return ma=(0,h.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const n=yield Eg(r);Ct("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(n,s),r.setCredentialChangeListener(l=>Xm(e.remoteStore,l)),r.setAppCheckTokenChangeListener((l,f)=>Xm(e.remoteStore,f)),r._onlineComponents=e}),ma.apply(this,arguments)}function V_(r){return"FirebaseError"===r.name?r.code===gt.FAILED_PRECONDITION||r.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Eg(r){return B_.apply(this,arguments)}function B_(){return B_=(0,h.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ct("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Of(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!V_(n))throw n;Ir("Error using user provided cache. Falling back to memory cache: "+n),yield Of(r,new Th)}}else Ct("FirestoreClient","Using default OfflineComponentProvider"),yield Of(r,new Th);return r._offlineComponents}),B_.apply(this,arguments)}function Dh(r){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,h.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ct("FirestoreClient","Using user provided OnlineComponentProvider"),yield bg(r,r._uninitializedComponentsProvider._online)):(Ct("FirestoreClient","Using default OnlineComponentProvider"),yield bg(r,new Ch))),r._onlineComponents}),Jp.apply(this,arguments)}function U_(r){return Eg(r).then(e=>e.persistence)}function Ah(r){return Eg(r).then(e=>e.localStore)}function j_(r){return Dh(r).then(e=>e.remoteStore)}function em(r){return Dh(r).then(e=>e.syncEngine)}function Sh(r){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,h.Z)(function*(r){const e=yield Dh(r),n=e.eventManager;return n.onListen=x_.bind(null,e.syncEngine),n.onUnlisten=Xv.bind(null,e.syncEngine),n}),Nf.apply(this,arguments)}function z_(r,e,n={}){const s=new ai;return r.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(f,g,S,L,K){const se=new Xp({next:je=>{g.enqueueAndForget(()=>y_(f,be));const ut=je.docs.has(S);!ut&&je.fromCache?K.reject(new Rt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):ut&&je.fromCache&&L&&"server"===L.source?K.reject(new Rt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(je)},error:je=>K.reject(je)}),be=new sg(Xa(S.path),se,{includeMetadataChanges:!0,J_:!0});return Af(f,be)}(yield Sh(r),r.asyncQueue,e,n,s)})),s.promise}function Zl(r,e,n={}){const s=new ai;return r.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(f,g,S,L,K){const se=new Xp({next:je=>{g.enqueueAndForget(()=>y_(f,be)),je.fromCache&&"server"===L.source?K.reject(new Rt(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(je)},error:je=>K.reject(je)}),be=new sg(S,se,{includeMetadataChanges:!0,J_:!0});return Af(f,be)}(yield Sh(r),r.asyncQueue,e,n,s)})),s.promise}function kf(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const tm=new Map;function q_(r,e,n){if(!n)throw new Rt(gt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function wg(r,e,n,s){if(!0===e&&!0===s)throw new Rt(gt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function xg(r){if(!nn.isDocumentKey(r))throw new Rt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Tg(r){if(nn.isDocumentKey(r))throw new Rt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ff(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(s=r).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof r?"a function":zt()}function Qi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Rt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ff(r);throw new Rt(gt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dc(r,e){if(e<=0)throw new Rt(gt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class K_{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Rt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Rt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=kf(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new Rt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new Rt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new Rt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Rt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Rt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K_(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new kc;switch(s.type){case"firstParty":return new Ju(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Rt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=tm.get(n);s&&(Ct("ComponentProvider","Removing Datastore"),tm.delete(n),s.terminate())}(this),Promise.resolve()}}function nm(r,e,n,s={}){var l;const f=(r=Qi(r,Lf))._getSettings(),g=`${e}:${n}`;if("firestore.googleapis.com"!==f.host&&f.host!==g&&Ir("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},f),{host:g,ssl:!1})),s.mockUserToken){let S,L;if("string"==typeof s.mockUserToken)S=s.mockUserToken,L=On.MOCK_USER;else{S=(0,me.Sg)(s.mockUserToken,null===(l=r._app)||void 0===l?void 0:l.options.projectId);const K=s.mockUserToken.sub||s.mockUserToken.user_id;if(!K)throw new Rt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new On(K)}r._authCredentials=new xa(new oc(S,L))}}class Gs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Gs(this.firestore,e,this._query)}}class Bo{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ac(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bo(this.firestore,e,this._key)}}class Ac extends Gs{constructor(e,n,s){super(e,n,Xa(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bo(this.firestore,null,new nn(e))}withConverter(e){return new Ac(this.firestore,e,this._path)}}function im(r,e,...n){if(r=(0,me.m9)(r),q_("collection","path",e),r instanceof Lf){const s=Zi.fromString(e,...n);return Tg(s),new Ac(r,null,s)}{if(!(r instanceof Bo||r instanceof Ac))throw new Rt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zi.fromString(e,...n));return Tg(s),new Ac(r.firestore,null,s)}}function Vf(r,e){if(r=Qi(r,Lf),q_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Rt(gt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Gs(r,null,(s=e,new ta(Zi.emptyPath(),s)));var s}function Cg(r,e,...n){if(r=(0,me.m9)(r),1===arguments.length&&(e=al.newId()),q_("doc","path",e),r instanceof Lf){const s=Zi.fromString(e,...n);return xg(s),new Bo(r,null,new nn(s))}{if(!(r instanceof Bo||r instanceof Ac))throw new Rt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zi.fromString(e,...n));return xg(s),new Bo(r.firestore,r instanceof Ac?r.converter:null,new nn(s))}}function rm(r,e){return r=(0,me.m9)(r),e=(0,me.m9)(e),(r instanceof Bo||r instanceof Ac)&&(e instanceof Bo||e instanceof Ac)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Z_(r,e){return r=(0,me.m9)(r),e=(0,me.m9)(e),r instanceof Gs&&e instanceof Gs&&r.firestore===e.firestore&&Ll(r._query,e._query)&&r.converter===e.converter}class uy{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new If(this,"async_queue_retry"),this.iu=()=>{const n=hu();n&&Ct("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=hu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=hu();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new ai;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,h.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!go(n))throw n;Ct("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{throw this.eu=s,this.tu=!1,dr("INTERNAL UNHANDLED ERROR: ",function(g){let S=g.message||"";return g.stack&&(S=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),S}(s)),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(e,n,s){this.su(),this.ru.indexOf(e)>-1&&(n=0);const l=kp.createAndSchedule(this,e,n,s,f=>this.au(f));return this.Xa.push(l),l}su(){this.eu&&zt()}verifyOperationInProgress(){}uu(){var e=this;return(0,h.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function om(r){return function(n,s){if("object"!=typeof n||null===n)return!1;const l=n;for(const f of["next","error","complete"])if(f in l&&"function"==typeof l[f])return!0;return!1}(r)}class Y_{constructor(){this._progressObserver={},this._taskCompletionResolver=new ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,s){this._progressObserver={next:e,error:n,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const dy=-1;class uo extends Lf{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new uy,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||X_(this),this._firestoreClient.terminate()}}function Q_(r,e){const n="object"==typeof r?r:(0,H.getApp)(),s="string"==typeof r?r:e||"(default)",l=(0,H._getProvider)(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const f=(0,me.P0)("firestore");f&&nm(l,...f)}return l}function ho(r){return r._firestoreClient||X_(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function X_(r){var e,n,s;const l=r._freezeSettings(),f=(L=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Ld(r._databaseId,L,r._persistenceKey,(se=l).host,se.ssl,se.experimentalForceLongPolling,se.experimentalAutoDetectLongPolling,kf(se.experimentalLongPollingOptions),se.useFetchStreams));var L,se;r._firestoreClient=new L_(r._authCredentials,r._appCheckCredentials,r._queue,f),null!==(n=l.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function J_(r,e){nv(r=Qi(r,uo));const n=ho(r);if(n._uninitializedComponentsProvider)throw new Rt(gt.FAILED_PRECONDITION,"SDK cache is already specified.");Ir("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),l=new Ch;return tv(n,l,new _g(l,s.cacheSizeBytes,e?.forceOwnership))}function ev(r){nv(r=Qi(r,uo));const e=ho(r);if(e._uninitializedComponentsProvider)throw new Rt(gt.FAILED_PRECONDITION,"SDK cache is already specified.");Ir("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=r._freezeSettings(),s=new Ch;return tv(e,s,new F_(s,n.cacheSizeBytes))}function tv(r,e,n){const s=new ai;return r.asyncQueue.enqueue((0,h.Z)(function*(){try{yield Of(r,n),yield bg(r,e),s.resolve()}catch(l){const f=l;if(!V_(f))throw f;Ir("Error enabling indexeddb cache. Falling back to memory cache: "+f),s.reject(f)}})).then(()=>s.promise)}function fy(r){if(r._initialized&&!r._terminated)throw new Rt(gt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ai;return r._queue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{yield(n=(0,h.Z)(function*(l){if(!$o.D())return Promise.resolve();const f=l+"main";yield $o.delete(f)}),function s(l){return n.apply(this,arguments)})(Vo(r._databaseId,r._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function Bf(r){return function(n){const s=new ai;return n.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function D_(r,e){return dg.apply(this,arguments)}(yield em(n),s)})),s.promise}(ho(r=Qi(r,uo)))}function py(r){return function ry(r){return r.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield U_(r),n=yield j_(r);return e.setNetworkEnabled(!0),function(l){const f=Mt(l);return f.C_.delete(0),bd(f)}(n)}))}(ho(r=Qi(r,uo)))}function my(r){return function oy(r){return r.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield U_(r),n=yield j_(r);return e.setNetworkEnabled(!1),(s=(0,h.Z)(function*(f){const g=Mt(f);g.C_.add(0),yield yh(g),g.M_.set("Offline")}),function l(f){return s.apply(this,arguments)})(n);var s}))}(ho(r=Qi(r,uo)))}function gy(r,e){const n=ho(r=Qi(r,uo)),s=new Y_;return function ly(r,e,n,s){const l=function(g,S){let L;return L="string"==typeof g?js().encode(g):g,se=function(se,be){if(se instanceof Uint8Array)return vg(se,void 0);if(se instanceof ArrayBuffer)return vg(new Uint8Array(se),void 0);if(se instanceof ReadableStream)return se.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new ty(se,S);var se}(n,yd(e));r.asyncQueue.enqueueAndForget((0,h.Z)(function*(){!function mg(r,e,n){const s=Mt(r);var l;(l=(0,h.Z)(function*(g,S,L){try{const K=yield S.getMetadata();if(yield function(Zt,on){const sn=Mt(Zt),oi=Jr(on.createTime);return sn.persistence.runTransaction("hasNewerBundle","readonly",hi=>sn.Kr.getBundleMetadata(hi,on.id)).then(hi=>!!hi&&hi.createTime.compareTo(oi)>=0)}(g.localStore,K))return yield S.close(),L._completeWith({taskState:"Success",documentsLoaded:(Zt=K).totalDocuments,bytesLoaded:Zt.totalBytes,totalDocuments:Zt.totalDocuments,totalBytes:Zt.totalBytes}),Promise.resolve(new Set);L._updateProgress(Lp(K));const se=new Yv(K,g.localStore,S.serializer);let be=yield S.Ma();for(;be;){const ut=yield se.ea(be);ut&&L._updateProgress(ut),be=yield S.Ma()}const je=yield se.complete();return yield qu(g,je.ra,void 0),yield function(Zt,on){const sn=Mt(Zt);return sn.persistence.runTransaction("Save bundle","readwrite",oi=>sn.Kr.saveBundleMetadata(oi,on))}(g.localStore,K),L._completeWith(je.progress),Promise.resolve(je.na)}catch(K){return Ir("SyncEngine",`Loading bundle failed with ${K}`),L._failWith(K),Promise.resolve(new Set)}var Zt}),function f(g,S,L){return l.apply(this,arguments)})(s,e,n).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield em(r),l,s)}))}(n,r._databaseId,e,s),s}function _y(r,e){return function $_(r,e){return r.asyncQueue.enqueue((0,h.Z)(function*(){return function(s,l){const f=Mt(s);return f.persistence.runTransaction("Get named query","readonly",g=>f.Kr.getNamedQuery(g,l))}(yield Ah(r),e)}))}(ho(r=Qi(r,uo)),e).then(n=>n?new Gs(r,null,n.query):null)}function nv(r){if(r._initialized||r._terminated)throw new Rt(gt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fu(qr.fromBase64String(e))}catch(n){throw new Rt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fu(qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Rt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rc{constructor(e){this._methodName=e}}class sm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Rt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Rt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ii(this._lat,e._lat)||ii(this._long,e._long)}}const yy=/^__.*__$/;class by{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new jl(e,this.data,this.fieldMask,n,this.fieldTransforms):new yl(e,this.data,n,this.fieldTransforms)}}class iv{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new jl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt()}}class am{constructor(e,n,s,l,f,g){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===f&&this.Pu(),this.fieldTransforms=f||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Tu({path:s,du:!1});return l.Au(e),l}Ru(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Tu({path:s,du:!1});return l.Pu(),l}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Mh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(rv(this.Iu)&&yy.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Ey{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||yd(e)}pu(e,n,s,l=!1){return new am({Iu:e,methodName:n,gu:s,path:Lr.emptyPath(),du:!1,fu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ku(r){const e=r._freezeSettings(),n=yd(r._databaseId);return new Ey(r._databaseId,!!e.ignoreUndefinedProperties,n)}function jf(r,e,n,s,l,f={}){const g=r.pu(f.merge||f.mergeFields?2:0,e,n,l);Rs("Data must be an object, but it was:",g,s);const S=Yl(s,g);let L,K;if(f.merge)L=new ws(g.fieldMask),K=g.fieldTransforms;else if(f.mergeFields){const se=[];for(const be of f.mergeFields){const je=Ql(e,be,n);if(!g.contains(je))throw new Rt(gt.INVALID_ARGUMENT,`Field '${je}' is specified in your field mask but missing from your input data.`);Ad(se,je)||se.push(je)}L=new ws(se),K=g.fieldTransforms.filter(be=>L.covers(be.field))}else L=null,K=g.fieldTransforms;return new by(new io(S),L,K)}class Hf extends Rc{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hf}}function Iy(r,e,n){return new am({Iu:3,gu:e.settings.gu,methodName:r._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class lm extends Rc{_toFieldTransform(e){return new $h(e.path,new Bl)}isEqual(e){return e instanceof lm}}class ov extends Rc{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=Iy(this,e,!0),s=this.yu.map(f=>Dd(f,n)),l=new pc(s);return new $h(e.path,l)}isEqual(e){return this===e}}class Gb extends Rc{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=Iy(this,e,!0),s=this.yu.map(f=>Dd(f,n)),l=new Ul(s);return new $h(e.path,l)}isEqual(e){return this===e}}class cm extends Rc{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new mc(e.serializer,Qc(e.serializer,this.wu));return new $h(e.path,n)}isEqual(e){return this===e}}function Dg(r,e,n,s){const l=r.pu(1,e,n);Rs("Data must be an object, but it was:",l,s);const f=[],g=io.empty();Ls(s,(L,K)=>{const se=ga(e,L,n);K=(0,me.m9)(K);const be=l.Ru(se);if(K instanceof Hf)f.push(se);else{const je=Dd(K,be);null!=je&&(f.push(se),g.set(se,je))}});const S=new ws(f);return new iv(g,S,l.fieldTransforms)}function Ag(r,e,n,s,l,f){const g=r.pu(1,e,n),S=[Ql(e,s,n)],L=[l];if(f.length%2!=0)throw new Rt(gt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let je=0;je<f.length;je+=2)S.push(Ql(e,f[je])),L.push(f[je+1]);const K=[],se=io.empty();for(let je=S.length-1;je>=0;--je)if(!Ad(K,S[je])){const ut=S[je];let Zt=L[je];Zt=(0,me.m9)(Zt);const on=g.Ru(ut);if(Zt instanceof Hf)K.push(ut);else{const sn=Dd(Zt,on);null!=sn&&(K.push(ut),se.set(ut,sn))}}const be=new ws(K);return new iv(se,be,g.fieldTransforms)}function um(r,e,n,s=!1){return Dd(n,r.pu(s?4:3,e))}function Dd(r,e){if(Rh(r=(0,me.m9)(r)))return Rs("Unsupported field value:",e,r),Yl(r,e);if(r instanceof Rc)return function(s,l){if(!rv(l.Iu))throw l.mu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.mu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(l);f&&l.fieldTransforms.push(f)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(s,l){const f=[];let g=0;for(const S of s){let L=Dd(S,l.Vu(g));null==L&&(L={nullValue:"NULL_VALUE"}),f.push(L),g++}return{arrayValue:{values:f}}}(r,e)}return function(s,l){if(null===(s=(0,me.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Qc(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=pn.fromDate(s);return{timestampValue:Xc(l.serializer,f)}}if(s instanceof pn){const f=new pn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,f)}}if(s instanceof sm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fu)return{bytesValue:tf(l.serializer,s._byteString)};if(s instanceof Bo){const f=l.databaseId,g=s.firestore._databaseId;if(!g.isEqual(f))throw l.mu(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Vu(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.mu(`Unsupported field value: ${Ff(s)}`)}(r,e)}function Yl(r,e){const n={};return ul(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(r,(s,l)=>{const f=Dd(l,e.Eu(s));null!=f&&(n[s]=f)}),{mapValue:{fields:n}}}function Rh(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof pn||r instanceof sm||r instanceof fu||r instanceof Bo||r instanceof Rc)}function Rs(r,e,n){if(!Rh(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=Ff(n);throw e.mu("an object"===s?r+" a custom object":r+" "+s)}var l}function Ql(r,e,n){if((e=(0,me.m9)(e))instanceof Sc)return e._internalPath;if("string"==typeof e)return ga(r,e);throw Mh("Field path arguments must be of type string or ",r,!1,void 0,n)}const dm=new RegExp("[~\\*/\\[\\]]");function ga(r,e,n){if(e.search(dm)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Sc(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Mh(r,e,n,s,l){const f=s&&!s.isEmpty(),g=void 0!==l;let S=`Function ${e}() called with invalid data`;n&&(S+=" (via `toFirestore()`)"),S+=". ";let L="";return(f||g)&&(L+=" (found",f&&(L+=` in field ${s}`),g&&(L+=` in document ${l}`),L+=")"),new Rt(gt.INVALID_ARGUMENT,S+r+L)}function Ad(r,e){return r.some(n=>n.isEqual(e))}class Mc{constructor(e,n,s,l,f){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Bo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ph(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Ph extends Mc{data(){return super.data()}}function pu(r,e){return"string"==typeof e?ga(r,e):e instanceof Sc?e._internalPath:e._delegate._internalPath}function Sd(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Rt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zu{}class Pc extends Zu{}function Oh(r,e,...n){let s=[];e instanceof Zu&&s.push(e),s=s.concat(n),function(f){const g=f.filter(L=>L instanceof Rd).length,S=f.filter(L=>L instanceof Oc).length;if(g>1||g>0&&S>0)throw new Rt(gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class Oc extends Pc{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Oc(e,n,s)}_apply(e){const n=this._parse(e);return dv(e._query,n),new Gs(e.firestore,e.converter,Nu(e._query,n))}_parse(e){const n=Ku(e.firestore);return function(f,g,S,L,K,se,be){let je;if(K.isKeyField()){if("array-contains"===se||"array-contains-any"===se)throw new Rt(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${se}' queries on documentId().`);if("in"===se||"not-in"===se){Sy(be,se);const ut=[];for(const Zt of be)ut.push(uv(L,f,Zt));je={arrayValue:{values:ut}}}else je=uv(L,f,be)}else"in"!==se&&"not-in"!==se&&"array-contains-any"!==se||Sy(be,se),je=um(S,"where",be,"in"===se||"not-in"===se);return ri.create(K,se,je)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function sv(r,e,n){const s=e,l=pu("where",r);return Oc._create(l,s,n)}class Rd extends Zu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rd(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(l,f){let g=l;const S=f.getFlattenedFilters();for(const L of S)dv(g,L),g=Nu(g,L)}(e._query,n),new Gs(e.firestore,e.converter,Nu(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hm extends Pc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new hm(e,n)}_apply(e){const n=function(l,f,g){if(null!==l.startAt)throw new Rt(gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new Rt(gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ha(f,g)}(e._query,this._field,this._direction);return new Gs(e.firestore,e.converter,function(l,f){const g=l.explicitOrderBy.concat([f]);return new ta(l.path,l.collectionGroup,g,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}function av(r,e="asc"){const n=e,s=pu("orderBy",r);return hm._create(s,n)}class zf extends Pc{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new zf(e,n,s)}_apply(e){return new Gs(e.firestore,e.converter,Kc(e._query,this._limit,this._limitType))}}function lv(r){return Dc("limit",r),zf._create("limit",r,"F")}function cv(r){return Dc("limitToLast",r),zf._create("limitToLast",r,"L")}class Nh extends Pc{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Nh(e,n,s)}_apply(e){const n=Ay(e,this.type,this._docOrFields,this._inclusive);return new Gs(e.firestore,e.converter,(f=n,new ta((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,f,l.endAt)));var l,f}}function Ty(...r){return Nh._create("startAt",r,!0)}function Wb(...r){return Nh._create("startAfter",r,!1)}class Sg extends Pc{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Sg(e,n,s)}_apply(e){const n=Ay(e,this.type,this._docOrFields,this._inclusive);return new Gs(e.firestore,e.converter,(f=n,new ta((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,f)));var l,f}}function Cy(...r){return Sg._create("endBefore",r,!1)}function Dy(...r){return Sg._create("endAt",r,!0)}function Ay(r,e,n,s){if(n[0]=(0,me.m9)(n[0]),n[0]instanceof Mc)return function(f,g,S,L,K){if(!L)throw new Rt(gt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${S}().`);const se=[];for(const be of Fl(f))if(be.field.isKeyField())se.push(pl(g,L.key));else{const je=L.data.field(be.field);if(Pl(je))throw new Rt(gt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+be.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===je){const ut=be.field.canonicalString();throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ut}' (used as the orderBy) does not exist.`)}se.push(je)}return new Bs(se,K)}(r._query,r.firestore._databaseId,e,n[0]._document,s);{const l=Ku(r.firestore);return function(g,S,L,K,se,be){const je=g.explicitOrderBy;if(se.length>je.length)throw new Rt(gt.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ut=[];for(let Zt=0;Zt<se.length;Zt++){const on=se[Zt];if(je[Zt].field.isKeyField()){if("string"!=typeof on)throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof on}`);if(!$d(g)&&-1!==on.indexOf("/"))throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${on}' contains a slash.`);const sn=g.path.child(Zi.fromString(on));if(!nn.isDocumentKey(sn))throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${sn}' is not because it contains an odd number of segments.`);const oi=new nn(sn);ut.push(pl(S,oi))}else{const sn=um(L,K,on);ut.push(sn)}}return new Bs(ut,be)}(r._query,r.firestore._databaseId,l,e,n,s)}}function uv(r,e,n){if("string"==typeof(n=(0,me.m9)(n))){if(""===n)throw new Rt(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$d(e)&&-1!==n.indexOf("/"))throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Zi.fromString(n));if(!nn.isDocumentKey(s))throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pl(r,new nn(s))}if(n instanceof Bo)return pl(r,n._key);throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(n)}.`)}function Sy(r,e){if(!Array.isArray(r)||0===r.length)throw new Rt(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dv(r,e){const n=function(l,f){for(const g of l)for(const S of g.getFlattenedFilters())if(f.indexOf(S.op)>=0)return S.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Rt(gt.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Rg{convertValue(e,n="none"){switch(Ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw zt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ls(e,(l,f)=>{s[l]=this.convertValue(f,n)}),s}convertGeoPoint(e){return new sm(Xr(e.latitude),Xr(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=hl(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const n=Js(e);return new pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Zi.fromString(e);Cn(fp(s));const l=new Wo(s.get(1),s.get(3)),f=new nn(s.popFirst(5));return l.isEqual(n)||dr(`Document ${f} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),f}}function kh(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class $f extends Rg{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bo(this.firestore,null,n)}}class Md{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xl extends Mc{constructor(e,n,s,l,f,g){super(e,n,s,l,g),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pu("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Gf extends Xl{data(e={}){return super.data(e)}}class Pd{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Md(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Gf(this._firestore,this._userDataWriter,s.key,s,new Md(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Rt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,f){if(l._snapshot.oldDocs.isEmpty()){let g=0;return l._snapshot.docChanges.map(S=>({type:"added",doc:new Gf(l._firestore,l._userDataWriter,S.doc.key,S.doc,new Md(l._snapshot.mutatedKeys.has(S.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:g++}))}{let g=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(S=>f||3!==S.type).map(S=>{const L=new Gf(l._firestore,l._userDataWriter,S.doc.key,S.doc,new Md(l._snapshot.mutatedKeys.has(S.doc.key),l._snapshot.fromCache),l.query.converter);let K=-1,se=-1;return 0!==S.type&&(K=g.indexOf(S.doc.key),g=g.delete(S.doc.key)),1!==S.type&&(g=g.add(S.doc),se=g.indexOf(S.doc.key)),{type:My(S.type),doc:L,oldIndex:K,newIndex:se}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function My(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt()}}function Py(r,e){return r instanceof Xl&&e instanceof Xl?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Pd&&e instanceof Pd&&r._firestore===e._firestore&&Z_(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function Pg(r){r=Qi(r,Bo);const e=Qi(r.firestore,uo);return z_(ho(e),r._key).then(n=>Ng(e,r,n))}class Jl extends Rg{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bo(this.firestore,null,n)}}function pm(r){r=Qi(r,Bo);const e=Qi(r.firestore,uo),n=ho(e),s=new Jl(e);return function sy(r,e){const n=new ai;return r.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(s=(0,h.Z)(function*(f,g,S){try{const L=yield function(se,be){const je=Mt(se);return je.persistence.runTransaction("read document","readonly",ut=>je.localDocuments.getDocument(ut,be))}(f,g);L.isFoundDocument()?S.resolve(L):L.isNoDocument()?S.resolve(null):S.reject(new Rt(gt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const K=wd(L,`Failed to get document '${g} from cache`);S.reject(K)}}),function l(f,g,S){return s.apply(this,arguments)})(yield Ah(r),e,n);var s})),n.promise}(n,r._key).then(l=>new Xl(e,s,r._key,l,new Md(null!==l&&l.hasLocalMutations,!0),r.converter))}function qb(r){r=Qi(r,Bo);const e=Qi(r.firestore,uo);return z_(ho(e),r._key,{source:"server"}).then(n=>Ng(e,r,n))}function Oy(r){r=Qi(r,Gs);const e=Qi(r.firestore,uo),n=ho(e),s=new Jl(e);return Sd(r._query),Zl(n,r._query).then(l=>new Pd(e,s,r,l))}function Ny(r){r=Qi(r,Gs);const e=Qi(r.firestore,uo),n=ho(e),s=new Jl(e);return function ay(r,e){const n=new ai;return r.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(s=(0,h.Z)(function*(f,g,S){try{const L=yield Ds(f,g,!0),K=new Vp(g,L.ls),se=K.ca(L.documents),be=K.applyChanges(se,!1);S.resolve(be.snapshot)}catch(L){const K=wd(L,`Failed to execute query '${g} against cache`);S.reject(K)}}),function l(f,g,S){return s.apply(this,arguments)})(yield Ah(r),e,n);var s})),n.promise}(n,r._query).then(l=>new Pd(e,s,r,l))}function Og(r){r=Qi(r,Gs);const e=Qi(r.firestore,uo),n=ho(e),s=new Jl(e);return Zl(n,r._query,{source:"server"}).then(l=>new Pd(e,s,r,l))}function ky(r,e,n){r=Qi(r,Bo);const s=Qi(r.firestore,uo),l=kh(r.converter,e,n);return Od(s,[jf(Ku(s),"setDoc",r._key,l,null!==r.converter,n).toMutation(r._key,Co.none())])}function mv(r,e,n,...s){r=Qi(r,Bo);const l=Qi(r.firestore,uo),f=Ku(l);let g;return g="string"==typeof(e=(0,me.m9)(e))||e instanceof Sc?Ag(f,"updateDoc",r._key,e,n,s):Dg(f,"updateDoc",r._key,e),Od(l,[g.toMutation(r._key,Co.exists(!0))])}function Fy(r){return Od(Qi(r.firestore,uo),[new gc(r._key,Co.none())])}function Ly(r,e){const n=Qi(r.firestore,uo),s=Cg(r),l=kh(r.converter,e);return Od(n,[jf(Ku(r.firestore),"addDoc",s._key,l,null!==r.converter,{}).toMutation(s._key,Co.exists(!1))]).then(()=>s)}function gv(r,...e){var n,s,l;r=(0,me.m9)(r);let f={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||om(e[g])||(f=e[g],g++);const S={includeMetadataChanges:f.includeMetadataChanges};if(om(e[g])){const be=e[g];e[g]=null===(n=be.next)||void 0===n?void 0:n.bind(be),e[g+1]=null===(s=be.error)||void 0===s?void 0:s.bind(be),e[g+2]=null===(l=be.complete)||void 0===l?void 0:l.bind(be)}let L,K,se;if(r instanceof Bo)K=Qi(r.firestore,uo),se=Xa(r._key.path),L={next:be=>{e[g]&&e[g](Ng(K,r,be))},error:e[g+1],complete:e[g+2]};else{const be=Qi(r,Gs);K=Qi(be.firestore,uo),se=be._query;const je=new Jl(K);L={next:ut=>{e[g]&&e[g](new Pd(K,je,be,ut))},error:e[g+1],complete:e[g+2]},Sd(r._query)}return function(je,ut,Zt,on){const sn=new Xp(on),oi=new sg(ut,sn,Zt);return je.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return Af(yield Sh(je),oi)})),()=>{sn.Na(),je.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return y_(yield Sh(je),oi)}))}}(ho(K),se,S,L)}function _v(r,e){return function Ig(r,e){const n=new Xp(e);return r.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return l=yield Sh(r),f=n,Mt(l).q_.add(f),void f.next();var l,f})),()=>{n.Na(),r.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return l=yield Sh(r),f=n,void Mt(l).q_.delete(f);var l,f}))}}(ho(r=Qi(r,uo)),om(e)?e:{next:e})}function Od(r,e){return function(s,l){const f=new ai;return s.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function Ih(r,e,n){return Kl.apply(this,arguments)}(yield em(s),l,f)})),f.promise}(ho(r),e)}function Ng(r,e,n){const s=n.docs.get(e._key),l=new Jl(r);return new Xl(r,l,e._key,s,new Md(n.hasPendingWrites,n.fromCache),e.converter)}const mm={maxAttempts:5};class Ug{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ku(e)}set(e,n,s){this._verifyNotCommitted();const l=mu(e,this._firestore),f=kh(l.converter,n,s),g=jf(this._dataReader,"WriteBatch.set",l._key,f,null!==l.converter,s);return this._mutations.push(g.toMutation(l._key,Co.none())),this}update(e,n,s,...l){this._verifyNotCommitted();const f=mu(e,this._firestore);let g;return g="string"==typeof(n=(0,me.m9)(n))||n instanceof Sc?Ag(this._dataReader,"WriteBatch.update",f._key,n,s,l):Dg(this._dataReader,"WriteBatch.update",f._key,n),this._mutations.push(g.toMutation(f._key,Co.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=mu(e,this._firestore);return this._mutations=this._mutations.concat(new gc(n._key,Co.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rt(gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mu(r,e){if((r=(0,me.m9)(r)).firestore!==e)throw new Rt(gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Gy extends class{constructor(n,s){this._firestore=n,this._transaction=s,this._dataReader=Ku(n)}get(n){const s=mu(n,this._firestore),l=new $f(this._firestore);return this._transaction.lookup([s._key]).then(f=>{if(!f||1!==f.length)return zt();const g=f[0];if(g.isFoundDocument())return new Mc(this._firestore,l,g.key,g,s.converter);if(g.isNoDocument())return new Mc(this._firestore,l,s._key,null,s.converter);throw zt()})}set(n,s,l){const f=mu(n,this._firestore),g=kh(f.converter,s,l),S=jf(this._dataReader,"Transaction.set",f._key,g,null!==f.converter,l);return this._transaction.set(f._key,S),this}update(n,s,l,...f){const g=mu(n,this._firestore);let S;return S="string"==typeof(s=(0,me.m9)(s))||s instanceof Sc?Ag(this._dataReader,"Transaction.update",g._key,s,l,f):Dg(this._dataReader,"Transaction.update",g._key,s),this._transaction.update(g._key,S),this}delete(n){const s=mu(n,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=mu(e,this._firestore),s=new Jl(this._firestore);return super.get(e).then(l=>new Xl(this._firestore,s,n._key,l._document,new Md(!1,!1),n.converter))}}function Wy(r,e,n){r=Qi(r,uo);const s=Object.assign(Object.assign({},mm),n);return function(f){if(f.maxAttempts<1)throw new Rt(gt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(f,g,S){const L=new ai;return f.asyncQueue.enqueueAndForget((0,h.Z)(function*(){const K=yield function H_(r){return Dh(r).then(e=>e.datastore)}(f);new iy(f.asyncQueue,K,S,g,L).run()})),L.promise}(ho(r),l=>e(new Gy(r,l)),s)}function yv(){return new Hf("deleteField")}function jg(){return new lm("serverTimestamp")}function bv(...r){return new ov("arrayUnion",r)}function Hg(...r){return new Gb("arrayRemove",r)}function zg(r){return new cm("increment",r)}!function(e,n=!0){gr=H.SDK_VERSION,(0,H._registerComponent)(new te.wA("firestore",(s,{instanceIdentifier:l,options:f})=>{const g=s.getProvider("app").getImmediate(),S=new uo(new No(s.getProvider("auth-internal")),new ao(s.getProvider("app-check-internal")),function(K,se){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new Rt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wo(K.options.projectId,se)}(g,l),g);return f=Object.assign({useFetchStreams:n},f),S._setSettings(f),S},"PUBLIC").setMultipleInstances(!0)),(0,H.registerVersion)(Ki,"4.3.2",e),(0,H.registerVersion)(Ki,"4.3.2","esm2017")}()},9058:(Nt,Be,O)=>{O.d(Be,{BH:()=>Me,G6:()=>En,L:()=>Se,LL:()=>st,P0:()=>_t,Pz:()=>Le,Sg:()=>Xe,UG:()=>Wt,ZB:()=>Oe,ZR:()=>$e,aH:()=>ge,b$:()=>an,eu:()=>Je,hl:()=>We,jU:()=>Ut,m9:()=>Dt,ne:()=>hn,pd:()=>fn,q4:()=>Pt,r3:()=>Bn,ru:()=>dn,tV:()=>ae,uI:()=>Fe,vZ:()=>Li,w1:()=>bi,xO:()=>Ii,xb:()=>Xn,z$:()=>ct,zd:()=>ln});const R=function(oe){const U=[];let F=0;for(let k=0;k<oe.length;k++){let B=oe.charCodeAt(k);B<128?U[F++]=B:B<2048?(U[F++]=B>>6|192,U[F++]=63&B|128):55296==(64512&B)&&k+1<oe.length&&56320==(64512&oe.charCodeAt(k+1))?(B=65536+((1023&B)<<10)+(1023&oe.charCodeAt(++k)),U[F++]=B>>18|240,U[F++]=B>>12&63|128,U[F++]=B>>6&63|128,U[F++]=63&B|128):(U[F++]=B>>12|224,U[F++]=B>>6&63|128,U[F++]=63&B|128)}return U},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,U){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,k=[];for(let B=0;B<oe.length;B+=3){const pe=oe[B],Ue=B+1<oe.length,vt=Ue?oe[B+1]:0,St=B+2<oe.length,Lt=St?oe[B+2]:0;let An=(15&vt)<<2|Lt>>6,et=63&Lt;St||(et=64,Ue||(An=64)),k.push(F[pe>>2],F[(3&pe)<<4|vt>>4],F[An],F[et])}return k.join("")},encodeString(oe,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(oe):this.encodeByteArray(R(oe),U)},decodeString(oe,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(oe):function(oe){const U=[];let F=0,k=0;for(;F<oe.length;){const B=oe[F++];if(B<128)U[k++]=String.fromCharCode(B);else if(B>191&&B<224){const pe=oe[F++];U[k++]=String.fromCharCode((31&B)<<6|63&pe)}else if(B>239&&B<365){const St=((7&B)<<18|(63&oe[F++])<<12|(63&oe[F++])<<6|63&oe[F++])-65536;U[k++]=String.fromCharCode(55296+(St>>10)),U[k++]=String.fromCharCode(56320+(1023&St))}else{const pe=oe[F++],Ue=oe[F++];U[k++]=String.fromCharCode((15&B)<<12|(63&pe)<<6|63&Ue)}}return U.join("")}(this.decodeStringToByteArray(oe,U))},decodeStringToByteArray(oe,U){this.init_();const F=U?this.charToByteMapWebSafe_:this.charToByteMap_,k=[];for(let B=0;B<oe.length;){const pe=F[oe.charAt(B++)],vt=B<oe.length?F[oe.charAt(B)]:0;++B;const Lt=B<oe.length?F[oe.charAt(B)]:64;++B;const gn=B<oe.length?F[oe.charAt(B)]:64;if(++B,null==pe||null==vt||null==Lt||null==gn)throw new Te;k.push(pe<<2|vt>>4),64!==Lt&&(k.push(vt<<4&240|Lt>>2),64!==gn&&k.push(Lt<<6&192|gn))}return k},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(oe){return function(oe){const U=R(oe);return Ee.encodeByteArray(U,!0)}(oe).replace(/\./g,"")},ae=function(oe){try{return Ee.decodeString(oe,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function Oe(oe,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return U}for(const F in U)!U.hasOwnProperty(F)||!Ze(F)||(oe[F]=Oe(oe[F],U[F]));return oe}function Ze(oe){return"__proto__"!==oe}const pt=()=>{try{return function tt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const oe=process.env.__FIREBASE_DEFAULTS__;return oe?JSON.parse(oe):void 0})()||(()=>{if(typeof document>"u")return;let oe;try{oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=oe&&ae(oe[1]);return U&&JSON.parse(U)})()}catch(oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${oe}`)}},Pt=oe=>{var U,F;return null===(F=null===(U=pt())||void 0===U?void 0:U.emulatorHosts)||void 0===F?void 0:F[oe]},_t=oe=>{const U=Pt(oe);if(!U)return;const F=U.lastIndexOf(":");if(F<=0||F+1===U.length)throw new Error(`Invalid host ${U} with no separate hostname and port!`);const k=parseInt(U.substring(F+1),10);return"["===U[0]?[U.substring(1,F-1),k]:[U.substring(0,F),k]},ge=()=>{var oe;return null===(oe=pt())||void 0===oe?void 0:oe.config},Le=oe=>{var U;return null===(U=pt())||void 0===U?void 0:U[`_${oe}`]};class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,F)=>{this.resolve=U,this.reject=F})}wrapCallback(U){return(F,k)=>{F?this.reject(F):this.resolve(k),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(F):U(F,k))}}}function Xe(oe,U){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const k=U||"demo-project",B=oe.iat||0,pe=oe.sub||oe.user_id;if(!pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${k}`,aud:k,iat:B,exp:B+3600,auth_time:B,sub:pe,user_id:pe,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(Ue)),""].join(".")}function ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function Wt(){var oe;const U=null===(oe=pt())||void 0===oe?void 0:oe.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ut(){return"object"==typeof self&&self.self===self}function dn(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function an(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function bi(){const oe=ct();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function En(){return!Wt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function We(){try{return"object"==typeof indexedDB}catch{return!1}}function Je(){return new Promise((oe,U)=>{try{let F=!0;const k="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(k);B.onsuccess=()=>{B.result.close(),F||self.indexedDB.deleteDatabase(k),oe(!0)},B.onupgradeneeded=()=>{F=!1},B.onerror=()=>{var pe;U((null===(pe=B.error)||void 0===pe?void 0:pe.message)||"")}}catch(F){U(F)}})}class $e extends Error{constructor(U,F,k){super(F),this.code=U,this.customData=k,this.name="FirebaseError",Object.setPrototypeOf(this,$e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,st.prototype.create)}}class st{constructor(U,F,k){this.service=U,this.serviceName=F,this.errors=k}create(U,...F){const k=F[0]||{},B=`${this.service}/${U}`,pe=this.errors[U],Ue=pe?function Pe(oe,U){return oe.replace(wt,(F,k)=>{const B=U[k];return null!=B?String(B):`<${k}?>`})}(pe,k):"Error";return new $e(B,`${this.serviceName}: ${Ue} (${B}).`,k)}}const wt=/\{\$([^}]+)}/g;function Bn(oe,U){return Object.prototype.hasOwnProperty.call(oe,U)}function Xn(oe){for(const U in oe)if(Object.prototype.hasOwnProperty.call(oe,U))return!1;return!0}function Li(oe,U){if(oe===U)return!0;const F=Object.keys(oe),k=Object.keys(U);for(const B of F){if(!k.includes(B))return!1;const pe=oe[B],Ue=U[B];if(ni(pe)&&ni(Ue)){if(!Li(pe,Ue))return!1}else if(pe!==Ue)return!1}for(const B of k)if(!F.includes(B))return!1;return!0}function ni(oe){return null!==oe&&"object"==typeof oe}function Ii(oe){const U=[];for(const[F,k]of Object.entries(oe))Array.isArray(k)?k.forEach(B=>{U.push(encodeURIComponent(F)+"="+encodeURIComponent(B))}):U.push(encodeURIComponent(F)+"="+encodeURIComponent(k));return U.length?"&"+U.join("&"):""}function ln(oe){const U={};return oe.replace(/^\?/,"").split("&").forEach(k=>{if(k){const[B,pe]=k.split("=");U[decodeURIComponent(B)]=decodeURIComponent(pe)}}),U}function fn(oe){const U=oe.indexOf("?");if(!U)return"";const F=oe.indexOf("#",U);return oe.substring(U,F>0?F:void 0)}function hn(oe,U){const F=new wi(oe,U);return F.subscribe.bind(F)}class wi{constructor(U,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{U(this)}).catch(k=>{this.error(k)})}next(U){this.forEachObserver(F=>{F.next(U)})}error(U){this.forEachObserver(F=>{F.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,F,k){let B;if(void 0===U&&void 0===F&&void 0===k)throw new Error("Missing Observer.");B=function Pn(oe,U){if("object"!=typeof oe||null===oe)return!1;for(const F of U)if(F in oe&&"function"==typeof oe[F])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:F,complete:k},void 0===B.next&&(B.next=$n),void 0===B.error&&(B.error=$n),void 0===B.complete&&(B.complete=$n);const pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch{}}),this.observers.push(B),pe}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,U)}sendOne(U,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{F(this.observers[U])}catch(k){typeof console<"u"&&console.error&&console.error(k)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $n(){}function Dt(oe){return oe&&oe._delegate?oe._delegate:oe}},6890:(Nt,Be,O)=>{O.d(Be,{O:()=>R});var h=O(5879),H=O(6223);const te=["*"];let R=(()=>{class me{constructor(Te){this.rootFormGroup=Te}ngOnInit(){this.form=this.rootFormGroup.control}static#e=this.\u0275fac=function(fe){return new(fe||me)(h.Y36(H.sg))};static#t=this.\u0275cmp=h.Xpm({type:me,selectors:[["app-custom-input"]],inputs:{controlName:"controlName",label:"label",class:"class",type:"type",helpText:"helpText",errorText:"errorText",readOnly:"readOnly"},ngContentSelectors:te,decls:6,vars:11,consts:[[3,"formGroup"],[1,"form-floating","mb-3"],[3,"type","formControlName","id","placeholder","readonly"],[3,"for"]],template:function(fe,Se){1&fe&&(h.F$t(),h.ynx(0,0),h.TgZ(1,"div",1),h._UZ(2,"input",2),h.TgZ(3,"label",3),h._uU(4),h.qZA(),h.Hsn(5),h.qZA(),h.BQk()),2&fe&&(h.Q6J("formGroup",Se.form),h.xp6(2),h.Gre("form-control ",Se.class,""),h.Q6J("type",Se.type)("formControlName",Se.controlName)("id",Se.controlName)("placeholder",Se.label)("readonly",Se.readOnly),h.xp6(1),h.Q6J("for",Se.controlName),h.xp6(1),h.Oqu(Se.label))},dependencies:[H.Fj,H.JJ,H.JL,H.sg,H.u]})}return me})()},953:(Nt,Be,O)=>{O.d(Be,{S:()=>Te});var h=O(5879),H=O(7488),te=O(2333);function R(fe,Se){if(1&fe){const ae=h.EpF();h.TgZ(0,"div",16)(1,"button",17),h._uU(2),h.qZA(),h.TgZ(3,"ul",18)(4,"li",19)(5,"button",20),h.NdJ("click",function(){h.CHM(ae);const Oe=h.oxw(2);return h.KtG(Oe.loguot())}),h._uU(6,"Cerrar Sesi\xf3n"),h.qZA()()()()}if(2&fe){const ae=h.oxw(2);h.xp6(2),h.hij(" ",ae.usuario.email," ")}}function me(fe,Se){1&fe&&(h.TgZ(0,"div")(1,"a",21)(2,"button",22),h._uU(3,"Iniciar Sesi\xf3n"),h.qZA()()())}function Ee(fe,Se){if(1&fe&&(h.ynx(0),h.YNc(1,R,7,1,"div",15),h.YNc(2,me,4,0,"div",14),h.BQk()),2&fe){const ae=h.oxw();h.xp6(1),h.Q6J("ngIf",ae.usuario),h.xp6(1),h.Q6J("ngIf",!ae.usuario)}}let Te=(()=>{class fe{constructor(ae,ve){this.router=ae,this.auth=ve,this.usuario=null,this.showButtons=!1,this.loadingEvent=new h.vpe,this.userEvent=new h.vpe}ngOnInit(){}loguot(){this.loadingEvent.emit(!0),setTimeout(()=>{this.auth.logout().then(ae=>{this.usuario=null,this.userEvent.emit(null),this.loadingEvent.emit(!1),this.router.navigate(["/home"]),localStorage.clear()}).catch(ae=>{})},1e3)}static#e=this.\u0275fac=function(ve){return new(ve||fe)(h.Y36(H.F0),h.Y36(te.e))};static#t=this.\u0275cmp=h.Xpm({type:fe,selectors:[["app-navbar"]],inputs:{usuario:"usuario",showButtons:"showButtons"},outputs:{loadingEvent:"loadingEvent",userEvent:"userEvent"},decls:26,vars:1,consts:[[1,"navbar","fixed-top"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","../../../assets/logo.png","alt","",1,"logo"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-end"],[1,"dropdown"],[1,"nav-item","dropdown"],["role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],["routerLink","/alta-repartidor",1,"dropdown-item"],["routerLink","/detalle-repartidor",1,"dropdown-item"],["routerLink","/helados-abm",1,"dropdown-item"],[4,"ngIf"],["class","dropdown-center  ",4,"ngIf"],[1,"dropdown-center"],["type","button","data-bs-toggle","dropdown","aria-expanded","false ",1,"btn","btn-lg","dropdown-toggle","text-light"],[1,"dropdown-menu","w-100"],[1,"p-2"],[1,"btn","text-light","w-100","bg-danger",3,"click"],["routerLink","/login"],[1,"btn","btn-primary"]],template:function(ve,Oe){1&ve&&(h.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),h._UZ(3,"img",3),h.qZA(),h.TgZ(4,"button",4),h._UZ(5,"span",5),h.qZA(),h.TgZ(6,"div",6)(7,"div",7)(8,"li",8)(9,"a",9),h._uU(10," Repartidor "),h.qZA(),h.TgZ(11,"ul",10)(12,"li")(13,"a",11),h._uU(14,"Alta"),h.qZA()(),h.TgZ(15,"li")(16,"a",12),h._uU(17,"Detalle"),h.qZA()()()(),h.TgZ(18,"li",8)(19,"a",9),h._uU(20," Helados "),h.qZA(),h.TgZ(21,"ul",10)(22,"li")(23,"a",13),h._uU(24,"ABM"),h.qZA()()()()(),h.YNc(25,Ee,3,2,"ng-container",14),h.qZA()()()),2&ve&&(h.xp6(25),h.Q6J("ngIf",Oe.showButtons))},styles:["nav[_ngcontent-%COMP%]{background-color:#004373}nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{color:#49a22b!important}.logo[_ngcontent-%COMP%]{height:40px;filter:drop-shadow(5px 5px 18px #020202)}.navbar-toggler[_ngcontent-%COMP%]{color:#49a22b!important;background-color:#fff}.navbar-toggler-icon[_ngcontent-%COMP%]{color:#fff!important;background-color:#fff}.offcanvas[_ngcontent-%COMP%]{background-color:#002f50}li[_ngcontent-%COMP%]{list-style:none}.nav-link[_ngcontent-%COMP%]{color:#49a22b;font-size:1.5rem;margin:15px}.btn[_ngcontent-%COMP%]{margin:15px;text-decoration:none;background-color:#49a22b;border:1px solid #49a22b}.btn[_ngcontent-%COMP%]:hover{background-color:#377721}.dropdown-menu[_ngcontent-%COMP%]{background-color:#4d074d;color:#fff}.dropdown-item[_ngcontent-%COMP%]{color:#fff}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:purple}"]})}return fe})()},2333:(Nt,Be,O)=>{O.d(Be,{e:()=>me});var h=O(2637),H=O(752),te=O(5879),R=O(1160);let me=(()=>{class Ee{constructor(fe,Se){this.auth=fe,this.db=Se}register(fe,Se){return(0,h.Xb)(this.auth,fe,Se)}login(fe,Se){return(0,h.e5)(this.auth,fe,Se)}confirmarMail(fe){return(0,h.w$)(fe.user)}logout(){return(0,h.w7)(this.auth)}getCurrentUser(){return this.auth.currentUser}saveLog(fe){let Se=new Date;const ae=Se.toLocaleDateString()+"-"+Se.toLocaleTimeString();this.db.collection("usuarios").doc().set({email:fe,fecha_ingreso:ae})}updateUser(fe){const Se=(0,H.v0)();return(0,H.ck)(Se.currentUser,fe)}static#e=this.\u0275fac=function(Se){return new(Se||Ee)(te.LFG(h.gx),te.LFG(R.ST))};static#t=this.\u0275prov=te.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},9255:(Nt,Be,O)=>{O.d(Be,{n:()=>R});var h=O(4643),H=O(5879),te=O(1160);let R=(()=>{class me{constructor(Te,fe){this.firestore=Te,this.angularFire=fe,this.especialisteRef=(0,h.hJ)(this.firestore,"especialistas")}agregarEspecialista(Te){return(0,h.ET)(this.especialisteRef,Te)}obtenerEspecialistas(){return this.angularFire.collection("especialistas",Te=>Te.orderBy("dni","asc")).valueChanges()}static#e=this.\u0275fac=function(fe){return new(fe||me)(H.LFG(h.gg),H.LFG(te.ST))};static#t=this.\u0275prov=H.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})()},5235:(Nt,Be,O)=>{O.d(Be,{d:()=>R});var h=O(4643),H=O(5879),te=O(1160);let R=(()=>{class me{constructor(Te,fe){this.firestore=Te,this.angularFire=fe,this.pacienteRef=(0,h.hJ)(this.firestore,"paciente")}agregarPaciente(Te){return(0,h.ET)(this.pacienteRef,Te)}obtenerPacientes(){return this.angularFire.collection("paciente",Te=>Te.orderBy("dni","asc")).valueChanges()}static#e=this.\u0275fac=function(fe){return new(fe||me)(H.LFG(h.gg),H.LFG(te.ST))};static#t=this.\u0275prov=H.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})()},3712:(Nt,Be,O)=>{O.d(Be,{o:()=>te});var h=O(5879),H=O(7025);let te=(()=>{class R{constructor(Ee){this.snackBar=Ee}showSnackBar(Ee,Te,fe){let Se=this.snackBar.open(Ee,Te,{duration:3e3|fe,panelClass:"error-alert-snackbar"});Se.onAction().subscribe(()=>{Se.dismiss()})}static#e=this.\u0275fac=function(Te){return new(Te||R)(h.LFG(H.ux))};static#t=this.\u0275prov=h.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},6208:(Nt,Be,O)=>{O.d(Be,{m:()=>te});var h=O(6223),H=O(5879);let te=(()=>{class R{static#e=this.\u0275fac=function(Te){return new(Te||R)};static#t=this.\u0275mod=H.oAB({type:R});static#n=this.\u0275inj=H.cJS({imports:[h.UX]})}return R})()},6804:(Nt,Be,O)=>{var h=O(6593),H=O(6223),te=O(7488),R=O(5879),me=O(953),Ee=O(6814);function Te(_,u){1&_&&(R.TgZ(0,"div",1),R._UZ(1,"img",2),R.TgZ(2,"h4",3),R._uU(3,"On"),R.TgZ(4,"span",4),R._uU(5,"Line"),R.qZA()()())}let fe=(()=>{class _{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(v){return new(v||_)};static#t=this.\u0275cmp=R.Xpm({type:_,selectors:[["app-spinner"]],inputs:{showSpinner:"showSpinner"},decls:1,vars:1,consts:[["class","spinner-container position-fixed d-flex justify-content-center align-items-center",4,"ngIf"],[1,"spinner-container","position-fixed","d-flex","justify-content-center","align-items-center"],["src","../../../assets/logo.png","alt","",1,"spinner","heartbeat"],[1,"logo"],[1,"span-logo"]],template:function(v,w){1&v&&R.YNc(0,Te,6,0,"div",0),2&v&&R.Q6J("ngIf",w.showSpinner)},dependencies:[Ee.O5],styles:[".spinner-container[_ngcontent-%COMP%]{height:100%;width:100%;z-index:10;background-color:#000000ce;display:flex;flex-direction:column}.spinner[_ngcontent-%COMP%]{height:250px}.heartbeat[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartbeat 3.5s ease-in-out infinite both}.logo[_ngcontent-%COMP%]{text-transform:uppercase;font-size:1.5rem;font-weight:800;text-decoration:none;color:#004373}.span-logo[_ngcontent-%COMP%]{color:#49a22b}@keyframes _ngcontent-%COMP%_heartbeat{0%{transform:scale(1);transform-origin:center center;animation-timing-function:ease-out}10%{transform:scale(.91);animation-timing-function:ease-in}17%{transform:scale(.98);animation-timing-function:ease-out}33%{transform:scale(.87);animation-timing-function:ease-in}45%{transform:scale(1);animation-timing-function:ease-out}}.text-focus-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_text-focus-in 1s cubic-bezier(.55,.085,.68,.53) both}@keyframes _ngcontent-%COMP%_text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]})}return _})(),Se=(()=>{class _{constructor(){this.loading=!0}ngOnInit(){setTimeout(()=>{this.loading=!1},2500)}static#e=this.\u0275fac=function(v){return new(v||_)};static#t=this.\u0275cmp=R.Xpm({type:_,selectors:[["app-bienvenida"]],decls:19,vars:3,consts:[[1,"container-web"],[3,"showButtons","usuario","loadingEvent"],[3,"showSpinner"],[1,"row"],[1,"col-12","bg-image"],["href","#",1,"header__navbar__logo"],["id","color",1,"header__navbar__logo__span--green"],[1,"col-12","container-welcome"],["routerLink","/login",1,"btn","btn-primary"],["routerLink","/registro",1,"btn","btn-primary"]],template:function(v,w){1&v&&(R.TgZ(0,"div",0)(1,"app-navbar",1),R.NdJ("loadingEvent",function(ne){return w.loading=ne}),R.qZA(),R._UZ(2,"app-spinner",2),R.TgZ(3,"div",3)(4,"div",4)(5,"a",5),R._uU(6,"On"),R.TgZ(7,"span",6),R._uU(8,"Line"),R.qZA()()(),R.TgZ(9,"div",7)(10,"h4"),R._uU(11,"Para ingresar con su cuenta presione aqu\xed"),R.qZA(),R.TgZ(12,"button",8),R._uU(13,"Entrar"),R.qZA(),R._UZ(14,"hr"),R.TgZ(15,"h4"),R._uU(16,"Para registrarse presione aqu\xed"),R.qZA(),R.TgZ(17,"button",9),R._uU(18,"Registrarse"),R.qZA()()()()),2&v&&(R.xp6(1),R.Q6J("showButtons",!0)("usuario",w.user),R.xp6(1),R.Q6J("showSpinner",w.loading))},dependencies:[te.rH,me.S,fe],styles:[".row[_ngcontent-%COMP%]{width:100vw}.bg-image[_ngcontent-%COMP%]{background-image:url(welcome_2.3c6bb67874fbf4cc.png);background-size:cover;background-position:center;background-repeat:no-repeat;height:50vh;display:flex;align-items:center;justify-content:center;color:#0f0a0a}.container-welcome[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;justify-content:center;align-items:center}hr[_ngcontent-%COMP%]{width:60vw}.btn[_ngcontent-%COMP%]{width:150px}.header__navbar__logo[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{text-transform:uppercase;font-size:3.5rem;font-weight:800;text-decoration:none;color:#0097e6;text-shadow:4px 4px 4px rgba(0,0,0,.75)}.header__navbar__logo__span--green[_ngcontent-%COMP%]{color:#b4f00a}"]})}return _})();var ae=O(5861);class ve{static onlyLetters(u){return/^([^\u0000-\u0040\u005B-\u0060\u007B-\u00BF\u02B0-\u036F\u00D7\u00F7\u2000-\u2BFF])+$/.test(u.value)?null:{onlyLetters:!0}}static lettersAndNumbers(u){return/^[A-z0-9\xc1-\xfc]+$/.test(u.value)?null:{lettersAndNumbers:!0}}static onlyNumbers(u){return/^[0-9]+$/.test(u.value)?null:{onlyNumbers:!0}}static validDate(u){return/^([0-9]{4})-(0[1-9]|1[012])-([123]0|[012][1-9]|31)$/.test(u.value)?null:{validDate:!0}}static onlyLettersAndSpaces(u){return/^[a-zA-Z\s.\-]*$/.test(u.value)?null:{onlyLettersAndSpaces:!0}}}var Oe=O(2032),Ze=O(4664),tt=O(1920),bt=O(5592),it=O(2096),lt=O(2459),pt=O(3620),Pt=O(7398),_t=O(7217),ge=O(3106),Le=O(534),Me=O(9058),Xe=O(4537);const ct="firebasestorage.googleapis.com",Fe="storageBucket";class an extends Me.ZR{constructor(u,d,v=0){super(bi(u),`Firebase Storage: ${d} (${bi(u)})`),this.status_=v,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,an.prototype)}get status(){return this.status_}set status(u){this.status_=u}_codeEquals(u){return bi(u)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(u){this.customData.serverResponse=u,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var jt=function(_){return _.UNKNOWN="unknown",_.OBJECT_NOT_FOUND="object-not-found",_.BUCKET_NOT_FOUND="bucket-not-found",_.PROJECT_NOT_FOUND="project-not-found",_.QUOTA_EXCEEDED="quota-exceeded",_.UNAUTHENTICATED="unauthenticated",_.UNAUTHORIZED="unauthorized",_.UNAUTHORIZED_APP="unauthorized-app",_.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",_.INVALID_CHECKSUM="invalid-checksum",_.CANCELED="canceled",_.INVALID_EVENT_NAME="invalid-event-name",_.INVALID_URL="invalid-url",_.INVALID_DEFAULT_BUCKET="invalid-default-bucket",_.NO_DEFAULT_BUCKET="no-default-bucket",_.CANNOT_SLICE_BLOB="cannot-slice-blob",_.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",_.NO_DOWNLOAD_URL="no-download-url",_.INVALID_ARGUMENT="invalid-argument",_.INVALID_ARGUMENT_COUNT="invalid-argument-count",_.APP_DELETED="app-deleted",_.INVALID_ROOT_OPERATION="invalid-root-operation",_.INVALID_FORMAT="invalid-format",_.INTERNAL_ERROR="internal-error",_.UNSUPPORTED_ENVIRONMENT="unsupported-environment",_}(jt||{});function bi(_){return"storage/"+_}function Jt(){return new an(jt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Qe(){return new an(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $e(){return new an(jt.CANCELED,"User canceled the upload/download.")}function zn(){return new an(jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _n(_){return new an(jt.INVALID_ARGUMENT,_)}function Ln(){return new an(jt.APP_DELETED,"The Firebase app was deleted.")}function li(_){return new an(jt.INVALID_ROOT_OPERATION,"The operation '"+_+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bn(_,u){return new an(jt.INVALID_FORMAT,"String does not match format '"+_+"': "+u)}function Ei(_){throw new an(jt.INTERNAL_ERROR,"Internal error: "+_)}class Xn{constructor(u,d){this.bucket=u,this.path_=d}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const u=encodeURIComponent;return"/b/"+u(this.bucket)+"/o/"+u(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(u,d){let v;try{v=Xn.makeFromUrl(u,d)}catch{return new Xn(u,"")}if(""===v.path)return v;throw function Pe(_){return new an(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+_+"'.")}(u)}static makeFromUrl(u,d){let v=null;const w="([A-Za-z0-9.\\-_]+)",he=new RegExp("^gs://"+w+"(/(.*))?$","i");function qe(Ni){Ni.path_=decodeURIComponent(Ni.path)}const $t=d.replace(/[.]/g,"\\."),Yi=[{regex:he,indices:{bucket:1,path:3},postModify:function V(Ni){"/"===Ni.path.charAt(Ni.path.length-1)&&(Ni.path_=Ni.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${$t}/v[A-Za-z0-9_]+/b/${w}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:qe},{regex:new RegExp(`^https?://${d===ct?"(?:storage.googleapis.com|storage.cloud.google.com)":d}/${w}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:qe}];for(let Ni=0;Ni<Yi.length;Ni++){const Lo=Yi[Ni],Vo=Lo.regex.exec(u);if(Vo){let Ts=Vo[Lo.indices.path];Ts||(Ts=""),v=new Xn(Vo[Lo.indices.bucket],Ts),Lo.postModify(v);break}}if(null==v)throw function st(_){return new an(jt.INVALID_URL,"Invalid URL '"+_+"'.")}(u);return v}}class lr{constructor(u){this.promise_=Promise.reject(u)}getPromise(){return this.promise_}cancel(u=!1){}}function fn(_){return"string"==typeof _||_ instanceof String}function en(_){return hn()&&_ instanceof Blob}function hn(){return typeof Blob<"u"&&!(0,Me.UG)()}function wi(_,u,d,v){if(v<u)throw _n(`Invalid value for '${_}'. Expected ${u} or greater.`);if(v>d)throw _n(`Invalid value for '${_}'. Expected ${d} or less.`)}function ki(_,u,d){let v=u;return null==d&&(v=`https://${u}`),`${d}://${v}/v0${_}`}function Pn(_){const u=encodeURIComponent;let d="?";for(const v in _)_.hasOwnProperty(v)&&(d=d+(u(v)+"=")+u(_[v])+"&");return d=d.slice(0,-1),d}var $n=function(_){return _[_.NO_ERROR=0]="NO_ERROR",_[_.NETWORK_ERROR=1]="NETWORK_ERROR",_[_.ABORT=2]="ABORT",_}($n||{});function Mr(_,u){const d=_>=500&&_<600,w=-1!==[408,429].indexOf(_),V=-1!==u.indexOf(_);return d||w||V}class Qt{constructor(u,d,v,w,V,ne,he,Ae,qe,At,$t,mn=!0){this.url_=u,this.method_=d,this.headers_=v,this.body_=w,this.successCodes_=V,this.additionalRetryCodes_=ne,this.callback_=he,this.errorCallback_=Ae,this.timeout_=qe,this.progressCallback_=At,this.connectionFactory_=$t,this.retry=mn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((wn,tn)=>{this.resolve_=wn,this.reject_=tn,this.start_()})}start_(){const d=(v,w)=>{const V=this.resolve_,ne=this.reject_,he=w.connection;if(w.wasSuccessCode)try{const Ae=this.callback_(he,he.getResponse());!function Pi(_){return void 0!==_}(Ae)?V():V(Ae)}catch(Ae){ne(Ae)}else if(null!==he){const Ae=Jt();Ae.serverResponse=he.getErrorText(),ne(this.errorCallback_?this.errorCallback_(he,Ae):Ae)}else ne(w.canceled?this.appDelete_?Ln():$e():Qe())};this.canceled_?d(0,new hr(!1,null,!0)):this.backoffId_=function Li(_,u,d){let v=1,w=null,V=null,ne=!1,he=0;function Ae(){return 2===he}let qe=!1;function At(...Yn){qe||(qe=!0,u.apply(null,Yn))}function $t(Yn){w=setTimeout(()=>{w=null,_(wn,Ae())},Yn)}function mn(){V&&clearTimeout(V)}function wn(Yn,...ar){if(qe)return void mn();if(Yn)return mn(),void At.call(null,Yn,...ar);if(Ae()||ne)return mn(),void At.call(null,Yn,...ar);let Yi;v<64&&(v*=2),1===he?(he=2,Yi=0):Yi=1e3*(v+Math.random()),$t(Yi)}let tn=!1;function Tn(Yn){tn||(tn=!0,mn(),!qe&&(null!==w?(Yn||(he=2),clearTimeout(w),$t(0)):Yn||(he=1)))}return $t(0),V=setTimeout(()=>{ne=!0,Tn(!0)},d),Tn}((v,w)=>{if(w)return void v(!1,new hr(!1,null,!0));const V=this.connectionFactory_();this.pendingConnection_=V;const ne=he=>{null!==this.progressCallback_&&this.progressCallback_(he.loaded,he.lengthComputable?he.total:-1)};null!==this.progressCallback_&&V.addUploadProgressListener(ne),V.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&V.removeUploadProgressListener(ne),this.pendingConnection_=null;const he=V.getErrorCode()===$n.NO_ERROR,Ae=V.getStatus();if(!he||Mr(Ae,this.additionalRetryCodes_)&&this.retry){const At=V.getErrorCode()===$n.ABORT;return void v(!1,new hr(!1,null,At))}const qe=-1!==this.successCodes_.indexOf(Ae);v(!0,new hr(qe,V))})},d,this.timeout_)}getPromise(){return this.promise_}cancel(u){this.canceled_=!0,this.appDelete_=u||!1,null!==this.backoffId_&&function ni(_){_(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class hr{constructor(u,d,v){this.wasSuccessCode=u,this.connection=d,this.canceled=!!v}}function vi(..._){const u=function Mn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==u){const d=new u;for(let v=0;v<_.length;v++)d.append(_[v]);return d.getBlob()}if(hn())return new Blob(_);throw new an(jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ui={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gi{constructor(u,d){this.data=u,this.contentType=d||null}}function fr(_,u){switch(_){case Ui.RAW:return new Gi(Dt(u));case Ui.BASE64:case Ui.BASE64URL:return new Gi(U(_,u));case Ui.DATA_URL:return new Gi(function k(_){const u=new F(_);return u.base64?U(Ui.BASE64,u.rest):function oe(_){let u;try{u=decodeURIComponent(_)}catch{throw Bn(Ui.DATA_URL,"Malformed data URL.")}return Dt(u)}(u.rest)}(u),function B(_){return new F(_).contentType}(u))}throw Jt()}function Dt(_){const u=[];for(let d=0;d<_.length;d++){let v=_.charCodeAt(d);v<=127?u.push(v):v<=2047?u.push(192|v>>6,128|63&v):55296==(64512&v)?d<_.length-1&&56320==(64512&_.charCodeAt(d+1))?(v=65536|(1023&v)<<10|1023&_.charCodeAt(++d),u.push(240|v>>18,128|v>>12&63,128|v>>6&63,128|63&v)):u.push(239,191,189):56320==(64512&v)?u.push(239,191,189):u.push(224|v>>12,128|v>>6&63,128|63&v)}return new Uint8Array(u)}function U(_,u){switch(_){case Ui.BASE64:{const w=-1!==u.indexOf("-"),V=-1!==u.indexOf("_");if(w||V)throw Bn(_,"Invalid character '"+(w?"-":"_")+"' found: is it base64url encoded?");break}case Ui.BASE64URL:{const w=-1!==u.indexOf("+"),V=-1!==u.indexOf("/");if(w||V)throw Bn(_,"Invalid character '"+(w?"+":"/")+"' found: is it base64 encoded?");u=u.replace(/-/g,"+").replace(/_/g,"/");break}}let d;try{d=function Xi(_){if(typeof atob>"u")throw function Dn(_){return new an(jt.UNSUPPORTED_ENVIRONMENT,`${_} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(_)}(u)}catch(w){throw w.message.includes("polyfill")?w:Bn(_,"Invalid character found")}const v=new Uint8Array(d.length);for(let w=0;w<d.length;w++)v[w]=d.charCodeAt(w);return v}class F{constructor(u){this.base64=!1,this.contentType=null;const d=u.match(/^data:([^,]+)?,/);if(null===d)throw Bn(Ui.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const v=d[1]||null;null!=v&&(this.base64=function pe(_,u){return _.length>=u.length&&_.substring(_.length-u.length)===u}(v,";base64"),this.contentType=this.base64?v.substring(0,v.length-7):v),this.rest=u.substring(u.indexOf(",")+1)}}class Ue{constructor(u,d){let v=0,w="";en(u)?(this.data_=u,v=u.size,w=u.type):u instanceof ArrayBuffer?(d?this.data_=new Uint8Array(u):(this.data_=new Uint8Array(u.byteLength),this.data_.set(new Uint8Array(u))),v=this.data_.length):u instanceof Uint8Array&&(d?this.data_=u:(this.data_=new Uint8Array(u.length),this.data_.set(u)),v=u.length),this.size_=v,this.type_=w}size(){return this.size_}type(){return this.type_}slice(u,d){if(en(this.data_)){const w=function $i(_,u,d){return _.webkitSlice?_.webkitSlice(u,d):_.mozSlice?_.mozSlice(u,d):_.slice?_.slice(u,d):null}(this.data_,u,d);return null===w?null:new Ue(w)}{const v=new Uint8Array(this.data_.buffer,u,d-u);return new Ue(v,!0)}}static getBlob(...u){if(hn()){const d=u.map(v=>v instanceof Ue?v.data_:v);return new Ue(vi.apply(null,d))}{const d=u.map(ne=>fn(ne)?fr(Ui.RAW,ne).data:ne.data_);let v=0;d.forEach(ne=>{v+=ne.byteLength});const w=new Uint8Array(v);let V=0;return d.forEach(ne=>{for(let he=0;he<ne.length;he++)w[V++]=ne[he]}),new Ue(w,!0)}}uploadData(){return this.data_}}function vt(_){let u;try{u=JSON.parse(_)}catch{return null}return function ln(_){return"object"==typeof _&&!Array.isArray(_)}(u)?u:null}function Ht(_){const u=_.lastIndexOf("/",_.length-2);return-1===u?_:_.slice(u+1)}function gn(_,u){return u}class An{constructor(u,d,v,w){this.server=u,this.local=d||u,this.writable=!!v,this.xform=w||gn}}let et=null;function Ie(){if(et)return et;const _=[];_.push(new An("bucket")),_.push(new An("generation")),_.push(new An("metageneration")),_.push(new An("name","fullPath",!0));const d=new An("name");d.xform=function u(V,ne){return function ie(_){return!fn(_)||_.length<2?_:Ht(_)}(ne)},_.push(d);const w=new An("size");return w.xform=function v(V,ne){return void 0!==ne?Number(ne):ne},_.push(w),_.push(new An("timeCreated")),_.push(new An("updated")),_.push(new An("md5Hash",null,!0)),_.push(new An("cacheControl",null,!0)),_.push(new An("contentDisposition",null,!0)),_.push(new An("contentEncoding",null,!0)),_.push(new An("contentLanguage",null,!0)),_.push(new An("contentType",null,!0)),_.push(new An("metadata","customMetadata",!0)),et=_,et}function at(_,u,d){const v=vt(u);return null===v?null:function we(_,u,d){const v={type:"file"},w=d.length;for(let V=0;V<w;V++){const ne=d[V];v[ne.local]=ne.xform(v,u[ne.server])}return function _e(_,u){Object.defineProperty(_,"ref",{get:function d(){const V=new Xn(_.bucket,_.fullPath);return u._makeStorageReference(V)}})}(v,_),v}(_,v,d)}function Kt(_,u){const d={},v=u.length;for(let w=0;w<v;w++){const V=u[w];V.writable&&(d[V.server]=_[V.local])}return JSON.stringify(d)}const Bt="prefixes",Un="items";class Ji{constructor(u,d,v,w){this.url=u,this.method=d,this.handler=v,this.timeout=w,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ti(_){if(!_)throw Jt()}function Cr(_,u){return function d(v,w){const V=at(_,w,u);return Ti(null!==V),V}}function si(_){return function u(d,v){let w;return w=401===d.getStatus()?d.getErrorText().includes("Firebase App Check token is invalid")?function Je(){return new an(jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function We(){return new an(jt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===d.getStatus()?function En(_){return new an(jt.QUOTA_EXCEEDED,"Quota for bucket '"+_+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(_.bucket):403===d.getStatus()?function Ye(_){return new an(jt.UNAUTHORIZED,"User does not have permission to access '"+_+"'.")}(_.path):v,w.status=d.getStatus(),w.serverResponse=v.serverResponse,w}}function Pr(_){const u=si(_);return function d(v,w){let V=u(v,w);return 404===v.getStatus()&&(V=function bn(_){return new an(jt.OBJECT_NOT_FOUND,"Object '"+_+"' does not exist.")}(_.path)),V.serverResponse=w.serverResponse,V}}function pi(_,u,d){const w=ki(u.fullServerUrl(),_.host,_._protocol),ne=_.maxOperationRetryTime,he=new Ji(w,"GET",Cr(_,d),ne);return he.errorHandler=Pr(u),he}function Ai(_,u,d,v,w){const V={};V.prefix=u.isRoot?"":u.path+"/",d&&d.length>0&&(V.delimiter=d),v&&(V.pageToken=v),w&&(V.maxResults=w);const he=ki(u.bucketOnlyServerUrl(),_.host,_._protocol),qe=_.maxOperationRetryTime,At=new Ji(he,"GET",function er(_,u){return function d(v,w){const V=function xi(_,u,d){const v=vt(d);return null===v?null:function yi(_,u,d){const v={prefixes:[],items:[],nextPageToken:d.nextPageToken};if(d[Bt])for(const w of d[Bt]){const V=w.replace(/\/$/,""),ne=_._makeStorageReference(new Xn(u,V));v.prefixes.push(ne)}if(d[Un])for(const w of d[Un]){const V=_._makeStorageReference(new Xn(u,w.name));v.items.push(V)}return v}(_,u,v)}(_,u,w);return Ti(null!==V),V}}(_,u.bucket),qe);return At.urlParams=V,At.errorHandler=si(u),At}function es(_,u,d){const v=Object.assign({},d);return v.fullPath=_.path,v.size=u.size(),v.contentType||(v.contentType=function ls(_,u){return _&&_.contentType||u&&u.type()||"application/octet-stream"}(null,u)),v}class $r{constructor(u,d,v,w){this.current=u,this.total=d,this.finalized=!!v,this.metadata=w||null}}function Ko(_,u){let d=null;try{d=_.getResponseHeader("X-Goog-Upload-Status")}catch{Ti(!1)}return Ti(!!d&&-1!==(u||["active"]).indexOf(d)),d}const cs={STATE_CHANGED:"state_changed"},Or={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Dr(_){switch(_){case"running":case"pausing":case"canceling":return Or.RUNNING;case"paused":return Or.PAUSED;case"success":return Or.SUCCESS;case"canceled":return Or.CANCELED;default:return Or.ERROR}}class Zo{constructor(u,d,v){if(function Ii(_){return"function"==typeof _}(u)||null!=d||null!=v)this.next=u,this.error=d??void 0,this.complete=v??void 0;else{const V=u;this.next=V.next,this.error=V.error,this.complete=V.complete}}}function fo(_){return(...u)=>{Promise.resolve().then(()=>_(...u))}}let Do=null;class Os{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$n.NO_ERROR,this.sendPromise_=new Promise(u=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$n.ABORT,u()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$n.NETWORK_ERROR,u()}),this.xhr_.addEventListener("load",()=>{u()})})}send(u,d,v,w){if(this.sent_)throw Ei("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(d,u,!0),void 0!==w)for(const V in w)w.hasOwnProperty(V)&&this.xhr_.setRequestHeader(V,w[V].toString());return void 0!==v?this.xhr_.send(v):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ei("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ei("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ei("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ei("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(u){return this.xhr_.getResponseHeader(u)}addUploadProgressListener(u){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",u)}removeUploadProgressListener(u){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",u)}}class Ao extends Os{initXhr(){this.xhr_.responseType="text"}}function pr(){return Do?Do():new Ao}class Jn{constructor(u,d,v=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=u,this._blob=d,this._metadata=v,this._mappings=Ie(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=w=>{if(this._request=void 0,this._chunkMultiplier=1,w._codeEquals(jt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const V=this.isExponentialBackoffExpired();if(Mr(w.status,[])){if(!V)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();w=Qe()}this._error=w,this._transition("error")}},this._metadataErrorHandler=w=>{this._request=void 0,w._codeEquals(jt.CANCELED)?this.completeTransitions_():(this._error=w,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((w,V)=>{this._resolve=w,this._reject=V,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const u=this._transferred;return d=>this._updateProgress(u+d)}_shouldDoResumable(u){return u.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(u){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([d,v])=>{switch(this._state){case"running":u(d,v);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((u,d)=>{const v=function Va(_,u,d,v,w){const V=u.bucketOnlyServerUrl(),ne=es(u,v,w),he={name:ne.fullPath},Ae=ki(V,_.host,_._protocol),At={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${v.size()}`,"X-Goog-Upload-Header-Content-Type":ne.contentType,"Content-Type":"application/json; charset=utf-8"},$t=Kt(ne,d),tn=new Ji(Ae,"POST",function wn(Tn){let Yn;Ko(Tn);try{Yn=Tn.getResponseHeader("X-Goog-Upload-URL")}catch{Ti(!1)}return Ti(fn(Yn)),Yn},_.maxUploadRetryTime);return tn.urlParams=he,tn.headers=At,tn.body=$t,tn.errorHandler=si(u),tn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),w=this._ref.storage._makeRequest(v,pr,u,d);this._request=w,w.getPromise().then(V=>{this._request=void 0,this._uploadUrl=V,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const u=this._uploadUrl;this._resolveToken((d,v)=>{const w=function _s(_,u,d,v){const Ae=new Ji(d,"POST",function V(qe){const At=Ko(qe,["active","final"]);let $t=null;try{$t=qe.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ti(!1)}$t||Ti(!1);const mn=Number($t);return Ti(!isNaN(mn)),new $r(mn,v.size(),"final"===At)},_.maxUploadRetryTime);return Ae.headers={"X-Goog-Upload-Command":"query"},Ae.errorHandler=si(u),Ae}(this._ref.storage,this._ref._location,u,this._blob),V=this._ref.storage._makeRequest(w,pr,d,v);this._request=V,V.getPromise().then(ne=>{this._request=void 0,this._updateProgress(ne.current),this._needToFetchStatus=!1,ne.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const u=262144*this._chunkMultiplier,d=new $r(this._transferred,this._blob.size()),v=this._uploadUrl;this._resolveToken((w,V)=>{let ne;try{ne=function vs(_,u,d,v,w,V,ne,he){const Ae=new $r(0,0);if(ne?(Ae.current=ne.current,Ae.total=ne.total):(Ae.current=0,Ae.total=v.size()),v.size()!==Ae.total)throw function rn(){return new an(jt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const qe=Ae.total-Ae.current;let At=qe;w>0&&(At=Math.min(At,w));const $t=Ae.current;let wn="";wn=0===At?"finalize":qe===At?"upload, finalize":"upload";const tn={"X-Goog-Upload-Command":wn,"X-Goog-Upload-Offset":`${Ae.current}`},Tn=v.slice($t,$t+At);if(null===Tn)throw zn();const Yi=new Ji(d,"POST",function Yn(Ni,Lo){const Vo=Ko(Ni,["active","final"]),co=Ae.current+At,Ts=v.size();let Cs;return Cs="final"===Vo?Cr(u,V)(Ni,Lo):null,new $r(co,Ts,"final"===Vo,Cs)},u.maxUploadRetryTime);return Yi.headers=tn,Yi.body=Tn.uploadData(),Yi.progressCallback=he||null,Yi.errorHandler=si(_),Yi}(this._ref._location,this._ref.storage,v,this._blob,u,this._mappings,d,this._makeProgressCallback())}catch(Ae){return this._error=Ae,void this._transition("error")}const he=this._ref.storage._makeRequest(ne,pr,w,V,!1);this._request=he,he.getPromise().then(Ae=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Ae.current),Ae.finalized?(this._metadata=Ae.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((u,d)=>{const v=pi(this._ref.storage,this._ref._location,this._mappings),w=this._ref.storage._makeRequest(v,pr,u,d);this._request=w,w.getPromise().then(V=>{this._request=void 0,this._metadata=V,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((u,d)=>{const v=function xr(_,u,d,v,w){const V=u.bucketOnlyServerUrl(),ne={"X-Goog-Upload-Protocol":"multipart"},Ae=function he(){let Yi="";for(let Ni=0;Ni<2;Ni++)Yi+=Math.random().toString().slice(2);return Yi}();ne["Content-Type"]="multipart/related; boundary="+Ae;const qe=es(u,v,w),At=Kt(qe,d),wn=Ue.getBlob("--"+Ae+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+At+"\r\n--"+Ae+"\r\nContent-Type: "+qe.contentType+"\r\n\r\n",v,"\r\n--"+Ae+"--");if(null===wn)throw zn();const tn={name:qe.fullPath},Tn=ki(V,_.host,_._protocol),ar=_.maxUploadRetryTime,wr=new Ji(Tn,"POST",Cr(_,d),ar);return wr.urlParams=tn,wr.headers=ne,wr.body=wn.uploadData(),wr.errorHandler=si(u),wr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),w=this._ref.storage._makeRequest(v,pr,u,d);this._request=w,w.getPromise().then(V=>{this._request=void 0,this._metadata=V,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(u){const d=this._transferred;this._transferred=u,this._transferred!==d&&this._notifyObservers()}_transition(u){if(this._state!==u)switch(u){case"canceling":case"pausing":this._state=u,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const d="paused"===this._state;this._state=u,d&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=u,this._notifyObservers();break;case"canceled":this._error=$e(),this._state=u,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const u=Dr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:u,metadata:this._metadata,task:this,ref:this._ref}}on(u,d,v,w){const V=new Zo(d||void 0,v||void 0,w||void 0);return this._addObserver(V),()=>{this._removeObserver(V)}}then(u,d){return this._promise.then(u,d)}catch(u){return this.then(null,u)}_addObserver(u){this._observers.push(u),this._notifyObserver(u)}_removeObserver(u){const d=this._observers.indexOf(u);-1!==d&&this._observers.splice(d,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(d=>{this._notifyObserver(d)})}_finishPromise(){if(void 0!==this._resolve){let u=!0;switch(Dr(this._state)){case Or.SUCCESS:fo(this._resolve.bind(null,this.snapshot))();break;case Or.CANCELED:case Or.ERROR:fo(this._reject.bind(null,this._error))();break;default:u=!1}u&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(u){switch(Dr(this._state)){case Or.RUNNING:case Or.PAUSED:u.next&&fo(u.next.bind(u,this.snapshot))();break;case Or.SUCCESS:u.complete&&fo(u.complete.bind(u))();break;default:u.error&&fo(u.error.bind(u,this._error))()}}resume(){const u="paused"===this._state||"pausing"===this._state;return u&&this._transition("running"),u}pause(){const u="running"===this._state;return u&&this._transition("pausing"),u}cancel(){const u="running"===this._state||"pausing"===this._state;return u&&this._transition("canceling"),u}}class ji{constructor(u,d){this._service=u,this._location=d instanceof Xn?d:Xn.makeFromUrl(d,u.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(u,d){return new ji(u,d)}get root(){const u=new Xn(this._location.bucket,"");return this._newRef(this._service,u)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ht(this._location.path)}get storage(){return this._service}get parent(){const u=function St(_){if(0===_.length)return null;const u=_.lastIndexOf("/");return-1===u?"":_.slice(0,u)}(this._location.path);if(null===u)return null;const d=new Xn(this._location.bucket,u);return new ji(this._service,d)}_throwIfRoot(u){if(""===this._location.path)throw li(u)}}function po(_,u,d){return yo.apply(this,arguments)}function yo(){return(yo=(0,ae.Z)(function*(_,u,d){const w=yield Si(_,{pageToken:d});u.prefixes.push(...w.prefixes),u.items.push(...w.items),null!=w.nextPageToken&&(yield po(_,u,w.nextPageToken))})).apply(this,arguments)}function Si(_,u){null!=u&&"number"==typeof u.maxResults&&wi("options.maxResults",1,1e3,u.maxResults);const d=u||{},v=Ai(_.storage,_._location,"/",d.pageToken,d.maxResults);return _.storage.makeRequestWithTokens(v,pr)}function Hi(_){_._throwIfRoot("getDownloadURL");const u=function Uo(_,u,d){const w=ki(u.fullServerUrl(),_.host,_._protocol),ne=_.maxOperationRetryTime,he=new Ji(w,"GET",function zr(_,u){return function d(v,w){const V=at(_,w,u);return Ti(null!==V),function Ot(_,u,d,v){const w=vt(u);if(null===w||!fn(w.downloadTokens))return null;const V=w.downloadTokens;if(0===V.length)return null;const ne=encodeURIComponent;return V.split(",").map(qe=>{const $t=_.fullPath;return ki("/b/"+ne(_.bucket)+"/o/"+ne($t),d,v)+Pn({alt:"media",token:qe})})[0]}(V,w,_.host,_._protocol)}}(_,d),ne);return he.errorHandler=Pr(u),he}(_.storage,_._location,Ie());return _.storage.makeRequestWithTokens(u,pr).then(d=>{if(null===d)throw function Kn(){return new an(jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return d})}function to(_,u){const d=function Lt(_,u){const d=u.split("/").filter(v=>v.length>0).join("/");return 0===_.length?d:_+"/"+d}(_._location.path,u),v=new Xn(_._location.bucket,d);return new ji(_.storage,v)}function Oi(_,u){if(_ instanceof $){const d=_;if(null==d._bucket)throw function wt(){return new an(jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Fe+"' property when initializing the app?")}();const v=new ji(d,d._bucket);return null!=u?Oi(v,u):v}return void 0!==u?to(_,u):_}function kr(_,u){if(u&&function or(_){return/^[A-Za-z]+:\/\//.test(_)}(u)){if(_ instanceof $)return function Vr(_,u){return new ji(_,u)}(_,u);throw _n("To use ref(service, url), the first argument must be a Storage instance.")}return Oi(_,u)}function Ce(_,u){const d=u?.[Fe];return null==d?null:Xn.makeFromBucketSpec(d,_)}class ${constructor(u,d,v,w,V){this.app=u,this._authProvider=d,this._appCheckProvider=v,this._url=w,this._firebaseVersion=V,this._bucket=null,this._host=ct,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=w?Xn.makeFromBucketSpec(w,this._host):Ce(this._host,this.app.options)}get host(){return this._host}set host(u){this._host=u,this._bucket=null!=this._url?Xn.makeFromBucketSpec(this._url,u):Ce(u,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(u){wi("time",0,Number.POSITIVE_INFINITY,u),this._maxUploadRetryTime=u}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(u){wi("time",0,Number.POSITIVE_INFINITY,u),this._maxOperationRetryTime=u}_getAuthToken(){var u=this;return(0,ae.Z)(function*(){if(u._overrideAuthToken)return u._overrideAuthToken;const d=u._authProvider.getImmediate({optional:!0});if(d){const v=yield d.getToken();if(null!==v)return v.accessToken}return null})()}_getAppCheckToken(){var u=this;return(0,ae.Z)(function*(){const d=u._appCheckProvider.getImmediate({optional:!0});return d?(yield d.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(u=>u.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(u){return new ji(this,u)}_makeRequest(u,d,v,w,V=!0){if(this._deleted)return new lr(Ln());{const ne=function Gn(_,u,d,v,w,V,ne=!0){const he=Pn(_.urlParams),Ae=_.url+he,qe=Object.assign({},_.headers);return function Di(_,u){u&&(_["X-Firebase-GMPID"]=u)}(qe,u),function vn(_,u){null!==u&&u.length>0&&(_.Authorization="Firebase "+u)}(qe,d),function fi(_,u){_["X-Firebase-Storage-Version"]="webjs/"+(u??"AppManager")}(qe,V),function ui(_,u){null!==u&&(_["X-Firebase-AppCheck"]=u)}(qe,v),new Qt(Ae,_.method,qe,_.body,_.successCodes,_.additionalRetryCodes,_.handler,_.errorHandler,_.timeout,_.progressCallback,w,ne)}(u,this._appId,v,w,d,this._firebaseVersion,V);return this._requests.add(ne),ne.getPromise().then(()=>this._requests.delete(ne),()=>this._requests.delete(ne)),ne}}makeRequestWithTokens(u,d){var v=this;return(0,ae.Z)(function*(){const[w,V]=yield Promise.all([v._getAuthToken(),v._getAppCheckToken()]);return v._makeRequest(u,d,w,V).getPromise()})()}}const J="@firebase/storage";function Fr(_,u){return kr(_=(0,Me.m9)(_),u)}function no(_,{instanceIdentifier:u}){const d=_.getProvider("app").getImmediate(),v=_.getProvider("auth-internal"),w=_.getProvider("app-check-internal");return new $(d,v,w,u,Le.SDK_VERSION)}!function mr(){(0,Le._registerComponent)(new Xe.wA("storage",no,"PUBLIC").setMultipleInstances(!0)),(0,Le.registerVersion)(J,"0.11.2",""),(0,Le.registerVersion)(J,"0.11.2","esm2017")}();class Es{constructor(u,d,v){this._delegate=u,this.task=d,this.ref=v}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class mi{constructor(u,d){this._delegate=u,this._ref=d,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Es(this._delegate.snapshot,this,this._ref)}then(u,d){return this._delegate.then(v=>{if(u)return u(new Es(v,this,this._ref))},d)}on(u,d,v,w){let V;return d&&(V="function"==typeof d?ne=>d(new Es(ne,this,this._ref)):{next:d.next?ne=>d.next(new Es(ne,this,this._ref)):void 0,complete:d.complete||void 0,error:d.error||void 0}),this._delegate.on(u,V,v||void 0,w||void 0)}}class br{constructor(u,d){this._delegate=u,this._service=d}get prefixes(){return this._delegate.prefixes.map(u=>new Et(u,this._service))}get items(){return this._delegate.items.map(u=>new Et(u,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Et{constructor(u,d){this._delegate=u,this.storage=d}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(u){const d=function Ho(_,u){return to(_,u)}(this._delegate,u);return new Et(d,this.storage)}get root(){return new Et(this._delegate.root,this.storage)}get parent(){const u=this._delegate.parent;return null==u?null:new Et(u,this.storage)}put(u,d){return this._throwIfRoot("put"),new mi(function yn(_,u,d){return function us(_,u,d){return _._throwIfRoot("uploadBytesResumable"),new Jn(_,new Ue(u),d)}(_=(0,Me.m9)(_),u,d)}(this._delegate,u,d),this)}putString(u,d=Ui.RAW,v){this._throwIfRoot("putString");const w=fr(d,u),V=Object.assign({},v);return null==V.contentType&&null!=w.contentType&&(V.contentType=w.contentType),new mi(new Jn(this._delegate,new Ue(w.data,!0),V),this)}listAll(){return function yr(_){return function Fi(_){const u={prefixes:[],items:[]};return po(_,u).then(()=>u)}(_=(0,Me.m9)(_))}(this._delegate).then(u=>new br(u,this.storage))}list(u){return function cr(_,u){return Si(_=(0,Me.m9)(_),u)}(this._delegate,u||void 0).then(d=>new br(d,this.storage))}getMetadata(){return function kn(_){return function Yt(_){_._throwIfRoot("getMetadata");const u=pi(_.storage,_._location,Ie());return _.storage.makeRequestWithTokens(u,pr)}(_=(0,Me.m9)(_))}(this._delegate)}updateMetadata(u){return function di(_,u){return function Hn(_,u){_._throwIfRoot("updateMetadata");const d=function Kr(_,u,d,v){const V=ki(u.fullServerUrl(),_.host,_._protocol),he=Kt(d,v),qe=_.maxOperationRetryTime,At=new Ji(V,"PATCH",Cr(_,v),qe);return At.headers={"Content-Type":"application/json; charset=utf-8"},At.body=he,At.errorHandler=Pr(u),At}(_.storage,_._location,u,Ie());return _.storage.makeRequestWithTokens(d,pr)}(_=(0,Me.m9)(_),u)}(this._delegate,u)}getDownloadURL(){return function Sr(_){return Hi(_=(0,Me.m9)(_))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Sn(_){return function Nr(_){_._throwIfRoot("deleteObject");const u=function jo(_,u){const v=ki(u.fullServerUrl(),_.host,_._protocol),he=new Ji(v,"DELETE",function ne(Ae,qe){},_.maxOperationRetryTime);return he.successCodes=[200,204],he.errorHandler=Pr(u),he}(_.storage,_._location);return _.storage.makeRequestWithTokens(u,pr)}(_=(0,Me.m9)(_))}(this._delegate)}_throwIfRoot(u){if(""===this._delegate._location.path)throw li(u)}}class Ge{constructor(u,d){this.app=u,this._delegate=d}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(u){if(Ve(u))throw _n("ref() expected a child path but got a URL, use refFromURL instead.");return new Et(Fr(this._delegate,u),this)}refFromURL(u){if(!Ve(u))throw _n("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xn.makeFromUrl(u,this._delegate.host)}catch{throw _n("refFromUrl() expected a valid full URL but got an invalid one.")}return new Et(Fr(this._delegate,u),this)}setMaxUploadRetryTime(u){this._delegate.maxUploadRetryTime=u}setMaxOperationRetryTime(u){this._delegate.maxOperationRetryTime=u}useEmulator(u,d,v={}){!function Gr(_,u,d,v={}){!function G(_,u,d,v={}){_.host=`${u}:${d}`,_._protocol="http";const{mockUserToken:w}=v;w&&(_._overrideAuthToken="string"==typeof w?w:(0,Me.Sg)(w,_.app.options.projectId))}(_,u,d,v)}(this._delegate,u,d,v)}}function Ve(_){return/^[A-Za-z]+:\/\//.test(_)}function Zn(_,{instanceIdentifier:u}){const d=_.getProvider("app-compat").getImmediate(),v=_.getProvider("storage").getImmediate({identifier:u});return new Ge(d,v)}function ee(_){const u=function Y(_){return new bt.y(u=>{const d=ne=>u.next(ne);d(_.snapshot);const V=_.on("state_changed",d);return _.then(ne=>{d(ne),u.complete()},ne=>{d(_.snapshot),(ne=>{u.error(ne)})(ne)}),function(){V()}}).pipe((0,pt.b)(0))}(_);return{task:_,then:_.then.bind(_),catch:_.catch.bind(_),pause:_.pause.bind(_),cancel:_.cancel.bind(_),resume:_.resume.bind(_),snapshotChanges:()=>u,percentageChanges:()=>u.pipe((0,Pt.U)(d=>d.bytesTransferred/d.totalBytes*100))}}function j(_){return{getDownloadURL:()=>(0,it.of)(void 0).pipe(tt.fc,(0,Ze.w)(()=>_.getDownloadURL()),tt.iC),getMetadata:()=>(0,it.of)(void 0).pipe(tt.fc,(0,Ze.w)(()=>_.getMetadata()),tt.iC),delete:()=>(0,lt.D)(_.delete()),child:u=>j(_.child(u)),updateMetadata:u=>(0,lt.D)(_.updateMetadata(u)),put:(u,d)=>ee(_.put(u,d)),putString:(u,d,v)=>ee(_.putString(u,d,v)),list:u=>(0,lt.D)(_.list(u)),listAll:()=>(0,lt.D)(_.listAll())}}!function Zr(_){const u={TaskState:Or,TaskEvent:cs,StringFormat:Ui,Storage:Ge,Reference:Et};_.INTERNAL.registerComponent(new Xe.wA("storage-compat",Zn,"PUBLIC").setServiceProps(u).setMultipleInstances(!0)),_.registerVersion("@firebase/storage-compat","0.3.2")}(ge.Z),O(7142);const de=new R.OlP("angularfire2.storageBucket"),ke=new R.OlP("angularfire2.storage.maxUploadRetryTime"),Nn=new R.OlP("angularfire2.storage.maxOperationRetryTime"),Qn=new R.OlP("angularfire2.storage.use-emulator");let Qo=(()=>{class _{storage;constructor(d,v,w,V,ne,he,Ae,qe,At,$t){const mn=(0,_t.on)(d,ne,v);this.storage=(0,_t.cc)(`${mn.name}.storage.${w}`,"AngularFireStorage",mn.name,()=>{const wn=ne.runOutsideAngular(()=>mn.storage(w||void 0)),tn=At;return tn&&wn.useEmulator(...tn),Ae&&wn.setMaxUploadRetryTime(Ae),qe&&wn.setMaxOperationRetryTime(qe),wn},[Ae,qe])}ref(d){return j(this.storage.ref(d))}refFromURL(d){return j(this.storage.refFromURL(d))}upload(d,v,w){return j(this.storage.ref(d)).put(v,w)}static \u0275fac=function(v){return new(v||_)(R.LFG(_t.Dh),R.LFG(_t.xv,8),R.LFG(de,8),R.LFG(R.Lbi),R.LFG(R.R0b),R.LFG(tt.HU),R.LFG(ke,8),R.LFG(Nn,8),R.LFG(Qn,8),R.LFG(tt.Rf,8))};static \u0275prov=R.Yz7({token:_,factory:_.\u0275fac,providedIn:"any"})}return _})(),tc=(()=>{class _{constructor(d){this.storage=d}uploadImage(d,v){const w=this.storage.ref(v);return this.storage.upload(v,d).snapshotChanges().pipe((0,Oe.Z)(),(0,Ze.w)(()=>w.getDownloadURL()))}static#e=this.\u0275fac=function(v){return new(v||_)(R.LFG(Qo))};static#t=this.\u0275prov=R.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();var va=O(5235),il=O(2333),Ba=O(1160);let Nc=(()=>{class _{constructor(d){this.angularFire=d}obtenerObrasSociales(){return this.angularFire.collection("obrasocial").valueChanges()}static#e=this.\u0275fac=function(v){return new(v||_)(R.LFG(Ba.ST))};static#t=this.\u0275prov=R.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();var oa=O(3712),nc=O(6890);function Mo(_,u){if(1&_&&(R.TgZ(0,"option",20),R._uU(1),R.qZA()),2&_){const d=u.$implicit;R.Q6J("value",d.nombre),R.xp6(1),R.Oqu(d.nombre)}}function Eo(_,u){if(1&_){const d=R.EpF();R.TgZ(0,"form",1),R.NdJ("submit",function(){R.CHM(d);const w=R.oxw();return R.KtG(w.onSubmit())}),R.TgZ(1,"div",2)(2,"div",3)(3,"div",4)(4,"app-custom-input",5)(5,"small",6),R._uU(6,"Nombre invalido (solo letras)"),R.qZA()(),R.TgZ(7,"app-custom-input",7)(8,"small",6),R._uU(9,"Apellido invalido (solo letras)"),R.qZA()()(),R.TgZ(10,"app-custom-input",8)(11,"small",6),R._uU(12,"Edad invalido (solo numeros)"),R.qZA()(),R.TgZ(13,"app-custom-input",9)(14,"small",6),R._uU(15,"DNI invalido (solo numeros)"),R.qZA()(),R.TgZ(16,"app-custom-input",10),R.NdJ("change",function(w){R.CHM(d);const V=R.oxw();return R.KtG(V.subirFoto_1(w))}),R.TgZ(17,"small",6),R._uU(18,"Foto Perfil"),R.qZA()()(),R.TgZ(19,"div",3)(20,"div",11)(21,"select",12),R.YNc(22,Mo,2,2,"option",13),R.qZA(),R.TgZ(23,"label",14),R._uU(24,"Obra Social"),R.qZA()(),R.TgZ(25,"app-custom-input",15)(26,"small",6),R._uU(27,"Email invalido (solo letras)"),R.qZA()(),R.TgZ(28,"app-custom-input",16)(29,"small",6),R._uU(30,"Clave invalida"),R.qZA()(),R.TgZ(31,"div",17)(32,"app-custom-input",18),R.NdJ("change",function(w){R.CHM(d);const V=R.oxw();return R.KtG(V.subirFoto_2(w))}),R.TgZ(33,"small",6),R._uU(34,"Clave invalida"),R.qZA()()()()(),R.TgZ(35,"button",19),R._uU(36,"Enviar"),R.qZA()()}if(2&_){const d=R.oxw();R.Q6J("formGroup",d.formPaciente),R.xp6(4),R.Gre("form-control ",d.nombre.errors?"is-invalid":"",""),R.xp6(3),R.Gre("form-control ",d.apellido.errors?"is-invalid":"",""),R.xp6(3),R.Gre("form-control ",d.edad.errors?"is-invalid":"",""),R.xp6(3),R.Gre("form-control ",d.dni.errors?"is-invalid":"",""),R.xp6(8),R.Gre("form-select ",d.obraSocial.errors?"is-invalid":"",""),R.xp6(1),R.Q6J("ngForOf",d.listadoObraSocial),R.xp6(3),R.Gre("form-control ",d.email.errors?"is-invalid":"",""),R.xp6(3),R.Gre("form-control ",d.clave.errors?"is-invalid":"","")}}let ts=(()=>{class _{constructor(d,v,w,V,ne,he){this.img=d,this.pacienteService=v,this.auth=w,this.obraSocialService=V,this.snackBar=ne,this.router=he,this.loadingEvent=new R.vpe,this.listadoObraSocial=[],this.alerta="",this.formPaciente=new H.cw({nombre:new H.NI(null,{validators:[ve.onlyLetters],updateOn:"change"}),apellido:new H.NI(null,{validators:[ve.onlyLetters],updateOn:"change"}),edad:new H.NI("0",{validators:[ve.onlyNumbers,H.kI.maxLength(3),H.kI.max(125),H.kI.min(0)],updateOn:"change"}),dni:new H.NI(11111111,{validators:[ve.onlyNumbers,H.kI.maxLength(8),H.kI.minLength(7)],updateOn:"change"}),email:new H.NI(null,{validators:[H.kI.email],updateOn:"change"}),clave:new H.NI("",{validators:[H.kI.minLength(6)],updateOn:"change"}),obraSocial:new H.NI})}ngOnInit(){this.obraSocialService.obtenerObrasSociales().subscribe(d=>{this.listadoObraSocial=d})}onSubmit(){var d=this;if(this.validateEmptyInputs(),this.loadingEvent.emit(!0),this.formPaciente.invalid)return void this.loadingEvent.emit(!1);const v=this.nombre.value+" "+this.apellido.value;this.auth.register(this.email.value,this.clave.value).then(function(){var w=(0,ae.Z)(function*(V){d.auth.confirmarMail(V).then(Ae=>{console.log(Ae)}).catch(Ae=>{console.log(Ae)}),yield d.auth.updateUser({displayName:v});let ne={uid:V.user.uid,name:V.user.displayName,email:V.user.email};const he={id:ne.uid,nombre:d.nombre.value,apellido:d.apellido.value,edad:Number(d.edad.value),dni:d.dni.value,email:d.email.value,obraSocial:d.obraSocial.value,img_1:d.imgUrl_1,img_2:d.imgUrl_2};d.pacienteService.agregarPaciente(he).then(Ae=>{d.alerta=`\xa1Bienvenido ${ne.email}! Su cuenta est\xe1 pendiente de aprobaci\xf3n`,d.snackBar.showSnackBar(d.alerta,"cerrar",3500),d.router.navigate(["/bienvenida"]),d.loadingEvent.emit(!1),d.formPaciente.reset()})});return function(V){return w.apply(this,arguments)}}()).catch(w=>{console.log(w.message),this.alerta="Firebase: Error (auth/email-already-in-use)."===w.message?"El correo electr\xf3nico ya est\xe1 en uso.":"Ocurri\xf3 un error al registrar la cuenta.",this.snackBar.showSnackBar(this.alerta,"cerrar",3500)}).finally(()=>{this.loadingEvent.emit(!1)})}subirFoto_1(d){const v=d.target.files[0];v&&this.img.uploadImage(v,"imagenes/"+v.name).subscribe(w=>{console.log("URL de la imagen:",w),this.imgUrl_1=w})}subirFoto_2(d){const v=d.target.files[0];v&&this.img.uploadImage(v,"imagenes/"+v.name).subscribe(w=>{this.imgUrl_2=w})}validateEmptyInputs(){Object.values(this.formPaciente.controls).map(v=>v).forEach(v=>{v.value||v.setErrors({invalid:!0})})}get nombre(){return this.formPaciente.controls.nombre}get apellido(){return this.formPaciente.controls.apellido}get edad(){return this.formPaciente.controls.edad}get dni(){return this.formPaciente.controls.dni}get email(){return this.formPaciente.controls.email}get clave(){return this.formPaciente.controls.clave}get obraSocial(){return this.formPaciente.controls.obraSocial}static#e=this.\u0275fac=function(v){return new(v||_)(R.Y36(tc),R.Y36(va.d),R.Y36(il.e),R.Y36(Nc),R.Y36(oa.o),R.Y36(te.F0))};static#t=this.\u0275cmp=R.Xpm({type:_,selectors:[["app-form-paciente"]],inputs:{showSignup:"showSignup"},outputs:{loadingEvent:"loadingEvent"},decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"row"],[1,"col-md-6"],[1,"container-names"],["divClass","mb-4","label","Nombre","controlName","nombre","type","text"],[1,"invalid-feedback"],["divClass","mb-4","label","Apellido","controlName","apellido","type","text"],["divClass","mb-4","label","Edad","controlName","edad","type","text"],["divClass","mb-4","label","DNI","controlName","dni","type","text"],["divClass","mb-4","label","Foto de perfil 1","type","file",1,"form-control",3,"change"],[1,"form-floating","mb-4"],["formControlName","obraSocial","id","floatingInputValue"],[3,"value",4,"ngFor","ngForOf"],["for","floatingInputValue"],["divClass","mb-4","label","Email","controlName","email","type","mail"],["divClass","mb-4","label","Clave","controlName","clave","type","password"],[1,"container-files"],["divClass","mb-4","label","Foto de perfil 2","type","file",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary","mt-2"],[3,"value"]],template:function(v,w){1&v&&R.YNc(0,Eo,37,23,"form",0),2&v&&R.Q6J("ngIf",w.showSignup)},dependencies:[Ee.sg,Ee.O5,H._Y,H.YN,H.Kr,H.EJ,H.JJ,H.JL,H.sg,H.u,nc.O],styles:["form[_ngcontent-%COMP%]{width:100%}.container-names[_ngcontent-%COMP%], .container-files[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]})}return _})();var Br=function(_){return _[_.pendiente=0]="pendiente",_[_.aceptado=1]="aceptado",_[_.rechazado=2]="rechazado",_}(Br||{}),Ks=O(9255);let Io=(()=>{class _{constructor(d){this.angularFire=d}agregarEspecialidad(d){return this.angularFire.collection("especialidades").add({nombre:d})}obtenerEspecialidades(){return this.angularFire.collection("especialidades").valueChanges()}static#e=this.\u0275fac=function(v){return new(v||_)(R.LFG(Ba.ST))};static#t=this.\u0275prov=R.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function rl(_,u){if(1&_&&(R.TgZ(0,"option",11),R._uU(1),R.qZA()),2&_){const d=u.$implicit;R.Q6J("value",d),R.xp6(1),R.Oqu(d)}}function ya(_,u){if(1&_){const d=R.EpF();R.ynx(0),R.TgZ(1,"div",12),R._uU(2),R.TgZ(3,"span",13),R.NdJ("click",function(){const V=R.CHM(d).index,ne=R.oxw();return R.KtG(ne.removeItem(V))}),R._UZ(4,"i",14),R.qZA()(),R.BQk()}if(2&_){const d=u.$implicit;R.xp6(2),R.hij(" ",d," ")}}let wo=(()=>{class _{constructor(d){this.especialidadService=d,this.selectedItems=[],this.itemSelected=new R.vpe,this.especialidades=[],this.newItem="",this.selectedItems=[]}ngOnInit(){this.especialidadService.obtenerEspecialidades().subscribe(d=>{this.especialidades=d.map(v=>v.nombre)})}addItem(){this.newItem&&!this.especialidades.includes(this.newItem)?this.especialidadService.agregarEspecialidad(this.newItem).then(()=>{this.especialidades.push(this.newItem),this.selectedItems.push(this.newItem),this.newItem="",this.itemSelected.emit(this.selectedItems)}):this.newItem&&(this.selectedItems.push(this.newItem),this.newItem="",this.itemSelected.emit(this.selectedItems))}removeItem(d){this.selectedItems.splice(d,1)}static#e=this.\u0275fac=function(v){return new(v||_)(R.Y36(Io))};static#t=this.\u0275cmp=R.Xpm({type:_,selectors:[["app-select-especialidad"]],inputs:{selectedItems:"selectedItems"},outputs:{itemSelected:"itemSelected"},decls:16,vars:4,consts:[["for","items"],["id","items",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","mt-3"],["type","text","placeholder","Nueva Especialidad",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"input-group-append"],[1,"btn","btn-primary",3,"click"],[1,"mt-3"],[1,"especialidades-container"],[4,"ngFor","ngForOf"],[3,"value"],[1,"column"],[1,"btn","btn-danger","btn-sm","rounded-circle",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(v,w){1&v&&(R.TgZ(0,"label",0),R._uU(1,"Selecciona o Agrega una Especialidad:"),R.qZA(),R.TgZ(2,"select",1),R.NdJ("ngModelChange",function(ne){return w.newItem=ne}),R.TgZ(3,"option",2),R._uU(4,"Selecciona una especialidad"),R.qZA(),R.YNc(5,rl,2,2,"option",3),R.qZA(),R.TgZ(6,"div",4)(7,"input",5),R.NdJ("ngModelChange",function(ne){return w.newItem=ne})("keyup.enter",function(){return w.addItem()}),R.qZA(),R.TgZ(8,"div",6)(9,"a",7),R.NdJ("click",function(){return w.addItem()}),R._uU(10,"Agregar"),R.qZA()()(),R.TgZ(11,"div",8)(12,"label"),R._uU(13,"Especialidades seleccionadas:"),R.qZA(),R.TgZ(14,"div",9),R.YNc(15,ya,5,1,"ng-container",10),R.qZA()()),2&v&&(R.xp6(2),R.Q6J("ngModel",w.newItem),R.xp6(3),R.Q6J("ngForOf",w.especialidades),R.xp6(2),R.Q6J("ngModel",w.newItem),R.xp6(8),R.Q6J("ngForOf",w.selectedItems))},dependencies:[Ee.sg,H.YN,H.Kr,H.Fj,H.EJ,H.JJ,H.On],styles:["ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.especialidades-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px}.column[_ngcontent-%COMP%]{flex:1;min-width:150px}"]})}return _})();function aa(_,u){if(1&_){const d=R.EpF();R.TgZ(0,"form",1),R.NdJ("submit",function(){R.CHM(d);const w=R.oxw();return R.KtG(w.onSubmit())}),R.TgZ(1,"div",2)(2,"div",3)(3,"div",4)(4,"app-custom-input",5)(5,"small",6),R._uU(6,"Nombre invalido (solo letras)"),R.qZA()(),R.TgZ(7,"app-custom-input",7)(8,"small",6),R._uU(9,"Apellido invalido (solo letras)"),R.qZA()()(),R.TgZ(10,"app-custom-input",8)(11,"small",6),R._uU(12,"Edad invalido (solo numeros)"),R.qZA()(),R.TgZ(13,"app-custom-input",9)(14,"small",6),R._uU(15,"DNI invalido (solo numeros)"),R.qZA()(),R.TgZ(16,"app-custom-input",10),R.NdJ("change",function(w){R.CHM(d);const V=R.oxw();return R.KtG(V.subirFoto(w))}),R.TgZ(17,"small",6),R._uU(18,"Foto Perfil"),R.qZA()()(),R.TgZ(19,"div",3)(20,"app-custom-input",11)(21,"small",6),R._uU(22,"Email invalido (solo letras)"),R.qZA()(),R.TgZ(23,"app-custom-input",12)(24,"small",6),R._uU(25,"Clave invalida"),R.qZA()(),R.TgZ(26,"div",13)(27,"app-select-especialidad",14),R.NdJ("itemSelected",function(w){R.CHM(d);const V=R.oxw();return R.KtG(V.handleItemSelected(w))}),R.qZA()()()(),R.TgZ(28,"button",15),R._uU(29,"Enviar"),R.qZA()()}if(2&_){const d=R.oxw();R.Q6J("formGroup",d.formEspecialista),R.xp6(4),R.Gre("form-control ",d.nombre.errors?"is-invalid":"",""),R.xp6(3),R.Gre("form-control ",d.apellido.errors?"is-invalid":"",""),R.xp6(3),R.Gre("form-control ",d.edad.errors?"is-invalid":"",""),R.xp6(3),R.Gre("form-control ",d.dni.errors?"is-invalid":"",""),R.xp6(7),R.Gre("form-control ",d.email.errors?"is-invalid":"",""),R.xp6(3),R.Gre("form-control ",d.clave.errors?"is-invalid":"",""),R.xp6(4),R.Q6J("selectedItems",d.espcialidadSeleccionada)}}let Al=(()=>{class _{constructor(d,v,w,V,ne){this.img=d,this.especialistasService=v,this.auth=w,this.snackBar=V,this.router=ne,this.loadingEvent=new R.vpe,this.espcialidadSeleccionada=[],this.alerta="",this.formEspecialista=new H.cw({nombre:new H.NI(null,{validators:[ve.onlyLetters],updateOn:"change"}),apellido:new H.NI(null,{validators:[ve.onlyLetters],updateOn:"change"}),edad:new H.NI("0",{validators:[ve.onlyNumbers,H.kI.maxLength(3),H.kI.max(125),H.kI.min(0)],updateOn:"change"}),dni:new H.NI(11111111,{validators:[ve.onlyNumbers,H.kI.maxLength(8),H.kI.minLength(7)],updateOn:"change"}),email:new H.NI(null,{validators:[H.kI.email],updateOn:"change"}),clave:new H.NI("",{validators:[H.kI.minLength(6)],updateOn:"change"})})}ngOnInit(){}handleItemSelected(d){this.espcialidadSeleccionada=d}onSubmit(){var d=this;if(this.validateEmptyInputs(),this.loadingEvent.emit(!0),this.formEspecialista.invalid)return void this.loadingEvent.emit(!1);let w;this.auth.register(this.email.value,this.clave.value).then(function(){var V=(0,ae.Z)(function*(ne){return w={uid:ne.user.uid,name:ne.user.displayName,email:ne.user.email},d.auth.confirmarMail(ne)});return function(ne){return V.apply(this,arguments)}}()).then(()=>{const V={id:w.uid,nombre:this.nombre.value,apellido:this.apellido.value,edad:Number(this.edad.value),dni:this.dni.value,email:this.email.value,especialidades:this.espcialidadSeleccionada,img_1:this.imgUrl_1,estados:{registro:Br.pendiente}};return this.especialistasService.agregarEspecialista(V)}).then(()=>{this.alerta=`\xa1Bienvenido ${w.email}! Su cuenta est\xe1 pendiente de aprobaci\xf3n`,this.auth.saveLog(w.email),this.snackBar.showSnackBar(this.alerta,"cerrar",3500),this.router.navigate(["/bienvenida"]),this.formEspecialista.reset(),this.espcialidadSeleccionada=[]}).catch(V=>{console.log(V.message),this.alerta="Firebase: Error (auth/email-already-in-use)."===V.message?"El correo electr\xf3nico ya est\xe1 en uso.":"Ocurri\xf3 un error al registrar la cuenta.",this.snackBar.showSnackBar(this.alerta,"cerrar",3500)}).finally(()=>{this.loadingEvent.emit(!1)})}subirFoto(d){const v=d.target.files[0];v&&this.img.uploadImage(v,"imagenes/"+v.name).subscribe(w=>{this.imgUrl_1=w})}validateEmptyInputs(){Object.values(this.formEspecialista.controls).map(v=>v).forEach(v=>{v.value||v.setErrors({invalid:!0})})}get nombre(){return this.formEspecialista.controls.nombre}get apellido(){return this.formEspecialista.controls.apellido}get edad(){return this.formEspecialista.controls.edad}get dni(){return this.formEspecialista.controls.dni}get email(){return this.formEspecialista.controls.email}get clave(){return this.formEspecialista.controls.clave}static#e=this.\u0275fac=function(v){return new(v||_)(R.Y36(tc),R.Y36(Ks.n),R.Y36(il.e),R.Y36(oa.o),R.Y36(te.F0))};static#t=this.\u0275cmp=R.Xpm({type:_,selectors:[["app-form-especialista"]],inputs:{showSignup:"showSignup"},outputs:{loadingEvent:"loadingEvent"},decls:1,vars:1,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"row"],[1,"col-md-6"],[1,"container-names"],["divClass","mb-4","label","Nombre","controlName","nombre","type","text"],[1,"invalid-feedback"],["divClass","mb-4","label","Apellido","controlName","apellido","type","text"],["divClass","mb-4","label","Edad","controlName","edad","type","text"],["divClass","mb-4","label","DNI","controlName","dni","type","text"],["divClass","mb-4","label","Foto de perfil 1","type","file",1,"form-control",3,"change"],["divClass","mb-4","label","Email","controlName","email","type","mail"],["divClass","mb-4","label","Clave","controlName","clave","type","password"],[1,"container-files"],[3,"selectedItems","itemSelected"],["type","submit",1,"btn","btn-primary","mt-2"]],template:function(v,w){1&v&&R.YNc(0,aa,30,20,"form",0),2&v&&R.Q6J("ngIf",!w.showSignup)},dependencies:[Ee.O5,H._Y,H.JL,H.sg,nc.O,wo]})}return _})();const Zs=["form"],zo=[{path:"",component:Se},{path:"bienvenida",component:Se},{path:"registro",component:(()=>{class _{constructor(){this.loading=!1,this.signup=!1,this.activoPaciente="btn-outline-primary activo",this.activoEspecialista="btn-primary"}ngOnInit(){setTimeout(()=>{this.loading=!1},2500),this.cargarUsuario()}cargarUsuario(){}esEspecialista(){this.signup=!0,this.activoPaciente="btn-primary",this.activoEspecialista="btn-outline-primary activo"}esPaciente(){this.signup=!1,this.activoPaciente="btn-outline-primary activo",this.activoEspecialista="btn-primary"}static#e=this.\u0275fac=function(v){return new(v||_)};static#t=this.\u0275cmp=R.Xpm({type:_,selectors:[["app-registro"]],viewQuery:function(v,w){if(1&v&&R.Gf(Zs,5),2&v){let V;R.iGM(V=R.CRH())&&(w.form=V.first)}},decls:20,vars:11,consts:[[1,"vh-100"],[3,"showButtons","usuario","loadingEvent"],[3,"showSpinner"],[1,"container-fluid","contenedor","w-100","mt-2","position-relative"],[1,"row","justify-content-center","align-items-center","gap-5","gap-md-0"],[1,"col-10","text-center","mb-md-5","mt-1"],[1,"mt-5"],[1,"form-floating","mb-3"],[3,"click"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8"],[3,"showSignup","loadingEvent"],["form",""]],template:function(v,w){1&v&&(R.TgZ(0,"div",0)(1,"app-navbar",1),R.NdJ("loadingEvent",function(ne){return w.loading=ne}),R.qZA(),R._UZ(2,"app-spinner",2),R.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1",6),R._uU(7,"Registro"),R.qZA(),R.TgZ(8,"div",7)(9,"button",8),R.NdJ("click",function(){return w.esPaciente()}),R._uU(10,"Paciente"),R.qZA(),R.TgZ(11,"button",8),R.NdJ("click",function(){return w.esEspecialista()}),R._uU(12,"Especialista"),R.qZA()()(),R.TgZ(13,"div",9)(14,"div",10)(15,"div",11)(16,"app-form-paciente",12,13),R.NdJ("loadingEvent",function(ne){return w.loading=ne}),R.qZA(),R.TgZ(18,"app-form-especialista",12,13),R.NdJ("loadingEvent",function(ne){return w.loading=ne}),R.qZA()()()()()()()),2&v&&(R.xp6(1),R.Q6J("showButtons",!0)("usuario",w.user),R.xp6(1),R.Q6J("showSpinner",w.loading),R.xp6(7),R.Gre("btn  ",w.activoPaciente," left"),R.xp6(2),R.Gre("btn  ",w.activoEspecialista,""),R.xp6(5),R.Q6J("showSignup",!w.signup),R.xp6(2),R.Q6J("showSignup",!w.signup))},dependencies:[me.S,fe,ts,Al],styles:[".form-floating[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;justify-content:center}.left[_ngcontent-%COMP%]{margin-right:10px}.activo[_ngcontent-%COMP%]:hover{background-color:#fff;color:#007bff}"]})}return _})()},{path:"login",loadChildren:()=>O.e(713).then(O.bind(O,713)).then(_=>_.LoginModule)}];let ba=(()=>{class _{static#e=this.\u0275fac=function(v){return new(v||_)};static#t=this.\u0275mod=R.oAB({type:_});static#n=this.\u0275inj=R.cJS({imports:[te.Bz.forRoot(zo),te.Bz]})}return _})(),Wi=(()=>{class _{constructor(){this.title="TPFinal_Labo_IV"}static#e=this.\u0275fac=function(v){return new(v||_)};static#t=this.\u0275cmp=R.Xpm({type:_,selectors:[["app-root"]],decls:1,vars:0,template:function(v,w){1&v&&R._UZ(0,"router-outlet")},dependencies:[te.lC]})}return _})();var rc=O(721),Ys=O(2637),Po=O(4643);const la={apiKey:"AIzaSyB0Y5utNmjLukuGlVEkhaiIPg4ckyAOK54",authDomain:"tpfinal-labo-iv.firebaseapp.com",projectId:"tpfinal-labo-iv",storageBucket:"tpfinal-labo-iv.appspot.com",messagingSenderId:"823789555983",appId:"1:823789555983:web:2283d1568e46bff71eee7a"};var Ea=O(6208),Ri=O(6825);function ol(_){return new R.vHH(3e3,!1)}function ai(_){switch(_.length){case 0:return new Ri.ZN;case 1:return _[0];default:return new Ri.ZE(_)}}function oc(_,u,d=new Map,v=new Map){const w=[],V=[];let ne=-1,he=null;if(u.forEach(Ae=>{const qe=Ae.get("offset"),At=qe==ne,$t=At&&he||new Map;Ae.forEach((mn,wn)=>{let tn=wn,Tn=mn;if("offset"!==wn)switch(tn=_.normalizePropertyName(tn,w),Tn){case Ri.k1:Tn=d.get(wn);break;case Ri.l3:Tn=v.get(wn);break;default:Tn=_.normalizeStyleValue(wn,tn,Tn,w)}$t.set(tn,Tn)}),At||V.push($t),he=$t,ne=qe}),w.length)throw function Bi(_){return new R.vHH(3502,!1)}();return V}function kc(_,u,d,v){switch(u){case"start":_.onStart(()=>v(d&&xa(d,"start",_)));break;case"done":_.onDone(()=>v(d&&xa(d,"done",_)));break;case"destroy":_.onDestroy(()=>v(d&&xa(d,"destroy",_)))}}function xa(_,u,d){const V=No(_.element,_.triggerName,_.fromState,_.toState,u||_.phaseName,d.totalTime??_.totalTime,!!d.disabled),ne=_._data;return null!=ne&&(V._data=ne),V}function No(_,u,d,v,w="",V=0,ne){return{element:_,triggerName:u,fromState:d,toState:v,phaseName:w,totalTime:V,disabled:!!ne}}function ds(_,u,d){let v=_.get(u);return v||_.set(u,v=d),v}function Ju(_){const u=_.indexOf(":");return[_.substring(1,u),_.slice(u+1)]}const Fc=(()=>typeof document>"u"?null:document.documentElement)();function ao(_){const u=_.parentNode||_.host||null;return u===Fc?null:u}let sl=null,al=!1;function pn(_,u){for(;u;){if(u===_)return!0;u=ao(u)}return!1}function Fn(_,u,d){if(d)return Array.from(_.querySelectorAll(u));const v=_.querySelector(u);return v?[v]:[]}let Zi=(()=>{class _{validateStyleProperty(d){return function ii(_){sl||(sl=function Vc(){return typeof document<"u"?document.body:null}()||{},al=!!sl.style&&"WebkitAppearance"in sl.style);let u=!0;return sl.style&&!function Lc(_){return"ebkit"==_.substring(1,6)}(_)&&(u=_ in sl.style,!u&&al&&(u="Webkit"+_.charAt(0).toUpperCase()+_.slice(1)in sl.style)),u}(d)}matchesElement(d,v){return!1}containsElement(d,v){return pn(d,v)}getParentElement(d){return ao(d)}query(d,v,w){return Fn(d,v,w)}computeStyle(d,v,w){return w||""}animate(d,v,w,V,ne,he=[],Ae){return new Ri.ZN(w,V)}static#e=this.\u0275fac=function(v){return new(v||_)};static#t=this.\u0275prov=R.Yz7({token:_,factory:_.\u0275fac})}return _})(),ll=(()=>{class _{static#e=this.NOOP=new Zi}return _})();const Lr=1e3,ac="ng-enter",_r="ng-leave",Bc="ng-trigger",hs=".ng-trigger",bu="ng-animating",Tt=".ng-animating";function gi(_){if("number"==typeof _)return _;const u=_.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:Rl(parseFloat(u[1]),u[2])}function Rl(_,u){return"s"===u?_*Lr:_}function xo(_,u,d){return _.hasOwnProperty("duration")?_:function mo(_,u,d){let w,V=0,ne="";if("string"==typeof _){const he=_.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===he)return u.push(ol()),{duration:0,delay:0,easing:""};w=Rl(parseFloat(he[1]),he[2]);const Ae=he[3];null!=Ae&&(V=Rl(parseFloat(Ae),he[4]));const qe=he[5];qe&&(ne=qe)}else w=_;if(!d){let he=!1,Ae=u.length;w<0&&(u.push(function Ns(){return new R.vHH(3100,!1)}()),he=!0),V<0&&(u.push(function Xo(){return new R.vHH(3101,!1)}()),he=!0),he&&u.splice(Ae,0,ol())}return{duration:w,delay:V,easing:ne}}(_,u,d)}function Qs(_,u={}){return Object.keys(_).forEach(d=>{u[d]=_[d]}),u}function Ta(_){const u=new Map;return Object.keys(_).forEach(d=>{u.set(d,_[d])}),u}function nt(_,u=new Map,d){if(d)for(let[v,w]of d)u.set(v,w);for(let[v,w]of _)u.set(v,w);return u}function is(_,u,d){u.forEach((v,w)=>{const V=q(w);d&&!d.has(w)&&d.set(w,_.style[V]),_.style[V]=v})}function $o(_,u){u.forEach((d,v)=>{const w=q(v);_.style[w]=""})}function za(_){return Array.isArray(_)?1==_.length?_[0]:(0,Ri.vP)(_):_}const go=new RegExp("{{\\s*(.+?)\\s*}}","g");function T(_){let u=[];if("string"==typeof _){let d;for(;d=go.exec(_);)u.push(d[1]);go.lastIndex=0}return u}function P(_,u,d){const v=_.toString(),w=v.replace(go,(V,ne)=>{let he=u[ne];return null==he&&(d.push(function Ia(_){return new R.vHH(3003,!1)}()),he=""),he.toString()});return w==v?_:w}function I(_){const u=[];let d=_.next();for(;!d.done;)u.push(d.value),d=_.next();return u}const N=/-+([a-z0-9])/g;function q(_){return _.replace(N,(...u)=>u[1].toUpperCase())}function ot(_,u,d){switch(u.type){case 7:return _.visitTrigger(u,d);case 0:return _.visitState(u,d);case 1:return _.visitTransition(u,d);case 2:return _.visitSequence(u,d);case 3:return _.visitGroup(u,d);case 4:return _.visitAnimate(u,d);case 5:return _.visitKeyframes(u,d);case 6:return _.visitStyle(u,d);case 8:return _.visitReference(u,d);case 9:return _.visitAnimateChild(u,d);case 10:return _.visitAnimateRef(u,d);case 11:return _.visitQuery(u,d);case 12:return _.visitStagger(u,d);default:throw function Ua(_){return new R.vHH(3004,!1)}()}}function un(_,u){return window.getComputedStyle(_)[u]}const Aa="*";function $a(_,u){const d=[];return"string"==typeof _?_.split(/\s*,\s*/).forEach(v=>function Uc(_,u,d){if(":"==_[0]){const Ae=function Lh(_,u){switch(_){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(d,v)=>parseFloat(v)>parseFloat(d);case":decrement":return(d,v)=>parseFloat(v)<parseFloat(d);default:return u.push(function qi(_){return new R.vHH(3016,!1)}()),"* => *"}}(_,d);if("function"==typeof Ae)return void u.push(Ae);_=Ae}const v=_.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==v||v.length<4)return d.push(function ur(_){return new R.vHH(3015,!1)}()),u;const w=v[1],V=v[2],ne=v[3];u.push(cl(w,ne));"<"==V[0]&&!(w==Aa&&ne==Aa)&&u.push(cl(ne,w))}(v,d,u)):d.push(_),d}const jc=new Set(["true","1"]),Go=new Set(["false","0"]);function cl(_,u){const d=jc.has(_)||Go.has(_),v=jc.has(u)||Go.has(u);return(w,V)=>{let ne=_==Aa||_==w,he=u==Aa||u==V;return!ne&&d&&"boolean"==typeof w&&(ne=w?jc.has(_):Go.has(_)),!he&&v&&"boolean"==typeof V&&(he=V?jc.has(u):Go.has(u)),ne&&he}}const ed=new RegExp("s*:selfs*,?","g");function td(_,u,d,v){return new Vh(_).build(u,d,v)}class Vh{constructor(u){this._driver=u}build(u,d,v){const w=new lc(d);return this._resetContextStyleTimingState(w),ot(this,za(u),w)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles=new Map,u.collectedStyles.set("",new Map),u.currentTime=0}visitTrigger(u,d){let v=d.queryCount=0,w=d.depCount=0;const V=[],ne=[];return"@"==u.name.charAt(0)&&d.errors.push(function ja(){return new R.vHH(3006,!1)}()),u.definitions.forEach(he=>{if(this._resetContextStyleTimingState(d),0==he.type){const Ae=he,qe=Ae.name;qe.toString().split(/\s*,\s*/).forEach(At=>{Ae.name=At,V.push(this.visitState(Ae,d))}),Ae.name=qe}else if(1==he.type){const Ae=this.visitTransition(he,d);v+=Ae.queryCount,w+=Ae.depCount,ne.push(Ae)}else d.errors.push(function Sl(){return new R.vHH(3007,!1)}())}),{type:7,name:u.name,states:V,transitions:ne,queryCount:v,depCount:w,options:null}}visitState(u,d){const v=this.visitStyle(u.styles,d),w=u.options&&u.options.params||null;if(v.containsDynamicStyles){const V=new Set,ne=w||{};v.styles.forEach(he=>{he instanceof Map&&he.forEach(Ae=>{T(Ae).forEach(qe=>{ne.hasOwnProperty(qe)||V.add(qe)})})}),V.size&&(I(V.values()),d.errors.push(function Is(_,u){return new R.vHH(3008,!1)}()))}return{type:0,name:u.name,style:v,options:w?{params:w}:null}}visitTransition(u,d){d.queryCount=0,d.depCount=0;const v=ot(this,za(u.animation),d);return{type:1,matchers:$a(u.expr,d.errors),animation:v,queryCount:d.queryCount,depCount:d.depCount,options:Sa(u.options)}}visitSequence(u,d){return{type:2,steps:u.steps.map(v=>ot(this,v,d)),options:Sa(u.options)}}visitGroup(u,d){const v=d.currentTime;let w=0;const V=u.steps.map(ne=>{d.currentTime=v;const he=ot(this,ne,d);return w=Math.max(w,d.currentTime),he});return d.currentTime=w,{type:3,steps:V,options:Sa(u.options)}}visitAnimate(u,d){const v=function wu(_,u){if(_.hasOwnProperty("duration"))return _;if("number"==typeof _)return Ga(xo(_,u).duration,0,"");const d=_;if(d.split(/\s+/).some(V=>"{"==V.charAt(0)&&"{"==V.charAt(1))){const V=Ga(0,0,"");return V.dynamic=!0,V.strValue=d,V}const w=xo(d,u);return Ga(w.duration,w.delay,w.easing)}(u.timings,d.errors);d.currentAnimateTimings=v;let w,V=u.styles?u.styles:(0,Ri.oB)({});if(5==V.type)w=this.visitKeyframes(V,d);else{let ne=u.styles,he=!1;if(!ne){he=!0;const qe={};v.easing&&(qe.easing=v.easing),ne=(0,Ri.oB)(qe)}d.currentTime+=v.duration+v.delay;const Ae=this.visitStyle(ne,d);Ae.isEmptyStep=he,w=Ae}return d.currentAnimateTimings=null,{type:4,timings:v,style:w,options:null}}visitStyle(u,d){const v=this._makeStyleAst(u,d);return this._validateStyleAst(v,d),v}_makeStyleAst(u,d){const v=[],w=Array.isArray(u.styles)?u.styles:[u.styles];for(let he of w)"string"==typeof he?he===Ri.l3?v.push(he):d.errors.push(new R.vHH(3002,!1)):v.push(Ta(he));let V=!1,ne=null;return v.forEach(he=>{if(he instanceof Map&&(he.has("easing")&&(ne=he.get("easing"),he.delete("easing")),!V))for(let Ae of he.values())if(Ae.toString().indexOf("{{")>=0){V=!0;break}}),{type:6,styles:v,easing:ne,offset:u.offset,containsDynamicStyles:V,options:null}}_validateStyleAst(u,d){const v=d.currentAnimateTimings;let w=d.currentTime,V=d.currentTime;v&&V>0&&(V-=v.duration+v.delay),u.styles.forEach(ne=>{"string"!=typeof ne&&ne.forEach((he,Ae)=>{const qe=d.collectedStyles.get(d.currentQuerySelector),At=qe.get(Ae);let $t=!0;At&&(V!=w&&V>=At.startTime&&w<=At.endTime&&(d.errors.push(function re(_,u,d,v,w){return new R.vHH(3010,!1)}()),$t=!1),V=At.startTime),$t&&qe.set(Ae,{startTime:V,endTime:w}),d.options&&function To(_,u,d){const v=u.params||{},w=T(_);w.length&&w.forEach(V=>{v.hasOwnProperty(V)||d.push(function Oo(_){return new R.vHH(3001,!1)}())})}(he,d.options,d.errors)})})}visitKeyframes(u,d){const v={type:5,styles:[],options:null};if(!d.currentAnimateTimings)return d.errors.push(function z(){return new R.vHH(3011,!1)}()),v;let V=0;const ne=[];let he=!1,Ae=!1,qe=0;const At=u.steps.map(ar=>{const wr=this._makeStyleAst(ar,d);let Yi=null!=wr.offset?wr.offset:function da(_){if("string"==typeof _)return null;let u=null;if(Array.isArray(_))_.forEach(d=>{if(d instanceof Map&&d.has("offset")){const v=d;u=parseFloat(v.get("offset")),v.delete("offset")}});else if(_ instanceof Map&&_.has("offset")){const d=_;u=parseFloat(d.get("offset")),d.delete("offset")}return u}(wr.styles),Ni=0;return null!=Yi&&(V++,Ni=wr.offset=Yi),Ae=Ae||Ni<0||Ni>1,he=he||Ni<qe,qe=Ni,ne.push(Ni),wr});Ae&&d.errors.push(function X(){return new R.vHH(3012,!1)}()),he&&d.errors.push(function Re(){return new R.vHH(3200,!1)}());const $t=u.steps.length;let mn=0;V>0&&V<$t?d.errors.push(function ht(){return new R.vHH(3202,!1)}()):0==V&&(mn=1/($t-1));const wn=$t-1,tn=d.currentTime,Tn=d.currentAnimateTimings,Yn=Tn.duration;return At.forEach((ar,wr)=>{const Yi=mn>0?wr==wn?1:mn*wr:ne[wr],Ni=Yi*Yn;d.currentTime=tn+Tn.delay+Ni,Tn.duration=Ni,this._validateStyleAst(ar,d),ar.offset=Yi,v.styles.push(ar)}),v}visitReference(u,d){return{type:8,animation:ot(this,za(u.animation),d),options:Sa(u.options)}}visitAnimateChild(u,d){return d.depCount++,{type:9,options:Sa(u.options)}}visitAnimateRef(u,d){return{type:10,animation:this.visitReference(u.animation,d),options:Sa(u.options)}}visitQuery(u,d){const v=d.currentQuerySelector,w=u.options||{};d.queryCount++,d.currentQuery=u;const[V,ne]=function Iu(_){const u=!!_.split(/\s*,\s*/).find(d=>":self"==d);return u&&(_=_.replace(ed,"")),_=_.replace(/@\*/g,hs).replace(/@\w+/g,d=>hs+"-"+d.slice(1)).replace(/:animating/g,Tt),[_,u]}(u.selector);d.currentQuerySelector=v.length?v+" "+V:V,ds(d.collectedStyles,d.currentQuerySelector,new Map);const he=ot(this,za(u.animation),d);return d.currentQuery=null,d.currentQuerySelector=v,{type:11,selector:V,limit:w.limit||0,optional:!!w.optional,includeSelf:ne,animation:he,originalSelector:u.selector,options:Sa(u.options)}}visitStagger(u,d){d.currentQuery||d.errors.push(function It(){return new R.vHH(3013,!1)}());const v="full"===u.timings?{duration:0,delay:0,easing:"full"}:xo(u.timings,d.errors,!0);return{type:12,animation:ot(this,za(u.animation),d),timings:v,options:null}}}class lc{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Sa(_){return _?(_=Qs(_)).params&&(_.params=function kd(_){return _?Qs(_):null}(_.params)):_={},_}function Ga(_,u,d){return{duration:_,delay:u,easing:d}}function Ml(_,u,d,v,w,V,ne=null,he=!1){return{type:1,element:_,keyframes:u,preStyleProps:d,postStyleProps:v,duration:w,delay:V,totalTime:w+V,easing:ne,subTimeline:he}}class Xs{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,d){let v=this._map.get(u);v||this._map.set(u,v=[]),v.push(...d)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const Fd=new RegExp(":enter","g"),ul=new RegExp(":leave","g");function Tr(_,u,d,v,w,V=new Map,ne=new Map,he,Ae,qe=[]){return(new nd).buildKeyframes(_,u,d,v,w,V,ne,he,Ae,qe)}class nd{buildKeyframes(u,d,v,w,V,ne,he,Ae,qe,At=[]){qe=qe||new Xs;const $t=new vr(u,d,qe,w,V,At,[]);$t.options=Ae;const mn=Ae.delay?gi(Ae.delay):0;$t.currentTimeline.delayNextStep(mn),$t.currentTimeline.setStyles([ne],null,$t.errors,Ae),ot(this,v,$t);const wn=$t.timelines.filter(tn=>tn.containsAnimation());if(wn.length&&he.size){let tn;for(let Tn=wn.length-1;Tn>=0;Tn--){const Yn=wn[Tn];if(Yn.element===d){tn=Yn;break}}tn&&!tn.allowOnlyTimelineStyles()&&tn.setStyles([he],null,$t.errors,Ae)}return wn.length?wn.map(tn=>tn.buildKeyframes()):[Ml(d,[],[],[],0,mn,"",!1)]}visitTrigger(u,d){}visitState(u,d){}visitTransition(u,d){}visitAnimateChild(u,d){const v=d.subInstructions.get(d.element);if(v){const w=d.createSubContext(u.options),V=d.currentTimeline.currentTime,ne=this._visitSubInstructions(v,w,w.options);V!=ne&&d.transformIntoNewTimeline(ne)}d.previousNode=u}visitAnimateRef(u,d){const v=d.createSubContext(u.options);v.transformIntoNewTimeline(),this._applyAnimationRefDelays([u.options,u.animation.options],d,v),this.visitReference(u.animation,v),d.transformIntoNewTimeline(v.currentTimeline.currentTime),d.previousNode=u}_applyAnimationRefDelays(u,d,v){for(const w of u){const V=w?.delay;if(V){const ne="number"==typeof V?V:gi(P(V,w?.params??{},d.errors));v.delayNextStep(ne)}}}_visitSubInstructions(u,d,v){let V=d.currentTimeline.currentTime;const ne=null!=v.duration?gi(v.duration):null,he=null!=v.delay?gi(v.delay):null;return 0!==ne&&u.forEach(Ae=>{const qe=d.appendInstructionToTimeline(Ae,ne,he);V=Math.max(V,qe.duration+qe.delay)}),V}visitReference(u,d){d.updateOptions(u.options,!0),ot(this,u.animation,d),d.previousNode=u}visitSequence(u,d){const v=d.subContextCount;let w=d;const V=u.options;if(V&&(V.params||V.delay)&&(w=d.createSubContext(V),w.transformIntoNewTimeline(),null!=V.delay)){6==w.previousNode.type&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=lo);const ne=gi(V.delay);w.delayNextStep(ne)}u.steps.length&&(u.steps.forEach(ne=>ot(this,ne,w)),w.currentTimeline.applyStylesToKeyframe(),w.subContextCount>v&&w.transformIntoNewTimeline()),d.previousNode=u}visitGroup(u,d){const v=[];let w=d.currentTimeline.currentTime;const V=u.options&&u.options.delay?gi(u.options.delay):0;u.steps.forEach(ne=>{const he=d.createSubContext(u.options);V&&he.delayNextStep(V),ot(this,ne,he),w=Math.max(w,he.currentTimeline.currentTime),v.push(he.currentTimeline)}),v.forEach(ne=>d.currentTimeline.mergeTimelineCollectedStyles(ne)),d.transformIntoNewTimeline(w),d.previousNode=u}_visitTiming(u,d){if(u.dynamic){const v=u.strValue;return xo(d.params?P(v,d.params,d.errors):v,d.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,d){const v=d.currentAnimateTimings=this._visitTiming(u.timings,d),w=d.currentTimeline;v.delay&&(d.incrementTime(v.delay),w.snapshotCurrentStyles());const V=u.style;5==V.type?this.visitKeyframes(V,d):(d.incrementTime(v.duration),this.visitStyle(V,d),w.applyStylesToKeyframe()),d.currentAnimateTimings=null,d.previousNode=u}visitStyle(u,d){const v=d.currentTimeline,w=d.currentAnimateTimings;!w&&v.hasCurrentStyleProperties()&&v.forwardFrame();const V=w&&w.easing||u.easing;u.isEmptyStep?v.applyEmptyStep(V):v.setStyles(u.styles,V,d.errors,d.options),d.previousNode=u}visitKeyframes(u,d){const v=d.currentAnimateTimings,w=d.currentTimeline.duration,V=v.duration,he=d.createSubContext().currentTimeline;he.easing=v.easing,u.styles.forEach(Ae=>{he.forwardTime((Ae.offset||0)*V),he.setStyles(Ae.styles,Ae.easing,d.errors,d.options),he.applyStylesToKeyframe()}),d.currentTimeline.mergeTimelineCollectedStyles(he),d.transformIntoNewTimeline(w+V),d.previousNode=u}visitQuery(u,d){const v=d.currentTimeline.currentTime,w=u.options||{},V=w.delay?gi(w.delay):0;V&&(6===d.previousNode.type||0==v&&d.currentTimeline.hasCurrentStyleProperties())&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=lo);let ne=v;const he=d.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!w.optional,d.errors);d.currentQueryTotal=he.length;let Ae=null;he.forEach((qe,At)=>{d.currentQueryIndex=At;const $t=d.createSubContext(u.options,qe);V&&$t.delayNextStep(V),qe===d.element&&(Ae=$t.currentTimeline),ot(this,u.animation,$t),$t.currentTimeline.applyStylesToKeyframe(),ne=Math.max(ne,$t.currentTimeline.currentTime)}),d.currentQueryIndex=0,d.currentQueryTotal=0,d.transformIntoNewTimeline(ne),Ae&&(d.currentTimeline.mergeTimelineCollectedStyles(Ae),d.currentTimeline.snapshotCurrentStyles()),d.previousNode=u}visitStagger(u,d){const v=d.parentContext,w=d.currentTimeline,V=u.timings,ne=Math.abs(V.duration),he=ne*(d.currentQueryTotal-1);let Ae=ne*d.currentQueryIndex;switch(V.duration<0?"reverse":V.easing){case"reverse":Ae=he-Ae;break;case"full":Ae=v.currentStaggerTime}const At=d.currentTimeline;Ae&&At.delayNextStep(Ae);const $t=At.currentTime;ot(this,u.animation,d),d.previousNode=u,v.currentStaggerTime=w.currentTime-$t+(w.startTime-v.currentTimeline.startTime)}}const lo={};class vr{constructor(u,d,v,w,V,ne,he,Ae){this._driver=u,this.element=d,this.subInstructions=v,this._enterClassName=w,this._leaveClassName=V,this.errors=ne,this.timelines=he,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ae||new Hc(this._driver,d,0),he.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,d){if(!u)return;const v=u;let w=this.options;null!=v.duration&&(w.duration=gi(v.duration)),null!=v.delay&&(w.delay=gi(v.delay));const V=v.params;if(V){let ne=w.params;ne||(ne=this.options.params={}),Object.keys(V).forEach(he=>{(!d||!ne.hasOwnProperty(he))&&(ne[he]=P(V[he],ne,this.errors))})}}_copyOptions(){const u={};if(this.options){const d=this.options.params;if(d){const v=u.params={};Object.keys(d).forEach(w=>{v[w]=d[w]})}}return u}createSubContext(u=null,d,v){const w=d||this.element,V=new vr(this._driver,w,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(w,v||0));return V.previousNode=this.previousNode,V.currentAnimateTimings=this.currentAnimateTimings,V.options=this._copyOptions(),V.updateOptions(u),V.currentQueryIndex=this.currentQueryIndex,V.currentQueryTotal=this.currentQueryTotal,V.parentContext=this,this.subContextCount++,V}transformIntoNewTimeline(u){return this.previousNode=lo,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,d,v){const w={duration:d??u.duration,delay:this.currentTimeline.currentTime+(v??0)+u.delay,easing:""},V=new dl(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,w,u.stretchStartingKeyframe);return this.timelines.push(V),w}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,d,v,w,V,ne){let he=[];if(w&&he.push(this.element),u.length>0){u=(u=u.replace(Fd,"."+this._enterClassName)).replace(ul,"."+this._leaveClassName);let qe=this._driver.query(this.element,u,1!=v);0!==v&&(qe=v<0?qe.slice(qe.length+v,qe.length):qe.slice(0,v)),he.push(...qe)}return!V&&0==he.length&&ne.push(function In(_){return new R.vHH(3014,!1)}()),he}}class Hc{constructor(u,d,v,w){this._driver=u,this.element=d,this.startTime=v,this._elementTimelineStylesLookup=w,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(d),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(d,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const d=1===this._keyframes.size&&this._pendingStyles.size;this.duration||d?(this.forwardTime(this.currentTime+u),d&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,d){return this.applyStylesToKeyframe(),new Hc(this._driver,u,d||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,d){this._localTimelineStyles.set(u,d),this._globalTimelineStyles.set(u,d),this._styleSummary.set(u,{time:this.currentTime,value:d})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&this._previousKeyframe.set("easing",u);for(let[d,v]of this._globalTimelineStyles)this._backFill.set(d,v||Ri.l3),this._currentKeyframe.set(d,Ri.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,d,v,w){d&&this._previousKeyframe.set("easing",d);const V=w&&w.params||{},ne=function id(_,u){const d=new Map;let v;return _.forEach(w=>{if("*"===w){v=v||u.keys();for(let V of v)d.set(V,Ri.l3)}else nt(w,d)}),d}(u,this._globalTimelineStyles);for(let[he,Ae]of ne){const qe=P(Ae,V,v);this._pendingStyles.set(he,qe),this._localTimelineStyles.has(he)||this._backFill.set(he,this._globalTimelineStyles.get(he)??Ri.l3),this._updateStyle(he,qe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((u,d)=>{this._currentKeyframe.set(d,u)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((u,d)=>{this._currentKeyframe.has(d)||this._currentKeyframe.set(d,u)}))}snapshotCurrentStyles(){for(let[u,d]of this._localTimelineStyles)this._pendingStyles.set(u,d),this._updateStyle(u,d)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let d in this._currentKeyframe)u.push(d);return u}mergeTimelineCollectedStyles(u){u._styleSummary.forEach((d,v)=>{const w=this._styleSummary.get(v);(!w||d.time>w.time)&&this._updateStyle(v,d.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,d=new Set,v=1===this._keyframes.size&&0===this.duration;let w=[];this._keyframes.forEach((he,Ae)=>{const qe=nt(he,new Map,this._backFill);qe.forEach((At,$t)=>{At===Ri.k1?u.add($t):At===Ri.l3&&d.add($t)}),v||qe.set("offset",Ae/this.duration),w.push(qe)});const V=u.size?I(u.values()):[],ne=d.size?I(d.values()):[];if(v){const he=w[0],Ae=new Map(he);he.set("offset",0),Ae.set("offset",1),w=[he,Ae]}return Ml(this.element,w,V,ne,this.duration,this.startTime,this.easing,!1)}}class dl extends Hc{constructor(u,d,v,w,V,ne,he=!1){super(u,d,ne.delay),this.keyframes=v,this.preStyleProps=w,this.postStyleProps=V,this._stretchStartingKeyframe=he,this.timings={duration:ne.duration,delay:ne.delay,easing:ne.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:d,duration:v,easing:w}=this.timings;if(this._stretchStartingKeyframe&&d){const V=[],ne=v+d,he=d/ne,Ae=nt(u[0]);Ae.set("offset",0),V.push(Ae);const qe=nt(u[0]);qe.set("offset",ws(he)),V.push(qe);const At=u.length-1;for(let $t=1;$t<=At;$t++){let mn=nt(u[$t]);const wn=mn.get("offset");mn.set("offset",ws((d+wn*v)/ne)),V.push(mn)}v=ne,d=0,w="",u=V}return Ml(this.element,u,this.preStyleProps,this.postStyleProps,v,d,w,!0)}}function ws(_,u=3){const d=Math.pow(10,u-1);return Math.round(_*d)/d}class qr{}const Js=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Xr extends qr{normalizePropertyName(u,d){return q(u)}normalizeStyleValue(u,d,v,w){let V="";const ne=v.toString().trim();if(Js.has(d)&&0!==v&&"0"!==v)if("number"==typeof v)V="px";else{const he=v.match(/^[+-]?[\d\.]+([a-z]*)$/);he&&0==he[1].length&&w.push(function wa(_,u){return new R.vHH(3005,!1)}())}return ne+V}}function fs(_,u,d,v,w,V,ne,he,Ae,qe,At,$t,mn){return{type:0,element:_,triggerName:u,isRemovalTransition:w,fromState:d,fromStyles:V,toState:v,toStyles:ne,timelines:he,queriedElements:Ae,preStyleProps:qe,postStyleProps:At,totalTime:$t,errors:mn}}const Pl={};class hl{constructor(u,d,v){this._triggerName=u,this.ast=d,this._stateStyles=v}match(u,d,v,w){return function Ld(_,u,d,v,w){return _.some(V=>V(u,d,v,w))}(this.ast.matchers,u,d,v,w)}buildStyles(u,d,v){let w=this._stateStyles.get("*");return void 0!==u&&(w=this._stateStyles.get(u?.toString())||w),w?w.buildStyles(d,v):new Map}build(u,d,v,w,V,ne,he,Ae,qe,At){const $t=[],mn=this.ast.options&&this.ast.options.params||Pl,tn=this.buildStyles(v,he&&he.params||Pl,$t),Tn=Ae&&Ae.params||Pl,Yn=this.buildStyles(w,Tn,$t),ar=new Set,wr=new Map,Yi=new Map,Ni="void"===w,Lo={params:Wo(Tn,mn),delay:this.ast.options?.delay},Vo=At?[]:Tr(u,d,this.ast.animation,V,ne,tn,Yn,Lo,qe,$t);let co=0;if(Vo.forEach(Cs=>{co=Math.max(Cs.duration+Cs.delay,co)}),$t.length)return fs(d,this._triggerName,v,w,Ni,tn,Yn,[],[],wr,Yi,co,$t);Vo.forEach(Cs=>{const xl=Cs.element,fh=ds(wr,xl,new Set);Cs.preStyleProps.forEach(Wl=>fh.add(Wl));const La=ds(Yi,xl,new Set);Cs.postStyleProps.forEach(Wl=>La.add(Wl)),xl!==d&&ar.add(xl)});const Ts=I(ar.values());return fs(d,this._triggerName,v,w,Ni,tn,Yn,Vo,Ts,wr,Yi,co)}}function Wo(_,u){const d=Qs(u);for(const v in _)_.hasOwnProperty(v)&&null!=_[v]&&(d[v]=_[v]);return d}class Wa{constructor(u,d,v){this.styles=u,this.defaultParams=d,this.normalizer=v}buildStyles(u,d){const v=new Map,w=Qs(this.defaultParams);return Object.keys(u).forEach(V=>{const ne=u[V];null!==ne&&(w[V]=ne)}),this.styles.styles.forEach(V=>{"string"!=typeof V&&V.forEach((ne,he)=>{ne&&(ne=P(ne,w,d));const Ae=this.normalizer.normalizePropertyName(he,d);ne=this.normalizer.normalizeStyleValue(he,Ae,ne,d),v.set(he,ne)})}),v}}class Ra{constructor(u,d,v){this.name=u,this.ast=d,this._normalizer=v,this.transitionFactories=[],this.states=new Map,d.states.forEach(w=>{this.states.set(w.name,new Wa(w.style,w.options&&w.options.params||{},v))}),qa(this.states,"true","1"),qa(this.states,"false","0"),d.transitions.forEach(w=>{this.transitionFactories.push(new hl(u,w,this.states))}),this.fallbackTransition=function Vs(_,u,d){return new hl(_,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ne,he)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,d,v,w){return this.transitionFactories.find(ne=>ne.match(u,d,v,w))||null}matchStyles(u,d,v){return this.fallbackTransition.buildStyles(u,d,v)}}function qa(_,u,d){_.has(u)?_.has(d)||_.set(d,_.get(u)):_.has(d)&&_.set(u,_.get(d))}const Ma=new Xs;class Cu{constructor(u,d,v){this.bodyNode=u,this._driver=d,this._normalizer=v,this._animations=new Map,this._playersById=new Map,this.players=[]}register(u,d){const v=[],V=td(this._driver,d,v,[]);if(v.length)throw function Er(_){return new R.vHH(3503,!1)}();this._animations.set(u,V)}_buildPlayer(u,d,v){const w=u.element,V=oc(this._normalizer,u.keyframes,d,v);return this._driver.animate(w,V,u.duration,u.delay,u.easing,[],!0)}create(u,d,v={}){const w=[],V=this._animations.get(u);let ne;const he=new Map;if(V?(ne=Tr(this._driver,d,V,ac,_r,new Map,new Map,v,Ma,w),ne.forEach(At=>{const $t=ds(he,At.element,new Map);At.postStyleProps.forEach(mn=>$t.set(mn,null))})):(w.push(function ks(){return new R.vHH(3300,!1)}()),ne=[]),w.length)throw function Ct(_){return new R.vHH(3504,!1)}();he.forEach((At,$t)=>{At.forEach((mn,wn)=>{At.set(wn,this._driver.computeStyle($t,wn,Ri.l3))})});const qe=ai(ne.map(At=>{const $t=he.get(At.element);return this._buildPlayer(At,new Map,$t)}));return this._playersById.set(u,qe),qe.onDestroy(()=>this.destroy(u)),this.players.push(qe),qe}destroy(u){const d=this._getPlayer(u);d.destroy(),this._playersById.delete(u);const v=this.players.indexOf(d);v>=0&&this.players.splice(v,1)}_getPlayer(u){const d=this._playersById.get(u);if(!d)throw function dr(_){return new R.vHH(3301,!1)}();return d}listen(u,d,v,w){const V=No(d,"","","");return kc(this._getPlayer(u),v,V,w),()=>{}}command(u,d,v,w){if("register"==v)return void this.register(u,w[0]);if("create"==v)return void this.create(u,d,w[0]||{});const V=this._getPlayer(u);switch(v){case"play":V.play();break;case"pause":V.pause();break;case"reset":V.reset();break;case"restart":V.restart();break;case"finish":V.finish();break;case"init":V.init();break;case"setPosition":V.setPosition(parseFloat(w[0]));break;case"destroy":this.destroy(u)}}}const fl="ng-animate-queued",Ka="ng-animate-disabled",Oa=[],Au={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rs="__ng_removed";class Za{get params(){return this.options.params}constructor(u,d=""){this.namespaceId=d;const v=u&&u.hasOwnProperty("value");if(this.value=function Ur(_){return _??null}(v?u.value:u),v){const V=Qs(u);delete V.value,this.options=V}else this.options={};this.options.params||(this.options.params={})}absorbOptions(u){const d=u.params;if(d){const v=this.options.params;Object.keys(d).forEach(w=>{null==v[w]&&(v[w]=d[w])})}}}const uc="void",qo=new Za(uc);class Vd{constructor(u,d,v){this.id=u,this.hostElement=d,this._engine=v,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,ps(d,this._hostClassName)}listen(u,d,v,w){if(!this._triggers.has(d))throw function Ir(_,u){return new R.vHH(3302,!1)}();if(null==v||0==v.length)throw function Fs(_){return new R.vHH(3303,!1)}();if(!function Ya(_){return"start"==_||"done"==_}(v))throw function zt(_,u){return new R.vHH(3400,!1)}();const V=ds(this._elementListeners,u,[]),ne={name:d,phase:v,callback:w};V.push(ne);const he=ds(this._engine.statesByElement,u,new Map);return he.has(d)||(ps(u,Bc),ps(u,Bc+"-"+d),he.set(d,qo)),()=>{this._engine.afterFlush(()=>{const Ae=V.indexOf(ne);Ae>=0&&V.splice(Ae,1),this._triggers.has(d)||he.delete(d)})}}register(u,d){return!this._triggers.has(u)&&(this._triggers.set(u,d),!0)}_getTrigger(u){const d=this._triggers.get(u);if(!d)throw function Cn(_){return new R.vHH(3401,!1)}();return d}trigger(u,d,v,w=!0){const V=this._getTrigger(d),ne=new io(this.id,d,u);let he=this._engine.statesByElement.get(u);he||(ps(u,Bc),ps(u,Bc+"-"+d),this._engine.statesByElement.set(u,he=new Map));let Ae=he.get(d);const qe=new Za(v,this.id);if(!(v&&v.hasOwnProperty("value"))&&Ae&&qe.absorbOptions(Ae.options),he.set(d,qe),Ae||(Ae=qo),qe.value!==uc&&Ae.value===qe.value){if(!function Ud(_,u){const d=Object.keys(_),v=Object.keys(u);if(d.length!=v.length)return!1;for(let w=0;w<d.length;w++){const V=d[w];if(!u.hasOwnProperty(V)||_[V]!==u[V])return!1}return!0}(Ae.params,qe.params)){const Tn=[],Yn=V.matchStyles(Ae.value,Ae.params,Tn),ar=V.matchStyles(qe.value,qe.params,Tn);Tn.length?this._engine.reportError(Tn):this._engine.afterFlush(()=>{$o(u,Yn),is(u,ar)})}return}const mn=ds(this._engine.playersByElement,u,[]);mn.forEach(Tn=>{Tn.namespaceId==this.id&&Tn.triggerName==d&&Tn.queued&&Tn.destroy()});let wn=V.matchTransition(Ae.value,qe.value,u,qe.params),tn=!1;if(!wn){if(!w)return;wn=V.fallbackTransition,tn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:d,transition:wn,fromState:Ae,toState:qe,player:ne,isFallbackTransition:tn}),tn||(ps(u,fl),ne.onStart(()=>{ri(u,fl)})),ne.onDone(()=>{let Tn=this.players.indexOf(ne);Tn>=0&&this.players.splice(Tn,1);const Yn=this._engine.playersByElement.get(u);if(Yn){let ar=Yn.indexOf(ne);ar>=0&&Yn.splice(ar,1)}}),this.players.push(ne),mn.push(ne),ne}deregister(u){this._triggers.delete(u),this._engine.statesByElement.forEach(d=>d.delete(u)),this._elementListeners.forEach((d,v)=>{this._elementListeners.set(v,d.filter(w=>w.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const d=this._engine.playersByElement.get(u);d&&(d.forEach(v=>v.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,d){const v=this._engine.driver.query(u,hs,!0);v.forEach(w=>{if(w[rs])return;const V=this._engine.fetchNamespacesByElement(w);V.size?V.forEach(ne=>ne.triggerLeaveAnimation(w,d,!1,!0)):this.clearElementCache(w)}),this._engine.afterFlushAnimationsDone(()=>v.forEach(w=>this.clearElementCache(w)))}triggerLeaveAnimation(u,d,v,w){const V=this._engine.statesByElement.get(u),ne=new Map;if(V){const he=[];if(V.forEach((Ae,qe)=>{if(ne.set(qe,Ae.value),this._triggers.has(qe)){const At=this.trigger(u,qe,uc,w);At&&he.push(At)}}),he.length)return this._engine.markElementAsRemoved(this.id,u,!0,d,ne),v&&ai(he).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const d=this._elementListeners.get(u),v=this._engine.statesByElement.get(u);if(d&&v){const w=new Set;d.forEach(V=>{const ne=V.name;if(w.has(ne))return;w.add(ne);const Ae=this._triggers.get(ne).fallbackTransition,qe=v.get(ne)||qo,At=new Za(uc),$t=new io(this.id,ne,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:ne,transition:Ae,fromState:qe,toState:At,player:$t,isFallbackTransition:!0})})}}removeNode(u,d){const v=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,d),this.triggerLeaveAnimation(u,d,!0))return;let w=!1;if(v.totalAnimations){const V=v.players.length?v.playersByQueriedElement.get(u):[];if(V&&V.length)w=!0;else{let ne=u;for(;ne=ne.parentNode;)if(v.statesByElement.get(ne)){w=!0;break}}}if(this.prepareLeaveAnimationListeners(u),w)v.markElementAsRemoved(this.id,u,!1,d);else{const V=u[rs];(!V||V===Au)&&(v.afterFlush(()=>this.clearElementCache(u)),v.destroyInnerAnimations(u),v._onRemovalComplete(u,d))}}insertNode(u,d){ps(u,this._hostClassName)}drainQueuedTransitions(u){const d=[];return this._queue.forEach(v=>{const w=v.player;if(w.destroyed)return;const V=v.element,ne=this._elementListeners.get(V);ne&&ne.forEach(he=>{if(he.name==v.triggerName){const Ae=No(V,v.triggerName,v.fromState.value,v.toState.value);Ae._data=u,kc(v.player,he.phase,Ae,he.callback)}}),w.markedForDestroy?this._engine.afterFlush(()=>{w.destroy()}):d.push(v)}),this._queue=[],d.sort((v,w)=>{const V=v.transition.ast.depCount,ne=w.transition.ast.depCount;return 0==V||0==ne?V-ne:this._engine.driver.containsElement(v.element,w.element)?1:-1})}destroy(u){this.players.forEach(d=>d.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}}class Su{_onRemovalComplete(u,d){this.onRemovalComplete(u,d)}constructor(u,d,v){this.bodyNode=u,this.driver=d,this._normalizer=v,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(w,V)=>{}}get queuedPlayers(){const u=[];return this._namespaceList.forEach(d=>{d.players.forEach(v=>{v.queued&&u.push(v)})}),u}createNamespace(u,d){const v=new Vd(u,d,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,d)?this._balanceNamespaceList(v,d):(this.newHostElements.set(d,v),this.collectEnterElement(d)),this._namespaceLookup[u]=v}_balanceNamespaceList(u,d){const v=this._namespaceList,w=this.namespacesByHostElement;if(v.length-1>=0){let ne=!1,he=this.driver.getParentElement(d);for(;he;){const Ae=w.get(he);if(Ae){const qe=v.indexOf(Ae);v.splice(qe+1,0,u),ne=!0;break}he=this.driver.getParentElement(he)}ne||v.unshift(u)}else v.push(u);return w.set(d,u),u}register(u,d){let v=this._namespaceLookup[u];return v||(v=this.createNamespace(u,d)),v}registerTrigger(u,d,v){let w=this._namespaceLookup[u];w&&w.register(d,v)&&this.totalAnimations++}destroy(u,d){u&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const v=this._fetchNamespace(u);this.namespacesByHostElement.delete(v.hostElement);const w=this._namespaceList.indexOf(v);w>=0&&this._namespaceList.splice(w,1),v.destroy(d),delete this._namespaceLookup[u]}))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const d=new Set,v=this.statesByElement.get(u);if(v)for(let w of v.values())if(w.namespaceId){const V=this._fetchNamespace(w.namespaceId);V&&d.add(V)}return d}trigger(u,d,v,w){if(Bs(d)){const V=this._fetchNamespace(u);if(V)return V.trigger(d,v,w),!0}return!1}insertNode(u,d,v,w){if(!Bs(d))return;const V=d[rs];if(V&&V.setForRemoval){V.setForRemoval=!1,V.setForMove=!0;const ne=this.collectedLeaveElements.indexOf(d);ne>=0&&this.collectedLeaveElements.splice(ne,1)}if(u){const ne=this._fetchNamespace(u);ne&&ne.insertNode(d,v)}w&&this.collectEnterElement(d)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,d){d?this.disabledNodes.has(u)||(this.disabledNodes.add(u),ps(u,Ka)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),ri(u,Ka))}removeNode(u,d,v){if(Bs(d)){const w=u?this._fetchNamespace(u):null;w?w.removeNode(d,v):this.markElementAsRemoved(u,d,!1,v);const V=this.namespacesByHostElement.get(d);V&&V.id!==u&&V.removeNode(d,v)}else this._onRemovalComplete(d,v)}markElementAsRemoved(u,d,v,w,V){this.collectedLeaveElements.push(d),d[rs]={namespaceId:u,setForRemoval:w,hasAnimation:v,removedBeforeQueried:!1,previousTriggersValues:V}}listen(u,d,v,w,V){return Bs(d)?this._fetchNamespace(u).listen(d,v,w,V):()=>{}}_buildInstruction(u,d,v,w,V){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,v,w,u.fromState.options,u.toState.options,d,V)}destroyInnerAnimations(u){let d=this.driver.query(u,hs,!0);d.forEach(v=>this.destroyActiveAnimationsForElement(v)),0!=this.playersByQueriedElement.size&&(d=this.driver.query(u,Tt,!0),d.forEach(v=>this.finishActiveQueriedAnimationOnElement(v)))}destroyActiveAnimationsForElement(u){const d=this.playersByElement.get(u);d&&d.forEach(v=>{v.queued?v.markedForDestroy=!0:v.destroy()})}finishActiveQueriedAnimationOnElement(u){const d=this.playersByQueriedElement.get(u);d&&d.forEach(v=>v.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return ai(this.players).onDone(()=>u());u()})}processLeaveNode(u){const d=u[rs];if(d&&d.setForRemoval){if(u[rs]=Au,d.namespaceId){this.destroyInnerAnimations(u);const v=this._fetchNamespace(d.namespaceId);v&&v.clearElementCache(u)}this._onRemovalComplete(u,d.setForRemoval)}u.classList?.contains(Ka)&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(v=>{this.markElementAsDisabled(v,!1)})}flush(u=-1){let d=[];if(this.newHostElements.size&&(this.newHostElements.forEach((v,w)=>this._balanceNamespaceList(v,w)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let v=0;v<this.collectedEnterElements.length;v++)ps(this.collectedEnterElements[v],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const v=[];try{d=this._flushAnimations(v,u)}finally{for(let w=0;w<v.length;w++)v[w]()}}else for(let v=0;v<this.collectedLeaveElements.length;v++)this.processLeaveNode(this.collectedLeaveElements[v]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(v=>v()),this._flushFns=[],this._whenQuietFns.length){const v=this._whenQuietFns;this._whenQuietFns=[],d.length?ai(d).onDone(()=>{v.forEach(w=>w())}):v.forEach(w=>w())}}reportError(u){throw function yu(_){return new R.vHH(3402,!1)}()}_flushAnimations(u,d){const v=new Xs,w=[],V=new Map,ne=[],he=new Map,Ae=new Map,qe=new Map,At=new Set;this.disabledNodes.forEach(jn=>{At.add(jn);const Wn=this.driver.query(jn,".ng-animate-queued",!0);for(let ei=0;ei<Wn.length;ei++)At.add(Wn[ei])});const $t=this.bodyNode,mn=Array.from(this.statesByElement.keys()),wn=Ru(mn,this.collectedEnterElements),tn=new Map;let Tn=0;wn.forEach((jn,Wn)=>{const ei=ac+Tn++;tn.set(Wn,ei),jn.forEach(_i=>ps(_i,ei))});const Yn=[],ar=new Set,wr=new Set;for(let jn=0;jn<this.collectedLeaveElements.length;jn++){const Wn=this.collectedLeaveElements[jn],ei=Wn[rs];ei&&ei.setForRemoval&&(Yn.push(Wn),ar.add(Wn),ei.hasAnimation?this.driver.query(Wn,".ng-star-inserted",!0).forEach(_i=>ar.add(_i)):wr.add(Wn))}const Yi=new Map,Ni=Ru(mn,Array.from(ar));Ni.forEach((jn,Wn)=>{const ei=_r+Tn++;Yi.set(Wn,ei),jn.forEach(_i=>ps(_i,ei))}),u.push(()=>{wn.forEach((jn,Wn)=>{const ei=tn.get(Wn);jn.forEach(_i=>ri(_i,ei))}),Ni.forEach((jn,Wn)=>{const ei=Yi.get(Wn);jn.forEach(_i=>ri(_i,ei))}),Yn.forEach(jn=>{this.processLeaveNode(jn)})});const Lo=[],Vo=[];for(let jn=this._namespaceList.length-1;jn>=0;jn--)this._namespaceList[jn].drainQueuedTransitions(d).forEach(ei=>{const _i=ei.player,jr=ei.element;if(Lo.push(_i),this.collectedEnterElements.length){const as=jr[rs];if(as&&as.setForMove){if(as.previousTriggersValues&&as.previousTriggersValues.has(ei.triggerName)){const du=as.previousTriggersValues.get(ei.triggerName),As=this.statesByElement.get(ei.element);if(As&&As.has(ei.triggerName)){const $u=As.get(ei.triggerName);$u.value=du,As.set(ei.triggerName,$u)}}return void _i.destroy()}}const ia=!$t||!this.driver.containsElement($t,jr),Ds=Yi.get(jr),ql=tn.get(jr),ro=this._buildInstruction(ei,v,ql,Ds,ia);if(ro.errors&&ro.errors.length)return void Vo.push(ro);if(ia)return _i.onStart(()=>$o(jr,ro.fromStyles)),_i.onDestroy(()=>is(jr,ro.toStyles)),void w.push(_i);if(ei.isFallbackTransition)return _i.onStart(()=>$o(jr,ro.fromStyles)),_i.onDestroy(()=>is(jr,ro.toStyles)),void w.push(_i);const wc=[];ro.timelines.forEach(as=>{as.stretchStartingKeyframe=!0,this.disabledNodes.has(as.element)||wc.push(as)}),ro.timelines=wc,v.append(jr,ro.timelines),ne.push({instruction:ro,player:_i,element:jr}),ro.queriedElements.forEach(as=>ds(he,as,[]).push(_i)),ro.preStyleProps.forEach((as,du)=>{if(as.size){let As=Ae.get(du);As||Ae.set(du,As=new Set),as.forEach(($u,mh)=>As.add(mh))}}),ro.postStyleProps.forEach((as,du)=>{let As=qe.get(du);As||qe.set(du,As=new Set),as.forEach(($u,mh)=>As.add(mh))})});if(Vo.length){const jn=[];Vo.forEach(Wn=>{jn.push(function gt(_,u){return new R.vHH(3505,!1)}())}),Lo.forEach(Wn=>Wn.destroy()),this.reportError(jn)}const co=new Map,Ts=new Map;ne.forEach(jn=>{const Wn=jn.element;v.has(Wn)&&(Ts.set(Wn,Wn),this._beforeAnimationBuild(jn.player.namespaceId,jn.instruction,co))}),w.forEach(jn=>{const Wn=jn.element;this._getPreviousPlayers(Wn,!1,jn.namespaceId,jn.triggerName,null).forEach(_i=>{ds(co,Wn,[]).push(_i),_i.destroy()})});const Cs=Yn.filter(jn=>jd(jn,Ae,qe)),xl=new Map;ha(xl,this.driver,wr,qe,Ri.l3).forEach(jn=>{jd(jn,Ae,qe)&&Cs.push(jn)});const La=new Map;wn.forEach((jn,Wn)=>{ha(La,this.driver,new Set(jn),Ae,Ri.k1)}),Cs.forEach(jn=>{const Wn=xl.get(jn),ei=La.get(jn);xl.set(jn,new Map([...Wn?.entries()??[],...ei?.entries()??[]]))});const Wl=[],ph=[],zu={};ne.forEach(jn=>{const{element:Wn,player:ei,instruction:_i}=jn;if(v.has(Wn)){if(At.has(Wn))return ei.onDestroy(()=>is(Wn,_i.toStyles)),ei.disabled=!0,ei.overrideTotalTime(_i.totalTime),void w.push(ei);let jr=zu;if(Ts.size>1){let Ds=Wn;const ql=[];for(;Ds=Ds.parentNode;){const ro=Ts.get(Ds);if(ro){jr=ro;break}ql.push(Ds)}ql.forEach(ro=>Ts.set(ro,jr))}const ia=this._buildAnimation(ei.namespaceId,_i,co,V,La,xl);if(ei.setRealPlayer(ia),jr===zu)Wl.push(ei);else{const Ds=this.playersByElement.get(jr);Ds&&Ds.length&&(ei.parentPlayer=ai(Ds)),w.push(ei)}}else $o(Wn,_i.fromStyles),ei.onDestroy(()=>is(Wn,_i.toStyles)),ph.push(ei),At.has(Wn)&&w.push(ei)}),ph.forEach(jn=>{const Wn=V.get(jn.element);if(Wn&&Wn.length){const ei=ai(Wn);jn.setRealPlayer(ei)}}),w.forEach(jn=>{jn.parentPlayer?jn.syncPlayerEvents(jn.parentPlayer):jn.destroy()});for(let jn=0;jn<Yn.length;jn++){const Wn=Yn[jn],ei=Wn[rs];if(ri(Wn,_r),ei&&ei.hasAnimation)continue;let _i=[];if(he.size){let ia=he.get(Wn);ia&&ia.length&&_i.push(...ia);let Ds=this.driver.query(Wn,Tt,!0);for(let ql=0;ql<Ds.length;ql++){let ro=he.get(Ds[ql]);ro&&ro.length&&_i.push(...ro)}}const jr=_i.filter(ia=>!ia.destroyed);jr.length?Rr(this,Wn,jr):this.processLeaveNode(Wn)}return Yn.length=0,Wl.forEach(jn=>{this.players.push(jn),jn.onDone(()=>{jn.destroy();const Wn=this.players.indexOf(jn);this.players.splice(Wn,1)}),jn.play()}),Wl}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,d,v,w,V){let ne=[];if(d){const he=this.playersByQueriedElement.get(u);he&&(ne=he)}else{const he=this.playersByElement.get(u);if(he){const Ae=!V||V==uc;he.forEach(qe=>{qe.queued||!Ae&&qe.triggerName!=w||ne.push(qe)})}}return(v||w)&&(ne=ne.filter(he=>!(v&&v!=he.namespaceId||w&&w!=he.triggerName))),ne}_beforeAnimationBuild(u,d,v){const V=d.element,ne=d.isRemovalTransition?void 0:u,he=d.isRemovalTransition?void 0:d.triggerName;for(const Ae of d.timelines){const qe=Ae.element,At=qe!==V,$t=ds(v,qe,[]);this._getPreviousPlayers(qe,At,ne,he,d.toState).forEach(wn=>{const tn=wn.getRealPlayer();tn.beforeDestroy&&tn.beforeDestroy(),wn.destroy(),$t.push(wn)})}$o(V,d.fromStyles)}_buildAnimation(u,d,v,w,V,ne){const he=d.triggerName,Ae=d.element,qe=[],At=new Set,$t=new Set,mn=d.timelines.map(tn=>{const Tn=tn.element;At.add(Tn);const Yn=Tn[rs];if(Yn&&Yn.removedBeforeQueried)return new Ri.ZN(tn.duration,tn.delay);const ar=Tn!==Ae,wr=function dc(_){const u=[];return rd(_,u),u}((v.get(Tn)||Oa).map(co=>co.getRealPlayer())).filter(co=>!!co.element&&co.element===Tn),Yi=V.get(Tn),Ni=ne.get(Tn),Lo=oc(this._normalizer,tn.keyframes,Yi,Ni),Vo=this._buildPlayer(tn,Lo,wr);if(tn.subTimeline&&w&&$t.add(Tn),ar){const co=new io(u,he,Tn);co.setRealPlayer(Vo),qe.push(co)}return Vo});qe.forEach(tn=>{ds(this.playersByQueriedElement,tn.element,[]).push(tn),tn.onDone(()=>function Bd(_,u,d){let v=_.get(u);if(v){if(v.length){const w=v.indexOf(d);v.splice(w,1)}0==v.length&&_.delete(u)}return v}(this.playersByQueriedElement,tn.element,tn))}),At.forEach(tn=>ps(tn,bu));const wn=ai(mn);return wn.onDestroy(()=>{At.forEach(tn=>ri(tn,bu)),is(Ae,d.toStyles)}),$t.forEach(tn=>{ds(w,tn,[]).push(wn)}),wn}_buildPlayer(u,d,v){return d.length>0?this.driver.animate(u.element,d,u.duration,u.delay,u.easing,v):new Ri.ZN(u.duration,u.delay)}}class io{constructor(u,d,v){this.namespaceId=u,this.triggerName=d,this.element=v,this._player=new Ri.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,this._queuedCallbacks.forEach((d,v)=>{d.forEach(w=>kc(u,v,void 0,w))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const d=this._player;d.triggerCallback&&u.onStart(()=>d.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,d){ds(this._queuedCallbacks,u,[]).push(d)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const d=this._player;d.triggerCallback&&d.triggerCallback(u)}}function Bs(_){return _&&1===_.nodeType}function ml(_,u){const d=_.style.display;return _.style.display=u??"none",d}function ha(_,u,d,v,w){const V=[];d.forEach(Ae=>V.push(ml(Ae)));const ne=[];v.forEach((Ae,qe)=>{const At=new Map;Ae.forEach($t=>{const mn=u.computeStyle(qe,$t,w);At.set($t,mn),(!mn||0==mn.length)&&(qe[rs]=Nl,ne.push(qe))}),_.set(qe,At)});let he=0;return d.forEach(Ae=>ml(Ae,V[he++])),ne}function Ru(_,u){const d=new Map;if(_.forEach(he=>d.set(he,[])),0==u.length)return d;const w=new Set(u),V=new Map;function ne(he){if(!he)return 1;let Ae=V.get(he);if(Ae)return Ae;const qe=he.parentNode;return Ae=d.has(qe)?qe:w.has(qe)?1:ne(qe),V.set(he,Ae),Ae}return u.forEach(he=>{const Ae=ne(he);1!==Ae&&d.get(Ae).push(he)}),d}function ps(_,u){_.classList?.add(u)}function ri(_,u){_.classList?.remove(u)}function Rr(_,u,d){ai(d).onDone(()=>_.processLeaveNode(u))}function rd(_,u){for(let d=0;d<_.length;d++){const v=_[d];v instanceof Ri.ZE?rd(v.players,u):u.push(v)}}function jd(_,u,d){const v=d.get(_);if(!v)return!1;let w=u.get(_);return w?v.forEach(V=>w.add(V)):u.set(_,v),d.delete(_),!0}class Gc{constructor(u,d,v){this.bodyNode=u,this._driver=d,this._normalizer=v,this._triggerCache={},this.onRemovalComplete=(w,V)=>{},this._transitionEngine=new Su(u,d,v),this._timelineEngine=new Cu(u,d,v),this._transitionEngine.onRemovalComplete=(w,V)=>this.onRemovalComplete(w,V)}registerTrigger(u,d,v,w,V){const ne=u+"-"+w;let he=this._triggerCache[ne];if(!he){const Ae=[],At=td(this._driver,V,Ae,[]);if(Ae.length)throw function gr(_,u){return new R.vHH(3404,!1)}();he=function Ol(_,u,d){return new Ra(_,u,d)}(w,At,this._normalizer),this._triggerCache[ne]=he}this._transitionEngine.registerTrigger(d,w,he)}register(u,d){this._transitionEngine.register(u,d)}destroy(u,d){this._transitionEngine.destroy(u,d)}onInsert(u,d,v,w){this._transitionEngine.insertNode(u,d,v,w)}onRemove(u,d,v){this._transitionEngine.removeNode(u,d,v)}disableAnimations(u,d){this._transitionEngine.markElementAsDisabled(u,d)}process(u,d,v,w){if("@"==v.charAt(0)){const[V,ne]=Ju(v);this._timelineEngine.command(V,d,ne,w)}else this._transitionEngine.trigger(u,d,v,w)}listen(u,d,v,w,V){if("@"==v.charAt(0)){const[ne,he]=Ju(v);return this._timelineEngine.listen(ne,d,he,V)}return this._transitionEngine.listen(u,d,v,w,V)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(u){this._transitionEngine.afterFlushAnimationsDone(u)}}let Uh=(()=>{class _{static#e=this.initialStylesByElement=new WeakMap;constructor(d,v,w){this._element=d,this._startStyles=v,this._endStyles=w,this._state=0;let V=_.initialStylesByElement.get(d);V||_.initialStylesByElement.set(d,V=new Map),this._initialStyles=V}start(){this._state<1&&(this._startStyles&&is(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(is(this._element,this._initialStyles),this._endStyles&&(is(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_.initialStylesByElement.delete(this._element),this._startStyles&&($o(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($o(this._element,this._endStyles),this._endStyles=null),is(this._element,this._initialStyles),this._state=3)}}return _})();function fa(_){let u=null;return _.forEach((d,v)=>{(function jh(_){return"display"===_||"position"===_})(v)&&(u=u||new Map,u.set(v,d))}),u}class Hd{constructor(u,d,v,w){this.element=u,this.keyframes=d,this.options=v,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=v.duration,this._delay=v.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(u){const d=[];return u.forEach(v=>{d.push(Object.fromEntries(v))}),d}_triggerWebAnimation(u,d,v){return u.animate(this._convertKeyframesToObject(d),v)}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u=new Map;this.hasStarted()&&this._finalKeyframe.forEach((v,w)=>{"offset"!==w&&u.set(w,this._finished?v:un(this.element,w))}),this.currentSnapshot=u}triggerCallback(u){const d="start"===u?this._onStartFns:this._onDoneFns;d.forEach(v=>v()),d.length=0}}class Fo{validateStyleProperty(u){return!0}validateAnimatableStyleProperty(u){return!0}matchesElement(u,d){return!1}containsElement(u,d){return pn(u,d)}getParentElement(u){return ao(u)}query(u,d,v){return Fn(u,d,v)}computeStyle(u,d,v){return window.getComputedStyle(u)[d]}animate(u,d,v,w,V,ne=[]){const Ae={duration:v,delay:w,fill:0==w?"both":"forwards"};V&&(Ae.easing=V);const qe=new Map,At=ne.filter(wn=>wn instanceof Hd);(function De(_,u){return 0===_||0===u})(v,w)&&At.forEach(wn=>{wn.currentSnapshot.forEach((tn,Tn)=>qe.set(Tn,tn))});let $t=function Yr(_){return _.length?_[0]instanceof Map?_:_.map(u=>Ta(u)):[]}(d).map(wn=>nt(wn));$t=function dt(_,u,d){if(d.size&&u.length){let v=u[0],w=[];if(d.forEach((V,ne)=>{v.has(ne)||w.push(ne),v.set(ne,V)}),w.length)for(let V=1;V<u.length;V++){let ne=u[V];w.forEach(he=>ne.set(he,un(_,he)))}}return u}(u,$t,qe);const mn=function Bh(_,u){let d=null,v=null;return Array.isArray(u)&&u.length?(d=fa(u[0]),u.length>1&&(v=fa(u[u.length-1]))):u instanceof Map&&(d=fa(u)),d||v?new Uh(_,d,v):null}(u,$t);return new Hd(u,$t,Ae,mn)}}let zd=(()=>{class _ extends Ri._j{constructor(d,v){super(),this._nextAnimationId=0,this._renderer=d.createRenderer(v.body,{id:"0",encapsulation:R.ifc.None,styles:[],data:{animation:[]}})}build(d){const v=this._nextAnimationId.toString();this._nextAnimationId++;const w=Array.isArray(d)?(0,Ri.vP)(d):d;return Us(this._renderer,null,v,"register",[w]),new Wc(v,this._renderer)}static#e=this.\u0275fac=function(v){return new(v||_)(R.LFG(R.FYo),R.LFG(Ee.K0))};static#t=this.\u0275prov=R.Yz7({token:_,factory:_.\u0275fac})}return _})();class Wc extends Ri.LC{constructor(u,d){super(),this._id=u,this._renderer=d}create(u,d){return new od(this._id,u,d||{},this._renderer)}}class od{constructor(u,d,v,w){this.id=u,this.element=d,this._renderer=w,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",v)}_listen(u,d){return this._renderer.listen(this.element,`@@${this.id}:${u}`,d)}_command(u,...d){return Us(this._renderer,this.element,this.id,u,d)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Us(_,u,d,v,w){return _.setProperty(u,`@@${d}:${v}`,w)}const sd="@.disabled";let hc=(()=>{class _{constructor(d,v,w){this.delegate=d,this.engine=v,this._zone=w,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,v.onRemovalComplete=(V,ne)=>{const he=ne?.parentNode(V);he&&ne.removeChild(he,V)}}createRenderer(d,v){const V=this.delegate.createRenderer(d,v);if(!(d&&v&&v.data&&v.data.animation)){let At=this._rendererCache.get(V);return At||(At=new ea("",V,this.engine,()=>this._rendererCache.delete(V)),this._rendererCache.set(V,At)),At}const ne=v.id,he=v.id+"-"+this._currentId;this._currentId++,this.engine.register(he,d);const Ae=At=>{Array.isArray(At)?At.forEach(Ae):this.engine.registerTrigger(ne,he,d,At.name,At)};return v.data.animation.forEach(Ae),new kl(this,he,V,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(d,v,w){d>=0&&d<this._microtaskId?this._zone.run(()=>v(w)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(V=>{const[ne,he]=V;ne(he)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([v,w]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(v){return new(v||_)(R.LFG(R.FYo),R.LFG(Gc),R.LFG(R.R0b))};static#t=this.\u0275prov=R.Yz7({token:_,factory:_.\u0275fac})}return _})();class ea{constructor(u,d,v,w){this.namespaceId=u,this.delegate=d,this.engine=v,this._onDestroy=w}get data(){return this.delegate.data}destroyNode(u){this.delegate.destroyNode?.(u)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(u,d){return this.delegate.createElement(u,d)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,d){this.delegate.appendChild(u,d),this.engine.onInsert(this.namespaceId,d,u,!1)}insertBefore(u,d,v,w=!0){this.delegate.insertBefore(u,d,v),this.engine.onInsert(this.namespaceId,d,u,w)}removeChild(u,d,v){this.engine.onRemove(this.namespaceId,d,this.delegate)}selectRootElement(u,d){return this.delegate.selectRootElement(u,d)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,d,v,w){this.delegate.setAttribute(u,d,v,w)}removeAttribute(u,d,v){this.delegate.removeAttribute(u,d,v)}addClass(u,d){this.delegate.addClass(u,d)}removeClass(u,d){this.delegate.removeClass(u,d)}setStyle(u,d,v,w){this.delegate.setStyle(u,d,v,w)}removeStyle(u,d,v){this.delegate.removeStyle(u,d,v)}setProperty(u,d,v){"@"==d.charAt(0)&&d==sd?this.disableAnimations(u,!!v):this.delegate.setProperty(u,d,v)}setValue(u,d){this.delegate.setValue(u,d)}listen(u,d,v){return this.delegate.listen(u,d,v)}disableAnimations(u,d){this.engine.disableAnimations(u,d)}}class kl extends ea{constructor(u,d,v,w,V){super(d,v,w,V),this.factory=u,this.namespaceId=d}setProperty(u,d,v){"@"==d.charAt(0)?"."==d.charAt(1)&&d==sd?this.disableAnimations(u,v=void 0===v||!!v):this.engine.process(this.namespaceId,u,d.slice(1),v):this.delegate.setProperty(u,d,v)}listen(u,d,v){if("@"==d.charAt(0)){const w=function qc(_){switch(_){case"body":return document.body;case"document":return document;case"window":return window;default:return _}}(u);let V=d.slice(1),ne="";return"@"!=V.charAt(0)&&([V,ne]=function Mu(_){const u=_.indexOf(".");return[_.substring(0,u),_.slice(u+1)]}(V)),this.engine.listen(this.namespaceId,w,V,ne,he=>{this.factory.scheduleListenerCallback(he._data||-1,v,he)})}return this.delegate.listen(u,d,v)}}const gl=[{provide:Ri._j,useClass:zd},{provide:qr,useFactory:function xs(){return new Xr}},{provide:Gc,useClass:(()=>{class _ extends Gc{constructor(d,v,w,V){super(d.body,v,w)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(v){return new(v||_)(R.LFG(Ee.K0),R.LFG(ll),R.LFG(qr),R.LFG(R.z2F))};static#t=this.\u0275prov=R.Yz7({token:_,factory:_.\u0275fac})}return _})()},{provide:R.FYo,useFactory:function ta(_,u,d){return new hc(_,u,d)},deps:[h.se,Gc,R.R0b]}],Xa=[{provide:ll,useFactory:()=>new Fo},{provide:R.QbO,useValue:"BrowserAnimations"},...gl],Pu=[{provide:ll,useClass:Zi},{provide:R.QbO,useValue:"NoopAnimations"},...gl];let $d=(()=>{class _{static withConfig(d){return{ngModule:_,providers:d.disableAnimations?Pu:Xa}}static#e=this.\u0275fac=function(v){return new(v||_)};static#t=this.\u0275mod=R.oAB({type:_});static#n=this.\u0275inj=R.cJS({providers:Xa,imports:[h.b2]})}return _})();var Nu=O(7025),Kc=O(2296);let Ll=(()=>{class _{create(d){return typeof MutationObserver>"u"?null:new MutationObserver(d)}static#e=this.\u0275fac=function(v){return new(v||_)};static#t=this.\u0275prov=R.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),_l=(()=>{class _{static#e=this.\u0275fac=function(v){return new(v||_)};static#t=this.\u0275mod=R.oAB({type:_});static#n=this.\u0275inj=R.cJS({providers:[Ll]})}return _})();var Vl=O(3680);let nr=(()=>{class _{static#e=this.\u0275fac=function(v){return new(v||_)};static#t=this.\u0275mod=R.oAB({type:_});static#n=this.\u0275inj=R.cJS({imports:[Vl.BQ,Ee.ez,_l,Vl.BQ]})}return _})();O(8504),O(9315),O(9397),O(6306),O(4716),O(3020),O(6328),O(2181);let uu=(()=>{class _{static#e=this.\u0275fac=function(v){return new(v||_)};static#t=this.\u0275mod=R.oAB({type:_});static#n=this.\u0275inj=R.cJS({imports:[Vl.BQ,Vl.BQ]})}return _})(),Fm=(()=>{class _{static#e=this.\u0275fac=function(v){return new(v||_)};static#t=this.\u0275mod=R.oAB({type:_});static#n=this.\u0275inj=R.cJS({})}return _})(),Gl=(()=>{class _{static#e=this.\u0275fac=function(v){return new(v||_)};static#t=this.\u0275mod=R.oAB({type:_});static#n=this.\u0275inj=R.cJS({imports:[Vl.BQ,nr,nr,Fm,Vl.BQ]})}return _})(),vd=(()=>{class _{static#e=this.\u0275fac=function(v){return new(v||_)};static#t=this.\u0275mod=R.oAB({type:_,bootstrap:[Wi]});static#n=this.\u0275inj=R.cJS({providers:[{provide:_t.Dh,useValue:la}],imports:[h.b2,ba,H.UX,Nu.ZX,nr,Gl,Kc.ot,uu,Ea.m,(0,rc.hX)(()=>(0,rc.ZF)(la)),(0,Ys.AR)(()=>(0,Ys.v0)()),(0,Po.Cm)(()=>(0,Po.ad)()),$d,H.u5]})}return _})();h.q6().bootstrapModule(vd).catch(_=>console.error(_))},5619:(Nt,Be,O)=>{O.d(Be,{X:()=>H});var h=O(8645);class H extends h.x{constructor(R){super(),this._value=R}get value(){return this.getValue()}_subscribe(R){const me=super._subscribe(R);return!me.closed&&R.next(this._value),me}getValue(){const{hasError:R,thrownError:me,_value:Ee}=this;if(R)throw me;return this._throwIfClosed(),Ee}next(R){super.next(this._value=R)}}},5592:(Nt,Be,O)=>{O.d(Be,{y:()=>fe});var h=O(305),H=O(7394),te=O(4850),R=O(8407),me=O(2653),Ee=O(4674),Te=O(1441);let fe=(()=>{class Oe{constructor(tt){tt&&(this._subscribe=tt)}lift(tt){const bt=new Oe;return bt.source=this,bt.operator=tt,bt}subscribe(tt,bt,it){const lt=function ve(Oe){return Oe&&Oe instanceof h.Lv||function ae(Oe){return Oe&&(0,Ee.m)(Oe.next)&&(0,Ee.m)(Oe.error)&&(0,Ee.m)(Oe.complete)}(Oe)&&(0,H.Nn)(Oe)}(tt)?tt:new h.Hp(tt,bt,it);return(0,Te.x)(()=>{const{operator:pt,source:Pt}=this;lt.add(pt?pt.call(lt,Pt):Pt?this._subscribe(lt):this._trySubscribe(lt))}),lt}_trySubscribe(tt){try{return this._subscribe(tt)}catch(bt){tt.error(bt)}}forEach(tt,bt){return new(bt=Se(bt))((it,lt)=>{const pt=new h.Hp({next:Pt=>{try{tt(Pt)}catch(_t){lt(_t),pt.unsubscribe()}},error:lt,complete:it});this.subscribe(pt)})}_subscribe(tt){var bt;return null===(bt=this.source)||void 0===bt?void 0:bt.subscribe(tt)}[te.L](){return this}pipe(...tt){return(0,R.U)(tt)(this)}toPromise(tt){return new(tt=Se(tt))((bt,it)=>{let lt;this.subscribe(pt=>lt=pt,pt=>it(pt),()=>bt(lt))})}}return Oe.create=Ze=>new Oe(Ze),Oe})();function Se(Oe){var Ze;return null!==(Ze=Oe??me.config.Promise)&&void 0!==Ze?Ze:Promise}},8645:(Nt,Be,O)=>{O.d(Be,{x:()=>Te});var h=O(5592),H=O(7394);const R=(0,O(2306).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=O(9039),Ee=O(1441);let Te=(()=>{class Se extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ve){const Oe=new fe(this,this);return Oe.operator=ve,Oe}_throwIfClosed(){if(this.closed)throw new R}next(ve){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Oe of this.currentObservers)Oe.next(ve)}})}error(ve){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ve;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().error(ve)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ve}=this;for(;ve.length;)ve.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ve;return(null===(ve=this.observers)||void 0===ve?void 0:ve.length)>0}_trySubscribe(ve){return this._throwIfClosed(),super._trySubscribe(ve)}_subscribe(ve){return this._throwIfClosed(),this._checkFinalizedStatuses(ve),this._innerSubscribe(ve)}_innerSubscribe(ve){const{hasError:Oe,isStopped:Ze,observers:tt}=this;return Oe||Ze?H.Lc:(this.currentObservers=null,tt.push(ve),new H.w0(()=>{this.currentObservers=null,(0,me.P)(tt,ve)}))}_checkFinalizedStatuses(ve){const{hasError:Oe,thrownError:Ze,isStopped:tt}=this;Oe?ve.error(Ze):tt&&ve.complete()}asObservable(){const ve=new h.y;return ve.source=this,ve}}return Se.create=(ae,ve)=>new fe(ae,ve),Se})();class fe extends Te{constructor(ae,ve){super(),this.destination=ae,this.source=ve}next(ae){var ve,Oe;null===(Oe=null===(ve=this.destination)||void 0===ve?void 0:ve.next)||void 0===Oe||Oe.call(ve,ae)}error(ae){var ve,Oe;null===(Oe=null===(ve=this.destination)||void 0===ve?void 0:ve.error)||void 0===Oe||Oe.call(ve,ae)}complete(){var ae,ve;null===(ve=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===ve||ve.call(ae)}_subscribe(ae){var ve,Oe;return null!==(Oe=null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(ae))&&void 0!==Oe?Oe:H.Lc}}},305:(Nt,Be,O)=>{O.d(Be,{Hp:()=>it,Lv:()=>Oe});var h=O(4674),H=O(7394),te=O(2653),R=O(3894),me=O(2420);const Ee=Se("C",void 0,void 0);function Se(ge,Le,Me){return{kind:ge,value:Le,error:Me}}var ae=O(7599),ve=O(1441);class Oe extends H.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,H.Nn)(Le)&&Le.add(this)):this.destination=_t}static create(Le,Me,Xe){return new it(Le,Me,Xe)}next(Le){this.isStopped?Pt(function fe(ge){return Se("N",ge,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?Pt(function Te(ge){return Se("E",void 0,ge)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?Pt(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function tt(ge,Le){return Ze.call(ge,Le)}class bt{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:Me}=this;if(Me.next)try{Me.next(Le)}catch(Xe){lt(Xe)}}error(Le){const{partialObserver:Me}=this;if(Me.error)try{Me.error(Le)}catch(Xe){lt(Xe)}else lt(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(Me){lt(Me)}}}class it extends Oe{constructor(Le,Me,Xe){let ct;if(super(),(0,h.m)(Le)||!Le)ct={next:Le??void 0,error:Me??void 0,complete:Xe??void 0};else{let Fe;this&&te.config.useDeprecatedNextContext?(Fe=Object.create(Le),Fe.unsubscribe=()=>this.unsubscribe(),ct={next:Le.next&&tt(Le.next,Fe),error:Le.error&&tt(Le.error,Fe),complete:Le.complete&&tt(Le.complete,Fe)}):ct=Le}this.destination=new bt(ct)}}function lt(ge){te.config.useDeprecatedSynchronousErrorHandling?(0,ve.O)(ge):(0,R.h)(ge)}function Pt(ge,Le){const{onStoppedNotification:Me}=te.config;Me&&ae.z.setTimeout(()=>Me(ge,Le))}const _t={closed:!0,next:me.Z,error:function pt(ge){throw ge},complete:me.Z}},7394:(Nt,Be,O)=>{O.d(Be,{Lc:()=>Ee,w0:()=>me,Nn:()=>Te});var h=O(4674);const te=(0,O(2306).d)(Se=>function(ve){Se(this),this.message=ve?`${ve.length} errors occurred during unsubscription:\n${ve.map((Oe,Ze)=>`${Ze+1}) ${Oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ve});var R=O(9039);class me{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:ve}=this;if(ve)if(this._parentage=null,Array.isArray(ve))for(const tt of ve)tt.remove(this);else ve.remove(this);const{initialTeardown:Oe}=this;if((0,h.m)(Oe))try{Oe()}catch(tt){ae=tt instanceof te?tt.errors:[tt]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const tt of Ze)try{fe(tt)}catch(bt){ae=ae??[],bt instanceof te?ae=[...ae,...bt.errors]:ae.push(bt)}}if(ae)throw new te(ae)}}add(ae){var ve;if(ae&&ae!==this)if(this.closed)fe(ae);else{if(ae instanceof me){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(ve=this._finalizers)&&void 0!==ve?ve:[]).push(ae)}}_hasParent(ae){const{_parentage:ve}=this;return ve===ae||Array.isArray(ve)&&ve.includes(ae)}_addParent(ae){const{_parentage:ve}=this;this._parentage=Array.isArray(ve)?(ve.push(ae),ve):ve?[ve,ae]:ae}_removeParent(ae){const{_parentage:ve}=this;ve===ae?this._parentage=null:Array.isArray(ve)&&(0,R.P)(ve,ae)}remove(ae){const{_finalizers:ve}=this;ve&&(0,R.P)(ve,ae),ae instanceof me&&ae._removeParent(this)}}me.EMPTY=(()=>{const Se=new me;return Se.closed=!0,Se})();const Ee=me.EMPTY;function Te(Se){return Se instanceof me||Se&&"closed"in Se&&(0,h.m)(Se.remove)&&(0,h.m)(Se.add)&&(0,h.m)(Se.unsubscribe)}function fe(Se){(0,h.m)(Se)?Se():Se.unsubscribe()}},2653:(Nt,Be,O)=>{O.d(Be,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Nt,Be,O)=>{O.d(Be,{a:()=>ae});var h=O(5592),H=O(7453),te=O(2459),R=O(2737),me=O(7400),Ee=O(9940),Te=O(2714),fe=O(8251),Se=O(7103);function ae(...Ze){const tt=(0,Ee.yG)(Ze),bt=(0,Ee.jO)(Ze),{args:it,keys:lt}=(0,H.D)(Ze);if(0===it.length)return(0,te.D)([],tt);const pt=new h.y(function ve(Ze,tt,bt=R.y){return it=>{Oe(tt,()=>{const{length:lt}=Ze,pt=new Array(lt);let Pt=lt,_t=lt;for(let ge=0;ge<lt;ge++)Oe(tt,()=>{const Le=(0,te.D)(Ze[ge],tt);let Me=!1;Le.subscribe((0,fe.x)(it,Xe=>{pt[ge]=Xe,Me||(Me=!0,_t--),_t||it.next(bt(pt.slice()))},()=>{--Pt||it.complete()}))},it)},it)}}(it,tt,lt?Pt=>(0,Te.n)(lt,Pt):R.y));return bt?pt.pipe((0,me.Z)(bt)):pt}function Oe(Ze,tt,bt){Ze?(0,Se.f)(bt,Ze,tt):tt()}},5211:(Nt,Be,O)=>{O.d(Be,{z:()=>me});var h=O(7537),te=O(9940),R=O(2459);function me(...Ee){return function H(){return(0,h.J)(1)}()((0,R.D)(Ee,(0,te.yG)(Ee)))}},6232:(Nt,Be,O)=>{O.d(Be,{E:()=>H});const H=new(O(5592).y)(me=>me.complete())},9315:(Nt,Be,O)=>{O.d(Be,{D:()=>fe});var h=O(5592),H=O(7453),te=O(4829),R=O(9940),me=O(8251),Ee=O(7400),Te=O(2714);function fe(...Se){const ae=(0,R.jO)(Se),{args:ve,keys:Oe}=(0,H.D)(Se),Ze=new h.y(tt=>{const{length:bt}=ve;if(!bt)return void tt.complete();const it=new Array(bt);let lt=bt,pt=bt;for(let Pt=0;Pt<bt;Pt++){let _t=!1;(0,te.Xf)(ve[Pt]).subscribe((0,me.x)(tt,ge=>{_t||(_t=!0,pt--),it[Pt]=ge},()=>lt--,void 0,()=>{(!lt||!_t)&&(pt||tt.next(Oe?(0,Te.n)(Oe,it):it),tt.complete())}))}});return ae?Ze.pipe((0,Ee.Z)(ae)):Ze}},2459:(Nt,Be,O)=>{O.d(Be,{D:()=>Le});var h=O(4829),H=O(3093),te=O(5137),Ee=O(5592),fe=O(4971),Se=O(4674),ae=O(7103);function Oe(Me,Xe){if(!Me)throw new Error("Iterable cannot be null");return new Ee.y(ct=>{(0,ae.f)(ct,Xe,()=>{const Fe=Me[Symbol.asyncIterator]();(0,ae.f)(ct,Xe,()=>{Fe.next().then(Wt=>{Wt.done?ct.complete():ct.next(Wt.value)})},0,!0)})})}var Ze=O(8382),tt=O(4026),bt=O(4266),it=O(3664),lt=O(5726),pt=O(9853),Pt=O(541);function Le(Me,Xe){return Xe?function ge(Me,Xe){if(null!=Me){if((0,Ze.c)(Me))return function R(Me,Xe){return(0,h.Xf)(Me).pipe((0,te.R)(Xe),(0,H.Q)(Xe))}(Me,Xe);if((0,bt.z)(Me))return function Te(Me,Xe){return new Ee.y(ct=>{let Fe=0;return Xe.schedule(function(){Fe===Me.length?ct.complete():(ct.next(Me[Fe++]),ct.closed||this.schedule())})})}(Me,Xe);if((0,tt.t)(Me))return function me(Me,Xe){return(0,h.Xf)(Me).pipe((0,te.R)(Xe),(0,H.Q)(Xe))}(Me,Xe);if((0,lt.D)(Me))return Oe(Me,Xe);if((0,it.T)(Me))return function ve(Me,Xe){return new Ee.y(ct=>{let Fe;return(0,ae.f)(ct,Xe,()=>{Fe=Me[fe.h](),(0,ae.f)(ct,Xe,()=>{let Wt,Ut;try{({value:Wt,done:Ut}=Fe.next())}catch(dn){return void ct.error(dn)}Ut?ct.complete():ct.next(Wt)},0,!0)}),()=>(0,Se.m)(Fe?.return)&&Fe.return()})}(Me,Xe);if((0,Pt.L)(Me))return function _t(Me,Xe){return Oe((0,Pt.Q)(Me),Xe)}(Me,Xe)}throw(0,pt.z)(Me)}(Me,Xe):(0,h.Xf)(Me)}},4829:(Nt,Be,O)=>{O.d(Be,{Xf:()=>Ze});var h=O(7582),H=O(4266),te=O(4026),R=O(5592),me=O(8382),Ee=O(5726),Te=O(9853),fe=O(3664),Se=O(541),ae=O(4674),ve=O(3894),Oe=O(4850);function Ze(ge){if(ge instanceof R.y)return ge;if(null!=ge){if((0,me.c)(ge))return function tt(ge){return new R.y(Le=>{const Me=ge[Oe.L]();if((0,ae.m)(Me.subscribe))return Me.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,H.z)(ge))return function bt(ge){return new R.y(Le=>{for(let Me=0;Me<ge.length&&!Le.closed;Me++)Le.next(ge[Me]);Le.complete()})}(ge);if((0,te.t)(ge))return function it(ge){return new R.y(Le=>{ge.then(Me=>{Le.closed||(Le.next(Me),Le.complete())},Me=>Le.error(Me)).then(null,ve.h)})}(ge);if((0,Ee.D)(ge))return pt(ge);if((0,fe.T)(ge))return function lt(ge){return new R.y(Le=>{for(const Me of ge)if(Le.next(Me),Le.closed)return;Le.complete()})}(ge);if((0,Se.L)(ge))return function Pt(ge){return pt((0,Se.Q)(ge))}(ge)}throw(0,Te.z)(ge)}function pt(ge){return new R.y(Le=>{(function _t(ge,Le){var Me,Xe,ct,Fe;return(0,h.mG)(this,void 0,void 0,function*(){try{for(Me=(0,h.KL)(ge);!(Xe=yield Me.next()).done;)if(Le.next(Xe.value),Le.closed)return}catch(Wt){ct={error:Wt}}finally{try{Xe&&!Xe.done&&(Fe=Me.return)&&(yield Fe.call(Me))}finally{if(ct)throw ct.error}}Le.complete()})})(ge,Le).catch(Me=>Le.error(Me))})}},3019:(Nt,Be,O)=>{O.d(Be,{T:()=>Ee});var h=O(7537),H=O(4829),te=O(6232),R=O(9940),me=O(2459);function Ee(...Te){const fe=(0,R.yG)(Te),Se=(0,R._6)(Te,1/0),ae=Te;return ae.length?1===ae.length?(0,H.Xf)(ae[0]):(0,h.J)(Se)((0,me.D)(ae,fe)):te.E}},2096:(Nt,Be,O)=>{O.d(Be,{of:()=>te});var h=O(9940),H=O(2459);function te(...R){const me=(0,h.yG)(R);return(0,H.D)(R,me)}},8504:(Nt,Be,O)=>{O.d(Be,{_:()=>te});var h=O(5592),H=O(4674);function te(R,me){const Ee=(0,H.m)(R)?R:()=>R,Te=fe=>fe.error(Ee());return new h.y(me?fe=>me.schedule(Te,0,fe):Te)}},8251:(Nt,Be,O)=>{O.d(Be,{x:()=>H});var h=O(305);function H(R,me,Ee,Te,fe){return new te(R,me,Ee,Te,fe)}class te extends h.Lv{constructor(me,Ee,Te,fe,Se,ae){super(me),this.onFinalize=Se,this.shouldUnsubscribe=ae,this._next=Ee?function(ve){try{Ee(ve)}catch(Oe){me.error(Oe)}}:super._next,this._error=fe?function(ve){try{fe(ve)}catch(Oe){me.error(Oe)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(ve){me.error(ve)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},6306:(Nt,Be,O)=>{O.d(Be,{K:()=>R});var h=O(4829),H=O(8251),te=O(9360);function R(me){return(0,te.e)((Ee,Te)=>{let ae,fe=null,Se=!1;fe=Ee.subscribe((0,H.x)(Te,void 0,void 0,ve=>{ae=(0,h.Xf)(me(ve,R(me)(Ee))),fe?(fe.unsubscribe(),fe=null,ae.subscribe(Te)):Se=!0})),Se&&(fe.unsubscribe(),fe=null,ae.subscribe(Te))})}},6328:(Nt,Be,O)=>{O.d(Be,{b:()=>te});var h=O(1631),H=O(4674);function te(R,me){return(0,H.m)(me)?(0,h.z)(R,me,1):(0,h.z)(R,1)}},3620:(Nt,Be,O)=>{O.d(Be,{b:()=>R});var h=O(6321),H=O(9360),te=O(8251);function R(me,Ee=h.z){return(0,H.e)((Te,fe)=>{let Se=null,ae=null,ve=null;const Oe=()=>{if(Se){Se.unsubscribe(),Se=null;const tt=ae;ae=null,fe.next(tt)}};function Ze(){const tt=ve+me,bt=Ee.now();if(bt<tt)return Se=this.schedule(void 0,tt-bt),void fe.add(Se);Oe()}Te.subscribe((0,te.x)(fe,tt=>{ae=tt,ve=Ee.now(),Se||(Se=Ee.schedule(Ze,me),fe.add(Se))},()=>{Oe(),fe.complete()},void 0,()=>{ae=Se=null}))})}},3572:(Nt,Be,O)=>{O.d(Be,{d:()=>te});var h=O(9360),H=O(8251);function te(R){return(0,h.e)((me,Ee)=>{let Te=!1;me.subscribe((0,H.x)(Ee,fe=>{Te=!0,Ee.next(fe)},()=>{Te||Ee.next(R),Ee.complete()}))})}},3997:(Nt,Be,O)=>{O.d(Be,{x:()=>R});var h=O(2737),H=O(9360),te=O(8251);function R(Ee,Te=h.y){return Ee=Ee??me,(0,H.e)((fe,Se)=>{let ae,ve=!0;fe.subscribe((0,te.x)(Se,Oe=>{const Ze=Te(Oe);(ve||!Ee(ae,Ze))&&(ve=!1,ae=Ze,Se.next(Oe))}))})}function me(Ee,Te){return Ee===Te}},2181:(Nt,Be,O)=>{O.d(Be,{h:()=>te});var h=O(9360),H=O(8251);function te(R,me){return(0,h.e)((Ee,Te)=>{let fe=0;Ee.subscribe((0,H.x)(Te,Se=>R.call(me,Se,fe++)&&Te.next(Se)))})}},4716:(Nt,Be,O)=>{O.d(Be,{x:()=>H});var h=O(9360);function H(te){return(0,h.e)((R,me)=>{try{R.subscribe(me)}finally{me.add(te)}})}},1374:(Nt,Be,O)=>{O.d(Be,{P:()=>Te});var h=O(6973),H=O(2181),te=O(8180),R=O(3572),me=O(3026),Ee=O(2737);function Te(fe,Se){const ae=arguments.length>=2;return ve=>ve.pipe(fe?(0,H.h)((Oe,Ze)=>fe(Oe,Ze,ve)):Ee.y,(0,te.q)(1),ae?(0,R.d)(Se):(0,me.T)(()=>new h.K))}},2032:(Nt,Be,O)=>{O.d(Be,{Z:()=>Te});var h=O(6973),H=O(2181),te=O(4418),R=O(3026),me=O(3572),Ee=O(2737);function Te(fe,Se){const ae=arguments.length>=2;return ve=>ve.pipe(fe?(0,H.h)((Oe,Ze)=>fe(Oe,Ze,ve)):Ee.y,(0,te.h)(1),ae?(0,me.d)(Se):(0,R.T)(()=>new h.K))}},7398:(Nt,Be,O)=>{O.d(Be,{U:()=>te});var h=O(9360),H=O(8251);function te(R,me){return(0,h.e)((Ee,Te)=>{let fe=0;Ee.subscribe((0,H.x)(Te,Se=>{Te.next(R.call(me,Se,fe++))}))})}},7537:(Nt,Be,O)=>{O.d(Be,{J:()=>te});var h=O(1631),H=O(2737);function te(R=1/0){return(0,h.z)(H.y,R)}},1631:(Nt,Be,O)=>{O.d(Be,{z:()=>fe});var h=O(7398),H=O(4829),te=O(9360),R=O(7103),me=O(8251),Te=O(4674);function fe(Se,ae,ve=1/0){return(0,Te.m)(ae)?fe((Oe,Ze)=>(0,h.U)((tt,bt)=>ae(Oe,tt,Ze,bt))((0,H.Xf)(Se(Oe,Ze))),ve):("number"==typeof ae&&(ve=ae),(0,te.e)((Oe,Ze)=>function Ee(Se,ae,ve,Oe,Ze,tt,bt,it){const lt=[];let pt=0,Pt=0,_t=!1;const ge=()=>{_t&&!lt.length&&!pt&&ae.complete()},Le=Xe=>pt<Oe?Me(Xe):lt.push(Xe),Me=Xe=>{tt&&ae.next(Xe),pt++;let ct=!1;(0,H.Xf)(ve(Xe,Pt++)).subscribe((0,me.x)(ae,Fe=>{Ze?.(Fe),tt?Le(Fe):ae.next(Fe)},()=>{ct=!0},void 0,()=>{if(ct)try{for(pt--;lt.length&&pt<Oe;){const Fe=lt.shift();bt?(0,R.f)(ae,bt,()=>Me(Fe)):Me(Fe)}ge()}catch(Fe){ae.error(Fe)}}))};return Se.subscribe((0,me.x)(ae,Le,()=>{_t=!0,ge()})),()=>{it?.()}}(Oe,Ze,Se,ve)))}},3093:(Nt,Be,O)=>{O.d(Be,{Q:()=>R});var h=O(7103),H=O(9360),te=O(8251);function R(me,Ee=0){return(0,H.e)((Te,fe)=>{Te.subscribe((0,te.x)(fe,Se=>(0,h.f)(fe,me,()=>fe.next(Se),Ee),()=>(0,h.f)(fe,me,()=>fe.complete(),Ee),Se=>(0,h.f)(fe,me,()=>fe.error(Se),Ee)))})}},6699:(Nt,Be,O)=>{O.d(Be,{R:()=>R});var h=O(9360),H=O(8251);function R(me,Ee){return(0,h.e)(function te(me,Ee,Te,fe,Se){return(ae,ve)=>{let Oe=Te,Ze=Ee,tt=0;ae.subscribe((0,H.x)(ve,bt=>{const it=tt++;Ze=Oe?me(Ze,bt,it):(Oe=!0,bt),fe&&ve.next(Ze)},Se&&(()=>{Oe&&ve.next(Ze),ve.complete()})))}}(me,Ee,arguments.length>=2,!0))}},3020:(Nt,Be,O)=>{O.d(Be,{B:()=>me});var h=O(4829),H=O(8645),te=O(305),R=O(9360);function me(Te={}){const{connector:fe=(()=>new H.x),resetOnError:Se=!0,resetOnComplete:ae=!0,resetOnRefCountZero:ve=!0}=Te;return Oe=>{let Ze,tt,bt,it=0,lt=!1,pt=!1;const Pt=()=>{tt?.unsubscribe(),tt=void 0},_t=()=>{Pt(),Ze=bt=void 0,lt=pt=!1},ge=()=>{const Le=Ze;_t(),Le?.unsubscribe()};return(0,R.e)((Le,Me)=>{it++,!pt&&!lt&&Pt();const Xe=bt=bt??fe();Me.add(()=>{it--,0===it&&!pt&&!lt&&(tt=Ee(ge,ve))}),Xe.subscribe(Me),!Ze&&it>0&&(Ze=new te.Hp({next:ct=>Xe.next(ct),error:ct=>{pt=!0,Pt(),tt=Ee(_t,Se,ct),Xe.error(ct)},complete:()=>{lt=!0,Pt(),tt=Ee(_t,ae),Xe.complete()}}),(0,h.Xf)(Le).subscribe(Ze))})(Oe)}}function Ee(Te,fe,...Se){if(!0===fe)return void Te();if(!1===fe)return;const ae=new te.Hp({next:()=>{ae.unsubscribe(),Te()}});return(0,h.Xf)(fe(...Se)).subscribe(ae)}},836:(Nt,Be,O)=>{O.d(Be,{T:()=>H});var h=O(2181);function H(te){return(0,h.h)((R,me)=>te<=me)}},7921:(Nt,Be,O)=>{O.d(Be,{O:()=>R});var h=O(5211),H=O(9940),te=O(9360);function R(...me){const Ee=(0,H.yG)(me);return(0,te.e)((Te,fe)=>{(Ee?(0,h.z)(me,Te,Ee):(0,h.z)(me,Te)).subscribe(fe)})}},5137:(Nt,Be,O)=>{O.d(Be,{R:()=>H});var h=O(9360);function H(te,R=0){return(0,h.e)((me,Ee)=>{Ee.add(te.schedule(()=>me.subscribe(Ee),R))})}},4664:(Nt,Be,O)=>{O.d(Be,{w:()=>R});var h=O(4829),H=O(9360),te=O(8251);function R(me,Ee){return(0,H.e)((Te,fe)=>{let Se=null,ae=0,ve=!1;const Oe=()=>ve&&!Se&&fe.complete();Te.subscribe((0,te.x)(fe,Ze=>{Se?.unsubscribe();let tt=0;const bt=ae++;(0,h.Xf)(me(Ze,bt)).subscribe(Se=(0,te.x)(fe,it=>fe.next(Ee?Ee(Ze,it,bt,tt++):it),()=>{Se=null,Oe()}))},()=>{ve=!0,Oe()}))})}},8180:(Nt,Be,O)=>{O.d(Be,{q:()=>R});var h=O(6232),H=O(9360),te=O(8251);function R(me){return me<=0?()=>h.E:(0,H.e)((Ee,Te)=>{let fe=0;Ee.subscribe((0,te.x)(Te,Se=>{++fe<=me&&(Te.next(Se),me<=fe&&Te.complete())}))})}},4418:(Nt,Be,O)=>{O.d(Be,{h:()=>R});var h=O(6232),H=O(9360),te=O(8251);function R(me){return me<=0?()=>h.E:(0,H.e)((Ee,Te)=>{let fe=[];Ee.subscribe((0,te.x)(Te,Se=>{fe.push(Se),me<fe.length&&fe.shift()},()=>{for(const Se of fe)Te.next(Se);Te.complete()},void 0,()=>{fe=null}))})}},9773:(Nt,Be,O)=>{O.d(Be,{R:()=>me});var h=O(9360),H=O(8251),te=O(4829),R=O(2420);function me(Ee){return(0,h.e)((Te,fe)=>{(0,te.Xf)(Ee).subscribe((0,H.x)(fe,()=>fe.complete(),R.Z)),!fe.closed&&Te.subscribe(fe)})}},9397:(Nt,Be,O)=>{O.d(Be,{b:()=>me});var h=O(4674),H=O(9360),te=O(8251),R=O(2737);function me(Ee,Te,fe){const Se=(0,h.m)(Ee)||Te||fe?{next:Ee,error:Te,complete:fe}:Ee;return Se?(0,H.e)((ae,ve)=>{var Oe;null===(Oe=Se.subscribe)||void 0===Oe||Oe.call(Se);let Ze=!0;ae.subscribe((0,te.x)(ve,tt=>{var bt;null===(bt=Se.next)||void 0===bt||bt.call(Se,tt),ve.next(tt)},()=>{var tt;Ze=!1,null===(tt=Se.complete)||void 0===tt||tt.call(Se),ve.complete()},tt=>{var bt;Ze=!1,null===(bt=Se.error)||void 0===bt||bt.call(Se,tt),ve.error(tt)},()=>{var tt,bt;Ze&&(null===(tt=Se.unsubscribe)||void 0===tt||tt.call(Se)),null===(bt=Se.finalize)||void 0===bt||bt.call(Se)}))}):R.y}},3026:(Nt,Be,O)=>{O.d(Be,{T:()=>R});var h=O(6973),H=O(9360),te=O(8251);function R(Ee=me){return(0,H.e)((Te,fe)=>{let Se=!1;Te.subscribe((0,te.x)(fe,ae=>{Se=!0,fe.next(ae)},()=>Se?fe.complete():fe.error(Ee())))})}function me(){return new h.K}},1954:(Nt,Be,O)=>{O.d(Be,{o:()=>me});var h=O(7394);class H extends h.w0{constructor(Te,fe){super()}schedule(Te,fe=0){return this}}const te={setInterval(Ee,Te,...fe){const{delegate:Se}=te;return Se?.setInterval?Se.setInterval(Ee,Te,...fe):setInterval(Ee,Te,...fe)},clearInterval(Ee){const{delegate:Te}=te;return(Te?.clearInterval||clearInterval)(Ee)},delegate:void 0};var R=O(9039);class me extends H{constructor(Te,fe){super(Te,fe),this.scheduler=Te,this.work=fe,this.pending=!1}schedule(Te,fe=0){var Se;if(this.closed)return this;this.state=Te;const ae=this.id,ve=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(ve,ae,fe)),this.pending=!0,this.delay=fe,this.id=null!==(Se=this.id)&&void 0!==Se?Se:this.requestAsyncId(ve,this.id,fe),this}requestAsyncId(Te,fe,Se=0){return te.setInterval(Te.flush.bind(Te,this),Se)}recycleAsyncId(Te,fe,Se=0){if(null!=Se&&this.delay===Se&&!1===this.pending)return fe;null!=fe&&te.clearInterval(fe)}execute(Te,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Se=this._execute(Te,fe);if(Se)return Se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,fe){let ae,Se=!1;try{this.work(Te)}catch(ve){Se=!0,ae=ve||new Error("Scheduled action threw falsy error")}if(Se)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:Te,scheduler:fe}=this,{actions:Se}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,R.P)(Se,this),null!=Te&&(this.id=this.recycleAsyncId(fe,Te,null)),this.delay=null,super.unsubscribe()}}}},2631:(Nt,Be,O)=>{O.d(Be,{v:()=>te});var h=O(4552);class H{constructor(me,Ee=H.now){this.schedulerActionCtor=me,this.now=Ee}schedule(me,Ee=0,Te){return new this.schedulerActionCtor(this,me).schedule(Te,Ee)}}H.now=h.l.now;class te extends H{constructor(me,Ee=H.now){super(me,Ee),this.actions=[],this._active=!1}flush(me){const{actions:Ee}=this;if(this._active)return void Ee.push(me);let Te;this._active=!0;do{if(Te=me.execute(me.state,me.delay))break}while(me=Ee.shift());if(this._active=!1,Te){for(;me=Ee.shift();)me.unsubscribe();throw Te}}}},6321:(Nt,Be,O)=>{O.d(Be,{P:()=>R,z:()=>te});var h=O(1954);const te=new(O(2631).v)(h.o),R=te},4552:(Nt,Be,O)=>{O.d(Be,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},7599:(Nt,Be,O)=>{O.d(Be,{z:()=>h});const h={setTimeout(H,te,...R){const{delegate:me}=h;return me?.setTimeout?me.setTimeout(H,te,...R):setTimeout(H,te,...R)},clearTimeout(H){const{delegate:te}=h;return(te?.clearTimeout||clearTimeout)(H)},delegate:void 0}},4971:(Nt,Be,O)=>{O.d(Be,{h:()=>H});const H=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Nt,Be,O)=>{O.d(Be,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Nt,Be,O)=>{O.d(Be,{K:()=>H});const H=(0,O(2306).d)(te=>function(){te(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Nt,Be,O)=>{O.d(Be,{_6:()=>Ee,jO:()=>R,yG:()=>me});var h=O(4674),H=O(671);function te(Te){return Te[Te.length-1]}function R(Te){return(0,h.m)(te(Te))?Te.pop():void 0}function me(Te){return(0,H.K)(te(Te))?Te.pop():void 0}function Ee(Te,fe){return"number"==typeof te(Te)?Te.pop():fe}},7453:(Nt,Be,O)=>{O.d(Be,{D:()=>me});const{isArray:h}=Array,{getPrototypeOf:H,prototype:te,keys:R}=Object;function me(Te){if(1===Te.length){const fe=Te[0];if(h(fe))return{args:fe,keys:null};if(function Ee(Te){return Te&&"object"==typeof Te&&H(Te)===te}(fe)){const Se=R(fe);return{args:Se.map(ae=>fe[ae]),keys:Se}}}return{args:Te,keys:null}}},9039:(Nt,Be,O)=>{function h(H,te){if(H){const R=H.indexOf(te);0<=R&&H.splice(R,1)}}O.d(Be,{P:()=>h})},2306:(Nt,Be,O)=>{function h(H){const R=H(me=>{Error.call(me),me.stack=(new Error).stack});return R.prototype=Object.create(Error.prototype),R.prototype.constructor=R,R}O.d(Be,{d:()=>h})},2714:(Nt,Be,O)=>{function h(H,te){return H.reduce((R,me,Ee)=>(R[me]=te[Ee],R),{})}O.d(Be,{n:()=>h})},1441:(Nt,Be,O)=>{O.d(Be,{O:()=>R,x:()=>te});var h=O(2653);let H=null;function te(me){if(h.config.useDeprecatedSynchronousErrorHandling){const Ee=!H;if(Ee&&(H={errorThrown:!1,error:null}),me(),Ee){const{errorThrown:Te,error:fe}=H;if(H=null,Te)throw fe}}else me()}function R(me){h.config.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=me)}},7103:(Nt,Be,O)=>{function h(H,te,R,me=0,Ee=!1){const Te=te.schedule(function(){R(),Ee?H.add(this.schedule(null,me)):this.unsubscribe()},me);if(H.add(Te),!Ee)return Te}O.d(Be,{f:()=>h})},2737:(Nt,Be,O)=>{function h(H){return H}O.d(Be,{y:()=>h})},4266:(Nt,Be,O)=>{O.d(Be,{z:()=>h});const h=H=>H&&"number"==typeof H.length&&"function"!=typeof H},5726:(Nt,Be,O)=>{O.d(Be,{D:()=>H});var h=O(4674);function H(te){return Symbol.asyncIterator&&(0,h.m)(te?.[Symbol.asyncIterator])}},4674:(Nt,Be,O)=>{function h(H){return"function"==typeof H}O.d(Be,{m:()=>h})},8382:(Nt,Be,O)=>{O.d(Be,{c:()=>te});var h=O(4850),H=O(4674);function te(R){return(0,H.m)(R[h.L])}},3664:(Nt,Be,O)=>{O.d(Be,{T:()=>te});var h=O(4971),H=O(4674);function te(R){return(0,H.m)(R?.[h.h])}},4026:(Nt,Be,O)=>{O.d(Be,{t:()=>H});var h=O(4674);function H(te){return(0,h.m)(te?.then)}},541:(Nt,Be,O)=>{O.d(Be,{L:()=>R,Q:()=>te});var h=O(7582),H=O(4674);function te(me){return(0,h.FC)(this,arguments,function*(){const Te=me.getReader();try{for(;;){const{value:fe,done:Se}=yield(0,h.qq)(Te.read());if(Se)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(fe)}}finally{Te.releaseLock()}})}function R(me){return(0,H.m)(me?.getReader)}},671:(Nt,Be,O)=>{O.d(Be,{K:()=>H});var h=O(4674);function H(te){return te&&(0,h.m)(te.schedule)}},9360:(Nt,Be,O)=>{O.d(Be,{A:()=>H,e:()=>te});var h=O(4674);function H(R){return(0,h.m)(R?.lift)}function te(R){return me=>{if(H(me))return me.lift(function(Ee){try{return R(Ee,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Nt,Be,O)=>{O.d(Be,{Z:()=>R});var h=O(7398);const{isArray:H}=Array;function R(me){return(0,h.U)(Ee=>function te(me,Ee){return H(Ee)?me(...Ee):me(Ee)}(me,Ee))}},2420:(Nt,Be,O)=>{function h(){}O.d(Be,{Z:()=>h})},8407:(Nt,Be,O)=>{O.d(Be,{U:()=>te,z:()=>H});var h=O(2737);function H(...R){return te(R)}function te(R){return 0===R.length?h.y:1===R.length?R[0]:function(Ee){return R.reduce((Te,fe)=>fe(Te),Ee)}}},3894:(Nt,Be,O)=>{O.d(Be,{h:()=>te});var h=O(2653),H=O(7599);function te(R){H.z.setTimeout(()=>{const{onUnhandledError:me}=h.config;if(!me)throw R;me(R)})}},9853:(Nt,Be,O)=>{function h(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Be,{z:()=>h})},6825:(Nt,Be,O)=>{O.d(Be,{LC:()=>H,SB:()=>Se,X$:()=>R,ZE:()=>pt,ZN:()=>lt,_j:()=>h,eR:()=>ve,jt:()=>me,k1:()=>Pt,l3:()=>te,oB:()=>fe,vP:()=>Te});class h{}class H{}const te="*";function R(_t,ge){return{type:7,name:_t,definitions:ge,options:{}}}function me(_t,ge=null){return{type:4,styles:ge,timings:_t}}function Te(_t,ge=null){return{type:2,steps:_t,options:ge}}function fe(_t){return{type:6,styles:_t,offset:null}}function Se(_t,ge,Le){return{type:0,name:_t,styles:ge,options:Le}}function ve(_t,ge,Le=null){return{type:1,expr:_t,animation:ge,options:Le}}class lt{constructor(ge=0,Le=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ge+Le}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ge=>ge()),this._onDoneFns=[])}onStart(ge){this._originalOnStartFns.push(ge),this._onStartFns.push(ge)}onDone(ge){this._originalOnDoneFns.push(ge),this._onDoneFns.push(ge)}onDestroy(ge){this._onDestroyFns.push(ge)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ge=>ge()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ge=>ge()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ge){this._position=this.totalTime?ge*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ge){const Le="start"==ge?this._onStartFns:this._onDoneFns;Le.forEach(Me=>Me()),Le.length=0}}class pt{constructor(ge){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ge;let Le=0,Me=0,Xe=0;const ct=this.players.length;0==ct?queueMicrotask(()=>this._onFinish()):this.players.forEach(Fe=>{Fe.onDone(()=>{++Le==ct&&this._onFinish()}),Fe.onDestroy(()=>{++Me==ct&&this._onDestroy()}),Fe.onStart(()=>{++Xe==ct&&this._onStart()})}),this.totalTime=this.players.reduce((Fe,Wt)=>Math.max(Fe,Wt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ge=>ge()),this._onDoneFns=[])}init(){this.players.forEach(ge=>ge.init())}onStart(ge){this._onStartFns.push(ge)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ge=>ge()),this._onStartFns=[])}onDone(ge){this._onDoneFns.push(ge)}onDestroy(ge){this._onDestroyFns.push(ge)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ge=>ge.play())}pause(){this.players.forEach(ge=>ge.pause())}restart(){this.players.forEach(ge=>ge.restart())}finish(){this._onFinish(),this.players.forEach(ge=>ge.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ge=>ge.destroy()),this._onDestroyFns.forEach(ge=>ge()),this._onDestroyFns=[])}reset(){this.players.forEach(ge=>ge.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ge){const Le=ge*this.totalTime;this.players.forEach(Me=>{const Xe=Me.totalTime?Math.min(1,Le/Me.totalTime):1;Me.setPosition(Xe)})}getPosition(){const ge=this.players.reduce((Le,Me)=>null===Le||Me.totalTime>Le.totalTime?Me:Le,null);return null!=ge?ge.getPosition():0}beforeDestroy(){this.players.forEach(ge=>{ge.beforeDestroy&&ge.beforeDestroy()})}triggerCallback(ge){const Le="start"==ge?this._onStartFns:this._onDoneFns;Le.forEach(Me=>Me()),Le.length=0}}const Pt="!"},2012:(Nt,Be,O)=>{O.d(Be,{tE:()=>Ws,qm:()=>mi,Kd:()=>Fr,X6:()=>Ne,yG:()=>ft});var h=O(6814),H=O(5879),te=O(2831),R=O(5619),me=O(8645),Ee=O(2096),_s=O(836),Ps=O(3997),vs=O(9773),cs=O(2495),Or=O(1088);function Ne(Et){return 0===Et.buttons||0===Et.offsetX&&0===Et.offsetY}function ft(Et){const Ge=Et.touches&&Et.touches[0]||Et.changedTouches&&Et.changedTouches[0];return!(!Ge||-1!==Ge.identifier||null!=Ge.radiusX&&1!==Ge.radiusX||null!=Ge.radiusY&&1!==Ge.radiusY)}const kt=new H.OlP("cdk-input-modality-detector-options"),Xt={ignoreKeys:[18,17,224,91,16]},kn=(0,te.i$)({passive:!0,capture:!0});let di=(()=>{class Et{get mostRecentModality(){return this._modality.value}constructor(Ve,Ke,yt,cn){this._platform=Ve,this._mostRecentTarget=null,this._modality=new R.X(null),this._lastTouchMs=0,this._onKeydown=Zn=>{this._options?.ignoreKeys?.some(Zr=>Zr===Zn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,te.sA)(Zn))},this._onMousedown=Zn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ne(Zn)?"keyboard":"mouse"),this._mostRecentTarget=(0,te.sA)(Zn))},this._onTouchstart=Zn=>{ft(Zn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,te.sA)(Zn))},this._options={...Xt,...cn},this.modalityDetected=this._modality.pipe((0,_s.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Ps.x)()),Ve.isBrowser&&Ke.runOutsideAngular(()=>{yt.addEventListener("keydown",this._onKeydown,kn),yt.addEventListener("mousedown",this._onMousedown,kn),yt.addEventListener("touchstart",this._onTouchstart,kn)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,kn),document.removeEventListener("mousedown",this._onMousedown,kn),document.removeEventListener("touchstart",this._onTouchstart,kn))}static#e=this.\u0275fac=function(Ke){return new(Ke||Et)(H.LFG(te.t4),H.LFG(H.R0b),H.LFG(h.K0),H.LFG(kt,8))};static#t=this.\u0275prov=H.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"})}return Et})();const cr=new H.OlP("liveAnnouncerElement",{providedIn:"root",factory:function yr(){return null}}),Sr=new H.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Sn=0,Fr=(()=>{class Et{constructor(Ve,Ke,yt,cn){this._ngZone=Ke,this._defaultOptions=cn,this._document=yt,this._liveElement=Ve||this._createLiveElement()}announce(Ve,...Ke){const yt=this._defaultOptions;let cn,Zn;return 1===Ke.length&&"number"==typeof Ke[0]?Zn=Ke[0]:[cn,Zn]=Ke,this.clear(),clearTimeout(this._previousTimeout),cn||(cn=yt&&yt.politeness?yt.politeness:"polite"),null==Zn&&yt&&(Zn=yt.duration),this._liveElement.setAttribute("aria-live",cn),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Zr=>this._currentResolve=Zr)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Ve,"number"==typeof Zn&&(this._previousTimeout=setTimeout(()=>this.clear(),Zn)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Ve="cdk-live-announcer-element",Ke=this._document.getElementsByClassName(Ve),yt=this._document.createElement("div");for(let cn=0;cn<Ke.length;cn++)Ke[cn].remove();return yt.classList.add(Ve),yt.classList.add("cdk-visually-hidden"),yt.setAttribute("aria-atomic","true"),yt.setAttribute("aria-live","polite"),yt.id="cdk-live-announcer-"+Sn++,this._document.body.appendChild(yt),yt}_exposeAnnouncerToModals(Ve){const Ke=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let yt=0;yt<Ke.length;yt++){const cn=Ke[yt],Zn=cn.getAttribute("aria-owns");Zn?-1===Zn.indexOf(Ve)&&cn.setAttribute("aria-owns",Zn+" "+Ve):cn.setAttribute("aria-owns",Ve)}}static#e=this.\u0275fac=function(Ke){return new(Ke||Et)(H.LFG(cr,8),H.LFG(H.R0b),H.LFG(h.K0),H.LFG(Sr,8))};static#t=this.\u0275prov=H.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"})}return Et})();const bo=new H.OlP("cdk-focus-monitor-default-options"),Gr=(0,te.i$)({passive:!0,capture:!0});let Ws=(()=>{class Et{constructor(Ve,Ke,yt,cn,Zn){this._ngZone=Ve,this._platform=Ke,this._inputModalityDetector=yt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new me.x,this._rootNodeFocusAndBlurListener=Zr=>{for(let Y=(0,te.sA)(Zr);Y;Y=Y.parentElement)"focus"===Zr.type?this._onFocus(Zr,Y):this._onBlur(Zr,Y)},this._document=cn,this._detectionMode=Zn?.detectionMode||0}monitor(Ve,Ke=!1){const yt=(0,cs.fI)(Ve);if(!this._platform.isBrowser||1!==yt.nodeType)return(0,Ee.of)();const cn=(0,te.kV)(yt)||this._getDocument(),Zn=this._elementInfo.get(yt);if(Zn)return Ke&&(Zn.checkChildren=!0),Zn.subject;const Zr={checkChildren:Ke,subject:new me.x,rootNode:cn};return this._elementInfo.set(yt,Zr),this._registerGlobalListeners(Zr),Zr.subject}stopMonitoring(Ve){const Ke=(0,cs.fI)(Ve),yt=this._elementInfo.get(Ke);yt&&(yt.subject.complete(),this._setClasses(Ke),this._elementInfo.delete(Ke),this._removeGlobalListeners(yt))}focusVia(Ve,Ke,yt){const cn=(0,cs.fI)(Ve);cn===this._getDocument().activeElement?this._getClosestElementsInfo(cn).forEach(([Zr,Ro])=>this._originChanged(Zr,Ke,Ro)):(this._setOrigin(Ke),"function"==typeof cn.focus&&cn.focus(yt))}ngOnDestroy(){this._elementInfo.forEach((Ve,Ke)=>this.stopMonitoring(Ke))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Ve){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ve)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Ve&&this._isLastInteractionFromInputLabel(Ve)?"mouse":"program"}_shouldBeAttributedToTouch(Ve){return 1===this._detectionMode||!!Ve?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Ve,Ke){Ve.classList.toggle("cdk-focused",!!Ke),Ve.classList.toggle("cdk-touch-focused","touch"===Ke),Ve.classList.toggle("cdk-keyboard-focused","keyboard"===Ke),Ve.classList.toggle("cdk-mouse-focused","mouse"===Ke),Ve.classList.toggle("cdk-program-focused","program"===Ke)}_setOrigin(Ve,Ke=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ve,this._originFromTouchInteraction="touch"===Ve&&Ke,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ve,Ke){const yt=this._elementInfo.get(Ke),cn=(0,te.sA)(Ve);!yt||!yt.checkChildren&&Ke!==cn||this._originChanged(Ke,this._getFocusOrigin(cn),yt)}_onBlur(Ve,Ke){const yt=this._elementInfo.get(Ke);!yt||yt.checkChildren&&Ve.relatedTarget instanceof Node&&Ke.contains(Ve.relatedTarget)||(this._setClasses(Ke),this._emitOrigin(yt,null))}_emitOrigin(Ve,Ke){Ve.subject.observers.length&&this._ngZone.run(()=>Ve.subject.next(Ke))}_registerGlobalListeners(Ve){if(!this._platform.isBrowser)return;const Ke=Ve.rootNode,yt=this._rootNodeFocusListenerCount.get(Ke)||0;yt||this._ngZone.runOutsideAngular(()=>{Ke.addEventListener("focus",this._rootNodeFocusAndBlurListener,Gr),Ke.addEventListener("blur",this._rootNodeFocusAndBlurListener,Gr)}),this._rootNodeFocusListenerCount.set(Ke,yt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,vs.R)(this._stopInputModalityDetector)).subscribe(cn=>{this._setOrigin(cn,!0)}))}_removeGlobalListeners(Ve){const Ke=Ve.rootNode;if(this._rootNodeFocusListenerCount.has(Ke)){const yt=this._rootNodeFocusListenerCount.get(Ke);yt>1?this._rootNodeFocusListenerCount.set(Ke,yt-1):(Ke.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Gr),Ke.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Gr),this._rootNodeFocusListenerCount.delete(Ke))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ve,Ke,yt){this._setClasses(Ve,Ke),this._emitOrigin(yt,Ke),this._lastFocusOrigin=Ke}_getClosestElementsInfo(Ve){const Ke=[];return this._elementInfo.forEach((yt,cn)=>{(cn===Ve||yt.checkChildren&&cn.contains(Ve))&&Ke.push([cn,yt])}),Ke}_isLastInteractionFromInputLabel(Ve){const{_mostRecentTarget:Ke,mostRecentModality:yt}=this._inputModalityDetector;if("mouse"!==yt||!Ke||Ke===Ve||"INPUT"!==Ve.nodeName&&"TEXTAREA"!==Ve.nodeName||Ve.disabled)return!1;const cn=Ve.labels;if(cn)for(let Zn=0;Zn<cn.length;Zn++)if(cn[Zn].contains(Ke))return!0;return!1}static#e=this.\u0275fac=function(Ke){return new(Ke||Et)(H.LFG(H.R0b),H.LFG(te.t4),H.LFG(di),H.LFG(h.K0,8),H.LFG(bo,8))};static#t=this.\u0275prov=H.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"})}return Et})();const no="cdk-high-contrast-black-on-white",mr="cdk-high-contrast-white-on-black",Es="cdk-high-contrast-active";let mi=(()=>{class Et{constructor(Ve,Ke){this._platform=Ve,this._document=Ke,this._breakpointSubscription=(0,H.f3M)(Or.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Ve=this._document.createElement("div");Ve.style.backgroundColor="rgb(1,2,3)",Ve.style.position="absolute",this._document.body.appendChild(Ve);const Ke=this._document.defaultView||window,yt=Ke&&Ke.getComputedStyle?Ke.getComputedStyle(Ve):null,cn=(yt&&yt.backgroundColor||"").replace(/ /g,"");switch(Ve.remove(),cn){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ve=this._document.body.classList;Ve.remove(Es,no,mr),this._hasCheckedHighContrastMode=!0;const Ke=this.getHighContrastMode();1===Ke?Ve.add(Es,no):2===Ke&&Ve.add(Es,mr)}}static#e=this.\u0275fac=function(Ke){return new(Ke||Et)(H.LFG(te.t4),H.LFG(h.K0))};static#t=this.\u0275prov=H.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"})}return Et})()},9388:(Nt,Be,O)=>{O.d(Be,{Is:()=>Te,vT:()=>Se});var h=O(5879),H=O(6814);const te=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function R(){return(0,h.f3M)(H.K0)}}),me=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Te=(()=>{class ae{constructor(Oe){this.value="ltr",this.change=new h.vpe,Oe&&(this.value=function Ee(ae){const ve=ae?.toLowerCase()||"";return"auto"===ve&&typeof navigator<"u"&&navigator?.language?me.test(navigator.language)?"rtl":"ltr":"rtl"===ve?"rtl":"ltr"}((Oe.body?Oe.body.dir:null)||(Oe.documentElement?Oe.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(Ze){return new(Ze||ae)(h.LFG(te,8))};static#t=this.\u0275prov=h.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})(),Se=(()=>{class ae{static#e=this.\u0275fac=function(Ze){return new(Ze||ae)};static#t=this.\u0275mod=h.oAB({type:ae});static#n=this.\u0275inj=h.cJS({})}return ae})()},2495:(Nt,Be,O)=>{O.d(Be,{Eq:()=>me,HM:()=>Ee,Ig:()=>H,fI:()=>Te});var h=O(5879);function H(Se){return null!=Se&&"false"!=`${Se}`}function me(Se){return Array.isArray(Se)?Se:[Se]}function Ee(Se){return null==Se?"":"string"==typeof Se?Se:`${Se}px`}function Te(Se){return Se instanceof h.SBq?Se.nativeElement:Se}},1088:(Nt,Be,O)=>{O.d(Be,{Yg:()=>_t,u3:()=>Le});var h=O(5879),H=O(2495),te=O(8645),R=O(2572),me=O(5211),Ee=O(5592),Te=O(8180),fe=O(836),Se=O(3620),ae=O(7398),ve=O(7921),Oe=O(9773),Ze=O(2831);const bt=new Set;let it,lt=(()=>{class Me{constructor(ct,Fe){this._platform=ct,this._nonce=Fe,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Pt}matchMedia(ct){return(this._platform.WEBKIT||this._platform.BLINK)&&function pt(Me,Xe){if(!bt.has(Me))try{it||(it=document.createElement("style"),Xe&&(it.nonce=Xe),it.setAttribute("type","text/css"),document.head.appendChild(it)),it.sheet&&(it.sheet.insertRule(`@media ${Me} {body{ }}`,0),bt.add(Me))}catch(ct){console.error(ct)}}(ct,this._nonce),this._matchMedia(ct)}static#e=this.\u0275fac=function(Fe){return new(Fe||Me)(h.LFG(Ze.t4),h.LFG(h.Ojb,8))};static#t=this.\u0275prov=h.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})();function Pt(Me){return{matches:"all"===Me||""===Me,media:Me,addListener:()=>{},removeListener:()=>{}}}let _t=(()=>{class Me{constructor(ct,Fe){this._mediaMatcher=ct,this._zone=Fe,this._queries=new Map,this._destroySubject=new te.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ct){return ge((0,H.Eq)(ct)).some(Wt=>this._registerQuery(Wt).mql.matches)}observe(ct){const Wt=ge((0,H.Eq)(ct)).map(dn=>this._registerQuery(dn).observable);let Ut=(0,R.a)(Wt);return Ut=(0,me.z)(Ut.pipe((0,Te.q)(1)),Ut.pipe((0,fe.T)(1),(0,Se.b)(0))),Ut.pipe((0,ae.U)(dn=>{const an={matches:!1,breakpoints:{}};return dn.forEach(({matches:jt,query:bi})=>{an.matches=an.matches||jt,an.breakpoints[bi]=jt}),an}))}_registerQuery(ct){if(this._queries.has(ct))return this._queries.get(ct);const Fe=this._mediaMatcher.matchMedia(ct),Ut={observable:new Ee.y(dn=>{const an=jt=>this._zone.run(()=>dn.next(jt));return Fe.addListener(an),()=>{Fe.removeListener(an)}}).pipe((0,ve.O)(Fe),(0,ae.U)(({matches:dn})=>({query:ct,matches:dn})),(0,Oe.R)(this._destroySubject)),mql:Fe};return this._queries.set(ct,Ut),Ut}static#e=this.\u0275fac=function(Fe){return new(Fe||Me)(h.LFG(lt),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})();function ge(Me){return Me.map(Xe=>Xe.split(",")).reduce((Xe,ct)=>Xe.concat(ct)).map(Xe=>Xe.trim())}const Le={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},2831:(Nt,Be,O)=>{O.d(Be,{Mq:()=>tt,Oy:()=>ge,i$:()=>ve,kV:()=>pt,sA:()=>_t,t4:()=>R});var h=O(5879),H=O(6814);let te;try{te=typeof Intl<"u"&&Intl.v8BreakIterator}catch{te=!1}let Se,Ze,it,R=(()=>{class Le{constructor(Xe){this._platformId=Xe,this.isBrowser=this._platformId?(0,H.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!te)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(ct){return new(ct||Le)(h.LFG(h.Lbi))};static#t=this.\u0275prov=h.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})();function ve(Le){return function ae(){if(null==Se&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Se=!0}))}finally{Se=Se||!1}return Se}()?Le:!!Le.capture}function tt(){if(null==Ze){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ze=!1,Ze;if("scrollBehavior"in document.documentElement.style)Ze=!0;else{const Le=Element.prototype.scrollTo;Ze=!!Le&&!/\{\s*\[native code\]\s*\}/.test(Le.toString())}}return Ze}function pt(Le){if(function lt(){if(null==it){const Le=typeof document<"u"?document.head:null;it=!(!Le||!Le.createShadowRoot&&!Le.attachShadow)}return it}()){const Me=Le.getRootNode?Le.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Me instanceof ShadowRoot)return Me}return null}function _t(Le){return Le.composedPath?Le.composedPath()[0]:Le.target}function ge(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6814:(Nt,Be,O)=>{O.d(Be,{Do:()=>it,EM:()=>kt,HT:()=>R,JF:()=>di,K0:()=>Ee,Mx:()=>Ti,NF:()=>$,O5:()=>Kr,PM:()=>J,S$:()=>Ze,V_:()=>fe,Ye:()=>lt,b0:()=>bt,bD:()=>Oi,ez:()=>Vr,q:()=>te,sg:()=>Ai,w_:()=>me});var h=O(5879);let H=null;function te(){return H}function R(D){H||(H=D)}class me{}const Ee=new h.OlP("DocumentToken");let Te=(()=>{class D{historyGo(z){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||D)};static#t=this.\u0275prov=h.Yz7({token:D,factory:function(){return(0,h.f3M)(Se)},providedIn:"platform"})}return D})();const fe=new h.OlP("Location Initialized");let Se=(()=>{class D extends Te{constructor(){super(),this._doc=(0,h.f3M)(Ee),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(z){const X=te().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",z,!1),()=>X.removeEventListener("popstate",z)}onHashChange(z){const X=te().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",z,!1),()=>X.removeEventListener("hashchange",z)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(z){this._location.pathname=z}pushState(z,X,Re){this._history.pushState(z,X,Re)}replaceState(z,X,Re){this._history.replaceState(z,X,Re)}forward(){this._history.forward()}back(){this._history.back()}historyGo(z=0){this._history.go(z)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||D)};static#t=this.\u0275prov=h.Yz7({token:D,factory:function(){return new D},providedIn:"platform"})}return D})();function ae(D,re){if(0==D.length)return re;if(0==re.length)return D;let z=0;return D.endsWith("/")&&z++,re.startsWith("/")&&z++,2==z?D+re.substring(1):1==z?D+re:D+"/"+re}function ve(D){const re=D.match(/#|\?|$/),z=re&&re.index||D.length;return D.slice(0,z-("/"===D[z-1]?1:0))+D.slice(z)}function Oe(D){return D&&"?"!==D[0]?"?"+D:D}let Ze=(()=>{class D{historyGo(z){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||D)};static#t=this.\u0275prov=h.Yz7({token:D,factory:function(){return(0,h.f3M)(bt)},providedIn:"root"})}return D})();const tt=new h.OlP("appBaseHref");let bt=(()=>{class D extends Ze{constructor(z,X){super(),this._platformLocation=z,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}prepareExternalUrl(z){return ae(this._baseHref,z)}path(z=!1){const X=this._platformLocation.pathname+Oe(this._platformLocation.search),Re=this._platformLocation.hash;return Re&&z?`${X}${Re}`:X}pushState(z,X,Re,ht){const It=this.prepareExternalUrl(Re+Oe(ht));this._platformLocation.pushState(z,X,It)}replaceState(z,X,Re,ht){const It=this.prepareExternalUrl(Re+Oe(ht));this._platformLocation.replaceState(z,X,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}static#e=this.\u0275fac=function(X){return new(X||D)(h.LFG(Te),h.LFG(tt,8))};static#t=this.\u0275prov=h.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),it=(()=>{class D extends Ze{constructor(z,X){super(),this._platformLocation=z,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}path(z=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(z){const X=ae(this._baseHref,z);return X.length>0?"#"+X:X}pushState(z,X,Re,ht){let It=this.prepareExternalUrl(Re+Oe(ht));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.pushState(z,X,It)}replaceState(z,X,Re,ht){let It=this.prepareExternalUrl(Re+Oe(ht));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.replaceState(z,X,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}static#e=this.\u0275fac=function(X){return new(X||D)(h.LFG(Te),h.LFG(tt,8))};static#t=this.\u0275prov=h.Yz7({token:D,factory:D.\u0275fac})}return D})(),lt=(()=>{class D{constructor(z){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=z;const X=this._locationStrategy.getBaseHref();this._basePath=function ge(D){if(new RegExp("^(https?:)?//").test(D)){const[,z]=D.split(/\/\/[^\/]+/);return z}return D}(ve(_t(X))),this._locationStrategy.onPopState(Re=>{this._subject.emit({url:this.path(!0),pop:!0,state:Re.state,type:Re.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(z=!1){return this.normalize(this._locationStrategy.path(z))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(z,X=""){return this.path()==this.normalize(z+Oe(X))}normalize(z){return D.stripTrailingSlash(function Pt(D,re){if(!D||!re.startsWith(D))return re;const z=re.substring(D.length);return""===z||["/",";","?","#"].includes(z[0])?z:re}(this._basePath,_t(z)))}prepareExternalUrl(z){return z&&"/"!==z[0]&&(z="/"+z),this._locationStrategy.prepareExternalUrl(z)}go(z,X="",Re=null){this._locationStrategy.pushState(Re,"",z,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+Oe(X)),Re)}replaceState(z,X="",Re=null){this._locationStrategy.replaceState(Re,"",z,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+Oe(X)),Re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(z=0){this._locationStrategy.historyGo?.(z)}onUrlChange(z){return this._urlChangeListeners.push(z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(z);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(z="",X){this._urlChangeListeners.forEach(Re=>Re(z,X))}subscribe(z,X,Re){return this._subject.subscribe({next:z,error:X,complete:Re})}static#e=this.normalizeQueryParams=Oe;static#t=this.joinWithSlash=ae;static#n=this.stripTrailingSlash=ve;static#i=this.\u0275fac=function(X){return new(X||D)(h.LFG(Ze))};static#r=this.\u0275prov=h.Yz7({token:D,factory:function(){return function pt(){return new lt((0,h.LFG)(Ze))}()},providedIn:"root"})}return D})();function _t(D){return D.replace(/\/index.html$/,"")}function Ti(D,re){re=encodeURIComponent(re);for(const z of D.split(";")){const X=z.indexOf("="),[Re,ht]=-1==X?[z,""]:[z.slice(0,X),z.slice(X+1)];if(Re.trim()===re)return decodeURIComponent(ht)}return null}class pi{constructor(re,z,X,Re){this.$implicit=re,this.ngForOf=z,this.index=X,this.count=Re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ai=(()=>{class D{set ngForOf(z){this._ngForOf=z,this._ngForOfDirty=!0}set ngForTrackBy(z){this._trackByFn=z}get ngForTrackBy(){return this._trackByFn}constructor(z,X,Re){this._viewContainer=z,this._template=X,this._differs=Re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(z){z&&(this._template=z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const z=this._ngForOf;!this._differ&&z&&(this._differ=this._differs.find(z).create(this.ngForTrackBy))}if(this._differ){const z=this._differ.diff(this._ngForOf);z&&this._applyChanges(z)}}_applyChanges(z){const X=this._viewContainer;z.forEachOperation((Re,ht,It)=>{if(null==Re.previousIndex)X.createEmbeddedView(this._template,new pi(Re.item,this._ngForOf,-1,-1),null===It?void 0:It);else if(null==It)X.remove(null===ht?void 0:ht);else if(null!==ht){const In=X.get(ht);X.move(In,It),Vi(In,Re)}});for(let Re=0,ht=X.length;Re<ht;Re++){const In=X.get(Re).context;In.index=Re,In.count=ht,In.ngForOf=this._ngForOf}z.forEachIdentityChange(Re=>{Vi(X.get(Re.currentIndex),Re)})}static ngTemplateContextGuard(z,X){return!0}static#e=this.\u0275fac=function(X){return new(X||D)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))};static#t=this.\u0275dir=h.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return D})();function Vi(D,re){D.context.$implicit=re.item}let Kr=(()=>{class D{constructor(z,X){this._viewContainer=z,this._context=new jo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(z){this._context.$implicit=this._context.ngIf=z,this._updateView()}set ngIfThen(z){ls("ngIfThen",z),this._thenTemplateRef=z,this._thenViewRef=null,this._updateView()}set ngIfElse(z){ls("ngIfElse",z),this._elseTemplateRef=z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(z,X){return!0}static#e=this.\u0275fac=function(X){return new(X||D)(h.Y36(h.s_b),h.Y36(h.Rgc))};static#t=this.\u0275dir=h.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return D})();class jo{constructor(){this.$implicit=null,this.ngIf=null}}function ls(D,re){if(re&&!re.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,h.AaK)(re)}'.`)}let Vr=(()=>{class D{static#e=this.\u0275fac=function(X){return new(X||D)};static#t=this.\u0275mod=h.oAB({type:D});static#n=this.\u0275inj=h.cJS({})}return D})();const Oi="browser",kr="server";function $(D){return D===Oi}function J(D){return D===kr}let kt=(()=>{class D{static#e=this.\u0275prov=(0,h.Yz7)({token:D,providedIn:"root",factory:()=>new Xt((0,h.LFG)(Ee),window)})}return D})();class Xt{constructor(re,z){this.document=re,this.window=z,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const z=function yn(D,re){const z=D.getElementById(re)||D.getElementsByName(re)[0];if(z)return z;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const X=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let Re=X.currentNode;for(;Re;){const ht=Re.shadowRoot;if(ht){const It=ht.getElementById(re)||ht.querySelector(`[name="${re}"]`);if(It)return It}Re=X.nextNode()}}return null}(this.document,re);z&&(this.scrollToElement(z),z.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const z=re.getBoundingClientRect(),X=z.left+this.window.pageXOffset,Re=z.top+this.window.pageYOffset,ht=this.offset();this.window.scrollTo(X-ht[0],Re-ht[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class di{}},5879:(Nt,Be,O)=>{O.d(Be,{$8M:()=>Bs,$WT:()=>Ar,$Z:()=>Zp,AFp:()=>$u,AaK:()=>Oe,BQk:()=>mm,CHM:()=>Rl,CRH:()=>OE,EJc:()=>NT,EiD:()=>Ep,EpF:()=>yv,F$t:()=>Zy,F4k:()=>bv,FYo:()=>p_,FiY:()=>_l,Gf:()=>ME,GfV:()=>__,Gpc:()=>bt,Gre:()=>v0,HDt:()=>tI,Hsn:()=>Yy,JOm:()=>gc,JVY:()=>_p,JZr:()=>_t,KtG:()=>xo,L6k:()=>lu,LAX:()=>Fa,LFG:()=>St,Lbi:()=>gh,Lck:()=>gx,MMx:()=>sE,NdJ:()=>Hg,Ojb:()=>Bm,OlP:()=>Qt,Oqu:()=>tb,P3R:()=>qe,PXZ:()=>cC,Q6J:()=>kg,QGY:()=>jg,QbO:()=>xp,Qsj:()=>Kv,R0b:()=>gs,RDi:()=>au,Rgc:()=>t_,SBq:()=>Tc,Sil:()=>LT,Suo:()=>PE,TTD:()=>On,TgZ:()=>Lg,VuI:()=>GC,WFA:()=>zg,X6Q:()=>_C,XFs:()=>ln,Xpm:()=>fo,Xq5:()=>ov,Xts:()=>wn,Y36:()=>Cd,YKP:()=>rE,YNc:()=>gv,Yjl:()=>So,Yz7:()=>Dn,Z0I:()=>Bn,ZZ4:()=>Fb,_Bn:()=>iE,_UZ:()=>vv,_Vd:()=>Gu,_c5:()=>OC,_uU:()=>l0,aQg:()=>Lb,c2e:()=>eI,cJS:()=>Ln,cg1:()=>ib,d8E:()=>nb,dDg:()=>oC,dqk:()=>Pn,eBb:()=>Hu,eFA:()=>dI,eJc:()=>bb,ekj:()=>Jy,eoX:()=>aI,f3M:()=>Ht,g9A:()=>Ip,h0i:()=>Kf,hGG:()=>NC,hij:()=>wv,iGM:()=>RE,ifc:()=>Ot,ip1:()=>JE,jDz:()=>aE,kL8:()=>S0,lG2:()=>vo,lqb:()=>_i,lri:()=>oI,mCW:()=>uh,n5z:()=>Su,oAB:()=>pr,oxw:()=>Ky,pB0:()=>lh,q3G:()=>_,q4F:()=>Pp,qFp:()=>qC,qLn:()=>Wu,qOj:()=>Sc,qZA:()=>Vg,qzn:()=>pa,rWj:()=>sI,rg0:()=>ht,sBO:()=>vC,s_b:()=>Rv,soG:()=>Pv,tb:()=>Rb,tp0:()=>Yc,uIk:()=>Mh,vHH:()=>ge,vpe:()=>Cc,wAp:()=>bm,xp6:()=>N_,ynx:()=>Bg,z2F:()=>xm,z3N:()=>tl,zSh:()=>ph,zs3:()=>ra});var h=O(8645),H=O(7394),te=O(5592),R=O(3019),me=O(5619),Ee=O(2096),Te=O(3020),fe=O(4664),Se=O(3997);function ae(t){for(let i in t)if(t[i]===ae)return i;throw Error("Could not find renamed property on target object.")}function ve(t,i){for(const o in i)i.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=i[o])}function Oe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Oe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ze(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const tt=ae({__forward_ref__:ae});function bt(t){return t.__forward_ref__=bt,t.toString=function(){return Oe(this())},t}function it(t){return lt(t)?t():t}function lt(t){return"function"==typeof t&&t.hasOwnProperty(tt)&&t.__forward_ref__===bt}function pt(t){return t&&!!t.\u0275providers}const _t="https://g.co/ng/security#xss";class ge extends Error{constructor(i,o){super(function Le(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}(i,o)),this.code=i}}function Me(t){return"string"==typeof t?t:null==t?"":String(t)}function Ut(t,i){throw new ge(-201,!1)}function Pe(t,i){null==t&&function wt(t,i,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${i} <=Actual]`))}(i,t,null,"!=")}function Dn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ln(t){return{providers:t.providers||[],imports:t.imports||[]}}function li(t){return Ei(t,Li)||Ei(t,Pi)}function Bn(t){return null!==li(t)}function Ei(t,i){return t.hasOwnProperty(i)?t[i]:null}function lr(t){return t&&(t.hasOwnProperty(ni)||t.hasOwnProperty(Ii))?t[ni]:null}const Li=ae({\u0275prov:ae}),ni=ae({\u0275inj:ae}),Pi=ae({ngInjectableDef:ae}),Ii=ae({ngInjectorDef:ae});var ln=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ln||{});let fn;function hn(t){const i=fn;return fn=t,i}function wi(t,i,o){const a=li(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&ln.Optional?null:void 0!==i?i:void Ut(Oe(t))}const Pn=globalThis;class Qt{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Dn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Gi={},fr="__NG_DI_FLAG__",Dt="ngTempTokenPath",U=/\n/gm,k="__source";let B;function Ue(t){const i=B;return B=t,i}function vt(t,i=ln.Default){if(void 0===B)throw new ge(-203,!1);return null===B?wi(t,void 0,i):B.get(t,i&ln.Optional?null:void 0,i)}function St(t,i=ln.Default){return(function en(){return fn}()||vt)(it(t),i)}function Ht(t,i=ln.Default){return St(t,gn(i))}function gn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function An(t){const i=[];for(let o=0;o<t.length;o++){const a=it(t[o]);if(Array.isArray(a)){if(0===a.length)throw new ge(900,!1);let c,p=ln.Default;for(let b=0;b<a.length;b++){const x=a[b],M=ie(x);"number"==typeof M?-1===M?c=x.token:p|=M:c=x}i.push(St(c,p))}else i.push(St(a))}return i}function et(t,i){return t[fr]=i,t.prototype[fr]=i,t}function ie(t){return t[fr]}function we(t){return{toString:t}.toString()}var at=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(at||{}),Ot=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ot||{});const Kt={},Bt=[],Un=ae({\u0275cmp:ae}),yi=ae({\u0275dir:ae}),xi=ae({\u0275pipe:ae}),Ji=ae({\u0275mod:ae}),Ti=ae({\u0275fac:ae}),Cr=ae({__NG_ELEMENT_ID__:ae}),er=ae({__NG_ENV_ID__:ae});function zr(t,i,o){let a=t.length;for(;;){const c=t.indexOf(i,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const p=i.length;if(c+p===a||t.charCodeAt(c+p)<=32)return c}o=c+1}}function si(t,i,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const p=o[a++],b=o[a++],x=o[a++];t.setAttribute(i,b,x,p)}else{const p=c,b=o[++a];pi(p)?t.setProperty(i,p,b):t.setAttribute(i,p,b),a++}}return a}function Pr(t){return 3===t||4===t||6===t}function pi(t){return 64===t.charCodeAt(0)}function Ai(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let o=-1;for(let a=0;a<i.length;a++){const c=i[a];"number"==typeof c?o=c:0===o||Vi(t,o,c,null,-1===o||2===o?i[++a]:null)}}return t}function Vi(t,i,o,a,c){let p=0,b=t.length;if(-1===i)b=-1;else for(;p<t.length;){const x=t[p++];if("number"==typeof x){if(x===i){b=-1;break}if(x>i){b=p-1;break}}}for(;p<t.length;){const x=t[p];if("number"==typeof x)break;if(x===o){if(null===a)return void(null!==c&&(t[p+1]=c));if(a===t[p+1])return void(t[p+2]=c)}p++,null!==a&&p++,null!==c&&p++}-1!==b&&(t.splice(b,0,i),p=b+1),t.splice(p++,0,o),null!==a&&t.splice(p++,0,a),null!==c&&t.splice(p++,0,c)}const Uo="ng-template";function Kr(t,i,o){let a=0,c=!0;for(;a<t.length;){let p=t[a++];if("string"==typeof p&&c){const b=t[a++];if(o&&"class"===p&&-1!==zr(b.toLowerCase(),i,0))return!0}else{if(1===p){for(;a<t.length&&"string"==typeof(p=t[a++]);)if(p.toLowerCase()===i)return!0;return!1}"number"==typeof p&&(c=!1)}}return!1}function jo(t){return 4===t.type&&t.value!==Uo}function ls(t,i,o){return i===(4!==t.type||o?t.value:Uo)}function es(t,i,o){let a=4;const c=t.attrs||[],p=function _s(t){for(let i=0;i<t.length;i++)if(Pr(t[i]))return i;return t.length}(c);let b=!1;for(let x=0;x<i.length;x++){const M=i[x];if("number"!=typeof M){if(!b)if(4&a){if(a=2|1&a,""!==M&&!ls(t,M,o)||""===M&&1===i.length){if(xr(a))return!1;b=!0}}else{const W=8&a?M:i[++x];if(8&a&&null!==t.attrs){if(!Kr(t.attrs,W,o)){if(xr(a))return!1;b=!0}continue}const xe=$r(8&a?"class":M,c,jo(t),o);if(-1===xe){if(xr(a))return!1;b=!0;continue}if(""!==W){let ze;ze=xe>p?"":c[xe+1].toLowerCase();const rt=8&a?ze:null;if(rt&&-1!==zr(rt,W,0)||2&a&&W!==ze){if(xr(a))return!1;b=!0}}}}else{if(!b&&!xr(a)&&!xr(M))return!1;if(b&&xr(M))continue;b=!1,a=M|1&a}}return xr(a)||b}function xr(t){return 0==(1&t)}function $r(t,i,o,a){if(null===i)return-1;let c=0;if(a||!o){let p=!1;for(;c<i.length;){const b=i[c];if(b===t)return c;if(3===b||6===b)p=!0;else{if(1===b||2===b){let x=i[++c];for(;"string"==typeof x;)x=i[++c];continue}if(4===b)break;if(0===b){c+=4;continue}}c+=p?1:2}return-1}return function Ps(t,i){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===i)return o;o++}return-1}(i,t)}function Ko(t,i,o=!1){for(let a=0;a<i.length;a++)if(es(t,i[a],o))return!0;return!1}function vs(t,i){e:for(let o=0;o<i.length;o++){const a=i[o];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function cs(t,i){return t?":not("+i.trim()+")":i}function Or(t){let i=t[0],o=1,a=2,c="",p=!1;for(;o<t.length;){let b=t[o];if("string"==typeof b)if(2&a){const x=t[++o];c+="["+b+(x.length>0?'="'+x+'"':"")+"]"}else 8&a?c+="."+b:4&a&&(c+=" "+b);else""!==c&&!xr(b)&&(i+=cs(p,c),c=""),a=b,p=p||!xr(a);o++}return""!==c&&(i+=cs(p,c)),i}function fo(t){return we(()=>{const i=us(t),o={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===at.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ot.Emulated,styles:t.styles||Bt,_:null,schemas:t.schemas||null,tView:null,id:""};so(o);const a=t.dependencies;return o.directiveDefs=Fi(a,!1),o.pipeDefs=Fi(a,!0),o.id=function yo(t){let i=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)i=Math.imul(31,i)+c.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(o),o})}function Os(t){return Jn(t)||ji(t)}function Ao(t){return null!==t}function pr(t){return we(()=>({type:t.type,bootstrap:t.bootstrap||Bt,declarations:t.declarations||Bt,imports:t.imports||Bt,exports:t.exports||Bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ys(t,i){if(null==t)return Kt;const o={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),o[c]=a,i&&(i[c]=p)}return o}function vo(t){return we(()=>{const i=us(t);return so(i),i})}function So(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Jn(t){return t[Un]||null}function ji(t){return t[yi]||null}function rr(t){return t[xi]||null}function Ar(t){const i=Jn(t)||ji(t)||rr(t);return null!==i&&i.standalone}function tr(t,i){const o=t[Ji]||null;if(!o&&!0===i)throw new Error(`Type ${Oe(t)} does not have '\u0275mod' property.`);return o}function us(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||Kt,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ys(t.inputs,i),outputs:ys(t.outputs)}}function so(t){t.features?.forEach(i=>i(t))}function Fi(t,i){if(!t)return null;const o=i?rr:Os;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(Ao)}const Si=0,Yt=1,Hn=2,Hi=3,Nr=4,to=5,or=6,Vr=7,Oi=8,kr=9,Ce=10,G=11,$=12,J=13,ye=14,Ne=15,ft=16,kt=17,Xt=18,yn=19,kn=20,di=21,cr=22,yr=23,Sr=24,Sn=25,Ho=1,bo=2,Gr=7,bs=9,mr=11;function mi(t){return Array.isArray(t)&&"object"==typeof t[Ho]}function br(t){return Array.isArray(t)&&!0===t[Ho]}function Et(t){return 0!=(4&t.flags)}function Ge(t){return t.componentOffset>-1}function Ve(t){return 1==(1&t.flags)}function Ke(t){return!!t.template}function yt(t){return 0!=(512&t[Hn])}function Mo(t,i){return t.hasOwnProperty(Ti)?t[Ti]:null}let Br=null,Ks=!1;function Io(t){const i=Br;return Br=t,i}const rl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function wo(t){if(!Po(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ba(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Zs(t){t.dirty=!0,function aa(t){if(void 0===t.liveConsumerNode)return;const i=Ks;Ks=!0;try{for(const o of t.liveConsumerNode)o.dirty||Zs(o)}finally{Ks=i}}(t),t.consumerMarkedDirty?.(t)}function ic(t){return t&&(t.nextProducerIndex=0),Io(t)}function zo(t,i){if(Io(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Po(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Ys(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ba(t){la(t);for(let i=0;i<t.producerNode.length;i++){const o=t.producerNode[i],a=t.producerLastReadVersion[i];if(a!==o.version||(wo(o),a!==o.version))return!0}return!1}function Wi(t){if(la(t),Po(t))for(let i=0;i<t.producerNode.length;i++)Ys(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ys(t,i){if(function Ea(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),la(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Ys(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[i],c=t.liveConsumerNode[i];la(c),c.producerIndexOfThis[a]=i}}function Po(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function la(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ia=null;function ht(t){const i=Io(null);try{return t()}finally{Io(i)}}const In=()=>{},ur=(()=>({...rl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:In}))();class Ki{constructor(i,o,a){this.previousValue=i,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function On(){return gr}function gr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Er),Bi}function Bi(){const t=Ct(this),i=t?.current;if(i){const o=t.previous;if(o===Kt)t.previous=i;else for(let a in i)o[a]=i[a];t.current=null,this.ngOnChanges(i)}}function Er(t,i,o,a){const c=this.declaredInputs[o],p=Ct(t)||function dr(t,i){return t[ks]=i}(t,{previous:Kt,current:null}),b=p.current||(p.current={}),x=p.previous,M=x[c];b[c]=new Ki(M&&M.currentValue,i,x===Kt),t[a]=i}On.ngInherit=!0;const ks="__ngSimpleChanges__";function Ct(t){return t[ks]||null}const zt=function(t,i,o){};function Mt(t){for(;Array.isArray(t);)t=t[Si];return t}function Rt(t,i){return Mt(i[t])}function ai(t,i){return Mt(i[t.index])}function kc(t,i){return t.data[i]}function No(t,i){const o=i[t];return mi(o)?o:o[Si]}function ao(t,i){return null==i?null:t[i]}function Lc(t){t[kt]=0}function sl(t){1024&t[Hn]||(t[Hn]|=1024,ii(t,1))}function al(t){1024&t[Hn]&&(t[Hn]&=-1025,ii(t,-1))}function ii(t,i){let o=t[Hi];if(null===o)return;o[to]+=i;let a=o;for(o=o[Hi];null!==o&&(1===i&&1===a[to]||-1===i&&0===a[to]);)o[to]+=i,a=o,o=o[Hi]}const pn={lFrame:Da(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function nn(){return pn.bindingsEnabled}function ns(){return null!==pn.skipHydrationRootTNode}function Tt(){return pn.lFrame.lView}function gi(){return pn.lFrame.tView}function Rl(t){return pn.lFrame.contextLView=t,t[Oi]}function xo(t){return pn.lFrame.contextLView=null,t}function mo(){let t=Qs();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qs(){return pn.lFrame.currentTNode}function Yr(t,i){const o=pn.lFrame;o.currentTNode=t,o.isParent=i}function ua(){return pn.lFrame.isParent}function nt(){pn.lFrame.isParent=!1}function P(){return pn.lFrame.bindingIndex++}function I(t){const i=pn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,o}function ce(t,i){const o=pn.lFrame;o.bindingIndex=o.bindingRootIndex=t,dt(i)}function dt(t){pn.lFrame.currentDirectiveIndex=t}function ot(t){const i=pn.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}function un(){return pn.lFrame.currentQueryIndex}function Vn(t){pn.lFrame.currentQueryIndex=t}function Wr(t){const i=t[Yt];return 2===i.type?i.declTNode:1===i.type?t[or]:null}function zi(t,i,o){if(o&ln.SkipSelf){let c=i,p=t;for(;!(c=c.parent,null!==c||o&ln.Host||(c=Wr(p),null===c||(p=p[ye],10&c.type))););if(null===c)return!1;i=c,t=p}const a=pn.lFrame=Ca();return a.currentTNode=i,a.lView=t,!0}function _o(t){const i=Ca(),o=t[Yt];pn.lFrame=i,i.currentTNode=o.firstChild,i.lView=t,i.tView=o,i.contextLView=t,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Ca(){const t=pn.lFrame,i=null===t?null:t.child;return null===i?Da(t):i}function Da(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function Aa(){const t=pn.lFrame;return pn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $a=Aa;function Uc(){const t=Aa();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Go(){return pn.lFrame.selectedIndex}function cl(t){pn.lFrame.selectedIndex=t}function Qr(){const t=pn.lFrame;return kc(t.tView,t.selectedIndex)}let kd=!0;function lc(){return kd}function da(t){kd=t}function Sa(t,i){for(let o=i.directiveStart,a=i.directiveEnd;o<a;o++){const p=t.data[o].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:x,ngAfterViewInit:M,ngAfterViewChecked:W,ngOnDestroy:le}=p;b&&(t.contentHooks??=[]).push(-o,b),x&&((t.contentHooks??=[]).push(o,x),(t.contentCheckHooks??=[]).push(o,x)),M&&(t.viewHooks??=[]).push(-o,M),W&&((t.viewHooks??=[]).push(o,W),(t.viewCheckHooks??=[]).push(o,W)),null!=le&&(t.destroyHooks??=[]).push(o,le)}}function Ga(t,i,o){cc(t,i,3,o)}function Ml(t,i,o,a){(3&t[Hn])===o&&cc(t,i,o,a)}function Xs(t,i){let o=t[Hn];(3&o)===i&&(o&=8191,o+=1,t[Hn]=o)}function cc(t,i,o,a){const p=a??-1,b=i.length-1;let x=0;for(let M=void 0!==a?65535&t[kt]:0;M<b;M++)if("number"==typeof i[M+1]){if(x=i[M],null!=a&&x>=a)break}else i[M]<0&&(t[kt]+=65536),(x<p||-1==p)&&(Fd(t,o,i,M),t[kt]=(4294901760&t[kt])+M+2),M++}function ko(t,i){zt(4,t,i);const o=Io(null);try{i.call(t)}finally{Io(o),zt(5,t,i)}}function Fd(t,i,o,a){const c=o[a]<0,p=o[a+1],x=t[c?-o[a]:o[a]];c?t[Hn]>>13<t[kt]>>16&&(3&t[Hn])===i&&(t[Hn]+=8192,ko(x,p)):ko(x,p)}const Ls=-1;class ul{constructor(i,o,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function xu(t){return t!==Ls}function qr(t){return 32767&t}function Js(t,i){let o=function Tu(t){return t>>16}(t),a=i;for(;o>0;)a=a[ye],o--;return a}let Xr=!0;function fs(t){const i=Xr;return Xr=t,i}const hl=255,zc=5;let Ld=0;const Wo={};function Ol(t,i){const o=Vs(t,i);if(-1!==o)return o;const a=i[Yt];a.firstCreatePass&&(t.injectorIndex=i.length,Ra(a.data,t),Ra(i,null),Ra(a.blueprint,null));const c=qa(t,i),p=t.injectorIndex;if(xu(c)){const b=qr(c),x=Js(c,i),M=x[Yt].data;for(let W=0;W<8;W++)i[p+W]=x[b+W]|M[b+W]}return i[p+8]=c,p}function Ra(t,i){t.push(0,0,0,0,0,0,0,0,i)}function Vs(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function qa(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,c=i;for(;null!==c;){if(a=Ur(c),null===a)return Ls;if(o++,c=c[ye],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Ls}function Ma(t,i,o){!function Wa(t,i,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Cr)&&(a=o[Cr]),null==a&&(a=o[Cr]=Ld++);const c=a&hl;i.data[t+(c>>zc)]|=1<<c}(t,i,o)}function fl(t,i,o){if(o&ln.Optional||void 0!==t)return t;Ut()}function Du(t,i,o,a){if(o&ln.Optional&&void 0===a&&(a=null),!(o&(ln.Self|ln.Host))){const c=t[kr],p=hn(void 0);try{return c?c.get(i,a,o&ln.Optional):wi(i,a,o&ln.Optional)}finally{hn(p)}}return fl(a,0,o)}function Ka(t,i,o,a=ln.Default,c){if(null!==t){if(2048&i[Hn]&&!(a&ln.Self)){const b=function Bd(t,i,o,a,c){let p=t,b=i;for(;null!==p&&null!==b&&2048&b[Hn]&&!(512&b[Hn]);){const x=pl(p,b,o,a|ln.Self,Wo);if(x!==Wo)return x;let M=p.parent;if(!M){const W=b[kn];if(W){const le=W.get(o,Wo,a);if(le!==Wo)return le}M=Ur(b),b=b[ye]}p=M}return c}(t,i,o,a,Wo);if(b!==Wo)return b}const p=pl(t,i,o,a,Wo);if(p!==Wo)return p}return Du(i,o,a,c)}function pl(t,i,o,a,c){const p=function Au(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(Cr)?t[Cr]:void 0;return"number"==typeof i?i>=0?i&hl:Vd:i}(o);if("function"==typeof p){if(!zi(i,t,a))return a&ln.Host?fl(c,0,a):Du(i,o,a,c);try{let b;if(b=p(a),null!=b||a&ln.Optional)return b;Ut()}finally{$a()}}else if("number"==typeof p){let b=null,x=Vs(t,i),M=Ls,W=a&ln.Host?i[Ne][or]:null;for((-1===x||a&ln.SkipSelf)&&(M=-1===x?qa(t,i):i[x+8],M!==Ls&&rs(a,!1)?(b=i[Yt],x=qr(M),i=Js(M,i)):x=-1);-1!==x;){const le=i[Yt];if(Nl(p,x,le.data)){const xe=$c(x,i,o,b,a,W);if(xe!==Wo)return xe}M=i[x+8],M!==Ls&&rs(a,i[Yt].data[x+8]===W)&&Nl(p,x,i)?(b=le,x=qr(M),i=Js(M,i)):x=-1}}return c}function $c(t,i,o,a,c,p){const b=i[Yt],x=b.data[t+8],le=Pa(x,b,o,null==a?Ge(x)&&Xr:a!=b&&0!=(3&x.type),c&ln.Host&&p===x);return null!==le?Oa(i,b,le,x):Wo}function Pa(t,i,o,a,c){const p=t.providerIndexes,b=i.data,x=1048575&p,M=t.directiveStart,le=p>>20,ze=c?x+le:t.directiveEnd;for(let rt=a?x:x+le;rt<ze;rt++){const xt=b[rt];if(rt<M&&o===xt||rt>=M&&xt.type===o)return rt}if(c){const rt=b[M];if(rt&&Ke(rt)&&rt.type===o)return M}return null}function Oa(t,i,o,a){let c=t[o];const p=i.data;if(function Tr(t){return t instanceof ul}(c)){const b=c;b.resolving&&function ct(t,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new ge(-200,`Circular dependency in DI detected for ${t}${o}`)}(function Xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Me(t)}(p[o]));const x=fs(b.canSeeViewProviders);b.resolving=!0;const W=b.injectImpl?hn(b.injectImpl):null;zi(t,a,ln.Default);try{c=t[o]=b.factory(void 0,p,t,a),i.firstCreatePass&&o>=a.directiveStart&&function wu(t,i,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:p}=i.type.prototype;if(a){const b=gr(i);(o.preOrderHooks??=[]).push(t,b),(o.preOrderCheckHooks??=[]).push(t,b)}c&&(o.preOrderHooks??=[]).push(0-t,c),p&&((o.preOrderHooks??=[]).push(t,p),(o.preOrderCheckHooks??=[]).push(t,p))}(o,p[o],i)}finally{null!==W&&hn(W),fs(x),b.resolving=!1,$a()}}return c}function Nl(t,i,o){return!!(o[i+(t>>zc)]&1<<t)}function rs(t,i){return!(t&ln.Self||t&ln.Host&&i)}class qo{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,a){return Ka(this._tNode,this._lView,i,gn(a),o)}}function Vd(){return new qo(mo(),Tt())}function Su(t){return we(()=>{const i=t.prototype.constructor,o=i[Ti]||io(i),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const p=c[Ti]||io(c);if(p&&p!==o)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function io(t){return lt(t)?()=>{const i=io(it(t));return i&&i()}:Mo(t)}function Ur(t){const i=t[Yt],o=i.type;return 2===o?i.declTNode:1===o?t[or]:null}function Bs(t){return function Cu(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const o=t.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const p=o[c];if(Pr(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(p===i)return o[c+1];c+=2}}}return null}(mo(),t)}const ml="__parameters__";function ri(t,i,o){return we(()=>{const a=function ps(t){return function(...o){if(t){const a=t(...o);for(const c in a)this[c]=a[c]}}}(i);function c(...p){if(this instanceof c)return a.apply(this,p),this;const b=new c(...p);return x.annotation=b,x;function x(M,W,le){const xe=M.hasOwnProperty(ml)?M[ml]:Object.defineProperty(M,ml,{value:[]})[ml];for(;xe.length<=le;)xe.push(null);return(xe[le]=xe[le]||[]).push(b),M}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Qa(t,i){t.forEach(o=>Array.isArray(o)?Qa(o,i):i(o))}function sd(t,i,o){i>=t.length?t.push(o):t.splice(i,0,o)}function hc(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function ea(t,i){const o=[];for(let a=0;a<t;a++)o.push(i);return o}function xs(t,i,o){let a=gl(t,i);return a>=0?t[1|a]=o:(a=~a,function Mu(t,i,o,a){let c=t.length;if(c==i)t.push(o,a);else if(1===c)t.push(a,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>i;)t[c]=t[c-2],c--;t[i]=o,t[i+1]=a}}(t,a,i,o)),a}function ta(t,i){const o=gl(t,i);if(o>=0)return t[1|o]}function gl(t,i){return function Pu(t,i,o){let a=0,c=t.length>>o;for(;c!==a;){const p=a+(c-a>>1),b=t[p<<o];if(i===b)return p<<o;b>i?c=p:a=p+1}return~(c<<o)}(t,i,1)}const _l=et(ri("Optional"),8),Yc=et(ri("SkipSelf"),4);function qd(t){return 128==(128&t.flags)}var gc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(gc||{});const tp=/^>|^->|<!--|-->|--!>|<!-$/g,np=/(<|>)/g,ip="\u200b$1\u200b";const rp=new Map;let r_=0;const Zd="__ngContext__";function ss(t,i){mi(i)?(t[Zd]=i[yn],function nr(t){rp.set(t[yn],t)}(i)):t[Zd]=i}let ap;function ef(t,i){return ap(t,i)}function yc(t){const i=t[Hi];return br(i)?i[Hi]:i}function lp(t){return Vu(t[$])}function Jr(t){return Vu(t[Nr])}function Vu(t){for(;null!==t&&!br(t);)t=t[Nr];return t}function Jc(t,i,o,a,c){if(null!=a){let p,b=!1;br(a)?p=a:mi(a)&&(b=!0,a=a[Si]);const x=Mt(a);0===t&&null!==o?null==c?sf(i,o,x):iu(i,o,x,c||null,!0):1===t&&null!==o?iu(i,o,x,c||null,!0):2===t?function wl(t,i,o){const a=eh(t,i);a&&function ru(t,i,o,a){t.removeChild(i,o,a)}(t,a,i,o)}(i,x,b):3===t&&i.destroyNode(x),null!=p&&function Pm(t,i,o,a,c){const p=o[Gr];p!==Mt(o)&&Jc(i,t,a,p,c);for(let x=mr;x<o.length;x++){const M=o[x];su(M[Yt],M,t,i,a,p)}}(i,t,p,o,c)}}function Qd(t,i){return t.createComment(function qh(t){return t.replace(tp,i=>i.replace(np,ip))}(i))}function eu(t,i,o){return t.createElement(i,o)}function nu(t,i){const o=t[bs],a=o.indexOf(i);al(i),o.splice(a,1)}function fd(t,i){if(t.length<=mr)return;const o=mr+i,a=t[o];if(a){const c=a[ft];null!==c&&c!==t&&nu(c,a),i>0&&(t[o-1][Nr]=a[Nr]);const p=hc(t,mr+i);!function tu(t,i){su(t,i,i[G],2,null,null),i[Si]=null,i[or]=null}(a[Yt],a);const b=p[Xt];null!==b&&b.detachView(p[Yt]),a[Hi]=null,a[Nr]=null,a[Hn]&=-129}return a}function nf(t,i){if(!(256&i[Hn])){const o=i[G];i[yr]&&Wi(i[yr]),i[Sr]&&Wi(i[Sr]),o.destroyNode&&su(t,i,o,3,null,null),function Rm(t){let i=t[$];if(!i)return Xd(t[Yt],t);for(;i;){let o=null;if(mi(i))o=i[$];else{const a=i[mr];a&&(o=a)}if(!o){for(;i&&!i[Nr]&&i!==t;)mi(i)&&Xd(i[Yt],i),i=i[Hi];null===i&&(i=t),mi(i)&&Xd(i[Yt],i),o=i&&i[Nr]}i=o}}(i)}}function Xd(t,i){if(!(256&i[Hn])){i[Hn]&=-129,i[Hn]|=256,function hp(t,i){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const c=i[o[a]];if(!(c instanceof ul)){const p=o[a+1];if(Array.isArray(p))for(let b=0;b<p.length;b+=2){const x=c[p[b]],M=p[b+1];zt(4,x,M);try{M.call(x)}finally{zt(5,x,M)}}else{zt(4,c,p);try{p.call(c)}finally{zt(5,c,p)}}}}}(t,i),function dp(t,i){const o=t.cleanup,a=i[Vr];if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const b=o[p+3];b>=0?a[b]():a[-b].unsubscribe(),p+=2}else o[p].call(a[o[p+1]]);null!==a&&(i[Vr]=null);const c=i[di];if(null!==c){i[di]=null;for(let p=0;p<c.length;p++)(0,c[p])()}}(t,i),1===i[Yt].type&&i[G].destroy();const o=i[ft];if(null!==o&&br(i[Hi])){o!==i[Hi]&&nu(o,i);const a=i[Xt];null!==a&&a.detachView(t)}!function op(t){rp.delete(t[yn])}(i)}}function Bu(t,i,o){return function rf(t,i,o){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return o[Si];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:p}=t.data[a.directiveStart+c];if(p===Ot.None||p===Ot.Emulated)return null}return ai(a,o)}}(t,i.parent,o)}function iu(t,i,o,a,c){t.insertBefore(i,o,a,c)}function sf(t,i,o){t.appendChild(i,o)}function Mm(t,i,o,a,c){null!==a?iu(t,i,o,a,c):sf(t,i,o)}function eh(t,i){return t.parentNode(i)}function fp(t,i,o){return af(t,i,o)}let th,zl,Ec,rh,af=function bl(t,i,o){return 40&t.type?ai(t,o):null};function Uu(t,i,o,a){const c=Bu(t,a,i),p=i[G],x=fp(a.parent||i[or],a,i);if(null!=c)if(Array.isArray(o))for(let M=0;M<o.length;M++)Mm(p,c,o[M],x,!1);else Mm(p,c,o,x,!1);void 0!==th&&th(p,a,i,o,c)}function El(t,i){if(null!==i){const o=i.type;if(3&o)return ai(i,t);if(4&o)return Il(-1,t[i.index]);if(8&o){const a=i.child;if(null!==a)return El(t,a);{const c=t[i.index];return br(c)?Il(-1,c):Mt(c)}}if(32&o)return ef(i,t)()||Mt(t[i.index]);{const a=ou(t,i);return null!==a?Array.isArray(a)?a[0]:El(yc(t[Ne]),a):El(t,i.next)}}return null}function ou(t,i){return null!==i?t[Ne][or].projection[i.projection]:null}function Il(t,i){const o=mr+t+1;if(o<i.length){const a=i[o],c=a[Yt].firstChild;if(null!==c)return El(a,c)}return i[Gr]}function pd(t,i,o,a,c,p,b){for(;null!=o;){const x=a[o.index],M=o.type;if(b&&0===i&&(x&&ss(Mt(x),a),o.flags|=2),32!=(32&o.flags))if(8&M)pd(t,i,o.child,a,c,p,!1),Jc(i,t,c,x,p);else if(32&M){const W=ef(o,a);let le;for(;le=W();)Jc(i,t,c,le,p);Jc(i,t,c,x,p)}else 16&M?nh(t,i,a,o,c,p):Jc(i,t,c,x,p);o=b?o.projectionNext:o.next}}function su(t,i,o,a,c,p){pd(o,a,t.firstChild,i,c,p,!1)}function nh(t,i,o,a,c,p){const b=o[Ne],M=b[or].projection[a.projection];if(Array.isArray(M))for(let W=0;W<M.length;W++)Jc(i,t,c,M[W],p);else{let W=M;const le=b[Hi];qd(a)&&(W.flags|=128),pd(t,i,W,le,c,p,!0)}}function Na(t,i,o){""===o?t.removeAttribute(i,"class"):t.setAttribute(i,"class",o)}function ka(t,i,o){const{mergedAttrs:a,classes:c,styles:p}=o;null!==a&&si(t,i,a),null!==c&&Na(t,i,c),null!==p&&function Om(t,i,o){t.setAttribute(i,"style",o)}(t,i,p)}function bc(t){return function mp(){if(void 0===zl&&(zl=null,Pn.trustedTypes))try{zl=Pn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zl}()?.createHTML(t)||t}function au(t){Ec=t}function sh(t){return function df(){if(void 0===rh&&(rh=null,Pn.trustedTypes))try{rh=Pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rh}()?.createScriptURL(t)||t}class Ic{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}class hf extends Ic{getTypeName(){return"HTML"}}class ff extends Ic{getTypeName(){return"Style"}}class Nm extends Ic{getTypeName(){return"Script"}}class pf extends Ic{getTypeName(){return"URL"}}class ah extends Ic{getTypeName(){return"ResourceURL"}}function tl(t){return t instanceof Ic?t.changingThisBreaksApplicationSecurity:t}function pa(t,i){const o=function gp(t){return t instanceof Ic&&t.getTypeName()||null}(t);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${_t})`)}return o===i}function _p(t){return new hf(t)}function lu(t){return new ff(t)}function Hu(t){return new Nm(t)}function Fa(t){return new pf(t)}function lh(t){return new ah(t)}class zs{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(bc(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class gd{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=bc(i),o}}const ch=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uh(t){return(t=String(t)).match(ch)?t:"unsafe:"+t}function $s(t){const i={};for(const o of t.split(","))i[o]=!0;return i}function $l(...t){const i={};for(const o of t)for(const a in o)o.hasOwnProperty(a)&&(i[a]=!0);return i}const gf=$s("area,br,col,hr,img,wbr"),cu=$s("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),km=$s("rp,rt"),hh=$l(gf,$l(cu,$s("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$l(km,$s("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$l(km,cu)),vp=$s("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yp=$l(vp,$s("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$s("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fm=$s("script,style,template");class _f{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!hh.hasOwnProperty(o))return this.sanitizedSomething=!0,!Fm.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=i.attributes;for(let c=0;c<a.length;c++){const p=a.item(c),b=p.name,x=b.toLowerCase();if(!yp.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let M=p.value;vp[x]&&(M=uh(M)),this.buf.push(" ",b,'="',bp(M),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();hh.hasOwnProperty(o)&&!gf.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(bp(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Lm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d_=/([^\#-~ |!])/g;function bp(t){return t.replace(/&/g,"&amp;").replace(Lm,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(d_,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vf;function Ep(t,i){let o=null;try{vf=vf||function mf(t){const i=new gd(t);return function _d(){try{return!!(new window.DOMParser).parseFromString(bc(""),"text/html")}catch{return!1}}()?new zs(i):i}(t);let a=i?String(i):"";o=vf.getInertBodyElement(a);let c=5,p=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=p,p=o.innerHTML,o=vf.getInertBodyElement(a)}while(a!==p);return bc((new _f).sanitizeChildren(Gl(o)||o))}finally{if(o){const a=Gl(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Gl(t){return"content"in t&&function vd(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var _=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(_||{});function v(t){const i=mn();return i?i.sanitize(_.URL,t)||"":pa(t,"URL")?tl(t):uh(Me(t))}function w(t){const i=mn();if(i)return sh(i.sanitize(_.RESOURCE_URL,t)||"");if(pa(t,"ResourceURL"))return sh(tl(t));throw new ge(904,!1)}function qe(t,i,o){return function Ae(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?w:v}(i,o)(t)}function mn(){const t=Tt();return t&&t[Ce].sanitizer}const wn=new Qt("ENVIRONMENT_INITIALIZER"),tn=new Qt("INJECTOR",-1),Tn=new Qt("INJECTOR_DEF_TYPES");class Yn{get(i,o=Gi){if(o===Gi){const a=new Error(`NullInjectorError: No provider for ${Oe(i)}!`);throw a.name="NullInjectorError",a}return o}}function wr(...t){return{\u0275providers:Yi(0,t),\u0275fromNgModule:!0}}function Yi(t,...i){const o=[],a=new Set;let c;const p=b=>{o.push(b)};return Qa(i,b=>{const x=b;Lo(x,p,[],a)&&(c||=[],c.push(x))}),void 0!==c&&Ni(c,p),o}function Ni(t,i){for(let o=0;o<t.length;o++){const{ngModule:a,providers:c}=t[o];co(c,p=>{i(p,a)})}}function Lo(t,i,o,a){if(!(t=it(t)))return!1;let c=null,p=lr(t);const b=!p&&Jn(t);if(p||b){if(b&&!b.standalone)return!1;c=t}else{const M=t.ngModule;if(p=lr(M),!p)return!1;c=M}const x=a.has(c);if(b){if(x)return!1;if(a.add(c),b.dependencies){const M="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const W of M)Lo(W,i,o,a)}}else{if(!p)return!1;{if(null!=p.imports&&!x){let W;a.add(c);try{Qa(p.imports,le=>{Lo(le,i,o,a)&&(W||=[],W.push(le))})}finally{}void 0!==W&&Ni(W,i)}if(!x){const W=Mo(c)||(()=>new c);i({provide:c,useFactory:W,deps:Bt},c),i({provide:Tn,useValue:c,multi:!0},c),i({provide:wn,useValue:()=>St(c),multi:!0},c)}const M=p.providers;if(null!=M&&!x){const W=t;co(M,le=>{i(le,W)})}}}return c!==t&&void 0!==t.providers}function co(t,i){for(let o of t)pt(o)&&(o=o.\u0275providers),Array.isArray(o)?co(o,i):i(o)}const Ts=ae({provide:String,useValue:ae});function Cs(t){return null!==t&&"object"==typeof t&&Ts in t}function La(t){return"function"==typeof t}const ph=new Qt("Set Injector scope."),zu={},jn={};let Wn;function ei(){return void 0===Wn&&(Wn=new Yn),Wn}class _i{}class jr extends _i{get destroyed(){return this._destroyed}constructor(i,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,As(i,b=>this.processProvider(b)),this.records.set(tn,wc(void 0,this)),c.has("environment")&&this.records.set(_i,wc(void 0,this));const p=this.records.get(ph);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Tn.multi,Bt,ln.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const o=Ue(this),a=hn(void 0);try{return i()}finally{Ue(o),hn(a)}}get(i,o=Gi,a=ln.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(er))return i[er](this);a=gn(a);const p=Ue(this),b=hn(void 0);try{if(!(a&ln.SkipSelf)){let M=this.records.get(i);if(void 0===M){const W=function du(t){return"function"==typeof t||"object"==typeof t&&t instanceof Qt}(i)&&li(i);M=W&&this.injectableDefInScope(W)?wc(ia(i),zu):null,this.records.set(i,M)}if(null!=M)return this.hydrate(i,M)}return(a&ln.Self?ei():this.parent).get(i,o=a&ln.Optional&&o===Gi?null:o)}catch(x){if("NullInjectorError"===x.name){if((x[Dt]=x[Dt]||[]).unshift(Oe(i)),p)throw x;return function Ie(t,i,o,a){const c=t[Dt];throw i[k]&&c.unshift(i[k]),t.message=function _e(t,i,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Oe(i);if(Array.isArray(i))c=i.map(Oe).join(" -> ");else if("object"==typeof i){let p=[];for(let b in i)if(i.hasOwnProperty(b)){let x=i[b];p.push(b+":"+("string"==typeof x?JSON.stringify(x):Oe(x)))}c=`{${p.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${t.replace(U,"\n  ")}`}("\n"+t.message,c,o,a),t.ngTokenPath=c,t[Dt]=null,t}(x,i,"R3InjectorError",this.source)}throw x}finally{hn(b),Ue(p)}}resolveInjectorInitializers(){const i=Ue(this),o=hn(void 0);try{const c=this.get(wn.multi,Bt,ln.Self);for(const p of c)p()}finally{Ue(i),hn(o)}}toString(){const i=[],o=this.records;for(const a of o.keys())i.push(Oe(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(i){let o=La(i=it(i))?i:it(i&&i.provide);const a=function ql(t){return Cs(t)?wc(void 0,t.useValue):wc(ro(t),zu)}(i);if(La(i)||!0!==i.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=wc(void 0,zu,!0),c.factory=()=>An(c.multi),this.records.set(o,c)),o=i,c.multi.push(i)}this.records.set(o,a)}hydrate(i,o){return o.value===zu&&(o.value=jn,o.value=o.factory()),"object"==typeof o.value&&o.value&&function as(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=it(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(i){const o=this._onDestroyHooks.indexOf(i);-1!==o&&this._onDestroyHooks.splice(o,1)}}function ia(t){const i=li(t),o=null!==i?i.factory:Mo(t);if(null!==o)return o;if(t instanceof Qt)throw new ge(204,!1);if(t instanceof Function)return function Ds(t){const i=t.length;if(i>0)throw ea(i,"?"),new ge(204,!1);const o=function Xn(t){return t&&(t[Li]||t[Pi])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new ge(204,!1)}function ro(t,i,o){let a;if(La(t)){const c=it(t);return Mo(c)||ia(c)}if(Cs(t))a=()=>it(t.useValue);else if(function fh(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...An(t.deps||[]));else if(function xl(t){return!(!t||!t.useExisting)}(t))a=()=>St(it(t.useExisting));else{const c=it(t&&(t.useClass||t.provide));if(!function Vm(t){return!!t.deps}(t))return Mo(c)||ia(c);a=()=>new c(...An(t.deps))}return a}function wc(t,i,o=!1){return{factory:t,value:i,multi:o?[]:void 0}}function As(t,i){for(const o of t)Array.isArray(o)?As(o,i):o&&pt(o)?As(o.\u0275providers,i):i(o)}const $u=new Qt("AppId",{providedIn:"root",factory:()=>mh}),mh="ng",Ip=new Qt("Platform Initializer"),gh=new Qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xp=new Qt("AnimationModuleType"),Bm=new Qt("CSP nonce",{providedIn:"root",factory:()=>function ju(){if(void 0!==Ec)return Ec;if(typeof document<"u")return document;throw new ge(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Cp=(t,i,o)=>null;function bd(t,i,o=!1){return Cp(t,i,o)}class Wv{}class Rp{}class Wm{resolveComponentFactory(i){throw function qv(t){const i=Error(`No component factory found for ${Oe(t)}.`);return i.ngComponent=t,i}(i)}}let Gu=(()=>{class t{static#e=this.NULL=new Wm}return t})();function qm(){return Ed(mo(),Tt())}function Ed(t,i){return new Tc(ai(t,i))}let Tc=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=qm}return t})();function Km(t){return t instanceof Tc?t.nativeElement:t}class p_{}let Kv=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function m_(){const t=Tt(),o=No(mo().index,t);return(mi(o)?o:t)[G]}()}return t})(),g_=(()=>{class t{static#e=this.\u0275prov=Dn({token:t,providedIn:"root",factory:()=>null})}return t})();class __{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Pp=new __("16.2.11"),Zm={};function kp(t,i=null,o=null,a){const c=wd(t,i,o,a);return c.resolveInjectorInitializers(),c}function wd(t,i=null,o=null,a,c=new Set){const p=[o||Bt,wr(t)];return a=a||("object"==typeof t?void 0:Oe(t)),new jr(p,i||ei(),a||null,c)}let ra=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Gi;static#t=this.NULL=new Yn;static create(o,a){if(Array.isArray(o))return kp({name:""},a,o,"");{const c=o.name??"";return kp({name:c},o.parent,o.providers,c)}}static#n=this.\u0275prov=Dn({token:t,providedIn:"any",factory:()=>St(tn)});static#i=this.__NG_ELEMENT_ID__=-1}return t})();function ng(t){return t.ngOriginalError}class Wu{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&ng(i);for(;o&&ng(o);)o=ng(o);return o||null}}function og(t){return i=>{setTimeout(t,void 0,i)}}const Cc=class rg extends h.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,a){let c=i,p=o||(()=>null),b=a;if(i&&"object"==typeof i){const M=i;c=M.next?.bind(M),p=M.error?.bind(M),b=M.complete?.bind(M)}this.__isAsync&&(p=og(p),c&&(c=og(c)),b&&(b=og(b)));const x=super.subscribe({next:c,error:p,complete:b});return i instanceof H.w0&&i.add(x),x}};function Fp(...t){}class gs{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cc(!1),this.onMicrotaskEmpty=new Cc(!1),this.onStable=new Cc(!1),this.onError=new Cc(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function sg(){const t="function"==typeof Pn.requestAnimationFrame;let i=Pn[t?"requestAnimationFrame":"setTimeout"],o=Pn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function E_(t){const i=()=>{!function b_(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Vp(t),t.isCheckStableRunning=!0,Lp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Vp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,p,b,x)=>{if(function ag(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(x))return o.invokeTask(c,p,b,x);try{return I_(t),o.invokeTask(c,p,b,x)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&i(),w_(t)}},onInvoke:(o,a,c,p,b,x,M)=>{try{return I_(t),o.invoke(c,p,b,x,M)}finally{t.shouldCoalesceRunChangeDetection&&i(),w_(t)}},onHasTask:(o,a,c,p)=>{o.hasTask(c,p),a===c&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,Vp(t),Lp(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,a,c,p)=>(o.handleError(c,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gs.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(gs.isInAngularZone())throw new ge(909,!1)}run(i,o,a){return this._inner.run(i,o,a)}runTask(i,o,a,c){const p=this._inner,b=p.scheduleEventTask("NgZoneEvent: "+c,i,Yv,Fp,Fp);try{return p.runTask(b,o,a)}finally{p.cancelTask(b)}}runGuarded(i,o,a){return this._inner.runGuarded(i,o,a)}runOutsideAngular(i){return this._outer.run(i)}}const Yv={};function Lp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Vp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function I_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function w_(t){t._nesting--,Lp(t)}class Qv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cc,this.onMicrotaskEmpty=new Cc,this.onStable=new Cc,this.onError=new Cc}run(i,o,a){return i.apply(o,a)}runGuarded(i,o,a){return i.apply(o,a)}runOutsideAngular(i){return i()}runTask(i,o,a,c){return i.apply(o,a)}}const x_=new Qt("",{providedIn:"root",factory:Bp});function Bp(){const t=Ht(gs);let i=!0;const o=new te.y(c=>{i=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(i),c.complete()})}),a=new te.y(c=>{let p;t.runOutsideAngular(()=>{p=t.onStable.subscribe(()=>{gs.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(i=!0,c.next(!0))})})});const b=t.onUnstable.subscribe(()=>{gs.assertInAngularZone(),i&&(i=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{p.unsubscribe(),b.unsubscribe()}});return(0,R.T)(o,a.pipe((0,Te.B)()))}function Kl(t){return t instanceof Function?t():t}let ug=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Dn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Td(t){for(;t;){t[Hn]|=64;const i=yc(t);if(yt(t)&&!i)return t;t=i}return null}const D_=new Qt("",{providedIn:"root",factory:()=>!1});let Gp=null;function P_(t,i){return t[i]??O_()}function Wp(t,i){const o=O_();o.producerNode?.length&&(t[i]=Gp,o.lView=t,Gp=qp())}const ey={...rl,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Td(t.lView)},lView:null};function qp(){return Object.create(ey)}function O_(){return Gp??=qp(),Gp}const Ci={};function N_(t){Kp(gi(),Tt(),Go()+t,!1)}function Kp(t,i,o,a){if(!a)if(3==(3&i[Hn])){const p=t.preOrderCheckHooks;null!==p&&Ga(i,p,o)}else{const p=t.preOrderHooks;null!==p&&Ml(i,p,0,o)}cl(o)}function Cd(t,i=ln.Default){const o=Tt();return null===o?St(t,i):Ka(mo(),o,it(t),i)}function Zp(){throw new Error("invalid")}function Yp(t,i,o,a,c,p,b,x,M,W,le){const xe=i.blueprint.slice();return xe[Si]=c,xe[Hn]=140|a,(null!==W||t&&2048&t[Hn])&&(xe[Hn]|=2048),Lc(xe),xe[Hi]=xe[ye]=t,xe[Oi]=o,xe[Ce]=b||t&&t[Ce],xe[G]=x||t&&t[G],xe[kr]=M||t&&t[kr]||null,xe[or]=p,xe[yn]=function Jo(){return r_++}(),xe[cr]=le,xe[kn]=W,xe[Ne]=2==i.type?t[Ne]:xe,xe}function xh(t,i,o,a,c){let p=t.data[i];if(null===p)p=function Sf(t,i,o,a,c){const p=Qs(),b=ua(),M=t.data[i]=function iy(t,i,o,a,c,p){let b=i?i.injectorIndex:-1,x=0;return ns()&&(x|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:b,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:x,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?p:p&&p.parent,o,i,a,c);return null===t.firstChild&&(t.firstChild=M),null!==p&&(b?null==p.child&&null!==M.parent&&(p.child=M):null===p.next&&(p.next=M,M.prev=p)),M}(t,i,o,a,c),function N(){return pn.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=o,p.value=a,p.attrs=c;const b=function Ta(){const t=pn.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();p.injectorIndex=null===b?-1:b.injectorIndex}return Yr(p,!0),p}function Rf(t,i,o,a){if(0===o)return-1;const c=i.length;for(let p=0;p<o;p++)i.push(a),t.blueprint.push(a),t.data.push(null);return c}function Qp(t,i,o,a,c){const p=P_(i,yr),b=Go(),x=2&a;try{cl(-1),x&&i.length>Sn&&Kp(t,i,Sn,!1),zt(x?2:0,c);const W=x?p:null,le=ic(W);try{null!==W&&(W.dirty=!1),o(a,c)}finally{zo(W,le)}}finally{x&&null===i[yr]&&Wp(i,yr),cl(b),zt(x?3:1,c)}}function Mf(t,i,o){if(Et(i)){const a=Io(null);try{const p=i.directiveEnd;for(let b=i.directiveStart;b<p;b++){const x=t.data[b];x.contentQueries&&x.contentQueries(1,o[b],b)}}finally{Io(a)}}}function Pf(t,i,o){nn()&&(function j_(t,i,o,a){const c=o.directiveStart,p=o.directiveEnd;Ge(o)&&function ay(t,i,o){const a=ai(i,t),c=Th(o);let b=16;o.signals?b=4096:o.onPush&&(b=64);const x=kf(t,Yp(t,c,null,b,a,i,null,t[Ce].rendererFactory.createRenderer(a,o),null,null,null));t[i.index]=x}(i,o,t.data[c+o.componentOffset]),t.firstCreatePass||Ol(o,i),ss(a,i);const b=o.initialInputs;for(let x=c;x<p;x++){const M=t.data[x],W=Oa(i,t,x,o);ss(W,i),null!==b&&ly(0,x-c,W,M,0,b),Ke(M)&&(No(o.index,i)[Oi]=Oa(i,t,x,o))}}(t,i,o,ai(o,i)),64==(64&o.flags)&&em(t,i,o))}function mg(t,i,o=ai){const a=i.localNames;if(null!==a){let c=i.index+1;for(let p=0;p<a.length;p+=2){const b=a[p+1],x=-1===b?o(i,t):t[b];t[c++]=x}}}function Th(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=gg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function gg(t,i,o,a,c,p,b,x,M,W,le){const xe=Sn+a,ze=xe+c,rt=function _g(t,i){const o=[];for(let a=0;a<i;a++)o.push(a<t?null:Ci);return o}(xe,ze),xt="function"==typeof W?W():W;return rt[Yt]={type:t,blueprint:rt,template:o,queries:null,viewQuery:x,declTNode:i,data:rt.slice().fill(null,xe),bindingStartIndex:xe,expandoStartIndex:ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:M,consts:xt,incompleteFirstPass:!1,ssrId:le}}let vg=t=>null;function L_(t,i,o,a){for(let c in t)if(t.hasOwnProperty(c)){o=null===o?{}:o;const p=t[c];null===a?Of(o,i,c,p):a.hasOwnProperty(c)&&Of(o,i,a[c],p)}return o}function Of(t,i,o,a){t.hasOwnProperty(o)?t[o].push(i,a):t[o]=[i,a]}function ma(t,i,o,a,c,p,b,x){const M=ai(i,o);let le,W=i.inputs;!x&&null!=W&&(le=W[a])?(Qi(t,o,le,a,c),Ge(i)&&function V_(t,i){const o=No(i,t);16&o[Hn]||(o[Hn]|=64)}(o,i.index)):3&i.type&&(a=function bg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=b?b(c,i.value||"",a):c,p.setProperty(M,a,c))}function Dh(t,i,o,a){if(nn()){const c=null===a?null:{"":-1},p=function Sh(t,i){const o=t.directiveRegistry;let a=null,c=null;if(o)for(let p=0;p<o.length;p++){const b=o[p];if(Ko(i,b.selectors,!1))if(a||(a=[]),Ke(b))if(null!==b.findHostDirectiveDefs){const x=[];c=c||new Map,b.findHostDirectiveDefs(b,x,c),a.unshift(...x,b),Nf(t,i,x.length)}else a.unshift(b),Nf(t,i,0);else c=c||new Map,b.findHostDirectiveDefs?.(b,a,c),a.push(b)}return null===a?null:[a,c]}(t,o);let b,x;null===p?b=x=null:[b,x]=p,null!==b&&Jp(t,i,o,b,c,x),c&&function ry(t,i,o){if(i){const a=t.localNames=[];for(let c=0;c<i.length;c+=2){const p=o[i[c+1]];if(null==p)throw new ge(-301,!1);a.push(i[c],p)}}}(o,a,c)}o.mergedAttrs=Ai(o.mergedAttrs,o.attrs)}function Jp(t,i,o,a,c,p){for(let W=0;W<a.length;W++)Ma(Ol(o,i),t,a[W].type);!function sy(t,i,o){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+o,t.providerIndexes=i}(o,t.data.length,a.length);for(let W=0;W<a.length;W++){const le=a[W];le.providersResolver&&le.providersResolver(le)}let b=!1,x=!1,M=Rf(t,i,a.length,null);for(let W=0;W<a.length;W++){const le=a[W];o.mergedAttrs=Ai(o.mergedAttrs,le.hostAttrs),z_(t,o,i,M,le),oy(M,le,c),null!==le.contentQueries&&(o.flags|=4),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(o.flags|=64);const xe=le.type.prototype;!b&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),b=!0),!x&&(xe.ngOnChanges||xe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),x=!0),M++}!function yg(t,i,o){const c=i.directiveEnd,p=t.data,b=i.attrs,x=[];let M=null,W=null;for(let le=i.directiveStart;le<c;le++){const xe=p[le],ze=o?o.get(xe):null,xt=ze?ze.outputs:null;M=L_(xe.inputs,le,M,ze?ze.inputs:null),W=L_(xe.outputs,le,W,xt);const qt=null===M||null===b||jo(i)?null:cy(M,le,b);x.push(qt)}null!==M&&(M.hasOwnProperty("class")&&(i.flags|=8),M.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=x,i.inputs=M,i.outputs=W}(t,o,p)}function em(t,i,o){const a=o.directiveStart,c=o.directiveEnd,p=o.index,b=function De(){return pn.lFrame.currentDirectiveIndex}();try{cl(p);for(let x=a;x<c;x++){const M=t.data[x],W=i[x];dt(x),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&H_(M,W)}}finally{cl(-1),dt(b)}}function H_(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function Nf(t,i,o){i.componentOffset=o,(t.components??=[]).push(i.index)}function oy(t,i,o){if(o){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)o[i.exportAs[a]]=t;Ke(i)&&(o[""]=t)}}function z_(t,i,o,a,c){t.data[a]=c;const p=c.factory||(c.factory=Mo(c.type)),b=new ul(p,Ke(c),Cd);t.blueprint[a]=b,o[a]=b,function U_(t,i,o,a,c){const p=c.hostBindings;if(p){let b=t.hostBindingOpCodes;null===b&&(b=t.hostBindingOpCodes=[]);const x=~i.index;(function Ah(t){let i=t.length;for(;i>0;){const o=t[--i];if("number"==typeof o&&o<0)return o}return 0})(b)!=x&&b.push(x),b.push(o,a,p)}}(t,i,a,Rf(t,o,c.hostVars,Ci),c)}function Zl(t,i,o,a,c,p){const b=ai(t,i);!function Ig(t,i,o,a,c,p,b){if(null==p)t.removeAttribute(i,c,o);else{const x=null==b?Me(p):b(p,a||"",c);t.setAttribute(i,c,x,o)}}(i[G],b,p,t.value,o,a,c)}function ly(t,i,o,a,c,p){const b=p[i];if(null!==b)for(let x=0;x<b.length;)$_(a,o,b[x++],b[x++],b[x++])}function $_(t,i,o,a,c){const p=Io(null);try{const b=t.inputTransforms;null!==b&&b.hasOwnProperty(a)&&(c=b[a].call(i,c)),null!==t.setInput?t.setInput(i,c,o,a):i[a]=c}finally{Io(p)}}function cy(t,i,o){let a=null,c=0;for(;c<o.length;){const p=o[c];if(0!==p)if(5!==p){if("number"==typeof p)break;if(t.hasOwnProperty(p)){null===a&&(a=[]);const b=t[p];for(let x=0;x<b.length;x+=2)if(b[x]===i){a.push(p,b[x+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function G_(t,i,o,a){return[t,!0,!1,i,null,0,a,o,null,null,null]}function W_(t,i){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const p=o[a+1];if(-1!==p){const b=t.data[p];Vn(o[a]),b.contentQueries(2,i[p],p)}}}function kf(t,i){return t[$]?t[J][Nr]=i:t[$]=i,t[J]=i,i}function tm(t,i,o){Vn(0);const a=Io(null);try{i(t,o)}finally{Io(a)}}function wg(t){return t[Vr]||(t[Vr]=[])}function xg(t){return t.cleanup||(t.cleanup=[])}function Tg(t,i,o){return(null===t||Ke(t))&&(o=function gt(t){for(;Array.isArray(t);){if("object"==typeof t[Ho])return t;t=t[Si]}return null}(o[i.index])),o[G]}function Ff(t,i){const o=t[kr],a=o?o.get(Wu,null):null;a&&a.handleError(i)}function Qi(t,i,o,a,c){for(let p=0;p<o.length;){const b=o[p++],x=o[p++];$_(t.data[b],i[b],a,x,c)}}function K_(t,i){const o=No(i,t),a=o[Yt];!function Lf(t,i){for(let o=i.length;o<t.blueprint.length;o++)i.push(t.blueprint[o])}(a,o);const c=o[Si];null!==c&&null===o[cr]&&(o[cr]=bd(c,o[kr])),nm(a,o,o[Oi])}function nm(t,i,o){_o(i);try{const a=t.viewQuery;null!==a&&tm(1,a,o);const c=t.template;null!==c&&Qp(t,i,c,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&W_(t,i),t.staticViewQueries&&tm(2,t.viewQuery,o);const p=t.components;null!==p&&function Gs(t,i){for(let o=0;o<i.length;o++)K_(t,i[o])}(i,p)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{i[Hn]&=-5,Uc()}}let Bo=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,c){const p=typeof Zone>"u"?null:Zone.current,b=function It(t,i,o){const a=Object.create(ur);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=i;const c=b=>{a.cleanupFn=b};return a.ref={notify:()=>Zs(a),run:()=>{if(a.dirty=!1,a.hasRun&&!ba(a))return;a.hasRun=!0;const b=ic(a);try{a.cleanupFn(),a.cleanupFn=In,a.fn(c)}finally{zo(a,b)}},cleanup:()=>a.cleanupFn()},a.ref}(o,W=>{this.all.has(W)&&this.queue.set(W,p)},c);let x;this.all.add(b),b.notify();const M=()=>{b.cleanup(),x?.(),this.all.delete(b),this.queue.delete(b)};return x=a?.onDestroy(M),{destroy:M}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Dn({token:t,providedIn:"root",factory:()=>new t})}return t})();function im(t,i,o){let a=o?t.styles:null,c=o?t.classes:null,p=0;if(null!==i)for(let b=0;b<i.length;b++){const x=i[b];"number"==typeof x?p=x:1==p?c=Ze(c,x):2==p&&(a=Ze(a,x+": "+i[++b]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=c:t.classesWithoutHost=c}function Vf(t,i,o,a,c=!1){for(;null!==o;){const p=i[o.index];null!==p&&a.push(Mt(p)),br(p)&&Cg(p,a);const b=o.type;if(8&b)Vf(t,i,o.child,a);else if(32&b){const x=ef(o,i);let M;for(;M=x();)a.push(M)}else if(16&b){const x=ou(i,o);if(Array.isArray(x))a.push(...x);else{const M=yc(i[Ne]);Vf(M[Yt],M,x,a,!0)}}o=c?o.projectionNext:o.next}return a}function Cg(t,i){for(let o=mr;o<t.length;o++){const a=t[o],c=a[Yt].firstChild;null!==c&&Vf(a[Yt],a,c,i)}t[Gr]!==t[Si]&&i.push(t[Gr])}function rm(t,i,o,a=!0){const c=i[Ce],p=c.rendererFactory,b=c.afterRenderEventManager;p.begin?.(),b?.begin();try{om(t,i,t.template,o)}catch(M){throw a&&Ff(i,M),M}finally{p.end?.(),c.effectManager?.flush(),b?.end()}}function om(t,i,o,a){const c=i[Hn];if(256!=(256&c)){i[Ce].effectManager?.flush(),_o(i);try{Lc(i),function T(t){return pn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Qp(t,i,o,2,a);const b=3==(3&c);if(b){const W=t.preOrderCheckHooks;null!==W&&Ga(i,W,null)}else{const W=t.preOrderHooks;null!==W&&Ml(i,W,0,null),Xs(i,0)}if(function dy(t){for(let i=lp(t);null!==i;i=Jr(i)){if(!i[bo])continue;const o=i[bs];for(let a=0;a<o.length;a++){sl(o[a])}}}(i),Y_(i,2),null!==t.contentQueries&&W_(t,i),b){const W=t.contentCheckHooks;null!==W&&Ga(i,W)}else{const W=t.contentHooks;null!==W&&Ml(i,W,1),Xs(i,1)}!function k_(t,i){const o=t.hostBindingOpCodes;if(null===o)return;const a=P_(i,Sr);try{for(let c=0;c<o.length;c++){const p=o[c];if(p<0)cl(~p);else{const b=p,x=o[++c],M=o[++c];ce(x,b),a.dirty=!1;const W=ic(a);try{M(2,i[b])}finally{zo(a,W)}}}}finally{null===i[Sr]&&Wp(i,Sr),cl(-1)}}(t,i);const x=t.components;null!==x&&Q_(i,x,0);const M=t.viewQuery;if(null!==M&&tm(2,M,a),b){const W=t.viewCheckHooks;null!==W&&Ga(i,W)}else{const W=t.viewHooks;null!==W&&Ml(i,W,2),Xs(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[Hn]&=-73,al(i)}finally{Uc()}}}function Y_(t,i){for(let o=lp(t);null!==o;o=Jr(o))for(let a=mr;a<o.length;a++)hy(o[a],i)}function uo(t,i,o){hy(No(i,t),o)}function hy(t,i){if(!function Ju(t){return 128==(128&t[Hn])}(t))return;const o=t[Yt],a=t[Hn];if(80&a&&0===i||1024&a||2===i)om(o,t,o.template,t[Oi]);else if(t[to]>0){Y_(t,1);const c=o.components;null!==c&&Q_(t,c,1)}}function Q_(t,i,o){for(let a=0;a<i.length;a++)uo(t,i[a],o)}class ho{get rootNodes(){const i=this._lView,o=i[Yt];return Vf(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Oi]}set context(i){this._lView[Oi]=i}get destroyed(){return 256==(256&this._lView[Hn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Hi];if(br(i)){const o=i[8],a=o?o.indexOf(this):-1;a>-1&&(fd(i,a),hc(o,a))}this._attachedToViewContainer=!1}nf(this._lView[Yt],this._lView)}onDestroy(i){!function Ha(t,i){if(256==(256&t[Hn]))throw new ge(911,!1);null===t[di]&&(t[di]=[]),t[di].push(i)}(this._lView,i)}markForCheck(){Td(this._cdRefInjectingView||this._lView)}detach(){this._lView[Hn]&=-129}reattach(){this._lView[Hn]|=128}detectChanges(){rm(this._lView[Yt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cp(t,i){su(t,i,i[G],2,null,null)}(this._lView[Yt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=i}}class X_ extends ho{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;rm(i[Yt],i,i[Oi],!1)}checkNoChanges(){}get context(){return null}}class J_ extends Gu{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Jn(i);return new Bf(o,this.ngModule)}}function ev(t){const i=[];for(let o in t)t.hasOwnProperty(o)&&i.push({propName:t[o],templateName:o});return i}class fy{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,a){a=gn(a);const c=this.injector.get(i,Zm,a);return c!==Zm||o===Zm?c:this.parentInjector.get(i,o,a)}}class Bf extends Rp{get inputs(){const i=this.componentDef,o=i.inputTransforms,a=ev(i.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return ev(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Dr(t){return t.map(Or).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,a,c){let p=(c=c||this.ngModule)instanceof _i?c:c?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const b=p?new fy(i,p):i,x=b.get(p_,null);if(null===x)throw new ge(407,!1);const xe={rendererFactory:x,sanitizer:b.get(g_,null),effectManager:b.get(Bo,null),afterRenderEventManager:b.get(ug,null)},ze=x.createRenderer(null,this.componentDef),rt=this.componentDef.selectors[0][0]||"div",xt=a?function F_(t,i,o,a){const p=a.get(D_,!1)||o===Ot.ShadowDom,b=t.selectRootElement(i,p);return function Ch(t){vg(t)}(b),b}(ze,a,this.componentDef.encapsulation,b):eu(ze,rt,function tv(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(rt)),qn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ft=null;null!==xt&&(Ft=bd(xt,b,!0));const Mi=gg(0,null,null,1,0,null,null,null,null,null,null),ir=Yp(null,Mi,null,qn,null,null,xe,ze,b,null,Ft);let oo,Dl;_o(ir);try{const Nd=this.componentDef;let Tm,Bb=null;Nd.findHostDirectiveDefs?(Tm=[],Bb=new Map,Nd.findHostDirectiveDefs(Nd,Tm,Bb),Tm.push(Nd)):Tm=[Nd];const KC=function my(t,i){const o=t[Yt],a=Sn;return t[a]=i,xh(o,a,2,"#host",null)}(ir,xt),ZC=function zb(t,i,o,a,c,p,b){const x=c[Yt];!function gy(t,i,o,a){for(const c of t)i.mergedAttrs=Ai(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(im(i,i.mergedAttrs,!0),null!==o&&ka(a,o,i))}(a,t,i,b);let M=null;null!==i&&(M=bd(i,c[kr]));const W=p.rendererFactory.createRenderer(i,o);let le=16;o.signals?le=4096:o.onPush&&(le=64);const xe=Yp(c,Th(o),null,le,c[t.index],t,p,W,null,null,M);return x.firstCreatePass&&Nf(x,t,a.length-1),kf(c,xe),c[t.index]=xe}(KC,xt,Nd,Tm,ir,xe,ze);Dl=kc(Mi,Sn),xt&&function nv(t,i,o,a){if(a)si(t,o,["ng-version",Pp.full]);else{const{attrs:c,classes:p}=function Zo(t){const i=[],o=[];let a=1,c=2;for(;a<t.length;){let p=t[a];if("string"==typeof p)2===c?""!==p&&i.push(p,t[++a]):8===c&&o.push(p);else{if(!xr(c))break;c=p}a++}return{attrs:i,classes:o}}(i.selectors[0]);c&&si(t,o,c),p&&p.length>0&&Na(t,o,p.join(" "))}}(ze,Nd,xt,a),void 0!==o&&function Uf(t,i,o){const a=t.projection=[];for(let c=0;c<i.length;c++){const p=o[c];a.push(null!=p?Array.from(p):null)}}(Dl,this.ngContentSelectors,o),oo=function _y(t,i,o,a,c,p){const b=mo(),x=c[Yt],M=ai(b,c);Jp(x,c,b,o,null,a);for(let le=0;le<o.length;le++)ss(Oa(c,x,b.directiveStart+le,b),c);em(x,c,b),M&&ss(M,c);const W=Oa(c,x,b.directiveStart+b.componentOffset,b);if(t[Oi]=c[Oi]=W,null!==p)for(const le of p)le(W,i);return Mf(x,b,t),W}(ZC,Nd,Tm,Bb,ir,[vy]),nm(Mi,ir,null)}finally{Uc()}return new py(this.componentType,oo,Ed(Dl,ir),ir,Dl)}}class py extends Wv{constructor(i,o,a,c,p){super(),this.location=a,this._rootLView=c,this._tNode=p,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new X_(c),this.componentType=i}setInput(i,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),o))return;const p=this._rootLView;Qi(p[Yt],p,c,i,o),this.previousInputValues.set(i,o),Td(No(this._tNode.index,p))}}get injector(){return new qo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function vy(){const t=mo();Sa(Tt()[Yt],t)}function Sc(t){let i=function fu(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;i;){let c;if(Ke(t))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ge(903,!1);c=i.\u0275dir}if(c){if(o){a.push(c);const b=t;b.inputs=Rc(t.inputs),b.inputTransforms=Rc(t.inputTransforms),b.declaredInputs=Rc(t.declaredInputs),b.outputs=Rc(t.outputs);const x=c.hostBindings;x&&by(t,x);const M=c.viewQuery,W=c.contentQueries;if(M&&sm(t,M),W&&yy(t,W),ve(t.inputs,c.inputs),ve(t.declaredInputs,c.declaredInputs),ve(t.outputs,c.outputs),null!==c.inputTransforms&&(null===b.inputTransforms&&(b.inputTransforms={}),ve(b.inputTransforms,c.inputTransforms)),Ke(c)&&c.data.animation){const le=t.data;le.animation=(le.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let b=0;b<p.length;b++){const x=p[b];x&&x.ngInherit&&x(t),x===Sc&&(o=!1)}}i=Object.getPrototypeOf(i)}!function $b(t){let i=0,o=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=i+=c.hostVars,c.hostAttrs=Ai(c.hostAttrs,o=Ai(o,c.hostAttrs))}}(a)}function Rc(t){return t===Kt?{}:t===Bt?[]:t}function sm(t,i){const o=t.viewQuery;t.viewQuery=o?(a,c)=>{i(a,c),o(a,c)}:i}function yy(t,i){const o=t.contentQueries;t.contentQueries=o?(a,c,p)=>{i(a,c,p),o(a,c,p)}:i}function by(t,i){const o=t.hostBindings;t.hostBindings=o?(a,c)=>{i(a,c),o(a,c)}:i}function ov(t){const i=t.inputConfig,o={};for(const a in i)if(i.hasOwnProperty(a)){const c=i[a];Array.isArray(c)&&c[2]&&(o[a]=c[2])}t.inputTransforms=o}function cm(t){return!!um(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function um(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Rs(t,i,o){return!Object.is(t[i],o)&&(t[i]=o,!0)}function Mh(t,i,o,a){const c=Tt();return Rs(c,P(),i)&&(gi(),Zl(Qr(),c,t,i,o,a)),Mh}function Mc(t,i,o,a){return Rs(t,P(),o)?i+Me(o)+a:Ci}function gv(t,i,o,a,c,p,b,x){const M=Tt(),W=gi(),le=t+Sn,xe=W.firstCreatePass?function Ly(t,i,o,a,c,p,b,x,M){const W=i.consts,le=xh(i,t,4,b||null,ao(W,x));Dh(i,o,le,ao(W,M)),Sa(i,le);const xe=le.tView=gg(2,le,a,c,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,W,null);return null!==i.queries&&(i.queries.template(i,le),xe.queries=i.queries.embeddedTView(le)),le}(le,W,M,i,o,a,c,p,b):W.data[le];Yr(xe,!1);const ze=_v(W,M,xe,t);lc()&&Uu(W,M,ze,xe),ss(ze,M),kf(M,M[le]=G_(ze,M,ze,xe)),Ve(xe)&&Pf(W,M,xe),null!=b&&mg(M,xe,x)}let _v=function Od(t,i,o,a){return da(!0),i[G].createComment("")};function kg(t,i,o){const a=Tt();return Rs(a,P(),i)&&ma(gi(),Qr(),a,t,i,a[G],o,!1),kg}function Fg(t,i,o,a,c){const b=c?"class":"style";Qi(t,o,i.inputs[b],b,a)}function Lg(t,i,o,a){const c=Tt(),p=gi(),b=Sn+t,x=c[G],M=p.firstCreatePass?function Uy(t,i,o,a,c,p){const b=i.consts,M=xh(i,t,2,a,ao(b,c));return Dh(i,o,M,ao(b,p)),null!==M.attrs&&im(M,M.attrs,!1),null!==M.mergedAttrs&&im(M,M.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,M),M}(b,p,c,i,o,a):p.data[b],W=jy(p,c,M,x,i,t);c[b]=W;const le=Ve(M);return Yr(M,!0),ka(x,W,M),32!=(32&M.flags)&&lc()&&Uu(p,c,W,M),0===function Zi(){return pn.lFrame.elementDepthCount}()&&ss(W,c),function ll(){pn.lFrame.elementDepthCount++}(),le&&(Pf(p,c,M),Mf(p,M,c)),null!==a&&mg(c,M),Lg}function Vg(){let t=mo();ua()?nt():(t=t.parent,Yr(t,!1));const i=t;(function ac(t){return pn.skipHydrationRootTNode===t})(i)&&function bu(){pn.skipHydrationRootTNode=null}(),function Lr(){pn.lFrame.elementDepthCount--}();const o=gi();return o.firstCreatePass&&(Sa(o,t),Et(t)&&o.queries.elementEnd(t)),null!=i.classesWithoutHost&&function Hc(t){return 0!=(8&t.flags)}(i)&&Fg(o,i,Tt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function dl(t){return 0!=(16&t.flags)}(i)&&Fg(o,i,Tt(),i.stylesWithoutHost,!1),Vg}function vv(t,i,o,a){return Lg(t,i,o,a),Vg(),vv}let jy=(t,i,o,a,c,p)=>(da(!0),eu(a,c,function Iu(){return pn.lFrame.currentNamespace}()));function Bg(t,i,o){const a=Tt(),c=gi(),p=t+Sn,b=c.firstCreatePass?function $y(t,i,o,a,c){const p=i.consts,b=ao(p,a),x=xh(i,t,8,"ng-container",b);return null!==b&&im(x,b,!0),Dh(i,o,x,ao(p,c)),null!==i.queries&&i.queries.elementStart(i,x),x}(p,c,a,i,o):c.data[p];Yr(b,!0);const x=mu(c,a,b,t);return a[p]=x,lc()&&Uu(c,a,x,b),ss(x,a),Ve(b)&&(Pf(c,a,b),Mf(c,b,a)),null!=o&&mg(a,b),Bg}function mm(){let t=mo();const i=gi();return ua()?nt():(t=t.parent,Yr(t,!1)),i.firstCreatePass&&(Sa(i,t),Et(t)&&i.queries.elementEnd(t)),mm}let mu=(t,i,o,a)=>(da(!0),Qd(i[G],""));function yv(){return Tt()}function jg(t){return!!t&&"function"==typeof t.then}function bv(t){return!!t&&"function"==typeof t.subscribe}function Hg(t,i,o,a){const c=Tt(),p=gi(),b=mo();return qy(p,c,c[G],b,t,i,a),Hg}function zg(t,i){const o=mo(),a=Tt(),c=gi();return qy(c,a,Tg(ot(c.data),o,a),o,t,i),zg}function qy(t,i,o,a,c,p,b){const x=Ve(a),W=t.firstCreatePass&&xg(t),le=i[Oi],xe=wg(i);let ze=!0;if(3&a.type||b){const qt=ai(a,i),xn=b?b(qt):qt,qn=xe.length,Ft=b?ir=>b(Mt(ir[a.index])):a.index;let Mi=null;if(!b&&x&&(Mi=function Zb(t,i,o,a){const c=t.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const b=c[p];if(b===o&&c[p+1]===a){const x=i[Vr],M=c[p+2];return x.length>M?x[M]:null}"string"==typeof b&&(p+=2)}return null}(t,i,c,a.index)),null!==Mi)(Mi.__ngLastListenerFn__||Mi).__ngNextListenerFn__=p,Mi.__ngLastListenerFn__=p,ze=!1;else{p=Ev(a,i,le,p,!1);const ir=o.listen(xn,c,p);xe.push(p,ir),W&&W.push(c,Ft,qn,qn+1)}}else p=Ev(a,i,le,p,!1);const rt=a.outputs;let xt;if(ze&&null!==rt&&(xt=rt[c])){const qt=xt.length;if(qt)for(let xn=0;xn<qt;xn+=2){const oo=i[xt[xn]][xt[xn+1]].subscribe(p),Dl=xe.length;xe.push(p,oo),W&&W.push(c,a.index,Dl,-(Dl+1))}}}function $g(t,i,o,a){try{return zt(6,i,o),!1!==o(a)}catch(c){return Ff(t,c),!1}finally{zt(7,i,o)}}function Ev(t,i,o,a,c){return function p(b){if(b===Function)return a;Td(t.componentOffset>-1?No(t.index,i):i);let M=$g(i,o,a,b),W=p.__ngNextListenerFn__;for(;W;)M=$g(i,o,W,b)&&M,W=W.__ngNextListenerFn__;return c&&!1===M&&b.preventDefault(),M}}function Ky(t=1){return function Lh(t){return(pn.lFrame.contextLView=function jc(t,i){for(;t>0;)i=i[ye],t--;return i}(t,pn.lFrame.contextLView))[Oi]}(t)}function Yb(t,i){let o=null;const a=function Va(t){const i=t.attrs;if(null!=i){const o=i.indexOf(5);if(!(1&o))return i[o+1]}return null}(t);for(let c=0;c<i.length;c++){const p=i[c];if("*"!==p){if(null===a?Ko(t,p,!0):vs(a,p))return c}else o=c}return o}function Zy(t){const i=Tt()[Ne][or];if(!i.projection){const a=i.projection=ea(t?t.length:1,null),c=a.slice();let p=i.child;for(;null!==p;){const b=t?Yb(p,t):0;null!==b&&(c[b]?c[b].projectionNext=p:a[b]=p,c[b]=p),p=p.next}}}function Yy(t,i=0,o){const a=Tt(),c=gi(),p=xh(c,Sn+t,16,null,o||null);null===p.projection&&(p.projection=i),nt(),(!a[cr]||ns())&&32!=(32&p.flags)&&function uf(t,i,o){nh(i[G],0,i,o,Bu(t,o,i),fp(o.parent||i[or],o,i))}(c,a,p)}function f(t,i){return t<<17|i<<2}function g(t){return t>>17&32767}function K(t){return 2|t}function se(t){return(131068&t)>>2}function be(t,i){return-131069&t|i<<2}function ut(t){return 1|t}function hi(t,i,o,a,c){const p=t[o+1],b=null===i;let x=a?g(p):se(p),M=!1;for(;0!==x&&(!1===M||b);){const le=t[x+1];ci(t[x],i)&&(M=!0,t[x+1]=a?ut(le):K(le)),x=a?g(le):se(le)}M&&(t[o+1]=a?K(p):ut(p))}function ci(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&gl(t,i)>=0}const ti={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eo(t){return t.substring(ti.key,ti.keyEnd)}function ec(t,i){const o=ti.textEnd;return o===i?-1:(i=ti.keyEnd=function LI(t,i,o){for(;i<o&&t.charCodeAt(i)>32;)i++;return i}(t,ti.key=i,o),vm(t,i,o))}function vm(t,i,o){for(;i<o&&t.charCodeAt(i)<=32;)i++;return i}function Jy(t,i){return function gu(t,i,o,a){const c=Tt(),p=gi(),b=I(2);p.firstUpdatePass&&n0(p,t,b,a),i!==Ci&&Rs(c,b,i)&&o0(p,p.data[Go()],c,c[G],t,c[b+1]=function ZI(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=Oe(tl(t)))),t}(i,o),a,b)}(t,i,null,!0),Jy}function Qu(t,i){for(let o=function Ms(t){return function Qb(t){ti.key=0,ti.keyEnd=0,ti.value=0,ti.valueEnd=0,ti.textEnd=t.length}(t),ec(t,vm(t,0,ti.textEnd))}(i);o>=0;o=ec(i,o))xs(t,eo(i),!0)}function t0(t,i){return i>=t.expandoStartIndex}function n0(t,i,o,a){const c=t.data;if(null===c[o+1]){const p=c[Go()],b=t0(t,o);a0(p,a)&&null===i&&!b&&(i=!1),i=function HI(t,i,o,a){const c=ot(t);let p=a?i.residualClasses:i.residualStyles;if(null===c)0===(a?i.classBindings:i.styleBindings)&&(o=qg(o=eb(null,t,i,o,a),i.attrs,a),p=null);else{const b=i.directiveStylingLast;if(-1===b||t[b]!==c)if(o=eb(c,t,i,o,a),null===p){let M=function zI(t,i,o){const a=o?i.classBindings:i.styleBindings;if(0!==se(a))return t[g(a)]}(t,i,a);void 0!==M&&Array.isArray(M)&&(M=eb(null,t,i,M[1],a),M=qg(M,i.attrs,a),function $I(t,i,o,a){t[g(o?i.classBindings:i.styleBindings)]=a}(t,i,a,M))}else p=function GI(t,i,o){let a;const c=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<c;p++)a=qg(a,t[p].hostAttrs,o);return qg(a,i.attrs,o)}(t,i,a)}return void 0!==p&&(a?i.residualClasses=p:i.residualStyles=p),o}(c,p,i,a),function sn(t,i,o,a,c,p){let b=p?i.classBindings:i.styleBindings,x=g(b),M=se(b);t[a]=o;let le,W=!1;if(Array.isArray(o)?(le=o[1],(null===le||gl(o,le)>0)&&(W=!0)):le=o,c)if(0!==M){const ze=g(t[x+1]);t[a+1]=f(ze,x),0!==ze&&(t[ze+1]=be(t[ze+1],a)),t[x+1]=function L(t,i){return 131071&t|i<<17}(t[x+1],a)}else t[a+1]=f(x,0),0!==x&&(t[x+1]=be(t[x+1],a)),x=a;else t[a+1]=f(M,0),0===x?x=a:t[M+1]=be(t[M+1],a),M=a;W&&(t[a+1]=K(t[a+1])),hi(t,le,a,!0),hi(t,le,a,!1),function oi(t,i,o,a,c){const p=c?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof i&&gl(p,i)>=0&&(o[a+1]=ut(o[a+1]))}(i,le,t,a,p),b=f(x,M),p?i.classBindings=b:i.styleBindings=b}(c,p,i,o,b,a)}}function eb(t,i,o,a,c){let p=null;const b=o.directiveEnd;let x=o.directiveStylingLast;for(-1===x?x=o.directiveStart:x++;x<b&&(p=i[x],a=qg(a,p.hostAttrs,c),p!==t);)x++;return null!==t&&(o.directiveStylingLast=x),a}function qg(t,i,o){const a=o?1:2;let c=-1;if(null!==i)for(let p=0;p<i.length;p++){const b=i[p];"number"==typeof b?c=b:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),xs(t,b,!!o||i[++p]))}return void 0===t?null:t}function o0(t,i,o,a,c,p,b,x){if(!(3&i.type))return;const M=t.data,W=M[x+1],le=function je(t){return 1==(1&t)}(W)?s0(M,i,o,c,se(W),b):void 0;Iv(le)||(Iv(p)||function S(t){return 2==(2&t)}(W)&&(p=s0(M,null,o,c,x,b)),function pp(t,i,o,a,c){if(i)c?t.addClass(o,a):t.removeClass(o,a);else{let p=-1===a.indexOf("-")?void 0:gc.DashCase;null==c?t.removeStyle(o,a,p):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),p|=gc.Important),t.setStyle(o,a,c,p))}}(a,b,Rt(Go(),o),c,p))}function s0(t,i,o,a,c,p){const b=null===i;let x;for(;c>0;){const M=t[c],W=Array.isArray(M),le=W?M[1]:M,xe=null===le;let ze=o[c+1];ze===Ci&&(ze=xe?Bt:void 0);let rt=xe?ta(ze,a):le===a?ze:void 0;if(W&&!Iv(rt)&&(rt=ta(M,a)),Iv(rt)&&(x=rt,b))return x;const xt=t[c+1];c=b?g(xt):se(xt)}if(null!==i){let M=p?i.residualClasses:i.residualStyles;null!=M&&(x=ta(M,a))}return x}function Iv(t){return void 0!==t}function a0(t,i){return 0!=(t.flags&(i?8:16))}function l0(t,i=""){const o=Tt(),a=gi(),c=t+Sn,p=a.firstCreatePass?xh(a,c,1,i,null):a.data[c],b=c0(a,o,p,i,t);o[c]=b,lc()&&Uu(a,o,b,p),Yr(p,!1)}let c0=(t,i,o,a,c)=>(da(!0),function Hl(t,i){return t.createText(i)}(i[G],a));function tb(t){return wv("",t,""),tb}function wv(t,i,o){const a=Tt(),c=Mc(a,t,i,o);return c!==Ci&&function Dc(t,i,o){const a=Rt(i,t);!function Hs(t,i,o){t.setValue(i,o)}(t[G],a,o)}(a,Go(),c),wv}function v0(t,i,o){!function _u(t,i,o,a){const c=gi(),p=I(2);c.firstUpdatePass&&n0(c,null,p,a);const b=Tt();if(o!==Ci&&Rs(b,p,o)){const x=c.data[Go()];if(a0(x,a)&&!t0(c,p)){let M=a?x.classesWithoutHost:x.stylesWithoutHost;null!==M&&(o=Ze(M,o||"")),Fg(c,x,b,o,a)}else!function KI(t,i,o,a,c,p,b,x){c===Ci&&(c=Bt);let M=0,W=0,le=0<c.length?c[0]:null,xe=0<p.length?p[0]:null;for(;null!==le||null!==xe;){const ze=M<c.length?c[M+1]:void 0,rt=W<p.length?p[W+1]:void 0;let qt,xt=null;le===xe?(M+=2,W+=2,ze!==rt&&(xt=xe,qt=rt)):null===xe||null!==le&&le<xe?(M+=2,xt=le):(W+=2,xt=xe,qt=rt),null!==xt&&o0(t,i,o,a,xt,qt,b,x),le=M<c.length?c[M]:null,xe=W<p.length?p[W]:null}}(c,x,b,b[G],b[p+1],b[p+1]=function WI(t,i,o){if(null==o||""===o)return Bt;const a=[],c=tl(o);if(Array.isArray(c))for(let p=0;p<c.length;p++)t(a,c[p],!0);else if("object"==typeof c)for(const p in c)c.hasOwnProperty(p)&&t(a,p,c[p]);else"string"==typeof c&&i(a,c);return a}(t,i,o),a,p)}}(xs,Qu,Mc(Tt(),t,i,o),!0)}function nb(t,i,o){const a=Tt();if(Rs(a,P(),i)){const p=gi(),b=Qr();ma(p,b,a,t,i,Tg(ot(p.data),b,a),o,!0)}return nb}const qf=void 0;var gw=["en",[["a","p"],["AM","PM"],qf],[["AM","PM"],qf,qf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qf,"{1} 'at' {0}",qf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mw(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let ym={};function ib(t){const i=function _w(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=R0(i);if(o)return o;const a=i.split("-")[0];if(o=R0(a),o)return o;if("en"===a)return gw;throw new ge(701,!1)}function S0(t){return ib(t)[bm.PluralCase]}function R0(t){return t in ym||(ym[t]=Pn.ng&&Pn.ng.common&&Pn.ng.common.locales&&Pn.ng.common.locales[t]),ym[t]}var bm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(bm||{});const Em="en-US";let M0=Em;function sb(t,i,o,a,c){if(t=it(t),Array.isArray(t))for(let p=0;p<t.length;p++)sb(t[p],i,o,a,c);else{const p=gi(),b=Tt(),x=mo();let M=La(t)?t:it(t.provide);const W=ro(t),le=1048575&x.providerIndexes,xe=x.directiveStart,ze=x.providerIndexes>>20;if(La(t)||!t.multi){const rt=new ul(W,c,Cd),xt=lb(M,i,c?le:le+ze,xe);-1===xt?(Ma(Ol(x,b),p,M),ab(p,t,i.length),i.push(M),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),o.push(rt),b.push(rt)):(o[xt]=rt,b[xt]=rt)}else{const rt=lb(M,i,le+ze,xe),xt=lb(M,i,le,le+ze),xn=xt>=0&&o[xt];if(c&&!xn||!c&&!(rt>=0&&o[rt])){Ma(Ol(x,b),p,M);const qn=function mx(t,i,o,a,c){const p=new ul(t,o,Cd);return p.multi=[],p.index=i,p.componentProviders=0,nE(p,c,a&&!o),p}(c?px:fx,o.length,c,a,W);!c&&xn&&(o[xt].providerFactory=qn),ab(p,t,i.length,0),i.push(M),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),o.push(qn),b.push(qn)}else ab(p,t,rt>-1?rt:xt,nE(o[c?xt:rt],W,!c&&a));!c&&a&&xn&&o[xt].componentProviders++}}}function ab(t,i,o,a){const c=La(i),p=function Wl(t){return!!t.useClass}(i);if(c||p){const M=(p?it(i.useClass):i).prototype.ngOnDestroy;if(M){const W=t.destroyHooks||(t.destroyHooks=[]);if(!c&&i.multi){const le=W.indexOf(o);-1===le?W.push(o,[a,M]):W[le+1].push(a,M)}else W.push(o,M)}}}function nE(t,i,o){return o&&t.componentProviders++,t.multi.push(i)-1}function lb(t,i,o,a){for(let c=o;c<a;c++)if(i[c]===t)return c;return-1}function fx(t,i,o,a){return cb(this.multi,[])}function px(t,i,o,a){const c=this.multi;let p;if(this.providerFactory){const b=this.providerFactory.componentProviders,x=Oa(o,o[Yt],this.providerFactory.index,a);p=x.slice(0,b),cb(c,p);for(let M=b;M<x.length;M++)p.push(x[M])}else p=[],cb(c,p);return p}function cb(t,i){for(let o=0;o<t.length;o++)i.push((0,t[o])());return i}function iE(t,i=[]){return o=>{o.providersResolver=(a,c)=>function hx(t,i,o){const a=gi();if(a.firstCreatePass){const c=Ke(t);sb(o,a.data,a.blueprint,c,!0),sb(i,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,i)}}class Kf{}class rE{}function gx(t,i){return new ub(t,i??null,[])}class ub extends Kf{constructor(i,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new J_(this);const c=tr(i);this._bootstrapComponents=Kl(c.bootstrap),this._r3Injector=wd(i,o,[{provide:Kf,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver},...a],Oe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class db extends rE{constructor(i){super(),this.moduleType=i}create(i){return new ub(this.moduleType,i,[])}}class oE extends Kf{constructor(i){super(),this.componentFactoryResolver=new J_(this),this.instance=null;const o=new jr([...i.providers,{provide:Kf,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver}],i.parent||ei(),i.debugName,new Set(["environment"]));this.injector=o,i.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function sE(t,i,o=null){return new oE({providers:t,parent:i,debugName:o,runEnvironmentInitializers:!0}).injector}let vx=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=Yi(0,o.type),c=a.length>0?sE([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,c)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Dn({token:t,providedIn:"environment",factory:()=>new t(St(_i))})}return t})();function aE(t){t.getStandaloneInjector=i=>i.get(vx).getOrCreateStandaloneInjector(t)}function $x(){return this._results[Symbol.iterator]()}class fb{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Cc)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=fb.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=$x)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const a=this;a.dirty=!1;const c=function Us(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function od(t,i,o){if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],p=i[a];if(o&&(c=o(c),p=o(p)),p!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Wx(t,i,o,a=!0){const c=i[Yt];if(function up(t,i,o,a){const c=mr+a,p=o.length;a>0&&(o[c-1][Nr]=i),a<p-mr?(i[Nr]=o[c],sd(o,mr+a,i)):(o.push(i),i[Nr]=null),i[Hi]=o;const b=i[ft];null!==b&&o!==b&&function o_(t,i){const o=t[bs];i[Ne]!==i[Hi][Hi][Ne]&&(t[bo]=!0),null===o?t[bs]=[i]:o.push(i)}(b,i);const x=i[Xt];null!==x&&x.insertView(t),i[Hn]|=128}(c,i,t,o),a){const p=Il(o,t),b=i[G],x=eh(b,t[Gr]);null!==x&&function Sm(t,i,o,a,c,p){a[Si]=c,a[or]=i,su(t,a,o,1,c,p)}(c,t[or],b,i,x,p)}}let t_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Zx}return t})();const qx=t_,Kx=class extends qx{constructor(i,o,a){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,o){return this.createEmbeddedViewImpl(i,o)}createEmbeddedViewImpl(i,o,a){const c=function Gx(t,i,o,a){const c=i.tView,x=Yp(t,c,o,4096&t[Hn]?4096:16,null,i,null,null,null,a?.injector??null,a?.hydrationInfo??null);x[ft]=t[i.index];const W=t[Xt];return null!==W&&(x[Xt]=W.createEmbeddedView(c)),nm(c,x,o),x}(this._declarationLView,this._declarationTContainer,i,{injector:o,hydrationInfo:a});return new ho(c)}};function Zx(){return Av(mo(),Tt())}function Av(t,i){return 4&t.type?new Kx(i,t,Ed(t,i)):null}let Rv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=tT}return t})();function tT(){return TE(mo(),Tt())}const nT=Rv,wE=class extends nT{constructor(i,o,a){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=a}get element(){return Ed(this._hostTNode,this._hostLView)}get injector(){return new qo(this._hostTNode,this._hostLView)}get parentInjector(){const i=qa(this._hostTNode,this._hostLView);if(xu(i)){const o=Js(i,this._hostLView),a=qr(i);return new qo(o[Yt].data[a+8],o)}return new qo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=xE(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-mr}createEmbeddedView(i,o,a){let c,p;"number"==typeof a?c=a:null!=a&&(c=a.index,p=a.injector);const x=i.createEmbeddedViewImpl(o||{},p,null);return this.insertImpl(x,c,false),x}createComponent(i,o,a,c,p){const b=i&&!function Wc(t){return"function"==typeof t}(i);let x;if(b)x=o;else{const qt=o||{};x=qt.index,a=qt.injector,c=qt.projectableNodes,p=qt.environmentInjector||qt.ngModuleRef}const M=b?i:new Bf(Jn(i)),W=a||this.parentInjector;if(!p&&null==M.ngModule){const xn=(b?W:this.parentInjector).get(_i,null);xn&&(p=xn)}Jn(M.componentType??{});const rt=M.create(W,c,null,p);return this.insertImpl(rt.hostView,x,false),rt}insert(i,o){return this.insertImpl(i,o,!1)}insertImpl(i,o,a){const c=i._lView;if(function Fc(t){return br(t[Hi])}(c)){const M=this.indexOf(i);if(-1!==M)this.detach(M);else{const W=c[Hi],le=new wE(W,W[or],W[Hi]);le.detach(le.indexOf(i))}}const b=this._adjustIndex(o),x=this._lContainer;return Wx(x,c,b,!a),i.attachToViewContainerRef(),sd(pb(x),b,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=xE(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),a=fd(this._lContainer,o);a&&(hc(pb(this._lContainer),o),nf(a[Yt],a))}detach(i){const o=this._adjustIndex(i,-1),a=fd(this._lContainer,o);return a&&null!=hc(pb(this._lContainer),o)?new ho(a):null}_adjustIndex(i,o=0){return i??this.length+o}};function xE(t){return t[8]}function pb(t){return t[8]||(t[8]=[])}function TE(t,i){let o;const a=i[t.index];return br(a)?o=a:(o=G_(a,i,null,t),i[t.index]=o,kf(i,o)),CE(o,i,t,a),new wE(o,t,i)}let CE=function DE(t,i,o,a){if(t[Gr])return;let c;c=8&o.type?Mt(a):function iT(t,i){const o=t[G],a=o.createComment(""),c=ai(i,t);return iu(o,eh(o,c),a,function s_(t,i){return t.nextSibling(i)}(o,c),!1),a}(i,o),t[Gr]=c};class mb{constructor(i){this.queryList=i,this.matches=null}clone(){return new mb(this.queryList)}setDirty(){this.queryList.setDirty()}}class gb{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const a=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let p=0;p<a;p++){const b=o.getByIndex(p);c.push(this.queries[b.indexInDeclarationView].clone())}return new gb(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==FE(i,o).matches&&this.queries[o].setDirty()}}class AE{constructor(i,o,a=null){this.predicate=i,this.flags=o,this.read=a}}class _b{constructor(i=[]){this.queries=i}elementStart(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,p=this.getByIndex(a).embeddedTView(i,c);p&&(p.indexInDeclarationView=a,null!==o?o.push(p):o=[p])}return null!==o?new _b(o):null}template(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class vb{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new vb(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const p=a[c];this.matchTNodeWithReadOption(i,o,sT(o,p)),this.matchTNodeWithReadOption(i,o,Pa(o,i,p,!1,!1))}else a===t_?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Pa(o,i,a,!1,!1))}matchTNodeWithReadOption(i,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Tc||c===Rv||c===t_&&4&o.type)this.addMatch(o.index,-2);else{const p=Pa(o,i,c,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,a)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function sT(t,i){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===i)return o[a+1];return null}function lT(t,i,o,a){return-1===o?function aT(t,i){return 11&t.type?Ed(t,i):4&t.type?Av(t,i):null}(i,t):-2===o?function cT(t,i,o){return o===Tc?Ed(i,t):o===t_?Av(i,t):o===Rv?TE(i,t):void 0}(t,i,a):Oa(t,t[Yt],o,i)}function SE(t,i,o,a){const c=i[Xt].queries[a];if(null===c.matches){const p=t.data,b=o.matches,x=[];for(let M=0;M<b.length;M+=2){const W=b[M];x.push(W<0?null:lT(i,p[W],b[M+1],o.metadata.read))}c.matches=x}return c.matches}function yb(t,i,o,a){const c=t.queries.getByIndex(o),p=c.matches;if(null!==p){const b=SE(t,i,c,o);for(let x=0;x<p.length;x+=2){const M=p[x];if(M>0)a.push(b[x/2]);else{const W=p[x+1],le=i[-M];for(let xe=mr;xe<le.length;xe++){const ze=le[xe];ze[ft]===ze[Hi]&&yb(ze[Yt],ze,W,a)}if(null!==le[bs]){const xe=le[bs];for(let ze=0;ze<xe.length;ze++){const rt=xe[ze];yb(rt[Yt],rt,W,a)}}}}}return a}function RE(t){const i=Tt(),o=gi(),a=un();Vn(a+1);const c=FE(o,a);if(t.dirty&&function ds(t){return 4==(4&t[Hn])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const p=c.crossesNgTemplate?yb(o,i,a,[]):SE(o,i,c,a);t.reset(p,Km),t.notifyOnChanges()}return!0}return!1}function ME(t,i,o){const a=gi();a.firstCreatePass&&(kE(a,new AE(t,i,o),-1),2==(2&i)&&(a.staticViewQueries=!0)),NE(a,Tt(),i)}function PE(t,i,o,a){const c=gi();if(c.firstCreatePass){const p=mo();kE(c,new AE(i,o,a),p.index),function dT(t,i){const o=t.contentQueries||(t.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,i)}(c,t),2==(2&o)&&(c.staticContentQueries=!0)}NE(c,Tt(),o)}function OE(){return function uT(t,i){return t[Xt].queries[i].queryList}(Tt(),un())}function NE(t,i,o){const a=new fb(4==(4&o));(function ny(t,i,o,a){const c=wg(i);c.push(o),t.firstCreatePass&&xg(t).push(a,c.length-1)})(t,i,a,a.destroy),null===i[Xt]&&(i[Xt]=new gb),i[Xt].queries.push(new mb(a))}function kE(t,i,o){null===t.queries&&(t.queries=new _b),t.queries.track(new vb(i,o))}function FE(t,i){return t.queries.getByIndex(i)}function bb(t){return!!tr(t)}const JE=new Qt("Application Initializer");let Tb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=Ht(JE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const c of this.appInits){const p=c();if(jg(p))o.push(p);else if(bv(p)){const b=new Promise((x,M)=>{p.subscribe({complete:x,error:M})});o.push(b)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(c=>{this.reject(c)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eI=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Pv=new Qt("LocaleId",{providedIn:"root",factory:()=>Ht(Pv,ln.Optional|ln.SkipSelf)||function OT(){return typeof $localize<"u"&&$localize.locale||Em}()}),NT=new Qt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let tI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class FT{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let LT=(()=>{class t{compileModuleSync(o){return new db(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),p=Kl(tr(o).declarations).reduce((b,x)=>{const M=Jn(x);return M&&b.push(new Bf(M)),b},[]);return new FT(a,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const oI=new Qt(""),sI=new Qt("");let Ab,oC=(()=>{class t{constructor(o,a,c){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ab||(function sC(t){Ab=t}(c),c.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,c){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==p),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:c})}whenStable(o,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(St(gs),St(aI),St(sI))};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac})}return t})(),aI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return Ab?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Fh=null;const lI=new Qt("AllowMultipleToken"),Sb=new Qt("PlatformDestroyListeners"),Rb=new Qt("appBootstrapListener");class cC{constructor(i,o){this.name=i,this.token=o}}function dI(t,i,o=[]){const a=`Platform: ${i}`,c=new Qt(a);return(p=[])=>{let b=Mb();if(!b||b.injector.get(lI,!1)){const x=[...o,...p,{provide:c,useValue:!0}];t?t(x):function uC(t){if(Fh&&!Fh.get(lI,!1))throw new ge(400,!1);(function cI(){!function wa(t){Ia=t}(()=>{throw new ge(600,!1)})})(),Fh=t;const i=t.get(fI);(function uI(t){t.get(Ip,null)?.forEach(o=>o())})(t)}(function hI(t=[],i){return ra.create({name:i,providers:[{provide:ph,useValue:"platform"},{provide:Sb,useValue:new Set([()=>Fh=null])},...t]})}(x,a))}return function hC(t){const i=Mb();if(!i)throw new ge(401,!1);return i}()}}function Mb(){return Fh?.get(fI)??null}let fI=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const c=function fC(t="zone.js",i){return"noop"===t?new Qv:"zone.js"===t?new gs(i):t}(a?.ngZone,function pI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const p=function _x(t,i,o){return new ub(t,i,o)}(o.moduleType,this.injector,function yI(t){return[{provide:gs,useFactory:t},{provide:wn,multi:!0,useFactory:()=>{const i=Ht(mC,{optional:!0});return()=>i.initialize()}},{provide:vI,useFactory:pC},{provide:x_,useFactory:Bp}]}(()=>c)),b=p.injector.get(Wu,null);return c.runOutsideAngular(()=>{const x=c.onError.subscribe({next:M=>{b.handleError(M)}});p.onDestroy(()=>{Nv(this._modules,p),x.unsubscribe()})}),function mI(t,i,o){try{const a=o();return jg(a)?a.catch(c=>{throw i.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw i.runOutsideAngular(()=>t.handleError(a)),a}}(b,c,()=>{const x=p.injector.get(Tb);return x.runInitializers(),x.donePromise.then(()=>(function P0(t){Pe(t,"Expected localeId to be defined"),"string"==typeof t&&(M0=t.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Pv,Em)||Em),this._moduleDoBootstrap(p),p))})})}bootstrapModule(o,a=[]){const c=gI({},a);return function aC(t,i,o){const a=new db(o);return Promise.resolve(a)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(o){const a=o.injector.get(xm);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new ge(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(Sb,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(St(ra))};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function gI(t,i){return Array.isArray(i)?i.reduce(gI,t):{...t,...i}}let xm=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ht(vI),this.zoneIsStable=Ht(x_),this.componentTypes=[],this.components=[],this.isStable=Ht(tI).hasPendingTasks.pipe((0,fe.w)(o=>o?(0,Ee.of)(!1):this.zoneIsStable),(0,Se.x)(),(0,Te.B)()),this._injector=Ht(_i)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const c=o instanceof Rp;if(!this._injector.get(Tb).done)throw!c&&Ar(o),new ge(405,!1);let b;b=c?o:this._injector.get(Gu).resolveComponentFactory(o),this.componentTypes.push(b.componentType);const x=function lC(t){return t.isBoundToModule}(b)?void 0:this._injector.get(Kf),W=b.create(ra.NULL,[],a||b.selector,x),le=W.location.nativeElement,xe=W.injector.get(oI,null);return xe?.registerApplication(le),W.onDestroy(()=>{this.detachView(W.hostView),Nv(this.components,W),xe?.unregisterApplication(le)}),this._loadComponent(W),W}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Nv(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(Rb,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Nv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ge(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Nv(t,i){const o=t.indexOf(i);o>-1&&t.splice(o,1)}const vI=new Qt("",{providedIn:"root",factory:()=>Ht(Wu).handleError.bind(void 0)});function pC(){const t=Ht(gs),i=Ht(Wu);return o=>t.runOutsideAngular(()=>i.handleError(o))}let mC=(()=>{class t{constructor(){this.zone=Ht(gs),this.applicationRef=Ht(xm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _C(){return!1}let vC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=yC}return t})();function yC(t){return function bC(t,i,o){if(Ge(t)&&!o){const a=No(t.index,i);return new ho(a,a)}return 47&t.type?new ho(i[Ne],i):null}(mo(),Tt(),16==(16&t))}class wI{constructor(){}supports(i){return cm(i)}create(i){return new CC(i)}}const TC=(t,i)=>i;class CC{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||TC}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,a=this._removalsHead,c=0,p=null;for(;o||a;){const b=!a||o&&o.currentIndex<TI(a,c,p)?o:a,x=TI(b,c,p),M=b.currentIndex;if(b===a)c--,a=a._nextRemoved;else if(o=o._next,null==b.previousIndex)c++;else{p||(p=[]);const W=x-c,le=M-c;if(W!=le){for(let ze=0;ze<W;ze++){const rt=ze<p.length?p[ze]:p[ze]=0,xt=rt+ze;le<=xt&&xt<W&&(p[ze]=rt+1)}p[b.previousIndex]=le-W}}x!==M&&i(b,x,M)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!cm(i))throw new ge(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,p,b,o=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let x=0;x<this.length;x++)p=i[x],b=this._trackByFn(x,p),null!==o&&Object.is(o.trackById,b)?(a&&(o=this._verifyReinsertion(o,p,b,x)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,b,x),a=!0),o=o._next}else c=0,function Ag(t,i){if(Array.isArray(t))for(let o=0;o<t.length;o++)i(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)i(a.value)}}(i,x=>{b=this._trackByFn(c,x),null!==o&&Object.is(o.trackById,b)?(a&&(o=this._verifyReinsertion(o,x,b,c)),Object.is(o.item,x)||this._addIdentityChange(o,x)):(o=this._mismatch(o,x,b,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,a,c){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,p,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,p,c)):i=this._addAfter(new DC(o,a),p,c),i}_verifyReinsertion(i,o,a,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?i=this._reinsertAfter(p,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,p=i._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(i,o,a),this._addToMoves(i,a),i}_moveAfter(i,o,a){return this._unlink(i),this._insertAfter(i,o,a),this._addToMoves(i,a),i}_addAfter(i,o,a){return this._insertAfter(i,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,a){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new xI),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,a=i._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xI),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class DC{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AC{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const o=i._prevDup,a=i._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class xI{constructor(){this.map=new Map}put(i){const o=i.trackById;let a=this.map.get(o);a||(a=new AC,this.map.set(o,a)),a.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TI(t,i,o){const a=t.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+i+c}class CI{constructor(){}supports(i){return i instanceof Map||um(i)}create(){return new SC}}class SC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||um(i)))throw new ge(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const a=i._prev;return o._next=i,o._prev=a,i._prev=o,a&&(a._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const p=c._prev,b=c._next;return p&&(p._next=b),b&&(b._prev=p),c._next=null,c._prev=null,c}const a=new RC(i);return this._records.set(i,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(a=>o(i[a],a))}}class RC{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DI(){return new Fb([new wI])}let Fb=(()=>{class t{static#e=this.\u0275prov=Dn({token:t,providedIn:"root",factory:DI});constructor(o){this.factories=o}static create(o,a){if(null!=a){const c=a.factories.slice();o=o.concat(c)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||DI()),deps:[[t,new Yc,new _l]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(null!=a)return a;throw new ge(901,!1)}}return t})();function AI(){return new Lb([new CI])}let Lb=(()=>{class t{static#e=this.\u0275prov=Dn({token:t,providedIn:"root",factory:AI});constructor(o){this.factories=o}static create(o,a){if(a){const c=a.factories.slice();o=o.concat(c)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||AI()),deps:[[t,new Yc,new _l]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(a)return a;throw new ge(901,!1)}}return t})();const OC=dI(null,"core",[]);let NC=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||t)(St(xm))};static#t=this.\u0275mod=pr({type:t});static#n=this.\u0275inj=Ln({})}return t})();function GC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function qC(t){const i=Jn(t);if(!i)return null;const o=new Bf(i);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},721:(Nt,Be,O)=>{O.d(Be,{Ot:()=>R,ZF:()=>lt,hX:()=>Ze,z6:()=>me});var h=O(3182),H=O(5879),te=O(1920);class R{constructor(Le){return Le}}class me{constructor(){return(0,h.C6)()}}const fe=new H.OlP("angularfire2._apps"),Se={provide:R,useFactory:function Te(ge){return ge&&1===ge.length?ge[0]:new R((0,h.Mq)())},deps:[[new H.FiY,fe]]},ae={provide:me,deps:[[new H.FiY,fe]]};function ve(ge){return(Le,Me)=>{const Xe=Le.runOutsideAngular(()=>ge(Me));return new R(Xe)}}let Oe=(()=>{class ge{constructor(Me){(0,h.KN)("angularfire",te.q4.full,"core"),(0,h.KN)("angularfire",te.q4.full,"app"),(0,h.KN)("angular",H.q4F.full,Me.toString())}static \u0275fac=function(Xe){return new(Xe||ge)(H.LFG(H.Lbi))};static \u0275mod=H.oAB({type:ge});static \u0275inj=H.cJS({providers:[Se,ae]})}return ge})();function Ze(ge,...Le){return{ngModule:Oe,providers:[{provide:fe,useFactory:ve(ge),multi:!0,deps:[H.R0b,H.zs3,te.HU,...Le]}]}}const lt=(0,te.u3)(h.ZF,!0)},2637:(Nt,Be,O)=>{O.d(Be,{AR:()=>it,Xb:()=>ct,dh:()=>fe,e5:()=>Pi,gx:()=>Te,v0:()=>dn,w$:()=>li,w7:()=>hn});var h=O(1920),H=O(5879),te=O(721),R=O(3182),me=O(752);class Te{constructor(Gn){return Gn}}class fe{constructor(){return(0,h.vb)("auth")}}const ae=new H.OlP("angularfire2.auth-instances");function Oe(ui){return(Gn,Mn)=>{const vi=Gn.runOutsideAngular(()=>ui(Mn));return new Te(vi)}}const Ze={provide:fe,deps:[[new H.FiY,ae]]},tt={provide:Te,useFactory:function ve(ui,Gn){const Mn=(0,h.JM)("auth",ui,Gn);return Mn&&new Te(Mn)},deps:[[new H.FiY,ae],te.Ot]};let bt=(()=>{class ui{constructor(){(0,R.KN)("angularfire",h.q4.full,"auth")}static \u0275fac=function(vi){return new(vi||ui)};static \u0275mod=H.oAB({type:ui});static \u0275inj=H.cJS({providers:[tt,Ze]})}return ui})();function it(ui,...Gn){return{ngModule:bt,providers:[{provide:ae,useFactory:Oe(ui),multi:!0,deps:[H.R0b,H.zs3,h.HU,te.z6,[new H.FiY,h.Rf],...Gn]}]}}const ct=(0,h.u3)(me.Xb,!0),dn=(0,h.u3)(me.v0,!0),li=(0,h.u3)(me.w$,!0),Pi=(0,h.u3)(me.e5,!0),hn=(0,h.u3)(me.w7,!0)},1160:(Nt,Be,O)=>{O.d(Be,{ST:()=>gn});var h=O(6814),H=O(5879),te=O(1920),R=O(7217),Ee=(O(6365),O(8645)),Te=O(2096),fe=O(5592),Se=O(2459),ae=O(3019),ve=O(3093),Oe=O(4664),Ze=O(7398),tt=O(4552);class bt extends Ee.x{constructor(ie=1/0,Ie=1/0,_e=tt.l){super(),this._bufferSize=ie,this._windowTime=Ie,this._timestampProvider=_e,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ie===1/0,this._bufferSize=Math.max(1,ie),this._windowTime=Math.max(1,Ie)}next(ie){const{isStopped:Ie,_buffer:_e,_infiniteTimeWindow:we,_timestampProvider:at,_windowTime:Ot}=this;Ie||(_e.push(ie),!we&&_e.push(at.now()+Ot)),this._trimBuffer(),super.next(ie)}_subscribe(ie){this._throwIfClosed(),this._trimBuffer();const Ie=this._innerSubscribe(ie),{_infiniteTimeWindow:_e,_buffer:we}=this,at=we.slice();for(let Ot=0;Ot<at.length&&!ie.closed;Ot+=_e?1:2)ie.next(at[Ot]);return this._checkFinalizedStatuses(ie),Ie}_trimBuffer(){const{_bufferSize:ie,_timestampProvider:Ie,_buffer:_e,_infiniteTimeWindow:we}=this,at=(we?1:2)*ie;if(ie<1/0&&at<_e.length&&_e.splice(0,_e.length-at),!we){const Ot=Ie.now();let Kt=0;for(let Bt=1;Bt<_e.length&&_e[Bt]<=Ot;Bt+=2)Kt=Bt;Kt&&_e.splice(0,Kt+1)}}}var it=O(3020);function lt(et,ie,Ie){let _e,we=!1;return et&&"object"==typeof et?({bufferSize:_e=1/0,windowTime:ie=1/0,refCount:we=!1,scheduler:Ie}=et):_e=et??1/0,(0,it.B)({connector:()=>new bt(_e,ie,Ie),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:we})}var pt=O(1374),Pt=O(4674);function _t(et,ie){return(0,Pt.m)(ie)?(0,Oe.w)(()=>et,ie):(0,Oe.w)(()=>et)}var ge=O(5137),Le=O(2181);O(7142);const ct=new H.OlP("angularfire2.auth.use-emulator"),Fe=new H.OlP("angularfire2.auth.settings"),Wt=new H.OlP("angularfire2.auth.tenant-id"),Ut=new H.OlP("angularfire2.auth.langugage-code"),dn=new H.OlP("angularfire2.auth.use-device-language"),an=new H.OlP("angularfire.auth.persistence"),jt=(et,ie,Ie,_e,we,at,Ot,Kt)=>(0,R.cc)(`${et.name}.auth`,"AngularFireAuth",et.name,()=>{const Bt=ie.runOutsideAngular(()=>et.auth());if(Ie&&Bt.useEmulator(...Ie),_e&&(Bt.tenantId=_e),Bt.languageCode=we,at&&Bt.useDeviceLanguage(),Ot)for(const[Un,yi]of Object.entries(Ot))Bt.settings[Un]=yi;return Kt&&Bt.setPersistence(Kt),Bt},[Ie,_e,we,at,Ot,Kt]);let bi=(()=>{class et{authState;idToken;user;idTokenResult;credential;constructor(Ie,_e,we,at,Ot,Kt,Bt,Un,yi,xi,Ji,Ti){const Cr=new Ee.x,er=(0,Te.of)(void 0).pipe((0,ve.Q)(Ot.outsideAngular),(0,Oe.w)(()=>at.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,6365)))),(0,Ze.U)(()=>(0,R.on)(Ie,at,_e)),(0,Ze.U)(zr=>jt(zr,at,Kt,Un,yi,xi,Bt,Ji)),lt({bufferSize:1,refCount:!1}));if((0,h.PM)(we))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Te.of)(null);else{er.pipe((0,pt.P)()).subscribe();const zr=er.pipe((0,Oe.w)(pi=>pi.getRedirectResult().then(Ai=>Ai,()=>null)),te.iC,lt({bufferSize:1,refCount:!1})),si=er.pipe((0,Oe.w)(pi=>new fe.y(Ai=>({unsubscribe:at.runOutsideAngular(()=>pi.onAuthStateChanged(Vi=>Ai.next(Vi),Vi=>Ai.error(Vi),()=>Ai.complete()))})))),Pr=er.pipe((0,Oe.w)(pi=>new fe.y(Ai=>({unsubscribe:at.runOutsideAngular(()=>pi.onIdTokenChanged(Vi=>Ai.next(Vi),Vi=>Ai.error(Vi),()=>Ai.complete()))}))));this.authState=zr.pipe(_t(si),(0,ge.R)(Ot.outsideAngular),(0,ve.Q)(Ot.insideAngular)),this.user=zr.pipe(_t(Pr),(0,ge.R)(Ot.outsideAngular),(0,ve.Q)(Ot.insideAngular)),this.idToken=this.user.pipe((0,Oe.w)(pi=>pi?(0,Se.D)(pi.getIdToken()):(0,Te.of)(null))),this.idTokenResult=this.user.pipe((0,Oe.w)(pi=>pi?(0,Se.D)(pi.getIdTokenResult()):(0,Te.of)(null))),this.credential=(0,ae.T)(zr,Cr,this.authState.pipe((0,Le.h)(pi=>!pi))).pipe((0,Ze.U)(pi=>pi?.user?pi:null),(0,ge.R)(Ot.outsideAngular),(0,ve.Q)(Ot.insideAngular))}return(0,R.pX)(this,er,at,{spy:{apply:(zr,si,Pr)=>{(zr.startsWith("signIn")||zr.startsWith("createUser"))&&Pr.then(pi=>Cr.next(pi))}}})}static \u0275fac=function(_e){return new(_e||et)(H.LFG(R.Dh),H.LFG(R.xv,8),H.LFG(H.Lbi),H.LFG(H.R0b),H.LFG(te.HU),H.LFG(ct,8),H.LFG(Fe,8),H.LFG(Wt,8),H.LFG(Ut,8),H.LFG(dn,8),H.LFG(an,8),H.LFG(te.Rf,8))};static \u0275prov=H.Yz7({token:et,factory:et.\u0275fac,providedIn:"any"})}return et})();var bn=O(6321),En=O(7921),We=O(9360),Je=O(8251);function Ye(){return(0,We.e)((et,ie)=>{let Ie,_e=!1;et.subscribe((0,Je.x)(ie,we=>{const at=Ie;Ie=we,_e&&ie.next([at,we]),_e=!0}))})}var Qe=O(6699),$e=O(3997),st=O(3106),Pe=O(5776),wt=O(9058),zn=O(4537);function Dn(et,ie){if(void 0===ie)return{merge:!1};if(void 0!==ie.mergeFields&&void 0!==ie.merge)throw new Pe.WA("invalid-argument",`Invalid options passed to function ${et}(): You cannot specify both "merge" and "mergeFields".`);return ie}function _n(){if(typeof Uint8Array>"u")throw new Pe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ln(){if(!(0,Pe.Me)())throw new Pe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class li{constructor(ie){this._delegate=ie}static fromBase64String(ie){return Ln(),new li(Pe.Jj.fromBase64String(ie))}static fromUint8Array(ie){return _n(),new li(Pe.Jj.fromUint8Array(ie))}toBase64(){return Ln(),this._delegate.toBase64()}toUint8Array(){return _n(),this._delegate.toUint8Array()}isEqual(ie){return this._delegate.isEqual(ie._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Bn(et){return function Ei(et,ie){if("object"!=typeof et||null===et)return!1;const Ie=et;for(const _e of ie)if(_e in Ie&&"function"==typeof Ie[_e])return!0;return!1}(et,["next","error","complete"])}class Xn{enableIndexedDbPersistence(ie,Ie){return(0,Pe.ST)(ie._delegate,{forceOwnership:Ie})}enableMultiTabIndexedDbPersistence(ie){return(0,Pe.fH)(ie._delegate)}clearIndexedDbPersistence(ie){return(0,Pe.Fc)(ie._delegate)}}class lr{constructor(ie,Ie,_e){this._delegate=Ie,this._persistenceProvider=_e,this.INTERNAL={delete:()=>this.terminate()},ie instanceof Pe.l7||(this._appCompat=ie)}get _databaseId(){return this._delegate._databaseId}settings(ie){const Ie=this._delegate._getSettings();!ie.merge&&Ie.host!==ie.host&&(0,Pe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ie.merge&&delete(ie=Object.assign(Object.assign({},Ie),ie)).merge,this._delegate._setSettings(ie)}useEmulator(ie,Ie,_e={}){(0,Pe.at)(this._delegate,ie,Ie,_e)}enableNetwork(){return(0,Pe.Ix)(this._delegate)}disableNetwork(){return(0,Pe.TF)(this._delegate)}enablePersistence(ie){let Ie=!1,_e=!1;return ie&&(Ie=!!ie.synchronizeTabs,_e=!!ie.experimentalForceOwningTab,(0,Pe.Wi)("synchronizeTabs",Ie,"experimentalForceOwningTab",_e)),Ie?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,_e)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Pe.Mx)(this._delegate)}onSnapshotsInSync(ie){return(0,Pe.sc)(this._delegate,ie)}get app(){if(!this._appCompat)throw new Pe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ie){try{return new hr(this,(0,Pe.hJ)(this._delegate,ie))}catch(Ie){throw en(Ie,"collection()","Firestore.collection()")}}doc(ie){try{return new fn(this,(0,Pe.JU)(this._delegate,ie))}catch(Ie){throw en(Ie,"doc()","Firestore.doc()")}}collectionGroup(ie){try{return new $n(this,(0,Pe.B$)(this._delegate,ie))}catch(Ie){throw en(Ie,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ie){return(0,Pe.i3)(this._delegate,Ie=>ie(new Pi(this,Ie)))}batch(){return(0,Pe.qY)(this._delegate),new Ii(new Pe.PU(this._delegate,ie=>(0,Pe.GL)(this._delegate,ie)))}loadBundle(ie){return(0,Pe.Pb)(this._delegate,ie)}namedQuery(ie){return(0,Pe.L$)(this._delegate,ie).then(Ie=>Ie?new $n(this,Ie):null)}}class Li extends Pe.u7{constructor(ie){super(),this.firestore=ie}convertBytes(ie){return new li(new Pe.Jj(ie))}convertReference(ie){const Ie=this.convertDocumentKey(ie,this.firestore._databaseId);return fn.forKey(Ie,this.firestore,null)}}class Pi{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie,this._userDataWriter=new Li(ie)}get(ie){const Ie=vn(ie);return this._delegate.get(Ie).then(_e=>new ki(this._firestore,new Pe.xU(this._firestore._delegate,this._userDataWriter,_e._key,_e._document,_e.metadata,Ie.converter)))}set(ie,Ie,_e){const we=vn(ie);return _e?(Dn("Transaction.set",_e),this._delegate.set(we,Ie,_e)):this._delegate.set(we,Ie),this}update(ie,Ie,_e,...we){const at=vn(ie);return 2===arguments.length?this._delegate.update(at,Ie):this._delegate.update(at,Ie,_e,...we),this}delete(ie){const Ie=vn(ie);return this._delegate.delete(Ie),this}}class Ii{constructor(ie){this._delegate=ie}set(ie,Ie,_e){const we=vn(ie);return _e?(Dn("WriteBatch.set",_e),this._delegate.set(we,Ie,_e)):this._delegate.set(we,Ie),this}update(ie,Ie,_e,...we){const at=vn(ie);return 2===arguments.length?this._delegate.update(at,Ie):this._delegate.update(at,Ie,_e,...we),this}delete(ie){const Ie=vn(ie);return this._delegate.delete(Ie),this}commit(){return this._delegate.commit()}}class ln{constructor(ie,Ie,_e){this._firestore=ie,this._userDataWriter=Ie,this._delegate=_e}fromFirestore(ie,Ie){const _e=new Pe.$q(this._firestore._delegate,this._userDataWriter,ie._key,ie._document,ie.metadata,null);return this._delegate.fromFirestore(new Pn(this._firestore,_e),Ie??{})}toFirestore(ie,Ie){return Ie?this._delegate.toFirestore(ie,Ie):this._delegate.toFirestore(ie)}static getInstance(ie,Ie){const _e=ln.INSTANCES;let we=_e.get(ie);we||(we=new WeakMap,_e.set(ie,we));let at=we.get(Ie);return at||(at=new ln(ie,new Li(ie),Ie),we.set(Ie,at)),at}}ln.INSTANCES=new WeakMap;class fn{constructor(ie,Ie){this.firestore=ie,this._delegate=Ie,this._userDataWriter=new Li(ie)}static forPath(ie,Ie,_e){if(ie.length%2!=0)throw new Pe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ie.canonicalString()} has ${ie.length}`);return new fn(Ie,new Pe.my(Ie._delegate,_e,new Pe.Ky(ie)))}static forKey(ie,Ie,_e){return new fn(Ie,new Pe.my(Ie._delegate,_e,ie))}get id(){return this._delegate.id}get parent(){return new hr(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ie){try{return new hr(this.firestore,(0,Pe.hJ)(this._delegate,ie))}catch(Ie){throw en(Ie,"collection()","DocumentReference.collection()")}}isEqual(ie){return(ie=(0,wt.m9)(ie))instanceof Pe.my&&(0,Pe.Eo)(this._delegate,ie)}set(ie,Ie){Ie=Dn("DocumentReference.set",Ie);try{return Ie?(0,Pe.pl)(this._delegate,ie,Ie):(0,Pe.pl)(this._delegate,ie)}catch(_e){throw en(_e,"setDoc()","DocumentReference.set()")}}update(ie,Ie,..._e){try{return 1===arguments.length?(0,Pe.r7)(this._delegate,ie):(0,Pe.r7)(this._delegate,ie,Ie,..._e)}catch(we){throw en(we,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Pe.oe)(this._delegate)}onSnapshot(...ie){const Ie=hn(ie),_e=wi(ie,we=>new ki(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,we._key,we._document,we.metadata,this._delegate.converter)));return(0,Pe.cf)(this._delegate,Ie,_e)}get(ie){let Ie;return Ie="cache"===ie?.source?(0,Pe.kl)(this._delegate):"server"===ie?.source?(0,Pe.Xk)(this._delegate):(0,Pe.QT)(this._delegate),Ie.then(_e=>new ki(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,_e._key,_e._document,_e.metadata,this._delegate.converter)))}withConverter(ie){return new fn(this.firestore,this._delegate.withConverter(ie?ln.getInstance(this.firestore,ie):null))}}function en(et,ie,Ie){return et.message=et.message.replace(ie,Ie),et}function hn(et){for(const ie of et)if("object"==typeof ie&&!Bn(ie))return ie;return{}}function wi(et,ie){var Ie,_e;let we;return we=Bn(et[0])?et[0]:Bn(et[1])?et[1]:"function"==typeof et[0]?{next:et[0],error:et[1],complete:et[2]}:{next:et[1],error:et[2],complete:et[3]},{next:at=>{we.next&&we.next(ie(at))},error:null===(Ie=we.error)||void 0===Ie?void 0:Ie.bind(we),complete:null===(_e=we.complete)||void 0===_e?void 0:_e.bind(we)}}class ki{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie}get ref(){return new fn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ie){return this._delegate.data(ie)}get(ie,Ie){return this._delegate.get(ie,Ie)}isEqual(ie){return(0,Pe.qK)(this._delegate,ie._delegate)}}class Pn extends ki{data(ie){const Ie=this._delegate.data(ie);return(0,Pe.K9)(void 0!==Ie,"Document in a QueryDocumentSnapshot should exist"),Ie}}class $n{constructor(ie,Ie){this.firestore=ie,this._delegate=Ie,this._userDataWriter=new Li(ie)}where(ie,Ie,_e){try{return new $n(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.ar)(ie,Ie,_e)))}catch(we){throw en(we,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ie,Ie){try{return new $n(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Xo)(ie,Ie)))}catch(_e){throw en(_e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ie){try{return new $n(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.b9)(ie)))}catch(Ie){throw en(Ie,"limit()","Query.limit()")}}limitToLast(ie){try{return new $n(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.vh)(ie)))}catch(Ie){throw en(Ie,"limitToLast()","Query.limitToLast()")}}startAt(...ie){try{return new $n(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.e0)(...ie)))}catch(Ie){throw en(Ie,"startAt()","Query.startAt()")}}startAfter(...ie){try{return new $n(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.TQ)(...ie)))}catch(Ie){throw en(Ie,"startAfter()","Query.startAfter()")}}endBefore(...ie){try{return new $n(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Lx)(...ie)))}catch(Ie){throw en(Ie,"endBefore()","Query.endBefore()")}}endAt(...ie){try{return new $n(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Wu)(...ie)))}catch(Ie){throw en(Ie,"endAt()","Query.endAt()")}}isEqual(ie){return(0,Pe.iE)(this._delegate,ie._delegate)}get(ie){let Ie;return Ie="cache"===ie?.source?(0,Pe.UQ)(this._delegate):"server"===ie?.source?(0,Pe.zN)(this._delegate):(0,Pe.PL)(this._delegate),Ie.then(_e=>new Qt(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,_e._snapshot)))}onSnapshot(...ie){const Ie=hn(ie),_e=wi(ie,we=>new Qt(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,we._snapshot)));return(0,Pe.cf)(this._delegate,Ie,_e)}withConverter(ie){return new $n(this.firestore,this._delegate.withConverter(ie?ln.getInstance(this.firestore,ie):null))}}class Mr{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie}get type(){return this._delegate.type}get doc(){return new Pn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Qt{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie}get query(){return new $n(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ie=>new Pn(this._firestore,ie))}docChanges(ie){return this._delegate.docChanges(ie).map(Ie=>new Mr(this._firestore,Ie))}forEach(ie,Ie){this._delegate.forEach(_e=>{ie.call(Ie,new Pn(this._firestore,_e))})}isEqual(ie){return(0,Pe.qK)(this._delegate,ie._delegate)}}class hr extends $n{constructor(ie,Ie){super(ie,Ie),this.firestore=ie,this._delegate=Ie}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ie=this._delegate.parent;return ie?new fn(this.firestore,ie):null}doc(ie){try{return new fn(this.firestore,void 0===ie?(0,Pe.JU)(this._delegate):(0,Pe.JU)(this._delegate,ie))}catch(Ie){throw en(Ie,"doc()","CollectionReference.doc()")}}add(ie){return(0,Pe.ET)(this._delegate,ie).then(Ie=>new fn(this.firestore,Ie))}isEqual(ie){return(0,Pe.Eo)(this._delegate,ie._delegate)}withConverter(ie){return new hr(this.firestore,this._delegate.withConverter(ie?ln.getInstance(this.firestore,ie):null))}}function vn(et){return(0,Pe.Cf)(et,Pe.my)}class fi{constructor(...ie){this._delegate=new Pe.Lz(...ie)}static documentId(){return new fi(Pe.Xb.keyField().canonicalString())}isEqual(ie){return(ie=(0,wt.m9)(ie))instanceof Pe.Lz&&this._delegate._internalPath.isEqual(ie._internalPath)}}class Di{constructor(ie){this._delegate=ie}static serverTimestamp(){const ie=(0,Pe.Bt)();return ie._methodName="FieldValue.serverTimestamp",new Di(ie)}static delete(){const ie=(0,Pe.AK)();return ie._methodName="FieldValue.delete",new Di(ie)}static arrayUnion(...ie){const Ie=(0,Pe.vr)(...ie);return Ie._methodName="FieldValue.arrayUnion",new Di(Ie)}static arrayRemove(...ie){const Ie=(0,Pe.Ab)(...ie);return Ie._methodName="FieldValue.arrayRemove",new Di(Ie)}static increment(ie){const Ie=(0,Pe.nP)(ie);return Ie._methodName="FieldValue.increment",new Di(Ie)}isEqual(ie){return this._delegate.isEqual(ie._delegate)}}const ui={Firestore:lr,GeoPoint:Pe.F8,Timestamp:Pe.EK,Blob:li,Transaction:Pi,WriteBatch:Ii,DocumentReference:fn,DocumentSnapshot:ki,Query:$n,QueryDocumentSnapshot:Pn,QuerySnapshot:Qt,CollectionReference:hr,FieldPath:fi,FieldValue:Di,setLogLevel:function ni(et){(0,Pe.Ub)(et)},CACHE_SIZE_UNLIMITED:Pe.IX};function $i(et,ie){return function vi(et,ie=bn.z){return new fe.y(Ie=>{let _e;return null!=ie?ie.schedule(()=>{_e=et.onSnapshot({includeMetadataChanges:!0},Ie)}):_e=et.onSnapshot({includeMetadataChanges:!0},Ie),()=>{_e?.()}})}(et,ie)}function Ui(et,ie){return $i(et,ie).pipe((0,Ze.U)(Ie=>({payload:Ie,type:"query"})))}!function Mn(et){(function Gn(et,ie){et.INTERNAL.registerComponent(new zn.wA("firestore-compat",Ie=>{const _e=Ie.getProvider("app-compat").getImmediate(),we=Ie.getProvider("firestore").getImmediate();return ie(_e,we)},"PUBLIC").setServiceProps(Object.assign({},ui)))})(et,(ie,Ie)=>new lr(ie,Ie,new Xn)),et.registerVersion("@firebase/firestore-compat","0.3.21")}(st.Z);class Gi{ref;afs;constructor(ie,Ie){this.ref=ie,this.afs=Ie}set(ie,Ie){return this.ref.set(ie,Ie)}update(ie){return this.ref.update(ie)}delete(){return this.ref.delete()}collection(ie,Ie){const _e=this.ref.collection(ie),{ref:we,query:at}=Ht(_e,Ie);return new B(we,at,this.afs)}snapshotChanges(){return function Xi(et,ie){return $i(et,ie).pipe((0,En.O)(void 0),Ye(),(0,Ze.U)(Ie=>{const[_e,we]=Ie;return we.exists?_e?.exists?{payload:we,type:"modified"}:{payload:we,type:"added"}:{payload:we,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(ie={}){return this.snapshotChanges().pipe((0,Ze.U)(({payload:Ie})=>ie.idField?{...Ie.data(),[ie.idField]:Ie.id}:Ie.data()))}get(ie){return(0,Se.D)(this.ref.get(ie)).pipe(te.iC)}}function fr(et,ie){return Ui(et,ie).pipe((0,En.O)(void 0),Ye(),(0,Ze.U)(Ie=>{const[_e,we]=Ie,at=we.payload.docChanges(),Ot=at.map(Kt=>({type:Kt.type,payload:Kt}));return _e&&JSON.stringify(_e.payload.metadata)!==JSON.stringify(we.payload.metadata)&&we.payload.docs.forEach((Kt,Bt)=>{const Un=at.find(xi=>xi.doc.ref.isEqual(Kt.ref)),yi=_e?.payload.docs.find(xi=>xi.ref.isEqual(Kt.ref));Un&&JSON.stringify(Un.doc.metadata)===JSON.stringify(Kt.metadata)||!Un&&yi&&JSON.stringify(yi.metadata)===JSON.stringify(Kt.metadata)||Ot.push({type:"modified",payload:{oldIndex:Bt,newIndex:Bt,type:"modified",doc:Kt}})}),Ot}))}function Dt(et,ie,Ie){return fr(et,Ie).pipe((0,Qe.R)((_e,we)=>function oe(et,ie,Ie){return ie.forEach(_e=>{Ie.indexOf(_e.type)>-1&&(et=function F(et,ie){switch(ie.type){case"added":if(!et[ie.newIndex]||!et[ie.newIndex].doc.ref.isEqual(ie.doc.ref))return U(et,ie.newIndex,0,ie);break;case"modified":if(null==et[ie.oldIndex]||et[ie.oldIndex].doc.ref.isEqual(ie.doc.ref)){if(ie.oldIndex!==ie.newIndex){const Ie=et.slice();return Ie.splice(ie.oldIndex,1),Ie.splice(ie.newIndex,0,ie),Ie}return U(et,ie.newIndex,1,ie)}break;case"removed":if(et[ie.oldIndex]&&et[ie.oldIndex].doc.ref.isEqual(ie.doc.ref))return U(et,ie.oldIndex,1)}return et}(et,_e))}),et}(_e,we.map(at=>at.payload),ie),[]),(0,$e.x)(),(0,Ze.U)(_e=>_e.map(we=>({type:we.type,payload:we}))))}function U(et,ie,Ie,..._e){const we=et.slice();return we.splice(ie,Ie,..._e),we}function k(et){return(!et||0===et.length)&&(et=["added","removed","modified"]),et}class B{ref;query;afs;constructor(ie,Ie,_e){this.ref=ie,this.query=Ie,this.afs=_e}stateChanges(ie){let Ie=fr(this.query,this.afs.schedulers.outsideAngular);return ie&&ie.length>0&&(Ie=Ie.pipe((0,Ze.U)(_e=>_e.filter(we=>ie.indexOf(we.type)>-1)))),Ie.pipe((0,En.O)(void 0),Ye(),(0,Le.h)(([_e,we])=>we.length>0||!_e),(0,Ze.U)(([,_e])=>_e),te.iC)}auditTrail(ie){return this.stateChanges(ie).pipe((0,Qe.R)((Ie,_e)=>[...Ie,..._e],[]))}snapshotChanges(ie){const Ie=k(ie);return Dt(this.query,Ie,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(ie={}){return Ui(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.U)(Ie=>Ie.payload.docs.map(_e=>ie.idField?{..._e.data(),[ie.idField]:_e.id}:_e.data())),te.iC)}get(ie){return(0,Se.D)(this.query.get(ie)).pipe(te.iC)}add(ie){return this.ref.add(ie)}doc(ie){return new Gi(this.ref.doc(ie),this.afs)}}class pe{query;afs;constructor(ie,Ie){this.query=ie,this.afs=Ie}stateChanges(ie){return ie&&0!==ie.length?fr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.U)(Ie=>Ie.filter(_e=>ie.indexOf(_e.type)>-1)),(0,Le.h)(Ie=>Ie.length>0),te.iC):fr(this.query,this.afs.schedulers.outsideAngular).pipe(te.iC)}auditTrail(ie){return this.stateChanges(ie).pipe((0,Qe.R)((Ie,_e)=>[...Ie,..._e],[]))}snapshotChanges(ie){const Ie=k(ie);return Dt(this.query,Ie,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(ie={}){return Ui(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.U)(_e=>_e.payload.docs.map(we=>ie.idField?{[ie.idField]:we.id,...we.data()}:we.data())),te.iC)}get(ie){return(0,Se.D)(this.query.get(ie)).pipe(te.iC)}}const Ue=new H.OlP("angularfire2.enableFirestorePersistence"),vt=new H.OlP("angularfire2.firestore.persistenceSettings"),St=new H.OlP("angularfire2.firestore.settings"),Lt=new H.OlP("angularfire2.firestore.use-emulator");function Ht(et,ie=(Ie=>Ie)){return{query:ie(et),ref:et}}let gn=(()=>{class et{schedulers;firestore;persistenceEnabled$;constructor(Ie,_e,we,at,Ot,Kt,Bt,Un,yi,xi,Ji,Ti,Cr,er,zr,si,Pr){this.schedulers=Bt;const pi=(0,R.on)(Ie,Kt,_e),Ai=yi;xi&&jt(pi,Kt,Ji,Cr,er,zr,Ti,si),[this.firestore,this.persistenceEnabled$]=(0,R.cc)(`${pi.name}.firestore`,"AngularFirestore",pi.name,()=>{const Vi=Kt.runOutsideAngular(()=>pi.firestore());if(at&&Vi.settings(at),Ai&&Vi.useEmulator(...Ai),we&&!(0,h.PM)(Ot)){const Uo=()=>{try{return(0,Se.D)(Vi.enablePersistence(Un||void 0).then(()=>!0,()=>!1))}catch(Kr){return typeof console<"u"&&console.warn(Kr),(0,Te.of)(!1)}};return[Vi,Kt.runOutsideAngular(Uo)]}return[Vi,(0,Te.of)(!1)]},[at,Ai,we])}collection(Ie,_e){let we;we="string"==typeof Ie?this.firestore.collection(Ie):Ie;const{ref:at,query:Ot}=Ht(we,_e),Kt=this.schedulers.ngZone.run(()=>at);return new B(Kt,Ot,this)}collectionGroup(Ie,_e){const we=_e||(Ot=>Ot),at=this.firestore.collectionGroup(Ie);return new pe(we(at),this)}doc(Ie){let _e;_e="string"==typeof Ie?this.firestore.doc(Ie):Ie;const we=this.schedulers.ngZone.run(()=>_e);return new Gi(we,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(_e){return new(_e||et)(H.LFG(R.Dh),H.LFG(R.xv,8),H.LFG(Ue,8),H.LFG(St,8),H.LFG(H.Lbi),H.LFG(H.R0b),H.LFG(te.HU),H.LFG(vt,8),H.LFG(Lt,8),H.LFG(bi,8),H.LFG(ct,8),H.LFG(Fe,8),H.LFG(Wt,8),H.LFG(Ut,8),H.LFG(dn,8),H.LFG(an,8),H.LFG(te.Rf,8))};static \u0275prov=H.Yz7({token:et,factory:et.\u0275fac,providedIn:"any"})}return et})()},7217:(Nt,Be,O)=>{O.d(Be,{Dh:()=>Te,GT:()=>me,cc:()=>Ze,on:()=>Se,pX:()=>R,xv:()=>fe});var h=O(5879),H=O(7142);const te=["ngOnDestroy"],R=(lt,pt,Pt,_t={})=>new Proxy(lt,{get:(ge,Le)=>Pt.runOutsideAngular(()=>{if(lt[Le])return _t?.spy?.get&&_t.spy.get(Le,lt[Le]),lt[Le];if(te.indexOf(Le)>-1)return()=>{};const Me=pt.toPromise().then(Xe=>{const ct=Xe?.[Le];return"function"==typeof ct?ct.bind(Xe):ct?.then?ct.then(Fe=>Pt.run(()=>Fe)):Pt.run(()=>ct)});return new Proxy(()=>{},{get:(Xe,ct)=>Me[ct],apply:(Xe,ct,Fe)=>Me.then(Wt=>{const Ut=Wt?.(...Fe);return _t?.spy?.apply&&_t.spy.apply(Le,Fe,Ut),Ut})})})}),me=(lt,pt)=>{pt.forEach(Pt=>{Object.getOwnPropertyNames(Pt.prototype||Pt).forEach(_t=>{Object.defineProperty(lt.prototype,_t,Object.getOwnPropertyDescriptor(Pt.prototype||Pt,_t))})})};class Ee{constructor(pt){return pt}}const Te=new h.OlP("angularfire2.app.options"),fe=new h.OlP("angularfire2.app.name");function Se(lt,pt,Pt){const ge="object"==typeof Pt&&Pt||{};ge.name=ge.name||"string"==typeof Pt&&Pt||"[DEFAULT]";const Me=H.Z.apps.filter(Xe=>Xe&&Xe.name===ge.name)[0]||pt.runOutsideAngular(()=>H.Z.initializeApp(lt,ge));try{if(JSON.stringify(lt)!==JSON.stringify(Me.options)){const Xe=!!module.hot;ae("error",`${Me.name} Firebase App already initialized with different options${Xe?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ee(Me)}const ae=(lt,...pt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[lt](...pt)};function Ze(lt,pt,Pt,_t,ge){const[,Le,Me]=globalThis.\u0275AngularfireInstanceCache.find(Xe=>Xe[0]===lt)||[];if(Le)return function tt(lt,pt){try{return lt.toString()===pt.toString()}catch{return lt===pt}}(ge,Me)||(it("error",`${pt} was already initialized on the ${Pt} Firebase App with different settings.${bt?" You may need to reload as Firebase is not HMR aware.":""}`),it("warn",{is:ge,was:Me})),Le;{const Xe=_t();return globalThis.\u0275AngularfireInstanceCache.push([lt,Xe,ge]),Xe}}const bt=typeof module<"u"&&!!module.hot,it=(lt,...pt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[lt](...pt)};globalThis.\u0275AngularfireInstanceCache||=[]},4643:(Nt,Be,O)=>{O.d(Be,{gg:()=>Te,ET:()=>dn,hJ:()=>Je,ad:()=>hn,Cm:()=>lt});var h=O(1920),H=O(5879),te=O(721),R=O(2637),me=O(3182),Ee=O(5776);class Te{constructor(Ie){return Ie}}const fe="firestore",ve=new H.OlP("angularfire2.firestore-instances");function Ze(ie){return(Ie,_e)=>{const we=Ie.runOutsideAngular(()=>ie(_e));return new Te(we)}}const tt={provide:class Se{constructor(){return(0,h.vb)(fe)}},deps:[[new H.FiY,ve]]},bt={provide:Te,useFactory:function Oe(ie,Ie){const _e=(0,h.JM)(fe,ie,Ie);return _e&&new Te(_e)},deps:[[new H.FiY,ve],te.Ot]};let it=(()=>{class ie{constructor(){(0,me.KN)("angularfire",h.q4.full,"fst")}static \u0275fac=function(we){return new(we||ie)};static \u0275mod=H.oAB({type:ie});static \u0275inj=H.cJS({providers:[bt,tt]})}return ie})();function lt(ie,...Ie){return{ngModule:it,providers:[{provide:ve,useFactory:Ze(ie),multi:!0,deps:[H.R0b,H.zs3,h.HU,te.z6,[new H.FiY,R.dh],[new H.FiY,h.Rf],...Ie]}]}}const dn=(0,h.u3)(Ee.ET,!0),Je=(0,h.u3)(Ee.hJ,!0),hn=(0,h.u3)(Ee.ad,!0)},1920:(Nt,Be,O)=>{O.d(Be,{q4:()=>tt,iC:()=>dn,fc:()=>Wt,HU:()=>Me,Rf:()=>pt,vb:()=>lt,JM:()=>it,u3:()=>bi});var h=O(5879),H=O(3182),te=O(1954),me=O(2631);const Te=new class Ee extends me.v{}(class R extends te.o{constructor(bn,En){super(bn,En),this.scheduler=bn,this.work=En}schedule(bn,En=0){return En>0?super.schedule(bn,En):(this.delay=En,this.state=bn,this.scheduler.flush(this),this)}execute(bn,En){return En>0||this.closed?super.execute(bn,En):this._execute(bn,En)}requestAsyncId(bn,En,We=0){return null!=We&&We>0||null==We&&this.delay>0?super.requestAsyncId(bn,En,We):(bn.flush(this),0)}});var Se=O(6321),ae=O(5592),ve=O(9397),Oe=O(3093),Ze=O(5137);const tt=new h.GfV("ANGULARFIRE2_VERSION");function it(Jt,bn,En){if(bn){if(1===bn.length)return bn[0];const Ye=bn.filter(Qe=>Qe.app===En);if(1===Ye.length)return Ye[0]}return En.container.getProvider(Jt).getImmediate({optional:!0})}const lt=(Jt,bn)=>{const En=bn?[bn]:(0,H.C6)(),We=[];return En.forEach(Je=>{Je.container.getProvider(Jt).instances.forEach(Qe=>{We.includes(Qe)||We.push(Qe)})}),We};class pt{constructor(){return lt(Pt)}}const Pt="app-check";function _t(){}class ge{zone;delegate;constructor(bn,En=Te){this.zone=bn,this.delegate=En}now(){return this.delegate.now()}schedule(bn,En,We){const Je=this.zone;return this.delegate.schedule(function(Qe){Je.runGuarded(()=>{bn.apply(this,[Qe])})},En,We)}}class Le{zone;task=null;constructor(bn){this.zone=bn}call(bn,En){const We=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_t,{},_t,_t)),En.pipe((0,ve.b)({next:We,complete:We,error:We})).subscribe(bn).add(We)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Me=(()=>{class Jt{ngZone;outsideAngular;insideAngular;constructor(En){this.ngZone=En,this.outsideAngular=En.runOutsideAngular(()=>new ge(Zone.current)),this.insideAngular=En.run(()=>new ge(Zone.current,Se.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(We){return new(We||Jt)(h.LFG(h.R0b))};static \u0275prov=h.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"})}return Jt})();function Xe(){const Jt=globalThis.\u0275AngularFireScheduler;if(!Jt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Jt}function Fe(Jt){return Xe().ngZone.run(()=>Jt())}function Wt(Jt){return Jt.pipe((0,Oe.Q)(Xe().outsideAngular))}function dn(Jt){return function an(Jt){return function(En){return(En=En.lift(new Le(Jt.ngZone))).pipe((0,Ze.R)(Jt.outsideAngular),(0,Oe.Q)(Jt.insideAngular))}}(Xe())(Jt)}const jt=(Jt,bn)=>function(){const We=arguments;return bn&&setTimeout(()=>{"scheduled"===bn.state&&bn.invoke()},10),Fe(()=>Jt.apply(void 0,We))},bi=(Jt,bn)=>function(){let En;const We=arguments;for(let Ye=0;Ye<arguments.length;Ye++)"function"==typeof We[Ye]&&(bn&&(En||=Fe(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_t,{},_t,_t))),We[Ye]=jt(We[Ye],En));const Je=function ct(Jt){return Xe().ngZone.runOutsideAngular(()=>Jt())}(()=>Jt.apply(this,We));if(!bn){if(Je instanceof ae.y){const Ye=Xe();return Je.pipe((0,Ze.R)(Ye.outsideAngular),(0,Oe.Q)(Ye.insideAngular))}return Fe(()=>Je)}return Je instanceof ae.y?Je.pipe(dn):Je instanceof Promise?Fe(()=>new Promise((Ye,Qe)=>Je.then($e=>Fe(()=>Ye($e)),$e=>Fe(()=>Qe($e))))):"function"==typeof Je&&En?function(){return setTimeout(()=>{En&&"scheduled"===En.state&&En.invoke()},10),Je.apply(this,arguments)}:Fe(()=>Je)}},6223:(Nt,Be,O)=>{O.d(Be,{EJ:()=>to,Fj:()=>tt,JJ:()=>Xn,JL:()=>lr,Kr:()=>$,NI:()=>jo,On:()=>Dr,UX:()=>Ro,YN:()=>or,_Y:()=>Zo,cw:()=>U,kI:()=>_t,sg:()=>tr,u:()=>Yt,u5:()=>Zr});var h=O(5879),H=O(6814),te=O(2459),R=O(9315),me=O(7398);let Ee=(()=>{class Y{constructor(j,de){this._renderer=j,this._elementRef=de,this.onChange=ke=>{},this.onTouched=()=>{}}setProperty(j,de){this._renderer.setProperty(this._elementRef.nativeElement,j,de)}registerOnTouched(j){this.onTouched=j}registerOnChange(j){this.onChange=j}setDisabledState(j){this.setProperty("disabled",j)}static#e=this.\u0275fac=function(de){return new(de||Y)(h.Y36(h.Qsj),h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:Y})}return Y})(),Te=(()=>{class Y extends Ee{static#e=this.\u0275fac=function(){let j;return function(ke){return(j||(j=h.n5z(Y)))(ke||Y)}}();static#t=this.\u0275dir=h.lG2({type:Y,features:[h.qOj]})}return Y})();const fe=new h.OlP("NgValueAccessor"),ve={provide:fe,useExisting:(0,h.Gpc)(()=>tt),multi:!0},Ze=new h.OlP("CompositionEventMode");let tt=(()=>{class Y extends Ee{constructor(j,de,ke){super(j,de),this._compositionMode=ke,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Oe(){const Y=(0,H.q)()?(0,H.q)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(j){this.setProperty("value",j??"")}_handleInput(j){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(j)}_compositionStart(){this._composing=!0}_compositionEnd(j){this._composing=!1,this._compositionMode&&this.onChange(j)}static#e=this.\u0275fac=function(de){return new(de||Y)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Ze,8))};static#t=this.\u0275dir=h.lG2({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(de,ke){1&de&&h.NdJ("input",function(Qn){return ke._handleInput(Qn.target.value)})("blur",function(){return ke.onTouched()})("compositionstart",function(){return ke._compositionStart()})("compositionend",function(Qn){return ke._compositionEnd(Qn.target.value)})},features:[h._Bn([ve]),h.qOj]})}return Y})();function bt(Y){return null==Y||("string"==typeof Y||Array.isArray(Y))&&0===Y.length}function it(Y){return null!=Y&&"number"==typeof Y.length}const lt=new h.OlP("NgValidators"),pt=new h.OlP("NgAsyncValidators"),Pt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _t{static min(ee){return function ge(Y){return ee=>{if(bt(ee.value)||bt(Y))return null;const j=parseFloat(ee.value);return!isNaN(j)&&j<Y?{min:{min:Y,actual:ee.value}}:null}}(ee)}static max(ee){return function Le(Y){return ee=>{if(bt(ee.value)||bt(Y))return null;const j=parseFloat(ee.value);return!isNaN(j)&&j>Y?{max:{max:Y,actual:ee.value}}:null}}(ee)}static required(ee){return function Me(Y){return bt(Y.value)?{required:!0}:null}(ee)}static requiredTrue(ee){return function Xe(Y){return!0===Y.value?null:{required:!0}}(ee)}static email(ee){return function ct(Y){return bt(Y.value)||Pt.test(Y.value)?null:{email:!0}}(ee)}static minLength(ee){return function Fe(Y){return ee=>bt(ee.value)||!it(ee.value)?null:ee.value.length<Y?{minlength:{requiredLength:Y,actualLength:ee.value.length}}:null}(ee)}static maxLength(ee){return function Wt(Y){return ee=>it(ee.value)&&ee.value.length>Y?{maxlength:{requiredLength:Y,actualLength:ee.value.length}}:null}(ee)}static pattern(ee){return function Ut(Y){if(!Y)return dn;let ee,j;return"string"==typeof Y?(j="","^"!==Y.charAt(0)&&(j+="^"),j+=Y,"$"!==Y.charAt(Y.length-1)&&(j+="$"),ee=new RegExp(j)):(j=Y.toString(),ee=Y),de=>{if(bt(de.value))return null;const ke=de.value;return ee.test(ke)?null:{pattern:{requiredPattern:j,actualValue:ke}}}}(ee)}static nullValidator(ee){return null}static compose(ee){return We(ee)}static composeAsync(ee){return Ye(ee)}}function dn(Y){return null}function an(Y){return null!=Y}function jt(Y){return(0,h.QGY)(Y)?(0,te.D)(Y):Y}function bi(Y){let ee={};return Y.forEach(j=>{ee=null!=j?{...ee,...j}:ee}),0===Object.keys(ee).length?null:ee}function Jt(Y,ee){return ee.map(j=>j(Y))}function En(Y){return Y.map(ee=>function bn(Y){return!Y.validate}(ee)?ee:j=>ee.validate(j))}function We(Y){if(!Y)return null;const ee=Y.filter(an);return 0==ee.length?null:function(j){return bi(Jt(j,ee))}}function Je(Y){return null!=Y?We(En(Y)):null}function Ye(Y){if(!Y)return null;const ee=Y.filter(an);return 0==ee.length?null:function(j){const de=Jt(j,ee).map(jt);return(0,R.D)(de).pipe((0,me.U)(bi))}}function Qe(Y){return null!=Y?Ye(En(Y)):null}function $e(Y,ee){return null===Y?[ee]:Array.isArray(Y)?[...Y,ee]:[Y,ee]}function st(Y){return Y._rawValidators}function Pe(Y){return Y._rawAsyncValidators}function wt(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function zn(Y,ee){return Array.isArray(Y)?Y.includes(ee):Y===ee}function rn(Y,ee){const j=wt(ee);return wt(Y).forEach(ke=>{zn(j,ke)||j.push(ke)}),j}function Kn(Y,ee){return wt(ee).filter(j=>!zn(Y,j))}class Dn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=Je(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=Qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,j){return!!this.control&&this.control.hasError(ee,j)}getError(ee,j){return this.control?this.control.getError(ee,j):null}}class _n extends Dn{get formDirective(){return null}get path(){return null}}class Ln extends Dn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class li{constructor(ee){this._cd=ee}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xn=(()=>{class Y extends li{constructor(j){super(j)}static#e=this.\u0275fac=function(de){return new(de||Y)(h.Y36(Ln,2))};static#t=this.\u0275dir=h.lG2({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(de,ke){2&de&&h.ekj("ng-untouched",ke.isUntouched)("ng-touched",ke.isTouched)("ng-pristine",ke.isPristine)("ng-dirty",ke.isDirty)("ng-valid",ke.isValid)("ng-invalid",ke.isInvalid)("ng-pending",ke.isPending)},features:[h.qOj]})}return Y})(),lr=(()=>{class Y extends li{constructor(j){super(j)}static#e=this.\u0275fac=function(de){return new(de||Y)(h.Y36(_n,10))};static#t=this.\u0275dir=h.lG2({type:Y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(de,ke){2&de&&h.ekj("ng-untouched",ke.isUntouched)("ng-touched",ke.isTouched)("ng-pristine",ke.isPristine)("ng-dirty",ke.isDirty)("ng-valid",ke.isValid)("ng-invalid",ke.isInvalid)("ng-pending",ke.isPending)("ng-submitted",ke.isSubmitted)},features:[h.qOj]})}return Y})();const Di="VALID",ui="INVALID",Gn="PENDING",Mn="DISABLED";function vi(Y){return(Gi(Y)?Y.validators:Y)||null}function Xi(Y,ee){return(Gi(ee)?ee.asyncValidators:Y)||null}function Gi(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}class oe{constructor(ee,j){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ee),this._assignAsyncValidators(j)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get valid(){return this.status===Di}get invalid(){return this.status===ui}get pending(){return this.status==Gn}get disabled(){return this.status===Mn}get enabled(){return this.status!==Mn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(rn(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(rn(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators(Kn(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators(Kn(ee,this._rawAsyncValidators))}hasValidator(ee){return zn(this._rawValidators,ee)}hasAsyncValidator(ee){return zn(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){this.touched=!0,this._parent&&!ee.onlySelf&&this._parent.markAsTouched(ee)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ee=>ee.markAllAsTouched())}markAsUntouched(ee={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(j=>{j.markAsUntouched({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}markAsDirty(ee={}){this.pristine=!1,this._parent&&!ee.onlySelf&&this._parent.markAsDirty(ee)}markAsPristine(ee={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(j=>{j.markAsPristine({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}markAsPending(ee={}){this.status=Gn,!1!==ee.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ee.onlySelf&&this._parent.markAsPending(ee)}disable(ee={}){const j=this._parentMarkedDirty(ee.onlySelf);this.status=Mn,this.errors=null,this._forEachChild(de=>{de.disable({...ee,onlySelf:!0})}),this._updateValue(),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ee,skipPristineCheck:j}),this._onDisabledChange.forEach(de=>de(!0))}enable(ee={}){const j=this._parentMarkedDirty(ee.onlySelf);this.status=Di,this._forEachChild(de=>{de.enable({...ee,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors({...ee,skipPristineCheck:j}),this._onDisabledChange.forEach(de=>de(!1))}_updateAncestors(ee){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Di||this.status===Gn)&&this._runAsyncValidator(ee.emitEvent)),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity(ee)}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild(j=>j._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mn:Di}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee){if(this.asyncValidator){this.status=Gn,this._hasOwnPendingAsyncValidator=!0;const j=jt(this.asyncValidator(this));this._asyncValidationSubscription=j.subscribe(de=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(de,{emitEvent:ee})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ee,j={}){this.errors=ee,this._updateControlsErrors(!1!==j.emitEvent)}get(ee){let j=ee;return null==j||(Array.isArray(j)||(j=j.split(".")),0===j.length)?null:j.reduce((de,ke)=>de&&de._find(ke),this)}getError(ee,j){const de=j?this.get(j):this;return de&&de.errors?de.errors[ee]:null}hasError(ee,j){return!!this.getError(ee,j)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ee)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Mn:this.errors?ui:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gn)?Gn:this._anyControlsHaveStatus(ui)?ui:Di}_anyControlsHaveStatus(ee){return this._anyControls(j=>j.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}_updateTouched(ee={}){this.touched=this._anyControlsTouched(),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){Gi(ee)&&null!=ee.updateOn&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){return!ee&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=function $i(Y){return Array.isArray(Y)?Je(Y):Y||null}(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=function Ui(Y){return Array.isArray(Y)?Qe(Y):Y||null}(this._rawAsyncValidators)}}class U extends oe{constructor(ee,j,de){super(vi(j),Xi(de,j)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ee,j){return this.controls[ee]?this.controls[ee]:(this.controls[ee]=j,j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange),j)}addControl(ee,j,de={}){this.registerControl(ee,j),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}removeControl(ee,j={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}setControl(ee,j,de={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],j&&this.registerControl(ee,j),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}contains(ee){return this.controls.hasOwnProperty(ee)&&this.controls[ee].enabled}setValue(ee,j={}){(function Dt(Y,ee,j){Y._forEachChild((de,ke)=>{if(void 0===j[ke])throw new h.vHH(1002,"")})})(this,0,ee),Object.keys(ee).forEach(de=>{(function fr(Y,ee,j){const de=Y.controls;if(!(ee?Object.keys(de):de).length)throw new h.vHH(1e3,"");if(!de[j])throw new h.vHH(1001,"")})(this,!0,de),this.controls[de].setValue(ee[de],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(ee,j={}){null!=ee&&(Object.keys(ee).forEach(de=>{const ke=this.controls[de];ke&&ke.patchValue(ee[de],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(ee={},j={}){this._forEachChild((de,ke)=>{de.reset(ee?ee[ke]:null,{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this._reduceChildren({},(ee,j,de)=>(ee[de]=j.getRawValue(),ee))}_syncPendingControls(){let ee=this._reduceChildren(!1,(j,de)=>!!de._syncPendingControls()||j);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){Object.keys(this.controls).forEach(j=>{const de=this.controls[j];de&&ee(de,j)})}_setUpControls(){this._forEachChild(ee=>{ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ee){for(const[j,de]of Object.entries(this.controls))if(this.contains(j)&&ee(de))return!0;return!1}_reduceValue(){return this._reduceChildren({},(j,de,ke)=>((de.enabled||this.disabled)&&(j[ke]=de.value),j))}_reduceChildren(ee,j){let de=ee;return this._forEachChild((ke,Nn)=>{de=j(de,ke,Nn)}),de}_allControlsDisabled(){for(const ee of Object.keys(this.controls))if(this.controls[ee].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ee){return this.controls.hasOwnProperty(ee)?this.controls[ee]:null}}const Ue=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>vt}),vt="always";function St(Y,ee){return[...ee.path,Y]}function Lt(Y,ee,j=vt){et(Y,ee),ee.valueAccessor.writeValue(Y.value),(Y.disabled||"always"===j)&&ee.valueAccessor.setDisabledState?.(Y.disabled),function Ie(Y,ee){ee.valueAccessor.registerOnChange(j=>{Y._pendingValue=j,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&we(Y,ee)})}(Y,ee),function at(Y,ee){const j=(de,ke)=>{ee.valueAccessor.writeValue(de),ke&&ee.viewToModelUpdate(de)};Y.registerOnChange(j),ee._registerOnDestroy(()=>{Y._unregisterOnChange(j)})}(Y,ee),function _e(Y,ee){ee.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&we(Y,ee),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,ee),function An(Y,ee){if(ee.valueAccessor.setDisabledState){const j=de=>{ee.valueAccessor.setDisabledState(de)};Y.registerOnDisabledChange(j),ee._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(j)})}}(Y,ee)}function Ht(Y,ee,j=!0){const de=()=>{};ee.valueAccessor&&(ee.valueAccessor.registerOnChange(de),ee.valueAccessor.registerOnTouched(de)),ie(Y,ee),Y&&(ee._invokeOnDestroyCallbacks(),Y._registerOnCollectionChange(()=>{}))}function gn(Y,ee){Y.forEach(j=>{j.registerOnValidatorChange&&j.registerOnValidatorChange(ee)})}function et(Y,ee){const j=st(Y);null!==ee.validator?Y.setValidators($e(j,ee.validator)):"function"==typeof j&&Y.setValidators([j]);const de=Pe(Y);null!==ee.asyncValidator?Y.setAsyncValidators($e(de,ee.asyncValidator)):"function"==typeof de&&Y.setAsyncValidators([de]);const ke=()=>Y.updateValueAndValidity();gn(ee._rawValidators,ke),gn(ee._rawAsyncValidators,ke)}function ie(Y,ee){let j=!1;if(null!==Y){if(null!==ee.validator){const ke=st(Y);if(Array.isArray(ke)&&ke.length>0){const Nn=ke.filter(Qn=>Qn!==ee.validator);Nn.length!==ke.length&&(j=!0,Y.setValidators(Nn))}}if(null!==ee.asyncValidator){const ke=Pe(Y);if(Array.isArray(ke)&&ke.length>0){const Nn=ke.filter(Qn=>Qn!==ee.asyncValidator);Nn.length!==ke.length&&(j=!0,Y.setAsyncValidators(Nn))}}}const de=()=>{};return gn(ee._rawValidators,de),gn(ee._rawAsyncValidators,de),j}function we(Y,ee){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function Ti(Y,ee){if(!Y.hasOwnProperty("model"))return!1;const j=Y.model;return!!j.isFirstChange()||!Object.is(ee,j.currentValue)}function zr(Y,ee){if(!ee)return null;let j,de,ke;return Array.isArray(ee),ee.forEach(Nn=>{Nn.constructor===tt?j=Nn:function Cr(Y){return Object.getPrototypeOf(Y.constructor)===Te}(Nn)?de=Nn:ke=Nn}),ke||de||j||null}function Uo(Y,ee){const j=Y.indexOf(ee);j>-1&&Y.splice(j,1)}function Kr(Y){return"object"==typeof Y&&null!==Y&&2===Object.keys(Y).length&&"value"in Y&&"disabled"in Y}const jo=class extends oe{constructor(ee=null,j,de){super(vi(j),Xi(de,j)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ee),this._setUpdateStrategy(j),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gi(j)&&(j.nonNullable||j.initialValueIsDefault)&&(this.defaultValue=Kr(ee)?ee.value:ee)}setValue(ee,j={}){this.value=this._pendingValue=ee,this._onChange.length&&!1!==j.emitModelToViewChange&&this._onChange.forEach(de=>de(this.value,!1!==j.emitViewToModelChange)),this.updateValueAndValidity(j)}patchValue(ee,j={}){this.setValue(ee,j)}reset(ee=this.defaultValue,j={}){this._applyFormState(ee),this.markAsPristine(j),this.markAsUntouched(j),this.setValue(this.value,j),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){Uo(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){Uo(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ee){Kr(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}},cs={provide:Ln,useExisting:(0,h.Gpc)(()=>Dr)},Or=(()=>Promise.resolve())();let Dr=(()=>{class Y extends Ln{constructor(j,de,ke,Nn,Qn,Qo){super(),this._changeDetectorRef=Qn,this.callSetDisabledState=Qo,this.control=new jo,this._registered=!1,this.name="",this.update=new h.vpe,this._parent=j,this._setValidators(de),this._setAsyncValidators(ke),this.valueAccessor=zr(0,Nn)}ngOnChanges(j){if(this._checkForErrors(),!this._registered||"name"in j){if(this._registered&&(this._checkName(),this.formDirective)){const de=j.name.previousValue;this.formDirective.removeControl({name:de,path:this._getPath(de)})}this._setUpControl()}"isDisabled"in j&&this._updateDisabled(j),Ti(j,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(j){Or.then(()=>{this.control.setValue(j,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(j){const de=j.isDisabled.currentValue,ke=0!==de&&(0,h.VuI)(de);Or.then(()=>{ke&&!this.control.disabled?this.control.disable():!ke&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(j){return this._parent?St(j,this._parent):[j]}static#e=this.\u0275fac=function(de){return new(de||Y)(h.Y36(_n,9),h.Y36(lt,10),h.Y36(pt,10),h.Y36(fe,10),h.Y36(h.sBO,8),h.Y36(Ue,8))};static#t=this.\u0275dir=h.lG2({type:Y,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([cs]),h.qOj,h.TTD]})}return Y})(),Zo=(()=>{class Y{static#e=this.\u0275fac=function(de){return new(de||Y)};static#t=this.\u0275dir=h.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Y})(),pr=(()=>{class Y{static#e=this.\u0275fac=function(de){return new(de||Y)};static#t=this.\u0275mod=h.oAB({type:Y});static#n=this.\u0275inj=h.cJS({})}return Y})();const Jn=new h.OlP("NgModelWithFormControlWarning"),Ar={provide:_n,useExisting:(0,h.Gpc)(()=>tr)};let tr=(()=>{class Y extends _n{constructor(j,de,ke){super(),this.callSetDisabledState=ke,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(j),this._setAsyncValidators(de)}ngOnChanges(j){this._checkFormPresent(),j.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ie(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(j){const de=this.form.get(j.path);return Lt(de,j,this.callSetDisabledState),de.updateValueAndValidity({emitEvent:!1}),this.directives.push(j),de}getControl(j){return this.form.get(j.path)}removeControl(j){Ht(j.control||null,j,!1),function si(Y,ee){const j=Y.indexOf(ee);j>-1&&Y.splice(j,1)}(this.directives,j)}addFormGroup(j){this._setUpFormContainer(j)}removeFormGroup(j){this._cleanUpFormContainer(j)}getFormGroup(j){return this.form.get(j.path)}addFormArray(j){this._setUpFormContainer(j)}removeFormArray(j){this._cleanUpFormContainer(j)}getFormArray(j){return this.form.get(j.path)}updateModel(j,de){this.form.get(j.path).setValue(de)}onSubmit(j){return this.submitted=!0,function er(Y,ee){Y._syncPendingControls(),ee.forEach(j=>{const de=j.control;"submit"===de.updateOn&&de._pendingChange&&(j.viewToModelUpdate(de._pendingValue),de._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(j),"dialog"===j?.target?.method}onReset(){this.resetForm()}resetForm(j=void 0){this.form.reset(j),this.submitted=!1}_updateDomValue(){this.directives.forEach(j=>{const de=j.control,ke=this.form.get(j.path);de!==ke&&(Ht(de||null,j),(Y=>Y instanceof jo)(ke)&&(Lt(ke,j,this.callSetDisabledState),j.control=ke))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(j){const de=this.form.get(j.path);(function Ot(Y,ee){et(Y,ee)})(de,j),de.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(j){if(this.form){const de=this.form.get(j.path);de&&function Kt(Y,ee){return ie(Y,ee)}(de,j)&&de.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){et(this.form,this),this._oldForm&&ie(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(de){return new(de||Y)(h.Y36(lt,10),h.Y36(pt,10),h.Y36(Ue,8))};static#t=this.\u0275dir=h.lG2({type:Y,selectors:[["","formGroup",""]],hostBindings:function(de,ke){1&de&&h.NdJ("submit",function(Qn){return ke.onSubmit(Qn)})("reset",function(){return ke.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Ar]),h.qOj,h.TTD]})}return Y})();const Si={provide:Ln,useExisting:(0,h.Gpc)(()=>Yt)};let Yt=(()=>{class Y extends Ln{set isDisabled(j){}static#e=this._ngModelWarningSentOnce=!1;constructor(j,de,ke,Nn,Qn){super(),this._ngModelWarningConfig=Qn,this._added=!1,this.name=null,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=j,this._setValidators(de),this._setAsyncValidators(ke),this.valueAccessor=zr(0,Nn)}ngOnChanges(j){this._added||this._setUpControl(),Ti(j,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}get path(){return St(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(de){return new(de||Y)(h.Y36(_n,13),h.Y36(lt,10),h.Y36(pt,10),h.Y36(fe,10),h.Y36(Jn,8))};static#n=this.\u0275dir=h.lG2({type:Y,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([Si]),h.qOj,h.TTD]})}return Y})();const Hn={provide:fe,useExisting:(0,h.Gpc)(()=>to),multi:!0};function Hi(Y,ee){return null==Y?`${ee}`:(ee&&"object"==typeof ee&&(ee="Object"),`${Y}: ${ee}`.slice(0,50))}let to=(()=>{class Y extends Te{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(j){this._compareWith=j}writeValue(j){this.value=j;const ke=Hi(this._getOptionId(j),j);this.setProperty("value",ke)}registerOnChange(j){this.onChange=de=>{this.value=this._getOptionValue(de),j(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(j){for(const de of this._optionMap.keys())if(this._compareWith(this._optionMap.get(de),j))return de;return null}_getOptionValue(j){const de=function Nr(Y){return Y.split(":")[0]}(j);return this._optionMap.has(de)?this._optionMap.get(de):j}static#e=this.\u0275fac=function(){let j;return function(ke){return(j||(j=h.n5z(Y)))(ke||Y)}}();static#t=this.\u0275dir=h.lG2({type:Y,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(de,ke){1&de&&h.NdJ("change",function(Qn){return ke.onChange(Qn.target.value)})("blur",function(){return ke.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([Hn]),h.qOj]})}return Y})(),or=(()=>{class Y{constructor(j,de,ke){this._element=j,this._renderer=de,this._select=ke,this._select&&(this.id=this._select._registerOption())}set ngValue(j){null!=this._select&&(this._select._optionMap.set(this.id,j),this._setElementValue(Hi(this.id,j)),this._select.writeValue(this._select.value))}set value(j){this._setElementValue(j),this._select&&this._select.writeValue(this._select.value)}_setElementValue(j){this._renderer.setProperty(this._element.nativeElement,"value",j)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(de){return new(de||Y)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(to,9))};static#t=this.\u0275dir=h.lG2({type:Y,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Y})();const Vr={provide:fe,useExisting:(0,h.Gpc)(()=>G),multi:!0};function Oi(Y,ee){return null==Y?`${ee}`:("string"==typeof ee&&(ee=`'${ee}'`),ee&&"object"==typeof ee&&(ee="Object"),`${Y}: ${ee}`.slice(0,50))}let G=(()=>{class Y extends Te{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(j){this._compareWith=j}writeValue(j){let de;if(this.value=j,Array.isArray(j)){const ke=j.map(Nn=>this._getOptionId(Nn));de=(Nn,Qn)=>{Nn._setSelected(ke.indexOf(Qn.toString())>-1)}}else de=(ke,Nn)=>{ke._setSelected(!1)};this._optionMap.forEach(de)}registerOnChange(j){this.onChange=de=>{const ke=[],Nn=de.selectedOptions;if(void 0!==Nn){const Qn=Nn;for(let Qo=0;Qo<Qn.length;Qo++){const qs=this._getOptionValue(Qn[Qo].value);ke.push(qs)}}else{const Qn=de.options;for(let Qo=0;Qo<Qn.length;Qo++){const _a=Qn[Qo];if(_a.selected){const qs=this._getOptionValue(_a.value);ke.push(qs)}}}this.value=ke,j(ke)}}_registerOption(j){const de=(this._idCounter++).toString();return this._optionMap.set(de,j),de}_getOptionId(j){for(const de of this._optionMap.keys())if(this._compareWith(this._optionMap.get(de)._value,j))return de;return null}_getOptionValue(j){const de=function kr(Y){return Y.split(":")[0]}(j);return this._optionMap.has(de)?this._optionMap.get(de)._value:j}static#e=this.\u0275fac=function(){let j;return function(ke){return(j||(j=h.n5z(Y)))(ke||Y)}}();static#t=this.\u0275dir=h.lG2({type:Y,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(de,ke){1&de&&h.NdJ("change",function(Qn){return ke.onChange(Qn.target)})("blur",function(){return ke.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([Vr]),h.qOj]})}return Y})(),$=(()=>{class Y{constructor(j,de,ke){this._element=j,this._renderer=de,this._select=ke,this._select&&(this.id=this._select._registerOption(this))}set ngValue(j){null!=this._select&&(this._value=j,this._setElementValue(Oi(this.id,j)),this._select.writeValue(this._select.value))}set value(j){this._select?(this._value=j,this._setElementValue(Oi(this.id,j)),this._select.writeValue(this._select.value)):this._setElementValue(j)}_setElementValue(j){this._renderer.setProperty(this._element.nativeElement,"value",j)}_setSelected(j){this._renderer.setProperty(this._element.nativeElement,"selected",j)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(de){return new(de||Y)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(G,9))};static#t=this.\u0275dir=h.lG2({type:Y,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Y})(),mi=(()=>{class Y{static#e=this.\u0275fac=function(de){return new(de||Y)};static#t=this.\u0275mod=h.oAB({type:Y});static#n=this.\u0275inj=h.cJS({imports:[pr]})}return Y})(),Zr=(()=>{class Y{static withConfig(j){return{ngModule:Y,providers:[{provide:Ue,useValue:j.callSetDisabledState??vt}]}}static#e=this.\u0275fac=function(de){return new(de||Y)};static#t=this.\u0275mod=h.oAB({type:Y});static#n=this.\u0275inj=h.cJS({imports:[mi]})}return Y})(),Ro=(()=>{class Y{static withConfig(j){return{ngModule:Y,providers:[{provide:Jn,useValue:j.warnOnNgModelWithFormControl??"always"},{provide:Ue,useValue:j.callSetDisabledState??vt}]}}static#e=this.\u0275fac=function(de){return new(de||Y)};static#t=this.\u0275mod=h.oAB({type:Y});static#n=this.\u0275inj=h.cJS({imports:[mi]})}return Y})()},2296:(Nt,Be,O)=>{O.d(Be,{lW:()=>ct,ot:()=>Je});var h=O(2831),H=O(5879),te=O(2012),R=O(2495),me=O(3680);const Ee=["mat-button",""],Te=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],fe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Pt=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],_t=(0,me.pj)((0,me.Id)((0,me.Kr)(class{constructor(Ye){this._elementRef=Ye}})));let ge=(()=>{class Ye extends _t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple($e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,$e)}get disableRipple(){return this._disableRipple}set disableRipple($e){this._disableRipple=(0,R.Ig)($e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled($e){this._disabled=(0,R.Ig)($e),this._updateRippleDisabled()}constructor($e,st,Pe,wt){super($e),this._platform=st,this._ngZone=Pe,this._animationMode=wt,this._focusMonitor=(0,H.f3M)(te.tE),this._rippleLoader=(0,H.f3M)(me.Fq),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const zn=$e.nativeElement.classList;for(const rn of Pt)this._hasHostAttributes(rn.selector)&&rn.mdcClasses.forEach(Kn=>{zn.add(Kn)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus($e="program",st){$e?this._focusMonitor.focusVia(this._elementRef.nativeElement,$e,st):this._elementRef.nativeElement.focus(st)}_hasHostAttributes(...$e){return $e.some(st=>this._elementRef.nativeElement.hasAttribute(st))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(st){H.$Z()};static#t=this.\u0275dir=H.lG2({type:Ye,features:[H.qOj]})}return Ye})(),ct=(()=>{class Ye extends ge{constructor($e,st,Pe,wt){super($e,st,Pe,wt)}static#e=this.\u0275fac=function(st){return new(st||Ye)(H.Y36(H.SBq),H.Y36(h.t4),H.Y36(H.R0b),H.Y36(H.QbO,8))};static#t=this.\u0275cmp=H.Xpm({type:Ye,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(st,Pe){2&st&&(H.uIk("disabled",Pe.disabled||null),H.ekj("_mat-animation-noopable","NoopAnimations"===Pe._animationMode)("mat-unthemed",!Pe.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[H.qOj],attrs:Ee,ngContentSelectors:fe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(st,Pe){1&st&&(H.F$t(Te),H._UZ(0,"span",0),H.Hsn(1),H.TgZ(2,"span",1),H.Hsn(3,1),H.qZA(),H.Hsn(4,2),H._UZ(5,"span",2)(6,"span",3)),2&st&&H.ekj("mdc-button__ripple",!Pe._isFab)("mdc-fab__ripple",Pe._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Ye})(),Je=(()=>{class Ye{static#e=this.\u0275fac=function(st){return new(st||Ye)};static#t=this.\u0275mod=H.oAB({type:Ye});static#n=this.\u0275inj=H.cJS({imports:[me.BQ,me.si,me.BQ]})}return Ye})()},3680:(Nt,Be,O)=>{O.d(Be,{BQ:()=>ge,Fq:()=>fr,si:()=>ln,pj:()=>Fe,Kr:()=>Wt,Id:()=>ct});var h=O(5879),H=O(2012),te=O(9388),me=O(6814),Ee=O(2831),Te=O(2495);const _t=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function Pt(){return!0}});let ge=(()=>{class Dt{constructor(U,F,k){this._sanityChecks=F,this._document=k,this._hasDoneGlobalChecks=!1,U._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(U){return!(0,Ee.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[U])}static#e=this.\u0275fac=function(F){return new(F||Dt)(h.LFG(H.qm),h.LFG(_t,8),h.LFG(me.K0))};static#t=this.\u0275mod=h.oAB({type:Dt});static#n=this.\u0275inj=h.cJS({imports:[te.vT,te.vT]})}return Dt})();function ct(Dt){return class extends Dt{get disabled(){return this._disabled}set disabled(oe){this._disabled=(0,Te.Ig)(oe)}constructor(...oe){super(...oe),this._disabled=!1}}}function Fe(Dt,oe){return class extends Dt{get color(){return this._color}set color(U){const F=U||this.defaultColor;F!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),F&&this._elementRef.nativeElement.classList.add(`mat-${F}`),this._color=F)}constructor(...U){super(...U),this.defaultColor=oe,this.color=oe}}}function Wt(Dt){return class extends Dt{get disableRipple(){return this._disableRipple}set disableRipple(oe){this._disableRipple=(0,Te.Ig)(oe)}constructor(...oe){super(...oe),this._disableRipple=!1}}}class Dn{constructor(oe,U,F,k=!1){this._renderer=oe,this.element=U,this.config=F,this._animationForciblyDisabledThroughCss=k,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _n=(0,Ee.i$)({passive:!0,capture:!0});class Ln{constructor(){this._events=new Map,this._delegateEventHandler=oe=>{const U=(0,Ee.sA)(oe);U&&this._events.get(oe.type)?.forEach((F,k)=>{(k===U||k.contains(U))&&F.forEach(B=>B.handleEvent(oe))})}}addHandler(oe,U,F,k){const B=this._events.get(U);if(B){const pe=B.get(F);pe?pe.add(k):B.set(F,new Set([k]))}else this._events.set(U,new Map([[F,new Set([k])]])),oe.runOutsideAngular(()=>{document.addEventListener(U,this._delegateEventHandler,_n)})}removeHandler(oe,U,F){const k=this._events.get(oe);if(!k)return;const B=k.get(U);B&&(B.delete(F),0===B.size&&k.delete(U),0===k.size&&(this._events.delete(oe),document.removeEventListener(oe,this._delegateEventHandler,_n)))}}const li={enterDuration:225,exitDuration:150},Ei=(0,Ee.i$)({passive:!0,capture:!0}),Xn=["mousedown","touchstart"],lr=["mouseup","mouseleave","touchend","touchcancel"];class Li{static#e=this._eventManager=new Ln;constructor(oe,U,F,k){this._target=oe,this._ngZone=U,this._platform=k,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,k.isBrowser&&(this._containerElement=(0,Te.fI)(F))}fadeInRipple(oe,U,F={}){const k=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),B={...li,...F.animation};F.centered&&(oe=k.left+k.width/2,U=k.top+k.height/2);const pe=F.radius||function ni(Dt,oe,U){const F=Math.max(Math.abs(Dt-U.left),Math.abs(Dt-U.right)),k=Math.max(Math.abs(oe-U.top),Math.abs(oe-U.bottom));return Math.sqrt(F*F+k*k)}(oe,U,k),Ue=oe-k.left,vt=U-k.top,St=B.enterDuration,Lt=document.createElement("div");Lt.classList.add("mat-ripple-element"),Lt.style.left=Ue-pe+"px",Lt.style.top=vt-pe+"px",Lt.style.height=2*pe+"px",Lt.style.width=2*pe+"px",null!=F.color&&(Lt.style.backgroundColor=F.color),Lt.style.transitionDuration=`${St}ms`,this._containerElement.appendChild(Lt);const Ht=window.getComputedStyle(Lt),An=Ht.transitionDuration,et="none"===Ht.transitionProperty||"0s"===An||"0s, 0s"===An||0===k.width&&0===k.height,ie=new Dn(this,Lt,F,et);Lt.style.transform="scale3d(1, 1, 1)",ie.state=0,F.persistent||(this._mostRecentTransientRipple=ie);let Ie=null;return!et&&(St||B.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const _e=()=>this._finishRippleTransition(ie),we=()=>this._destroyRipple(ie);Lt.addEventListener("transitionend",_e),Lt.addEventListener("transitioncancel",we),Ie={onTransitionEnd:_e,onTransitionCancel:we}}),this._activeRipples.set(ie,Ie),(et||!St)&&this._finishRippleTransition(ie),ie}fadeOutRipple(oe){if(2===oe.state||3===oe.state)return;const U=oe.element,F={...li,...oe.config.animation};U.style.transitionDuration=`${F.exitDuration}ms`,U.style.opacity="0",oe.state=2,(oe._animationForciblyDisabledThroughCss||!F.exitDuration)&&this._finishRippleTransition(oe)}fadeOutAll(){this._getActiveRipples().forEach(oe=>oe.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(oe=>{oe.config.persistent||oe.fadeOut()})}setupTriggerEvents(oe){const U=(0,Te.fI)(oe);!this._platform.isBrowser||!U||U===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=U,Xn.forEach(F=>{Li._eventManager.addHandler(this._ngZone,F,U,this)}))}handleEvent(oe){"mousedown"===oe.type?this._onMousedown(oe):"touchstart"===oe.type?this._onTouchStart(oe):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{lr.forEach(U=>{this._triggerElement.addEventListener(U,this,Ei)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(oe){0===oe.state?this._startFadeOutTransition(oe):2===oe.state&&this._destroyRipple(oe)}_startFadeOutTransition(oe){const U=oe===this._mostRecentTransientRipple,{persistent:F}=oe.config;oe.state=1,!F&&(!U||!this._isPointerDown)&&oe.fadeOut()}_destroyRipple(oe){const U=this._activeRipples.get(oe)??null;this._activeRipples.delete(oe),this._activeRipples.size||(this._containerRect=null),oe===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),oe.state=3,null!==U&&(oe.element.removeEventListener("transitionend",U.onTransitionEnd),oe.element.removeEventListener("transitioncancel",U.onTransitionCancel)),oe.element.remove()}_onMousedown(oe){const U=(0,H.X6)(oe),F=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!U&&!F&&(this._isPointerDown=!0,this.fadeInRipple(oe.clientX,oe.clientY,this._target.rippleConfig))}_onTouchStart(oe){if(!this._target.rippleDisabled&&!(0,H.yG)(oe)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const U=oe.changedTouches;if(U)for(let F=0;F<U.length;F++)this.fadeInRipple(U[F].clientX,U[F].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(oe=>{!oe.config.persistent&&(1===oe.state||oe.config.terminateOnPointerUp&&0===oe.state)&&oe.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const oe=this._triggerElement;oe&&(Xn.forEach(U=>Li._eventManager.removeHandler(U,oe,this)),this._pointerUpEventsRegistered&&lr.forEach(U=>oe.removeEventListener(U,this,Ei)))}}const Pi=new h.OlP("mat-ripple-global-options");let Ii=(()=>{class Dt{get disabled(){return this._disabled}set disabled(U){U&&this.fadeOutAllNonPersistent(),this._disabled=U,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(U){this._trigger=U,this._setupTriggerEventsIfEnabled()}constructor(U,F,k,B,pe){this._elementRef=U,this._animationMode=pe,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=B||{},this._rippleRenderer=new Li(this,F,U,k)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(U,F=0,k){return"number"==typeof U?this._rippleRenderer.fadeInRipple(U,F,{...this.rippleConfig,...k}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...U})}static#e=this.\u0275fac=function(F){return new(F||Dt)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(Ee.t4),h.Y36(Pi,8),h.Y36(h.QbO,8))};static#t=this.\u0275dir=h.lG2({type:Dt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(F,k){2&F&&h.ekj("mat-ripple-unbounded",k.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return Dt})(),ln=(()=>{class Dt{static#e=this.\u0275fac=function(F){return new(F||Dt)};static#t=this.\u0275mod=h.oAB({type:Dt});static#n=this.\u0275inj=h.cJS({imports:[ge,ge]})}return Dt})();const Mn={capture:!0},vi=["focus","click","mouseenter","touchstart"],$i="mat-ripple-loader-uninitialized",Xi="mat-ripple-loader-class-name",Ui="mat-ripple-loader-centered",Gi="mat-ripple-loader-disabled";let fr=(()=>{class Dt{constructor(){this._document=(0,h.f3M)(me.K0,{optional:!0}),this._animationMode=(0,h.f3M)(h.QbO,{optional:!0}),this._globalRippleOptions=(0,h.f3M)(Pi,{optional:!0}),this._platform=(0,h.f3M)(Ee.t4),this._ngZone=(0,h.f3M)(h.R0b),this._onInteraction=U=>{if(!(U.target instanceof HTMLElement))return;const k=U.target.closest(`[${$i}]`);k&&this.createRipple(k)},this._ngZone.runOutsideAngular(()=>{for(const U of vi)this._document?.addEventListener(U,this._onInteraction,Mn)})}ngOnDestroy(){for(const U of vi)this._document?.removeEventListener(U,this._onInteraction,Mn)}configureRipple(U,F){U.setAttribute($i,""),(F.className||!U.hasAttribute(Xi))&&U.setAttribute(Xi,F.className||""),F.centered&&U.setAttribute(Ui,""),F.disabled&&U.setAttribute(Gi,"")}getRipple(U){return U.matRipple?U.matRipple:this.createRipple(U)}setDisabled(U,F){const k=U.matRipple;k?k.disabled=F:F?U.setAttribute(Gi,""):U.removeAttribute(Gi)}createRipple(U){if(!this._document)return;U.querySelector(".mat-ripple")?.remove();const F=this._document.createElement("span");F.classList.add("mat-ripple",U.getAttribute(Xi)),U.append(F);const k=new Ii(new h.SBq(F),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return k._isInitialized=!0,k.trigger=U,k.centered=U.hasAttribute(Ui),k.disabled=U.hasAttribute(Gi),this.attachRipple(U,k),k}attachRipple(U,F){U.removeAttribute($i),U.matRipple=F}static#e=this.\u0275fac=function(F){return new(F||Dt)};static#t=this.\u0275prov=h.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})()},7025:(Nt,Be,O)=>{O.d(Be,{ux:()=>kr,ZX:()=>to});var h=O(5879),H=O(8645),te=O(6814),R=O(2296),me=O(6825);class Oe{attach(G){return this._attachedHost=G,G.attach(this)}detach(){let G=this._attachedHost;null!=G&&(this._attachedHost=null,G.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(G){this._attachedHost=G}}class Ze extends Oe{constructor(G,$,J,ye,Ne){super(),this.component=G,this.viewContainerRef=$,this.injector=J,this.componentFactoryResolver=ye,this.projectableNodes=Ne}}class tt extends Oe{constructor(G,$,J,ye){super(),this.templateRef=G,this.viewContainerRef=$,this.context=J,this.injector=ye}get origin(){return this.templateRef.elementRef}attach(G,$=this.context){return this.context=$,super.attach(G)}detach(){return this.context=void 0,super.detach()}}class bt extends Oe{constructor(G){super(),this.element=G instanceof h.SBq?G.nativeElement:G}}class it{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(G){return G instanceof Ze?(this._attachedPortal=G,this.attachComponentPortal(G)):G instanceof tt?(this._attachedPortal=G,this.attachTemplatePortal(G)):this.attachDomPortal&&G instanceof bt?(this._attachedPortal=G,this.attachDomPortal(G)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(G){this._disposeFn=G}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class pt extends it{constructor(G,$,J,ye,Ne){super(),this.outletElement=G,this._componentFactoryResolver=$,this._appRef=J,this._defaultInjector=ye,this.attachDomPortal=ft=>{const kt=ft.element,Xt=this._document.createComment("dom-portal");kt.parentNode.insertBefore(Xt,kt),this.outletElement.appendChild(kt),this._attachedPortal=ft,super.setDisposeFn(()=>{Xt.parentNode&&Xt.parentNode.replaceChild(kt,Xt)})},this._document=Ne}attachComponentPortal(G){const J=(G.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(G.component);let ye;return G.viewContainerRef?(ye=G.viewContainerRef.createComponent(J,G.viewContainerRef.length,G.injector||G.viewContainerRef.injector,G.projectableNodes||void 0),this.setDisposeFn(()=>ye.destroy())):(ye=J.create(G.injector||this._defaultInjector||h.zs3.NULL),this._appRef.attachView(ye.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ye.hostView),ye.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ye)),this._attachedPortal=G,ye}attachTemplatePortal(G){let $=G.viewContainerRef,J=$.createEmbeddedView(G.templateRef,G.context,{injector:G.injector});return J.rootNodes.forEach(ye=>this.outletElement.appendChild(ye)),J.detectChanges(),this.setDisposeFn(()=>{let ye=$.indexOf(J);-1!==ye&&$.remove(ye)}),this._attachedPortal=G,J}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(G){return G.hostView.rootNodes[0]}}let Le=(()=>{class Ce extends it{constructor($,J,ye){super(),this._componentFactoryResolver=$,this._viewContainerRef=J,this._isInitialized=!1,this.attached=new h.vpe,this.attachDomPortal=Ne=>{const ft=Ne.element,kt=this._document.createComment("dom-portal");Ne.setAttachedHost(this),ft.parentNode.insertBefore(kt,ft),this._getRootNode().appendChild(ft),this._attachedPortal=Ne,super.setDisposeFn(()=>{kt.parentNode&&kt.parentNode.replaceChild(ft,kt)})},this._document=ye}get portal(){return this._attachedPortal}set portal($){this.hasAttached()&&!$&&!this._isInitialized||(this.hasAttached()&&super.detach(),$&&super.attach($),this._attachedPortal=$||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal($){$.setAttachedHost(this);const J=null!=$.viewContainerRef?$.viewContainerRef:this._viewContainerRef,Ne=($.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory($.component),ft=J.createComponent(Ne,J.length,$.injector||J.injector,$.projectableNodes||void 0);return J!==this._viewContainerRef&&this._getRootNode().appendChild(ft.hostView.rootNodes[0]),super.setDisposeFn(()=>ft.destroy()),this._attachedPortal=$,this._attachedRef=ft,this.attached.emit(ft),ft}attachTemplatePortal($){$.setAttachedHost(this);const J=this._viewContainerRef.createEmbeddedView($.templateRef,$.context,{injector:$.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=$,this._attachedRef=J,this.attached.emit(J),J}_getRootNode(){const $=this._viewContainerRef.element.nativeElement;return $.nodeType===$.ELEMENT_NODE?$:$.parentNode}static#e=this.\u0275fac=function(J){return new(J||Ce)(h.Y36(h._Vd),h.Y36(h.s_b),h.Y36(te.K0))};static#t=this.\u0275dir=h.lG2({type:Ce,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[h.qOj]})}return Ce})(),Xe=(()=>{class Ce{static#e=this.\u0275fac=function(J){return new(J||Ce)};static#t=this.\u0275mod=h.oAB({type:Ce});static#n=this.\u0275inj=h.cJS({})}return Ce})();var Fe=O(2831),Wt=O(8180),Ut=O(9773),dn=O(2012),an=O(1088),jt=O(2495),bi=O(2096),Jt=O(5592),bn=O(4829),En=O(1631),We=O(4266),Je=O(4674),Ye=O(7400);const Qe=["addListener","removeListener"],$e=["addEventListener","removeEventListener"],st=["on","off"];function Pe(Ce,G,$,J){if((0,Je.m)($)&&(J=$,$=void 0),J)return Pe(Ce,G,$).pipe((0,Ye.Z)(J));const[ye,Ne]=function Kn(Ce){return(0,Je.m)(Ce.addEventListener)&&(0,Je.m)(Ce.removeEventListener)}(Ce)?$e.map(ft=>kt=>Ce[ft](G,kt,$)):function zn(Ce){return(0,Je.m)(Ce.addListener)&&(0,Je.m)(Ce.removeListener)}(Ce)?Qe.map(wt(Ce,G)):function rn(Ce){return(0,Je.m)(Ce.on)&&(0,Je.m)(Ce.off)}(Ce)?st.map(wt(Ce,G)):[];if(!ye&&(0,We.z)(Ce))return(0,En.z)(ft=>Pe(ft,G,$))((0,bn.Xf)(Ce));if(!ye)throw new TypeError("Invalid event target");return new Jt.y(ft=>{const kt=(...Xt)=>ft.next(1<Xt.length?Xt:Xt[0]);return ye(kt),()=>Ne(kt)})}function wt(Ce,G){return $=>J=>Ce[$](G,J)}var Dn=O(1954),_n=O(7394);const Ln={schedule(Ce){let G=requestAnimationFrame,$=cancelAnimationFrame;const{delegate:J}=Ln;J&&(G=J.requestAnimationFrame,$=J.cancelAnimationFrame);const ye=G(Ne=>{$=void 0,Ce(Ne)});return new _n.w0(()=>$?.(ye))},requestAnimationFrame(...Ce){const{delegate:G}=Ln;return(G?.requestAnimationFrame||requestAnimationFrame)(...Ce)},cancelAnimationFrame(...Ce){const{delegate:G}=Ln;return(G?.cancelAnimationFrame||cancelAnimationFrame)(...Ce)},delegate:void 0};var Bn=O(2631);new class Ei extends Bn.v{flush(G){this._active=!0;const $=this._scheduled;this._scheduled=void 0;const{actions:J}=this;let ye;G=G||J.shift();do{if(ye=G.execute(G.state,G.delay))break}while((G=J[0])&&G.id===$&&J.shift());if(this._active=!1,ye){for(;(G=J[0])&&G.id===$&&J.shift();)G.unsubscribe();throw ye}}}(class li extends Dn.o{constructor(G,$){super(G,$),this.scheduler=G,this.work=$}requestAsyncId(G,$,J=0){return null!==J&&J>0?super.requestAsyncId(G,$,J):(G.actions.push(this),G._scheduled||(G._scheduled=Ln.requestAnimationFrame(()=>G.flush(void 0))))}recycleAsyncId(G,$,J=0){var ye;if(null!=J?J>0:this.delay>0)return super.recycleAsyncId(G,$,J);const{actions:Ne}=G;null!=$&&(null===(ye=Ne[Ne.length-1])||void 0===ye?void 0:ye.id)!==$&&(Ln.cancelAnimationFrame($),G._scheduled=void 0)}});let ni,Li=1;const Pi={};function Ii(Ce){return Ce in Pi&&(delete Pi[Ce],!0)}const ln={setImmediate(Ce){const G=Li++;return Pi[G]=!0,ni||(ni=Promise.resolve()),ni.then(()=>Ii(G)&&Ce()),G},clearImmediate(Ce){Ii(Ce)}},{setImmediate:en,clearImmediate:hn}=ln,wi={setImmediate(...Ce){const{delegate:G}=wi;return(G?.setImmediate||en)(...Ce)},clearImmediate(Ce){const{delegate:G}=wi;return(G?.clearImmediate||hn)(Ce)},delegate:void 0};new class Pn extends Bn.v{flush(G){this._active=!0;const $=this._scheduled;this._scheduled=void 0;const{actions:J}=this;let ye;G=G||J.shift();do{if(ye=G.execute(G.state,G.delay))break}while((G=J[0])&&G.id===$&&J.shift());if(this._active=!1,ye){for(;(G=J[0])&&G.id===$&&J.shift();)G.unsubscribe();throw ye}}}(class ki extends Dn.o{constructor(G,$){super(G,$),this.scheduler=G,this.work=$}requestAsyncId(G,$,J=0){return null!==J&&J>0?super.requestAsyncId(G,$,J):(G.actions.push(this),G._scheduled||(G._scheduled=wi.setImmediate(G.flush.bind(G,void 0))))}recycleAsyncId(G,$,J=0){var ye;if(null!=J?J>0:this.delay>0)return super.recycleAsyncId(G,$,J);const{actions:Ne}=G;null!=$&&(null===(ye=Ne[Ne.length-1])||void 0===ye?void 0:ye.id)!==$&&(wi.clearImmediate($),G._scheduled===$&&(G._scheduled=void 0))}});var Qt=O(6321),hr=O(9360),vn=O(8251),Di=O(671);function Mn(Ce,G=Qt.z){return function fi(Ce){return(0,hr.e)((G,$)=>{let J=!1,ye=null,Ne=null,ft=!1;const kt=()=>{if(Ne?.unsubscribe(),Ne=null,J){J=!1;const yn=ye;ye=null,$.next(yn)}ft&&$.complete()},Xt=()=>{Ne=null,ft&&$.complete()};G.subscribe((0,vn.x)($,yn=>{J=!0,ye=yn,Ne||(0,bn.Xf)(Ce(yn)).subscribe(Ne=(0,vn.x)($,kt,Xt))},()=>{ft=!0,(!J||!Ne||Ne.closed)&&$.complete()}))})}(()=>function Gn(Ce=0,G,$=Qt.P){let J=-1;return null!=G&&((0,Di.K)(G)?$=G:J=G),new Jt.y(ye=>{let Ne=function ui(Ce){return Ce instanceof Date&&!isNaN(Ce)}(Ce)?+Ce-$.now():Ce;Ne<0&&(Ne=0);let ft=0;return $.schedule(function(){ye.closed||(ye.next(ft++),0<=J?this.schedule(void 0,J):ye.complete())},Ne)})}(Ce,G))}var vi=O(2181),$i=O(9388);let F=(()=>{class Ce{constructor($,J,ye){this._ngZone=$,this._platform=J,this._scrolled=new H.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ye}register($){this.scrollContainers.has($)||this.scrollContainers.set($,$.elementScrolled().subscribe(()=>this._scrolled.next($)))}deregister($){const J=this.scrollContainers.get($);J&&(J.unsubscribe(),this.scrollContainers.delete($))}scrolled($=20){return this._platform.isBrowser?new Jt.y(J=>{this._globalSubscription||this._addGlobalListener();const ye=$>0?this._scrolled.pipe(Mn($)).subscribe(J):this._scrolled.subscribe(J);return this._scrolledCount++,()=>{ye.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,bi.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach(($,J)=>this.deregister(J)),this._scrolled.complete()}ancestorScrolled($,J){const ye=this.getAncestorScrollContainers($);return this.scrolled(J).pipe((0,vi.h)(Ne=>!Ne||ye.indexOf(Ne)>-1))}getAncestorScrollContainers($){const J=[];return this.scrollContainers.forEach((ye,Ne)=>{this._scrollableContainsElement(Ne,$)&&J.push(Ne)}),J}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement($,J){let ye=(0,jt.fI)(J),Ne=$.getElementRef().nativeElement;do{if(ye==Ne)return!0}while(ye=ye.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Pe(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(J){return new(J||Ce)(h.LFG(h.R0b),h.LFG(Fe.t4),h.LFG(te.K0,8))};static#t=this.\u0275prov=h.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})(),pe=(()=>{class Ce{constructor($,J,ye){this._platform=$,this._change=new H.x,this._changeListener=Ne=>{this._change.next(Ne)},this._document=ye,J.runOutsideAngular(()=>{if($.isBrowser){const Ne=this._getWindow();Ne.addEventListener("resize",this._changeListener),Ne.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const $=this._getWindow();$.removeEventListener("resize",this._changeListener),$.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const $={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),$}getViewportRect(){const $=this.getViewportScrollPosition(),{width:J,height:ye}=this.getViewportSize();return{top:$.top,left:$.left,bottom:$.top+ye,right:$.left+J,height:ye,width:J}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const $=this._document,J=this._getWindow(),ye=$.documentElement,Ne=ye.getBoundingClientRect();return{top:-Ne.top||$.body.scrollTop||J.scrollY||ye.scrollTop||0,left:-Ne.left||$.body.scrollLeft||J.scrollX||ye.scrollLeft||0}}change($=20){return $>0?this._change.pipe(Mn($)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const $=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:$.innerWidth,height:$.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(J){return new(J||Ce)(h.LFG(Fe.t4),h.LFG(h.R0b),h.LFG(te.K0,8))};static#t=this.\u0275prov=h.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})(),Ie=(()=>{class Ce{static#e=this.\u0275fac=function(J){return new(J||Ce)};static#t=this.\u0275mod=h.oAB({type:Ce});static#n=this.\u0275inj=h.cJS({})}return Ce})(),_e=(()=>{class Ce{static#e=this.\u0275fac=function(J){return new(J||Ce)};static#t=this.\u0275mod=h.oAB({type:Ce});static#n=this.\u0275inj=h.cJS({imports:[$i.vT,Ie,$i.vT,Ie]})}return Ce})();var we=O(3019);const at=(0,Fe.Mq)();class Ot{constructor(G,$){this._viewportRuler=G,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=$}attach(){}enable(){if(this._canBeEnabled()){const G=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=G.style.left||"",this._previousHTMLStyles.top=G.style.top||"",G.style.left=(0,jt.HM)(-this._previousScrollPosition.left),G.style.top=(0,jt.HM)(-this._previousScrollPosition.top),G.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const G=this._document.documentElement,J=G.style,ye=this._document.body.style,Ne=J.scrollBehavior||"",ft=ye.scrollBehavior||"";this._isEnabled=!1,J.left=this._previousHTMLStyles.left,J.top=this._previousHTMLStyles.top,G.classList.remove("cdk-global-scrollblock"),at&&(J.scrollBehavior=ye.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),at&&(J.scrollBehavior=Ne,ye.scrollBehavior=ft)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const $=this._document.body,J=this._viewportRuler.getViewportSize();return $.scrollHeight>J.height||$.scrollWidth>J.width}}class Bt{constructor(G,$,J,ye){this._scrollDispatcher=G,this._ngZone=$,this._viewportRuler=J,this._config=ye,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(G){this._overlayRef=G}enable(){if(this._scrollSubscription)return;const G=this._scrollDispatcher.scrolled(0).pipe((0,vi.h)($=>!$||!this._overlayRef.overlayElement.contains($.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=G.subscribe(()=>{const $=this._viewportRuler.getViewportScrollPosition().top;Math.abs($-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=G.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Un{enable(){}disable(){}attach(){}}function yi(Ce,G){return G.some($=>Ce.bottom<$.top||Ce.top>$.bottom||Ce.right<$.left||Ce.left>$.right)}function xi(Ce,G){return G.some($=>Ce.top<$.top||Ce.bottom>$.bottom||Ce.left<$.left||Ce.right>$.right)}class Ji{constructor(G,$,J,ye){this._scrollDispatcher=G,this._viewportRuler=$,this._ngZone=J,this._config=ye,this._scrollSubscription=null}attach(G){this._overlayRef=G}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const $=this._overlayRef.overlayElement.getBoundingClientRect(),{width:J,height:ye}=this._viewportRuler.getViewportSize();yi($,[{width:J,height:ye,bottom:ye,right:J,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ti=(()=>{class Ce{constructor($,J,ye,Ne){this._scrollDispatcher=$,this._viewportRuler=J,this._ngZone=ye,this.noop=()=>new Un,this.close=ft=>new Bt(this._scrollDispatcher,this._ngZone,this._viewportRuler,ft),this.block=()=>new Ot(this._viewportRuler,this._document),this.reposition=ft=>new Ji(this._scrollDispatcher,this._viewportRuler,this._ngZone,ft),this._document=Ne}static#e=this.\u0275fac=function(J){return new(J||Ce)(h.LFG(F),h.LFG(pe),h.LFG(h.R0b),h.LFG(te.K0))};static#t=this.\u0275prov=h.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})();class Cr{constructor(G){if(this.scrollStrategy=new Un,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,G){const $=Object.keys(G);for(const J of $)void 0!==G[J]&&(this[J]=G[J])}}}class si{constructor(G,$){this.connectionPair=G,this.scrollableViewProperties=$}}let Ai=(()=>{class Ce{constructor($){this._attachedOverlays=[],this._document=$}ngOnDestroy(){this.detach()}add($){this.remove($),this._attachedOverlays.push($)}remove($){const J=this._attachedOverlays.indexOf($);J>-1&&this._attachedOverlays.splice(J,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(J){return new(J||Ce)(h.LFG(te.K0))};static#t=this.\u0275prov=h.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})(),Vi=(()=>{class Ce extends Ai{constructor($,J){super($),this._ngZone=J,this._keydownListener=ye=>{const Ne=this._attachedOverlays;for(let ft=Ne.length-1;ft>-1;ft--)if(Ne[ft]._keydownEvents.observers.length>0){const kt=Ne[ft]._keydownEvents;this._ngZone?this._ngZone.run(()=>kt.next(ye)):kt.next(ye);break}}}add($){super.add($),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(J){return new(J||Ce)(h.LFG(te.K0),h.LFG(h.R0b,8))};static#t=this.\u0275prov=h.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})(),Uo=(()=>{class Ce extends Ai{constructor($,J,ye){super($),this._platform=J,this._ngZone=ye,this._cursorStyleIsSet=!1,this._pointerDownListener=Ne=>{this._pointerDownEventTarget=(0,Fe.sA)(Ne)},this._clickListener=Ne=>{const ft=(0,Fe.sA)(Ne),kt="click"===Ne.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ft;this._pointerDownEventTarget=null;const Xt=this._attachedOverlays.slice();for(let yn=Xt.length-1;yn>-1;yn--){const kn=Xt[yn];if(kn._outsidePointerEvents.observers.length<1||!kn.hasAttached())continue;if(kn.overlayElement.contains(ft)||kn.overlayElement.contains(kt))break;const di=kn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>di.next(Ne)):di.next(Ne)}}}add($){if(super.add($),!this._isAttached){const J=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(J)):this._addEventListeners(J),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=J.style.cursor,J.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const $=this._document.body;$.removeEventListener("pointerdown",this._pointerDownListener,!0),$.removeEventListener("click",this._clickListener,!0),$.removeEventListener("auxclick",this._clickListener,!0),$.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&($.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners($){$.addEventListener("pointerdown",this._pointerDownListener,!0),$.addEventListener("click",this._clickListener,!0),$.addEventListener("auxclick",this._clickListener,!0),$.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(J){return new(J||Ce)(h.LFG(te.K0),h.LFG(Fe.t4),h.LFG(h.R0b,8))};static#t=this.\u0275prov=h.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})(),Kr=(()=>{class Ce{constructor($,J){this._platform=J,this._document=$}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const $="cdk-overlay-container";if(this._platform.isBrowser||(0,Fe.Oy)()){const ye=this._document.querySelectorAll(`.${$}[platform="server"], .${$}[platform="test"]`);for(let Ne=0;Ne<ye.length;Ne++)ye[Ne].remove()}const J=this._document.createElement("div");J.classList.add($),(0,Fe.Oy)()?J.setAttribute("platform","test"):this._platform.isBrowser||J.setAttribute("platform","server"),this._document.body.appendChild(J),this._containerElement=J}static#e=this.\u0275fac=function(J){return new(J||Ce)(h.LFG(te.K0),h.LFG(Fe.t4))};static#t=this.\u0275prov=h.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})();class jo{constructor(G,$,J,ye,Ne,ft,kt,Xt,yn,kn=!1){this._portalOutlet=G,this._host=$,this._pane=J,this._config=ye,this._ngZone=Ne,this._keyboardDispatcher=ft,this._document=kt,this._location=Xt,this._outsideClickDispatcher=yn,this._animationsDisabled=kn,this._backdropElement=null,this._backdropClick=new H.x,this._attachments=new H.x,this._detachments=new H.x,this._locationChanges=_n.w0.EMPTY,this._backdropClickHandler=di=>this._backdropClick.next(di),this._backdropTransitionendHandler=di=>{this._disposeBackdrop(di.target)},this._keydownEvents=new H.x,this._outsidePointerEvents=new H.x,ye.scrollStrategy&&(this._scrollStrategy=ye.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ye.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(G){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const $=this._portalOutlet.attach(G);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Wt.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof $?.onDestroy&&$.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),$}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const G=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),G}dispose(){const G=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,G&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(G){G!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=G,this.hasAttached()&&(G.attach(this),this.updatePosition()))}updateSize(G){this._config={...this._config,...G},this._updateElementSize()}setDirection(G){this._config={...this._config,direction:G},this._updateElementDirection()}addPanelClass(G){this._pane&&this._toggleClasses(this._pane,G,!0)}removePanelClass(G){this._pane&&this._toggleClasses(this._pane,G,!1)}getDirection(){const G=this._config.direction;return G?"string"==typeof G?G:G.value:"ltr"}updateScrollStrategy(G){G!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=G,this.hasAttached()&&(G.attach(this),G.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const G=this._pane.style;G.width=(0,jt.HM)(this._config.width),G.height=(0,jt.HM)(this._config.height),G.minWidth=(0,jt.HM)(this._config.minWidth),G.minHeight=(0,jt.HM)(this._config.minHeight),G.maxWidth=(0,jt.HM)(this._config.maxWidth),G.maxHeight=(0,jt.HM)(this._config.maxHeight)}_togglePointerEvents(G){this._pane.style.pointerEvents=G?"":"none"}_attachBackdrop(){const G="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(G)})}):this._backdropElement.classList.add(G)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const G=this._backdropElement;if(G){if(this._animationsDisabled)return void this._disposeBackdrop(G);G.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{G.addEventListener("transitionend",this._backdropTransitionendHandler)}),G.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(G)},500))}}_toggleClasses(G,$,J){const ye=(0,jt.Eq)($||[]).filter(Ne=>!!Ne);ye.length&&(J?G.classList.add(...ye):G.classList.remove(...ye))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const G=this._ngZone.onStable.pipe((0,Ut.R)((0,we.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),G.unsubscribe())})})}_disposeScrollStrategy(){const G=this._scrollStrategy;G&&(G.disable(),G.detach&&G.detach())}_disposeBackdrop(G){G&&(G.removeEventListener("click",this._backdropClickHandler),G.removeEventListener("transitionend",this._backdropTransitionendHandler),G.remove(),this._backdropElement===G&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ls="cdk-overlay-connected-position-bounding-box",es=/([A-Za-z%]+)$/;class xr{get positions(){return this._preferredPositions}constructor(G,$,J,ye,Ne){this._viewportRuler=$,this._document=J,this._platform=ye,this._overlayContainer=Ne,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new H.x,this._resizeSubscription=_n.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(G)}attach(G){this._validatePositions(),G.hostElement.classList.add(ls),this._overlayRef=G,this._boundingBox=G.hostElement,this._pane=G.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const G=this._originRect,$=this._overlayRect,J=this._viewportRect,ye=this._containerRect,Ne=[];let ft;for(let kt of this._preferredPositions){let Xt=this._getOriginPoint(G,ye,kt),yn=this._getOverlayPoint(Xt,$,kt),kn=this._getOverlayFit(yn,$,J,kt);if(kn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(kt,Xt);this._canFitWithFlexibleDimensions(kn,yn,J)?Ne.push({position:kt,origin:Xt,overlayRect:$,boundingBoxRect:this._calculateBoundingBoxRect(Xt,kt)}):(!ft||ft.overlayFit.visibleArea<kn.visibleArea)&&(ft={overlayFit:kn,overlayPoint:yn,originPoint:Xt,position:kt,overlayRect:$})}if(Ne.length){let kt=null,Xt=-1;for(const yn of Ne){const kn=yn.boundingBoxRect.width*yn.boundingBoxRect.height*(yn.position.weight||1);kn>Xt&&(Xt=kn,kt=yn)}return this._isPushed=!1,void this._applyPosition(kt.position,kt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ft.position,ft.originPoint);this._applyPosition(ft.position,ft.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&$r(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ls),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const G=this._lastPosition;if(G){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const $=this._getOriginPoint(this._originRect,this._containerRect,G);this._applyPosition(G,$)}else this.apply()}withScrollableContainers(G){return this._scrollables=G,this}withPositions(G){return this._preferredPositions=G,-1===G.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(G){return this._viewportMargin=G,this}withFlexibleDimensions(G=!0){return this._hasFlexibleDimensions=G,this}withGrowAfterOpen(G=!0){return this._growAfterOpen=G,this}withPush(G=!0){return this._canPush=G,this}withLockedPosition(G=!0){return this._positionLocked=G,this}setOrigin(G){return this._origin=G,this}withDefaultOffsetX(G){return this._offsetX=G,this}withDefaultOffsetY(G){return this._offsetY=G,this}withTransformOriginOn(G){return this._transformOriginSelector=G,this}_getOriginPoint(G,$,J){let ye,Ne;if("center"==J.originX)ye=G.left+G.width/2;else{const ft=this._isRtl()?G.right:G.left,kt=this._isRtl()?G.left:G.right;ye="start"==J.originX?ft:kt}return $.left<0&&(ye-=$.left),Ne="center"==J.originY?G.top+G.height/2:"top"==J.originY?G.top:G.bottom,$.top<0&&(Ne-=$.top),{x:ye,y:Ne}}_getOverlayPoint(G,$,J){let ye,Ne;return ye="center"==J.overlayX?-$.width/2:"start"===J.overlayX?this._isRtl()?-$.width:0:this._isRtl()?0:-$.width,Ne="center"==J.overlayY?-$.height/2:"top"==J.overlayY?0:-$.height,{x:G.x+ye,y:G.y+Ne}}_getOverlayFit(G,$,J,ye){const Ne=Va($);let{x:ft,y:kt}=G,Xt=this._getOffset(ye,"x"),yn=this._getOffset(ye,"y");Xt&&(ft+=Xt),yn&&(kt+=yn);let cr=0-kt,yr=kt+Ne.height-J.height,Sr=this._subtractOverflows(Ne.width,0-ft,ft+Ne.width-J.width),Sn=this._subtractOverflows(Ne.height,cr,yr),Fr=Sr*Sn;return{visibleArea:Fr,isCompletelyWithinViewport:Ne.width*Ne.height===Fr,fitsInViewportVertically:Sn===Ne.height,fitsInViewportHorizontally:Sr==Ne.width}}_canFitWithFlexibleDimensions(G,$,J){if(this._hasFlexibleDimensions){const ye=J.bottom-$.y,Ne=J.right-$.x,ft=Ko(this._overlayRef.getConfig().minHeight),kt=Ko(this._overlayRef.getConfig().minWidth);return(G.fitsInViewportVertically||null!=ft&&ft<=ye)&&(G.fitsInViewportHorizontally||null!=kt&&kt<=Ne)}return!1}_pushOverlayOnScreen(G,$,J){if(this._previousPushAmount&&this._positionLocked)return{x:G.x+this._previousPushAmount.x,y:G.y+this._previousPushAmount.y};const ye=Va($),Ne=this._viewportRect,ft=Math.max(G.x+ye.width-Ne.width,0),kt=Math.max(G.y+ye.height-Ne.height,0),Xt=Math.max(Ne.top-J.top-G.y,0),yn=Math.max(Ne.left-J.left-G.x,0);let kn=0,di=0;return kn=ye.width<=Ne.width?yn||-ft:G.x<this._viewportMargin?Ne.left-J.left-G.x:0,di=ye.height<=Ne.height?Xt||-kt:G.y<this._viewportMargin?Ne.top-J.top-G.y:0,this._previousPushAmount={x:kn,y:di},{x:G.x+kn,y:G.y+di}}_applyPosition(G,$){if(this._setTransformOrigin(G),this._setOverlayElementStyles($,G),this._setBoundingBoxStyles($,G),G.panelClass&&this._addPanelClasses(G.panelClass),this._lastPosition=G,this._positionChanges.observers.length){const J=this._getScrollVisibility(),ye=new si(G,J);this._positionChanges.next(ye)}this._isInitialRender=!1}_setTransformOrigin(G){if(!this._transformOriginSelector)return;const $=this._boundingBox.querySelectorAll(this._transformOriginSelector);let J,ye=G.overlayY;J="center"===G.overlayX?"center":this._isRtl()?"start"===G.overlayX?"right":"left":"start"===G.overlayX?"left":"right";for(let Ne=0;Ne<$.length;Ne++)$[Ne].style.transformOrigin=`${J} ${ye}`}_calculateBoundingBoxRect(G,$){const J=this._viewportRect,ye=this._isRtl();let Ne,ft,kt,kn,di,cr;if("top"===$.overlayY)ft=G.y,Ne=J.height-ft+this._viewportMargin;else if("bottom"===$.overlayY)kt=J.height-G.y+2*this._viewportMargin,Ne=J.height-kt+this._viewportMargin;else{const yr=Math.min(J.bottom-G.y+J.top,G.y),Sr=this._lastBoundingBoxSize.height;Ne=2*yr,ft=G.y-yr,Ne>Sr&&!this._isInitialRender&&!this._growAfterOpen&&(ft=G.y-Sr/2)}if("end"===$.overlayX&&!ye||"start"===$.overlayX&&ye)cr=J.width-G.x+this._viewportMargin,kn=G.x-this._viewportMargin;else if("start"===$.overlayX&&!ye||"end"===$.overlayX&&ye)di=G.x,kn=J.right-G.x;else{const yr=Math.min(J.right-G.x+J.left,G.x),Sr=this._lastBoundingBoxSize.width;kn=2*yr,di=G.x-yr,kn>Sr&&!this._isInitialRender&&!this._growAfterOpen&&(di=G.x-Sr/2)}return{top:ft,left:di,bottom:kt,right:cr,width:kn,height:Ne}}_setBoundingBoxStyles(G,$){const J=this._calculateBoundingBoxRect(G,$);!this._isInitialRender&&!this._growAfterOpen&&(J.height=Math.min(J.height,this._lastBoundingBoxSize.height),J.width=Math.min(J.width,this._lastBoundingBoxSize.width));const ye={};if(this._hasExactPosition())ye.top=ye.left="0",ye.bottom=ye.right=ye.maxHeight=ye.maxWidth="",ye.width=ye.height="100%";else{const Ne=this._overlayRef.getConfig().maxHeight,ft=this._overlayRef.getConfig().maxWidth;ye.height=(0,jt.HM)(J.height),ye.top=(0,jt.HM)(J.top),ye.bottom=(0,jt.HM)(J.bottom),ye.width=(0,jt.HM)(J.width),ye.left=(0,jt.HM)(J.left),ye.right=(0,jt.HM)(J.right),ye.alignItems="center"===$.overlayX?"center":"end"===$.overlayX?"flex-end":"flex-start",ye.justifyContent="center"===$.overlayY?"center":"bottom"===$.overlayY?"flex-end":"flex-start",Ne&&(ye.maxHeight=(0,jt.HM)(Ne)),ft&&(ye.maxWidth=(0,jt.HM)(ft))}this._lastBoundingBoxSize=J,$r(this._boundingBox.style,ye)}_resetBoundingBoxStyles(){$r(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){$r(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(G,$){const J={},ye=this._hasExactPosition(),Ne=this._hasFlexibleDimensions,ft=this._overlayRef.getConfig();if(ye){const kn=this._viewportRuler.getViewportScrollPosition();$r(J,this._getExactOverlayY($,G,kn)),$r(J,this._getExactOverlayX($,G,kn))}else J.position="static";let kt="",Xt=this._getOffset($,"x"),yn=this._getOffset($,"y");Xt&&(kt+=`translateX(${Xt}px) `),yn&&(kt+=`translateY(${yn}px)`),J.transform=kt.trim(),ft.maxHeight&&(ye?J.maxHeight=(0,jt.HM)(ft.maxHeight):Ne&&(J.maxHeight="")),ft.maxWidth&&(ye?J.maxWidth=(0,jt.HM)(ft.maxWidth):Ne&&(J.maxWidth="")),$r(this._pane.style,J)}_getExactOverlayY(G,$,J){let ye={top:"",bottom:""},Ne=this._getOverlayPoint($,this._overlayRect,G);return this._isPushed&&(Ne=this._pushOverlayOnScreen(Ne,this._overlayRect,J)),"bottom"===G.overlayY?ye.bottom=this._document.documentElement.clientHeight-(Ne.y+this._overlayRect.height)+"px":ye.top=(0,jt.HM)(Ne.y),ye}_getExactOverlayX(G,$,J){let ft,ye={left:"",right:""},Ne=this._getOverlayPoint($,this._overlayRect,G);return this._isPushed&&(Ne=this._pushOverlayOnScreen(Ne,this._overlayRect,J)),ft=this._isRtl()?"end"===G.overlayX?"left":"right":"end"===G.overlayX?"right":"left","right"===ft?ye.right=this._document.documentElement.clientWidth-(Ne.x+this._overlayRect.width)+"px":ye.left=(0,jt.HM)(Ne.x),ye}_getScrollVisibility(){const G=this._getOriginRect(),$=this._pane.getBoundingClientRect(),J=this._scrollables.map(ye=>ye.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:xi(G,J),isOriginOutsideView:yi(G,J),isOverlayClipped:xi($,J),isOverlayOutsideView:yi($,J)}}_subtractOverflows(G,...$){return $.reduce((J,ye)=>J-Math.max(ye,0),G)}_getNarrowedViewportRect(){const G=this._document.documentElement.clientWidth,$=this._document.documentElement.clientHeight,J=this._viewportRuler.getViewportScrollPosition();return{top:J.top+this._viewportMargin,left:J.left+this._viewportMargin,right:J.left+G-this._viewportMargin,bottom:J.top+$-this._viewportMargin,width:G-2*this._viewportMargin,height:$-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(G,$){return"x"===$?null==G.offsetX?this._offsetX:G.offsetX:null==G.offsetY?this._offsetY:G.offsetY}_validatePositions(){}_addPanelClasses(G){this._pane&&(0,jt.Eq)(G).forEach($=>{""!==$&&-1===this._appliedPanelClasses.indexOf($)&&(this._appliedPanelClasses.push($),this._pane.classList.add($))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(G=>{this._pane.classList.remove(G)}),this._appliedPanelClasses=[])}_getOriginRect(){const G=this._origin;if(G instanceof h.SBq)return G.nativeElement.getBoundingClientRect();if(G instanceof Element)return G.getBoundingClientRect();const $=G.width||0,J=G.height||0;return{top:G.y,bottom:G.y+J,left:G.x,right:G.x+$,height:J,width:$}}}function $r(Ce,G){for(let $ in G)G.hasOwnProperty($)&&(Ce[$]=G[$]);return Ce}function Ko(Ce){if("number"!=typeof Ce&&null!=Ce){const[G,$]=Ce.split(es);return $&&"px"!==$?null:parseFloat(G)}return Ce||null}function Va(Ce){return{top:Math.floor(Ce.top),right:Math.floor(Ce.right),bottom:Math.floor(Ce.bottom),left:Math.floor(Ce.left),width:Math.floor(Ce.width),height:Math.floor(Ce.height)}}const vs="cdk-global-overlay-wrapper";class cs{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(G){const $=G.getConfig();this._overlayRef=G,this._width&&!$.width&&G.updateSize({width:this._width}),this._height&&!$.height&&G.updateSize({height:this._height}),G.hostElement.classList.add(vs),this._isDisposed=!1}top(G=""){return this._bottomOffset="",this._topOffset=G,this._alignItems="flex-start",this}left(G=""){return this._xOffset=G,this._xPosition="left",this}bottom(G=""){return this._topOffset="",this._bottomOffset=G,this._alignItems="flex-end",this}right(G=""){return this._xOffset=G,this._xPosition="right",this}start(G=""){return this._xOffset=G,this._xPosition="start",this}end(G=""){return this._xOffset=G,this._xPosition="end",this}width(G=""){return this._overlayRef?this._overlayRef.updateSize({width:G}):this._width=G,this}height(G=""){return this._overlayRef?this._overlayRef.updateSize({height:G}):this._height=G,this}centerHorizontally(G=""){return this.left(G),this._xPosition="center",this}centerVertically(G=""){return this.top(G),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const G=this._overlayRef.overlayElement.style,$=this._overlayRef.hostElement.style,J=this._overlayRef.getConfig(),{width:ye,height:Ne,maxWidth:ft,maxHeight:kt}=J,Xt=!("100%"!==ye&&"100vw"!==ye||ft&&"100%"!==ft&&"100vw"!==ft),yn=!("100%"!==Ne&&"100vh"!==Ne||kt&&"100%"!==kt&&"100vh"!==kt),kn=this._xPosition,di=this._xOffset,cr="rtl"===this._overlayRef.getConfig().direction;let yr="",Sr="",Sn="";Xt?Sn="flex-start":"center"===kn?(Sn="center",cr?Sr=di:yr=di):cr?"left"===kn||"end"===kn?(Sn="flex-end",yr=di):("right"===kn||"start"===kn)&&(Sn="flex-start",Sr=di):"left"===kn||"start"===kn?(Sn="flex-start",yr=di):("right"===kn||"end"===kn)&&(Sn="flex-end",Sr=di),G.position=this._cssPosition,G.marginLeft=Xt?"0":yr,G.marginTop=yn?"0":this._topOffset,G.marginBottom=this._bottomOffset,G.marginRight=Xt?"0":Sr,$.justifyContent=Sn,$.alignItems=yn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const G=this._overlayRef.overlayElement.style,$=this._overlayRef.hostElement,J=$.style;$.classList.remove(vs),J.justifyContent=J.alignItems=G.marginTop=G.marginBottom=G.marginLeft=G.marginRight=G.position="",this._overlayRef=null,this._isDisposed=!0}}let Or=(()=>{class Ce{constructor($,J,ye,Ne){this._viewportRuler=$,this._document=J,this._platform=ye,this._overlayContainer=Ne}global(){return new cs}flexibleConnectedTo($){return new xr($,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(J){return new(J||Ce)(h.LFG(pe),h.LFG(te.K0),h.LFG(Fe.t4),h.LFG(Kr))};static#t=this.\u0275prov=h.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})(),Dr=0,Zo=(()=>{class Ce{constructor($,J,ye,Ne,ft,kt,Xt,yn,kn,di,cr,yr){this.scrollStrategies=$,this._overlayContainer=J,this._componentFactoryResolver=ye,this._positionBuilder=Ne,this._keyboardDispatcher=ft,this._injector=kt,this._ngZone=Xt,this._document=yn,this._directionality=kn,this._location=di,this._outsideClickDispatcher=cr,this._animationsModuleType=yr}create($){const J=this._createHostElement(),ye=this._createPaneElement(J),Ne=this._createPortalOutlet(ye),ft=new Cr($);return ft.direction=ft.direction||this._directionality.value,new jo(Ne,J,ye,ft,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement($){const J=this._document.createElement("div");return J.id="cdk-overlay-"+Dr++,J.classList.add("cdk-overlay-pane"),$.appendChild(J),J}_createHostElement(){const $=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild($),$}_createPortalOutlet($){return this._appRef||(this._appRef=this._injector.get(h.z2F)),new pt($,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(J){return new(J||Ce)(h.LFG(Ti),h.LFG(Kr),h.LFG(h._Vd),h.LFG(Or),h.LFG(Vi),h.LFG(h.zs3),h.LFG(h.R0b),h.LFG(te.K0),h.LFG($i.Is),h.LFG(te.Ye),h.LFG(Uo),h.LFG(h.QbO,8))};static#t=this.\u0275prov=h.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})();const Yo={provide:new h.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Zo],useFactory:function pr(Ce){return()=>Ce.scrollStrategies.reposition()}};let ys=(()=>{class Ce{static#e=this.\u0275fac=function(J){return new(J||Ce)};static#t=this.\u0275mod=h.oAB({type:Ce});static#n=this.\u0275inj=h.cJS({providers:[Zo,Yo],imports:[$i.vT,Xe,_e,_e]})}return Ce})();var So=O(3680);function Jn(Ce,G){if(1&Ce){const $=h.EpF();h.TgZ(0,"div",2)(1,"button",3),h.NdJ("click",function(){h.CHM($);const ye=h.oxw();return h.KtG(ye.action())}),h._uU(2),h.qZA()()}if(2&Ce){const $=h.oxw();h.xp6(2),h.hij(" ",$.data.action," ")}}const ji=["label"];function rr(Ce,G){}const Ar=Math.pow(2,31)-1;class tr{constructor(G,$){this._overlayRef=$,this._afterDismissed=new H.x,this._afterOpened=new H.x,this._onAction=new H.x,this._dismissedByAction=!1,this.containerInstance=G,G._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(G){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(G,Ar))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const us=new h.OlP("MatSnackBarData");class so{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Fi=(()=>{class Ce{static#e=this.\u0275fac=function(J){return new(J||Ce)};static#t=this.\u0275dir=h.lG2({type:Ce,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return Ce})(),po=(()=>{class Ce{static#e=this.\u0275fac=function(J){return new(J||Ce)};static#t=this.\u0275dir=h.lG2({type:Ce,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return Ce})(),yo=(()=>{class Ce{static#e=this.\u0275fac=function(J){return new(J||Ce)};static#t=this.\u0275dir=h.lG2({type:Ce,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return Ce})(),Si=(()=>{class Ce{constructor($,J){this.snackBarRef=$,this.data=J}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(J){return new(J||Ce)(h.Y36(tr),h.Y36(us))};static#t=this.\u0275cmp=h.Xpm({type:Ce,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(J,ye){1&J&&(h.TgZ(0,"div",0),h._uU(1),h.qZA(),h.YNc(2,Jn,3,1,"div",1)),2&J&&(h.xp6(1),h.hij(" ",ye.data.message,"\n"),h.xp6(1),h.Q6J("ngIf",ye.hasAction))},dependencies:[te.O5,R.lW,Fi,po,yo],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return Ce})();const Yt={snackBarState:(0,me.X$)("state",[(0,me.SB)("void, hidden",(0,me.oB)({transform:"scale(0.8)",opacity:0})),(0,me.SB)("visible",(0,me.oB)({transform:"scale(1)",opacity:1})),(0,me.eR)("* => visible",(0,me.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,me.eR)("* => void, * => hidden",(0,me.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,me.oB)({opacity:0})))])};let Hn=0,Hi=(()=>{class Ce extends it{constructor($,J,ye,Ne,ft){super(),this._ngZone=$,this._elementRef=J,this._changeDetectorRef=ye,this._platform=Ne,this.snackBarConfig=ft,this._document=(0,h.f3M)(te.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new H.x,this._onExit=new H.x,this._onEnter=new H.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Hn++,this.attachDomPortal=kt=>{this._assertNotAttached();const Xt=this._portalOutlet.attachDomPortal(kt);return this._afterPortalAttached(),Xt},this._live="assertive"!==ft.politeness||ft.announcementMessage?"off"===ft.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal($){this._assertNotAttached();const J=this._portalOutlet.attachComponentPortal($);return this._afterPortalAttached(),J}attachTemplatePortal($){this._assertNotAttached();const J=this._portalOutlet.attachTemplatePortal($);return this._afterPortalAttached(),J}onAnimationEnd($){const{fromState:J,toState:ye}=$;if(("void"===ye&&"void"!==J||"hidden"===ye)&&this._completeExit(),"visible"===ye){const Ne=this._onEnter;this._ngZone.run(()=>{Ne.next(),Ne.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Wt.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const $=this._elementRef.nativeElement,J=this.snackBarConfig.panelClass;J&&(Array.isArray(J)?J.forEach(ye=>$.classList.add(ye)):$.classList.add(J)),this._exposeToModals()}_exposeToModals(){const $=this._liveElementId,J=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ye=0;ye<J.length;ye++){const Ne=J[ye],ft=Ne.getAttribute("aria-owns");this._trackedModals.add(Ne),ft?-1===ft.indexOf($)&&Ne.setAttribute("aria-owns",ft+" "+$):Ne.setAttribute("aria-owns",$)}}_clearFromModals(){this._trackedModals.forEach($=>{const J=$.getAttribute("aria-owns");if(J){const ye=J.replace(this._liveElementId,"").trim();ye.length>0?$.setAttribute("aria-owns",ye):$.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const $=this._elementRef.nativeElement.querySelector("[aria-hidden]"),J=this._elementRef.nativeElement.querySelector("[aria-live]");if($&&J){let ye=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&$.contains(document.activeElement)&&(ye=document.activeElement),$.removeAttribute("aria-hidden"),J.appendChild($),ye?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(J){return new(J||Ce)(h.Y36(h.R0b),h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(Fe.t4),h.Y36(so))};static#t=this.\u0275dir=h.lG2({type:Ce,viewQuery:function(J,ye){if(1&J&&h.Gf(Le,7),2&J){let Ne;h.iGM(Ne=h.CRH())&&(ye._portalOutlet=Ne.first)}},features:[h.qOj]})}return Ce})(),Nr=(()=>{class Ce extends Hi{_afterPortalAttached(){super._afterPortalAttached();const $=this._label.nativeElement,J="mdc-snackbar__label";$.classList.toggle(J,!$.querySelector(`.${J}`))}static#e=this.\u0275fac=function(){let $;return function(ye){return($||($=h.n5z(Ce)))(ye||Ce)}}();static#t=this.\u0275cmp=h.Xpm({type:Ce,selectors:[["mat-snack-bar-container"]],viewQuery:function(J,ye){if(1&J&&h.Gf(ji,7),2&J){let Ne;h.iGM(Ne=h.CRH())&&(ye._label=Ne.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(J,ye){1&J&&h.WFA("@state.done",function(ft){return ye.onAnimationEnd(ft)}),2&J&&h.d8E("@state",ye._animationState)},features:[h.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(J,ye){1&J&&(h.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),h.YNc(4,rr,0,0,"ng-template",4),h.qZA(),h._UZ(5,"div"),h.qZA()()),2&J&&(h.xp6(5),h.uIk("aria-live",ye._live)("role",ye._role)("id",ye._liveElementId))},dependencies:[Le],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Yt.snackBarState]}})}return Ce})(),to=(()=>{class Ce{static#e=this.\u0275fac=function(J){return new(J||Ce)};static#t=this.\u0275mod=h.oAB({type:Ce});static#n=this.\u0275inj=h.cJS({imports:[ys,Xe,te.ez,R.ot,So.BQ,So.BQ]})}return Ce})();const Vr=new h.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function or(){return new so}});let Oi=(()=>{class Ce{get _openedSnackBarRef(){const $=this._parentSnackBar;return $?$._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef($){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=$:this._snackBarRefAtThisLevel=$}constructor($,J,ye,Ne,ft,kt){this._overlay=$,this._live=J,this._injector=ye,this._breakpointObserver=Ne,this._parentSnackBar=ft,this._defaultConfig=kt,this._snackBarRefAtThisLevel=null}openFromComponent($,J){return this._attach($,J)}openFromTemplate($,J){return this._attach($,J)}open($,J="",ye){const Ne={...this._defaultConfig,...ye};return Ne.data={message:$,action:J},Ne.announcementMessage===$&&(Ne.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Ne)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer($,J){const Ne=h.zs3.create({parent:J&&J.viewContainerRef&&J.viewContainerRef.injector||this._injector,providers:[{provide:so,useValue:J}]}),ft=new Ze(this.snackBarContainerComponent,J.viewContainerRef,Ne),kt=$.attach(ft);return kt.instance.snackBarConfig=J,kt.instance}_attach($,J){const ye={...new so,...this._defaultConfig,...J},Ne=this._createOverlay(ye),ft=this._attachSnackBarContainer(Ne,ye),kt=new tr(ft,Ne);if($ instanceof h.Rgc){const Xt=new tt($,null,{$implicit:ye.data,snackBarRef:kt});kt.instance=ft.attachTemplatePortal(Xt)}else{const Xt=this._createInjector(ye,kt),yn=new Ze($,void 0,Xt),kn=ft.attachComponentPortal(yn);kt.instance=kn.instance}return this._breakpointObserver.observe(an.u3.HandsetPortrait).pipe((0,Ut.R)(Ne.detachments())).subscribe(Xt=>{Ne.overlayElement.classList.toggle(this.handsetCssClass,Xt.matches)}),ye.announcementMessage&&ft._onAnnounce.subscribe(()=>{this._live.announce(ye.announcementMessage,ye.politeness)}),this._animateSnackBar(kt,ye),this._openedSnackBarRef=kt,this._openedSnackBarRef}_animateSnackBar($,J){$.afterDismissed().subscribe(()=>{this._openedSnackBarRef==$&&(this._openedSnackBarRef=null),J.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{$.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):$.containerInstance.enter(),J.duration&&J.duration>0&&$.afterOpened().subscribe(()=>$._dismissAfter(J.duration))}_createOverlay($){const J=new Cr;J.direction=$.direction;let ye=this._overlay.position().global();const Ne="rtl"===$.direction,ft="left"===$.horizontalPosition||"start"===$.horizontalPosition&&!Ne||"end"===$.horizontalPosition&&Ne,kt=!ft&&"center"!==$.horizontalPosition;return ft?ye.left("0"):kt?ye.right("0"):ye.centerHorizontally(),"top"===$.verticalPosition?ye.top("0"):ye.bottom("0"),J.positionStrategy=ye,this._overlay.create(J)}_createInjector($,J){return h.zs3.create({parent:$&&$.viewContainerRef&&$.viewContainerRef.injector||this._injector,providers:[{provide:tr,useValue:J},{provide:us,useValue:$.data}]})}static#e=this.\u0275fac=function(J){return new(J||Ce)(h.LFG(Zo),h.LFG(dn.Kd),h.LFG(h.zs3),h.LFG(an.Yg),h.LFG(Ce,12),h.LFG(Vr))};static#t=this.\u0275prov=h.Yz7({token:Ce,factory:Ce.\u0275fac})}return Ce})(),kr=(()=>{class Ce extends Oi{constructor($,J,ye,Ne,ft,kt){super($,J,ye,Ne,ft,kt),this.simpleSnackBarComponent=Si,this.snackBarContainerComponent=Nr,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(J){return new(J||Ce)(h.LFG(Zo),h.LFG(dn.Kd),h.LFG(h.zs3),h.LFG(an.Yg),h.LFG(Ce,12),h.LFG(Vr))};static#t=this.\u0275prov=h.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:to})}return Ce})()},6593:(Nt,Be,O)=>{O.d(Be,{Dx:()=>ni,H7:()=>ui,b2:()=>Bn,q6:()=>Dn,se:()=>Fe});var h=O(5879),H=O(6814);class te extends H.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class R extends te{static makeCurrent(){(0,H.HT)(new R)}onAndCancel(F,k,B){return F.addEventListener(k,B),()=>{F.removeEventListener(k,B)}}dispatchEvent(F,k){F.dispatchEvent(k)}remove(F){F.parentNode&&F.parentNode.removeChild(F)}createElement(F,k){return(k=k||this.getDefaultDocument()).createElement(F)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(F){return F.nodeType===Node.ELEMENT_NODE}isShadowRoot(F){return F instanceof DocumentFragment}getGlobalEventTarget(F,k){return"window"===k?window:"document"===k?F:"body"===k?F.body:null}getBaseHref(F){const k=function Ee(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==k?null:function fe(U){Te=Te||document.createElement("a"),Te.setAttribute("href",U);const F=Te.pathname;return"/"===F.charAt(0)?F:`/${F}`}(k)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(F){return(0,H.Mx)(document.cookie,F)}}let Te,me=null,ae=(()=>{class U{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(B){return new(B||U)};static#t=this.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac})}return U})();const ve=new h.OlP("EventManagerPlugins");let Oe=(()=>{class U{constructor(k,B){this._zone=B,this._eventNameToPlugin=new Map,k.forEach(pe=>{pe.manager=this}),this._plugins=k.slice().reverse()}addEventListener(k,B,pe){return this._findPluginFor(B).addEventListener(k,B,pe)}getZone(){return this._zone}_findPluginFor(k){let B=this._eventNameToPlugin.get(k);if(B)return B;if(B=this._plugins.find(Ue=>Ue.supports(k)),!B)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(k,B),B}static#e=this.\u0275fac=function(B){return new(B||U)(h.LFG(ve),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac})}return U})();class Ze{constructor(F){this._doc=F}}const tt="ng-app-id";let bt=(()=>{class U{constructor(k,B,pe,Ue={}){this.doc=k,this.appId=B,this.nonce=pe,this.platformId=Ue,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,H.PM)(Ue),this.resetHostNodes()}addStyles(k){for(const B of k)1===this.changeUsageCount(B,1)&&this.onStyleAdded(B)}removeStyles(k){for(const B of k)this.changeUsageCount(B,-1)<=0&&this.onStyleRemoved(B)}ngOnDestroy(){const k=this.styleNodesInDOM;k&&(k.forEach(B=>B.remove()),k.clear());for(const B of this.getAllStyles())this.onStyleRemoved(B);this.resetHostNodes()}addHost(k){this.hostNodes.add(k);for(const B of this.getAllStyles())this.addStyleToHost(k,B)}removeHost(k){this.hostNodes.delete(k)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(k){for(const B of this.hostNodes)this.addStyleToHost(B,k)}onStyleRemoved(k){const B=this.styleRef;B.get(k)?.elements?.forEach(pe=>pe.remove()),B.delete(k)}collectServerRenderedStyles(){const k=this.doc.head?.querySelectorAll(`style[${tt}="${this.appId}"]`);if(k?.length){const B=new Map;return k.forEach(pe=>{null!=pe.textContent&&B.set(pe.textContent,pe)}),B}return null}changeUsageCount(k,B){const pe=this.styleRef;if(pe.has(k)){const Ue=pe.get(k);return Ue.usage+=B,Ue.usage}return pe.set(k,{usage:B,elements:[]}),B}getStyleElement(k,B){const pe=this.styleNodesInDOM,Ue=pe?.get(B);if(Ue?.parentNode===k)return pe.delete(B),Ue.removeAttribute(tt),Ue;{const vt=this.doc.createElement("style");return this.nonce&&vt.setAttribute("nonce",this.nonce),vt.textContent=B,this.platformIsServer&&vt.setAttribute(tt,this.appId),vt}}addStyleToHost(k,B){const pe=this.getStyleElement(k,B);k.appendChild(pe);const Ue=this.styleRef,vt=Ue.get(B)?.elements;vt?vt.push(pe):Ue.set(B,{elements:[pe],usage:1})}resetHostNodes(){const k=this.hostNodes;k.clear(),k.add(this.doc.head)}static#e=this.\u0275fac=function(B){return new(B||U)(h.LFG(H.K0),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))};static#t=this.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac})}return U})();const it={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lt=/%COMP%/g,Le=new h.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ct(U,F){return F.map(k=>k.replace(lt,U))}let Fe=(()=>{class U{constructor(k,B,pe,Ue,vt,St,Lt,Ht=null){this.eventManager=k,this.sharedStylesHost=B,this.appId=pe,this.removeStylesOnCompDestroy=Ue,this.doc=vt,this.platformId=St,this.ngZone=Lt,this.nonce=Ht,this.rendererByCompId=new Map,this.platformIsServer=(0,H.PM)(St),this.defaultRenderer=new Wt(k,vt,Lt,this.platformIsServer)}createRenderer(k,B){if(!k||!B)return this.defaultRenderer;this.platformIsServer&&B.encapsulation===h.ifc.ShadowDom&&(B={...B,encapsulation:h.ifc.Emulated});const pe=this.getOrCreateRenderer(k,B);return pe instanceof Jt?pe.applyToHost(k):pe instanceof bi&&pe.applyStyles(),pe}getOrCreateRenderer(k,B){const pe=this.rendererByCompId;let Ue=pe.get(B.id);if(!Ue){const vt=this.doc,St=this.ngZone,Lt=this.eventManager,Ht=this.sharedStylesHost,gn=this.removeStylesOnCompDestroy,An=this.platformIsServer;switch(B.encapsulation){case h.ifc.Emulated:Ue=new Jt(Lt,Ht,B,this.appId,gn,vt,St,An);break;case h.ifc.ShadowDom:return new jt(Lt,Ht,k,B,vt,St,this.nonce,An);default:Ue=new bi(Lt,Ht,B,gn,vt,St,An)}pe.set(B.id,Ue)}return Ue}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(B){return new(B||U)(h.LFG(Oe),h.LFG(bt),h.LFG(h.AFp),h.LFG(Le),h.LFG(H.K0),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))};static#t=this.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac})}return U})();class Wt{constructor(F,k,B,pe){this.eventManager=F,this.doc=k,this.ngZone=B,this.platformIsServer=pe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(F,k){return k?this.doc.createElementNS(it[k]||k,F):this.doc.createElement(F)}createComment(F){return this.doc.createComment(F)}createText(F){return this.doc.createTextNode(F)}appendChild(F,k){(an(F)?F.content:F).appendChild(k)}insertBefore(F,k,B){F&&(an(F)?F.content:F).insertBefore(k,B)}removeChild(F,k){F&&F.removeChild(k)}selectRootElement(F,k){let B="string"==typeof F?this.doc.querySelector(F):F;if(!B)throw new h.vHH(-5104,!1);return k||(B.textContent=""),B}parentNode(F){return F.parentNode}nextSibling(F){return F.nextSibling}setAttribute(F,k,B,pe){if(pe){k=pe+":"+k;const Ue=it[pe];Ue?F.setAttributeNS(Ue,k,B):F.setAttribute(k,B)}else F.setAttribute(k,B)}removeAttribute(F,k,B){if(B){const pe=it[B];pe?F.removeAttributeNS(pe,k):F.removeAttribute(`${B}:${k}`)}else F.removeAttribute(k)}addClass(F,k){F.classList.add(k)}removeClass(F,k){F.classList.remove(k)}setStyle(F,k,B,pe){pe&(h.JOm.DashCase|h.JOm.Important)?F.style.setProperty(k,B,pe&h.JOm.Important?"important":""):F.style[k]=B}removeStyle(F,k,B){B&h.JOm.DashCase?F.style.removeProperty(k):F.style[k]=""}setProperty(F,k,B){F[k]=B}setValue(F,k){F.nodeValue=k}listen(F,k,B){if("string"==typeof F&&!(F=(0,H.q)().getGlobalEventTarget(this.doc,F)))throw new Error(`Unsupported event target ${F} for event ${k}`);return this.eventManager.addEventListener(F,k,this.decoratePreventDefault(B))}decoratePreventDefault(F){return k=>{if("__ngUnwrap__"===k)return F;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>F(k)):F(k))&&k.preventDefault()}}}function an(U){return"TEMPLATE"===U.tagName&&void 0!==U.content}class jt extends Wt{constructor(F,k,B,pe,Ue,vt,St,Lt){super(F,Ue,vt,Lt),this.sharedStylesHost=k,this.hostEl=B,this.shadowRoot=B.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ht=ct(pe.id,pe.styles);for(const gn of Ht){const An=document.createElement("style");St&&An.setAttribute("nonce",St),An.textContent=gn,this.shadowRoot.appendChild(An)}}nodeOrShadowRoot(F){return F===this.hostEl?this.shadowRoot:F}appendChild(F,k){return super.appendChild(this.nodeOrShadowRoot(F),k)}insertBefore(F,k,B){return super.insertBefore(this.nodeOrShadowRoot(F),k,B)}removeChild(F,k){return super.removeChild(this.nodeOrShadowRoot(F),k)}parentNode(F){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(F)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class bi extends Wt{constructor(F,k,B,pe,Ue,vt,St,Lt){super(F,Ue,vt,St),this.sharedStylesHost=k,this.removeStylesOnCompDestroy=pe,this.styles=Lt?ct(Lt,B.styles):B.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Jt extends bi{constructor(F,k,B,pe,Ue,vt,St,Lt){const Ht=pe+"-"+B.id;super(F,k,B,Ue,vt,St,Lt,Ht),this.contentAttr=function Me(U){return"_ngcontent-%COMP%".replace(lt,U)}(Ht),this.hostAttr=function Xe(U){return"_nghost-%COMP%".replace(lt,U)}(Ht)}applyToHost(F){this.applyStyles(),this.setAttribute(F,this.hostAttr,"")}createElement(F,k){const B=super.createElement(F,k);return super.setAttribute(B,this.contentAttr,""),B}}let bn=(()=>{class U extends Ze{constructor(k){super(k)}supports(k){return!0}addEventListener(k,B,pe){return k.addEventListener(B,pe,!1),()=>this.removeEventListener(k,B,pe)}removeEventListener(k,B,pe){return k.removeEventListener(B,pe)}static#e=this.\u0275fac=function(B){return new(B||U)(h.LFG(H.K0))};static#t=this.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac})}return U})();const En=["alt","control","meta","shift"],We={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Je={alt:U=>U.altKey,control:U=>U.ctrlKey,meta:U=>U.metaKey,shift:U=>U.shiftKey};let Ye=(()=>{class U extends Ze{constructor(k){super(k)}supports(k){return null!=U.parseEventName(k)}addEventListener(k,B,pe){const Ue=U.parseEventName(B),vt=U.eventCallback(Ue.fullKey,pe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,H.q)().onAndCancel(k,Ue.domEventName,vt))}static parseEventName(k){const B=k.toLowerCase().split("."),pe=B.shift();if(0===B.length||"keydown"!==pe&&"keyup"!==pe)return null;const Ue=U._normalizeKey(B.pop());let vt="",St=B.indexOf("code");if(St>-1&&(B.splice(St,1),vt="code."),En.forEach(Ht=>{const gn=B.indexOf(Ht);gn>-1&&(B.splice(gn,1),vt+=Ht+".")}),vt+=Ue,0!=B.length||0===Ue.length)return null;const Lt={};return Lt.domEventName=pe,Lt.fullKey=vt,Lt}static matchEventFullKeyCode(k,B){let pe=We[k.key]||k.key,Ue="";return B.indexOf("code.")>-1&&(pe=k.code,Ue="code."),!(null==pe||!pe)&&(pe=pe.toLowerCase()," "===pe?pe="space":"."===pe&&(pe="dot"),En.forEach(vt=>{vt!==pe&&(0,Je[vt])(k)&&(Ue+=vt+".")}),Ue+=pe,Ue===B)}static eventCallback(k,B,pe){return Ue=>{U.matchEventFullKeyCode(Ue,k)&&pe.runGuarded(()=>B(Ue))}}static _normalizeKey(k){return"esc"===k?"escape":k}static#e=this.\u0275fac=function(B){return new(B||U)(h.LFG(H.K0))};static#t=this.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac})}return U})();const Dn=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:H.bD},{provide:h.g9A,useValue:function wt(){R.makeCurrent()},multi:!0},{provide:H.K0,useFactory:function rn(){return(0,h.RDi)(document),document},deps:[]}]),_n=new h.OlP(""),Ln=[{provide:h.rWj,useClass:class Se{addToWindow(F){h.dqk.getAngularTestability=(B,pe=!0)=>{const Ue=F.findTestabilityInTree(B,pe);if(null==Ue)throw new h.vHH(5103,!1);return Ue},h.dqk.getAllAngularTestabilities=()=>F.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>F.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(B=>{const pe=h.dqk.getAllAngularTestabilities();let Ue=pe.length,vt=!1;const St=function(Lt){vt=vt||Lt,Ue--,0==Ue&&B(vt)};pe.forEach(Lt=>{Lt.whenStable(St)})})}findTestabilityInTree(F,k,B){return null==k?null:F.getTestability(k)??(B?(0,H.q)().isShadowRoot(k)?this.findTestabilityInTree(F,k.host,!0):this.findTestabilityInTree(F,k.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],li=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function zn(){return new h.qLn},deps:[]},{provide:ve,useClass:bn,multi:!0,deps:[H.K0,h.R0b,h.Lbi]},{provide:ve,useClass:Ye,multi:!0,deps:[H.K0]},Fe,bt,Oe,{provide:h.FYo,useExisting:Fe},{provide:H.JF,useClass:ae,deps:[]},[]];let Bn=(()=>{class U{constructor(k){}static withServerTransition(k){return{ngModule:U,providers:[{provide:h.AFp,useValue:k.appId}]}}static#e=this.\u0275fac=function(B){return new(B||U)(h.LFG(_n,12))};static#t=this.\u0275mod=h.oAB({type:U});static#n=this.\u0275inj=h.cJS({providers:[...li,...Ln],imports:[H.ez,h.hGG]})}return U})(),ni=(()=>{class U{constructor(k){this._doc=k}getTitle(){return this._doc.title}setTitle(k){this._doc.title=k||""}static#e=this.\u0275fac=function(B){return new(B||U)(h.LFG(H.K0))};static#t=this.\u0275prov=h.Yz7({token:U,factory:function(B){let pe=null;return pe=B?new B:function Li(){return new ni((0,h.LFG)(H.K0))}(),pe},providedIn:"root"})}return U})();typeof window<"u"&&window;let ui=(()=>{class U{static#e=this.\u0275fac=function(B){return new(B||U)};static#t=this.\u0275prov=h.Yz7({token:U,factory:function(B){let pe=null;return pe=B?new(B||U):h.LFG(Mn),pe},providedIn:"root"})}return U})(),Mn=(()=>{class U extends ui{constructor(k){super(),this._doc=k}sanitize(k,B){if(null==B)return null;switch(k){case h.q3G.NONE:return B;case h.q3G.HTML:return(0,h.qzn)(B,"HTML")?(0,h.z3N)(B):(0,h.EiD)(this._doc,String(B)).toString();case h.q3G.STYLE:return(0,h.qzn)(B,"Style")?(0,h.z3N)(B):B;case h.q3G.SCRIPT:if((0,h.qzn)(B,"Script"))return(0,h.z3N)(B);throw new h.vHH(5200,!1);case h.q3G.URL:return(0,h.qzn)(B,"URL")?(0,h.z3N)(B):(0,h.mCW)(String(B));case h.q3G.RESOURCE_URL:if((0,h.qzn)(B,"ResourceURL"))return(0,h.z3N)(B);throw new h.vHH(5201,!1);default:throw new h.vHH(5202,!1)}}bypassSecurityTrustHtml(k){return(0,h.JVY)(k)}bypassSecurityTrustStyle(k){return(0,h.L6k)(k)}bypassSecurityTrustScript(k){return(0,h.eBb)(k)}bypassSecurityTrustUrl(k){return(0,h.LAX)(k)}bypassSecurityTrustResourceUrl(k){return(0,h.pB0)(k)}static#e=this.\u0275fac=function(B){return new(B||U)(h.LFG(H.K0))};static#t=this.\u0275prov=h.Yz7({token:U,factory:function(B){let pe=null;return pe=B?new B:function Gn(U){return new Mn(U.get(H.K0))}(h.LFG(h.zs3)),pe},providedIn:"root"})}return U})()},7488:(Nt,Be,O)=>{O.d(Be,{F0:()=>zt,rH:()=>Mt,Bz:()=>gi,lC:()=>Hn});var h=O(5879),H=O(5592),te=O(4674),me=O(2459),Ee=O(2096),Te=O(5619),fe=O(2572),Se=O(6973),ae=O(5211),ve=O(4829);function Oe(T){return new H.y(P=>{(0,ve.Xf)(T()).subscribe(P)})}var Ze=O(8407),tt=O(8504),bt=O(6232),it=O(7394),lt=O(9360),pt=O(8251);function Pt(){return(0,lt.e)((T,P)=>{let I=null;T._refCount++;const N=(0,pt.x)(P,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(I=null);const q=T._connection,ce=I;I=null,q&&(!ce||q===ce)&&q.unsubscribe(),P.unsubscribe()});T.subscribe(N),N.closed||(I=T.connect())})}class _t extends H.y{constructor(P,I){super(),this.source=P,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,lt.A)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,P?.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new it.w0;const I=this.getSubject();P.add(this.source.subscribe((0,pt.x)(I,void 0,()=>{this._teardown(),I.complete()},N=>{this._teardown(),I.error(N)},()=>this._teardown()))),P.closed&&(this._connection=null,P=it.w0.EMPTY)}return P}refCount(){return Pt()(this)}}var ge=O(8645),Le=O(6814),Me=O(7398),Xe=O(4664),ct=O(8180),Fe=O(7921),Wt=O(2181),Ut=O(1631),dn=O(1374),an=O(6328),jt=O(9397),bi=O(6306),Jt=O(6699),bn=O(3572),En=O(2032),We=O(4418),Ye=O(4716),Qe=O(9773),$e=O(7537),st=O(6593);const Pe="primary",wt=Symbol("RouteTitle");class zn{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const I=this.params[P];return Array.isArray(I)?I[0]:I}return null}getAll(P){if(this.has(P)){const I=this.params[P];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function rn(T){return new zn(T)}function Kn(T,P,I){const N=I.path.split("/");if(N.length>T.length||"full"===I.pathMatch&&(P.hasChildren()||N.length<T.length))return null;const q={};for(let ce=0;ce<N.length;ce++){const De=N[ce],dt=T[ce];if(De.startsWith(":"))q[De.substring(1)]=dt;else if(De!==dt.path)return null}return{consumed:T.slice(0,N.length),posParams:q}}function _n(T,P){const I=T?Object.keys(T):void 0,N=P?Object.keys(P):void 0;if(!I||!N||I.length!=N.length)return!1;let q;for(let ce=0;ce<I.length;ce++)if(q=I[ce],!Ln(T[q],P[q]))return!1;return!0}function Ln(T,P){if(Array.isArray(T)&&Array.isArray(P)){if(T.length!==P.length)return!1;const I=[...T].sort(),N=[...P].sort();return I.every((q,ce)=>N[ce]===q)}return T===P}function li(T){return T.length>0?T[T.length-1]:null}function Bn(T){return function R(T){return!!T&&(T instanceof H.y||(0,te.m)(T.lift)&&(0,te.m)(T.subscribe))}(T)?T:(0,h.QGY)(T)?(0,me.D)(Promise.resolve(T)):(0,Ee.of)(T)}const Ei={exact:function ni(T,P,I){if(!Pn(T.segments,P.segments)||!fn(T.segments,P.segments,I)||T.numberOfChildren!==P.numberOfChildren)return!1;for(const N in P.children)if(!T.children[N]||!ni(T.children[N],P.children[N],I))return!1;return!0},subset:Ii},Xn={exact:function Li(T,P){return _n(T,P)},subset:function Pi(T,P){return Object.keys(P).length<=Object.keys(T).length&&Object.keys(P).every(I=>Ln(T[I],P[I]))},ignored:()=>!0};function lr(T,P,I){return Ei[I.paths](T.root,P.root,I.matrixParams)&&Xn[I.queryParams](T.queryParams,P.queryParams)&&!("exact"===I.fragment&&T.fragment!==P.fragment)}function Ii(T,P,I){return ln(T,P,P.segments,I)}function ln(T,P,I,N){if(T.segments.length>I.length){const q=T.segments.slice(0,I.length);return!(!Pn(q,I)||P.hasChildren()||!fn(q,I,N))}if(T.segments.length===I.length){if(!Pn(T.segments,I)||!fn(T.segments,I,N))return!1;for(const q in P.children)if(!T.children[q]||!Ii(T.children[q],P.children[q],N))return!1;return!0}{const q=I.slice(0,T.segments.length),ce=I.slice(T.segments.length);return!!(Pn(T.segments,q)&&fn(T.segments,q,N)&&T.children[Pe])&&ln(T.children[Pe],P,ce,N)}}function fn(T,P,I){return P.every((N,q)=>Xn[I](T[q].parameters,N.parameters))}class en{constructor(P=new hn([],{}),I={},N=null){this.root=P,this.queryParams=I,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rn(this.queryParams)),this._queryParamMap}toString(){return hr.serialize(this)}}class hn{constructor(P,I){this.segments=P,this.children=I,this.parent=null,Object.values(I).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vn(this)}}class wi{constructor(P,I){this.path=P,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=rn(this.parameters)),this._parameterMap}toString(){return Xi(this)}}function Pn(T,P){return T.length===P.length&&T.every((I,N)=>I.path===P[N].path)}let Mr=(()=>{class T{static#e=this.\u0275fac=function(N){return new(N||T)};static#t=this.\u0275prov=h.Yz7({token:T,factory:function(){return new Qt},providedIn:"root"})}return T})();class Qt{parse(P){const I=new Ue(P);return new en(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(P){const I=`/${fi(P.root,!0)}`,N=function Gi(T){const P=Object.keys(T).map(I=>{const N=T[I];return Array.isArray(N)?N.map(q=>`${ui(I)}=${ui(q)}`).join("&"):`${ui(I)}=${ui(N)}`}).filter(I=>!!I);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${I}${N}${"string"==typeof P.fragment?`#${function Gn(T){return encodeURI(T)}(P.fragment)}`:""}`}}const hr=new Qt;function vn(T){return T.segments.map(P=>Xi(P)).join("/")}function fi(T,P){if(!T.hasChildren())return vn(T);if(P){const I=T.children[Pe]?fi(T.children[Pe],!1):"",N=[];return Object.entries(T.children).forEach(([q,ce])=>{q!==Pe&&N.push(`${q}:${fi(ce,!1)}`)}),N.length>0?`${I}(${N.join("//")})`:I}{const I=function $n(T,P){let I=[];return Object.entries(T.children).forEach(([N,q])=>{N===Pe&&(I=I.concat(P(q,N)))}),Object.entries(T.children).forEach(([N,q])=>{N!==Pe&&(I=I.concat(P(q,N)))}),I}(T,(N,q)=>q===Pe?[fi(T.children[Pe],!1)]:[`${q}:${fi(N,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Pe]?`${vn(T)}/${I[0]}`:`${vn(T)}/(${I.join("//")})`}}function Di(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ui(T){return Di(T).replace(/%3B/gi,";")}function Mn(T){return Di(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vi(T){return decodeURIComponent(T)}function $i(T){return vi(T.replace(/\+/g,"%20"))}function Xi(T){return`${Mn(T.path)}${function Ui(T){return Object.keys(T).map(P=>`;${Mn(P)}=${Mn(T[P])}`).join("")}(T.parameters)}`}const fr=/^[^\/()?;#]+/;function Dt(T){const P=T.match(fr);return P?P[0]:""}const oe=/^[^\/()?;=#]+/,F=/^[^=?&#]+/,B=/^[^&#]+/;class Ue{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hn([],{}):new hn([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(P.length>0||Object.keys(I).length>0)&&(N[Pe]=new hn(P,I)),N}parseSegment(){const P=Dt(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(P),new wi(vi(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const I=function U(T){const P=T.match(oe);return P?P[0]:""}(this.remaining);if(!I)return;this.capture(I);let N="";if(this.consumeOptional("=")){const q=Dt(this.remaining);q&&(N=q,this.capture(N))}P[vi(I)]=vi(N)}parseQueryParam(P){const I=function k(T){const P=T.match(F);return P?P[0]:""}(this.remaining);if(!I)return;this.capture(I);let N="";if(this.consumeOptional("=")){const De=function pe(T){const P=T.match(B);return P?P[0]:""}(this.remaining);De&&(N=De,this.capture(N))}const q=$i(I),ce=$i(N);if(P.hasOwnProperty(q)){let De=P[q];Array.isArray(De)||(De=[De],P[q]=De),De.push(ce)}else P[q]=ce}parseParens(P){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=Dt(this.remaining),q=this.remaining[N.length];if("/"!==q&&")"!==q&&";"!==q)throw new h.vHH(4010,!1);let ce;N.indexOf(":")>-1?(ce=N.slice(0,N.indexOf(":")),this.capture(ce),this.capture(":")):P&&(ce=Pe);const De=this.parseChildren();I[ce]=1===Object.keys(De).length?De[Pe]:new hn([],De),this.consumeOptional("//")}return I}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new h.vHH(4011,!1)}}function vt(T){return T.segments.length>0?new hn([],{[Pe]:T}):T}function St(T){const P={};for(const N of Object.keys(T.children)){const ce=St(T.children[N]);if(N===Pe&&0===ce.segments.length&&ce.hasChildren())for(const[De,dt]of Object.entries(ce.children))P[De]=dt;else(ce.segments.length>0||ce.hasChildren())&&(P[N]=ce)}return function Lt(T){if(1===T.numberOfChildren&&T.children[Pe]){const P=T.children[Pe];return new hn(T.segments.concat(P.segments),P.children)}return T}(new hn(T.segments,P))}function Ht(T){return T instanceof en}function An(T){let P;const q=vt(function I(ce){const De={};for(const ot of ce.children){const un=I(ot);De[ot.outlet]=un}const dt=new hn(ce.url,De);return ce===T&&(P=dt),dt}(T.root));return P??q}function et(T,P,I,N){let q=T;for(;q.parent;)q=q.parent;if(0===P.length)return _e(q,q,q,I,N);const ce=function Ot(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new at(!0,0,T);let P=0,I=!1;const N=T.reduce((q,ce,De)=>{if("object"==typeof ce&&null!=ce){if(ce.outlets){const dt={};return Object.entries(ce.outlets).forEach(([ot,un])=>{dt[ot]="string"==typeof un?un.split("/"):un}),[...q,{outlets:dt}]}if(ce.segmentPath)return[...q,ce.segmentPath]}return"string"!=typeof ce?[...q,ce]:0===De?(ce.split("/").forEach((dt,ot)=>{0==ot&&"."===dt||(0==ot&&""===dt?I=!0:".."===dt?P++:""!=dt&&q.push(dt))}),q):[...q,ce]},[]);return new at(I,P,N)}(P);if(ce.toRoot())return _e(q,q,new hn([],{}),I,N);const De=function Bt(T,P,I){if(T.isAbsolute)return new Kt(P,!0,0);if(!I)return new Kt(P,!1,NaN);if(null===I.parent)return new Kt(I,!0,0);const N=ie(T.commands[0])?0:1;return function Un(T,P,I){let N=T,q=P,ce=I;for(;ce>q;){if(ce-=q,N=N.parent,!N)throw new h.vHH(4005,!1);q=N.segments.length}return new Kt(N,!1,q-ce)}(I,I.segments.length-1+N,T.numberOfDoubleDots)}(ce,q,T),dt=De.processChildren?Ji(De.segmentGroup,De.index,ce.commands):xi(De.segmentGroup,De.index,ce.commands);return _e(q,De.segmentGroup,dt,I,N)}function ie(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function Ie(T){return"object"==typeof T&&null!=T&&T.outlets}function _e(T,P,I,N,q){let De,ce={};N&&Object.entries(N).forEach(([ot,un])=>{ce[ot]=Array.isArray(un)?un.map(Vn=>`${Vn}`):`${un}`}),De=T===P?I:we(T,P,I);const dt=vt(St(De));return new en(dt,ce,q)}function we(T,P,I){const N={};return Object.entries(T.children).forEach(([q,ce])=>{N[q]=ce===P?I:we(ce,P,I)}),new hn(T.segments,N)}class at{constructor(P,I,N){if(this.isAbsolute=P,this.numberOfDoubleDots=I,this.commands=N,P&&N.length>0&&ie(N[0]))throw new h.vHH(4003,!1);const q=N.find(Ie);if(q&&q!==li(N))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kt{constructor(P,I,N){this.segmentGroup=P,this.processChildren=I,this.index=N}}function xi(T,P,I){if(T||(T=new hn([],{})),0===T.segments.length&&T.hasChildren())return Ji(T,P,I);const N=function Ti(T,P,I){let N=0,q=P;const ce={match:!1,pathIndex:0,commandIndex:0};for(;q<T.segments.length;){if(N>=I.length)return ce;const De=T.segments[q],dt=I[N];if(Ie(dt))break;const ot=`${dt}`,un=N<I.length-1?I[N+1]:null;if(q>0&&void 0===ot)break;if(ot&&un&&"object"==typeof un&&void 0===un.outlets){if(!si(ot,un,De))return ce;N+=2}else{if(!si(ot,{},De))return ce;N++}q++}return{match:!0,pathIndex:q,commandIndex:N}}(T,P,I),q=I.slice(N.commandIndex);if(N.match&&N.pathIndex<T.segments.length){const ce=new hn(T.segments.slice(0,N.pathIndex),{});return ce.children[Pe]=new hn(T.segments.slice(N.pathIndex),T.children),Ji(ce,0,q)}return N.match&&0===q.length?new hn(T.segments,{}):N.match&&!T.hasChildren()?Cr(T,P,I):N.match?Ji(T,0,q):Cr(T,P,I)}function Ji(T,P,I){if(0===I.length)return new hn(T.segments,{});{const N=function yi(T){return Ie(T[0])?T[0].outlets:{[Pe]:T}}(I),q={};if(Object.keys(N).some(ce=>ce!==Pe)&&T.children[Pe]&&1===T.numberOfChildren&&0===T.children[Pe].segments.length){const ce=Ji(T.children[Pe],P,I);return new hn(T.segments,ce.children)}return Object.entries(N).forEach(([ce,De])=>{"string"==typeof De&&(De=[De]),null!==De&&(q[ce]=xi(T.children[ce],P,De))}),Object.entries(T.children).forEach(([ce,De])=>{void 0===N[ce]&&(q[ce]=De)}),new hn(T.segments,q)}}function Cr(T,P,I){const N=T.segments.slice(0,P);let q=0;for(;q<I.length;){const ce=I[q];if(Ie(ce)){const ot=er(ce.outlets);return new hn(N,ot)}if(0===q&&ie(I[0])){N.push(new wi(T.segments[P].path,zr(I[0]))),q++;continue}const De=Ie(ce)?ce.outlets[Pe]:`${ce}`,dt=q<I.length-1?I[q+1]:null;De&&dt&&ie(dt)?(N.push(new wi(De,zr(dt))),q+=2):(N.push(new wi(De,{})),q++)}return new hn(N,{})}function er(T){const P={};return Object.entries(T).forEach(([I,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(P[I]=Cr(new hn([],{}),0,N))}),P}function zr(T){const P={};return Object.entries(T).forEach(([I,N])=>P[I]=`${N}`),P}function si(T,P,I){return T==I.path&&_n(P,I.parameters)}const Pr="imperative";class pi{constructor(P,I){this.id=P,this.url=I}}class Ai extends pi{constructor(P,I,N="imperative",q=null){super(P,I),this.type=0,this.navigationTrigger=N,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vi extends pi{constructor(P,I,N){super(P,I),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Uo extends pi{constructor(P,I,N,q){super(P,I),this.reason=N,this.code=q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kr extends pi{constructor(P,I,N,q){super(P,I),this.reason=N,this.code=q,this.type=16}}class jo extends pi{constructor(P,I,N,q){super(P,I),this.error=N,this.target=q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ls extends pi{constructor(P,I,N,q){super(P,I),this.urlAfterRedirects=N,this.state=q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class es extends pi{constructor(P,I,N,q){super(P,I),this.urlAfterRedirects=N,this.state=q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends pi{constructor(P,I,N,q,ce){super(P,I),this.urlAfterRedirects=N,this.state=q,this.shouldActivate=ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $r extends pi{constructor(P,I,N,q){super(P,I),this.urlAfterRedirects=N,this.state=q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ko extends pi{constructor(P,I,N,q){super(P,I),this.urlAfterRedirects=N,this.state=q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Va{constructor(P){this.route=P,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _s{constructor(P){this.route=P,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ps{constructor(P){this.snapshot=P,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vs{constructor(P){this.snapshot=P,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cs{constructor(P){this.snapshot=P,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Or{constructor(P){this.snapshot=P,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dr{constructor(P,I,N){this.routerEvent=P,this.position=I,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zo{}class fo{constructor(P){this.url=P}}class Os{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ao,this.attachRef=null}}let Ao=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(I,N){const q=this.getOrCreateContext(I);q.outlet=N,this.contexts.set(I,q)}onChildOutletDestroyed(I){const N=this.getContext(I);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let N=this.getContext(I);return N||(N=new Os,this.contexts.set(I,N)),N}getContext(I){return this.contexts.get(I)||null}static#e=this.\u0275fac=function(N){return new(N||T)};static#t=this.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();class pr{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const I=this.pathFromRoot(P);return I.length>1?I[I.length-2]:null}children(P){const I=Yo(P,this._root);return I?I.children.map(N=>N.value):[]}firstChild(P){const I=Yo(P,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(P){const I=ys(P,this._root);return I.length<2?[]:I[I.length-2].children.map(q=>q.value).filter(q=>q!==P)}pathFromRoot(P){return ys(P,this._root).map(I=>I.value)}}function Yo(T,P){if(T===P.value)return P;for(const I of P.children){const N=Yo(T,I);if(N)return N}return null}function ys(T,P){if(T===P.value)return[P];for(const I of P.children){const N=ys(T,I);if(N.length)return N.unshift(P),N}return[]}class vo{constructor(P,I){this.value=P,this.children=I}toString(){return`TreeNode(${this.value})`}}function So(T){const P={};return T&&T.children.forEach(I=>P[I.value.outlet]=I),P}class Jn extends pr{constructor(P,I){super(P),this.snapshot=I,po(this,P)}toString(){return this.snapshot.toString()}}function ji(T,P){const I=function rr(T,P){const De=new so([],{},{},"",{},Pe,P,null,{});return new Fi("",new vo(De,[]))}(0,P),N=new Te.X([new wi("",{})]),q=new Te.X({}),ce=new Te.X({}),De=new Te.X({}),dt=new Te.X(""),ot=new Ar(N,q,De,dt,ce,Pe,P,I.root);return ot.snapshot=I.root,new Jn(new vo(ot,[]),I)}class Ar{constructor(P,I,N,q,ce,De,dt,ot){this.urlSubject=P,this.paramsSubject=I,this.queryParamsSubject=N,this.fragmentSubject=q,this.dataSubject=ce,this.outlet=De,this.component=dt,this._futureSnapshot=ot,this.title=this.dataSubject?.pipe((0,Me.U)(un=>un[wt]))??(0,Ee.of)(void 0),this.url=P,this.params=I,this.queryParams=N,this.fragment=q,this.data=ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Me.U)(P=>rn(P)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Me.U)(P=>rn(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tr(T,P="emptyOnly"){const I=T.pathFromRoot;let N=0;if("always"!==P)for(N=I.length-1;N>=1;){const q=I[N],ce=I[N-1];if(q.routeConfig&&""===q.routeConfig.path)N--;else{if(ce.component)break;N--}}return function us(T){return T.reduce((P,I)=>({params:{...P.params,...I.params},data:{...P.data,...I.data},resolve:{...I.data,...P.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(N))}class so{get title(){return this.data?.[wt]}constructor(P,I,N,q,ce,De,dt,ot,un){this.url=P,this.params=I,this.queryParams=N,this.fragment=q,this.data=ce,this.outlet=De,this.component=dt,this.routeConfig=ot,this._resolve=un}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fi extends pr{constructor(P,I){super(I),this.url=P,po(this,I)}toString(){return yo(this._root)}}function po(T,P){P.value._routerState=T,P.children.forEach(I=>po(T,I))}function yo(T){const P=T.children.length>0?` { ${T.children.map(yo).join(", ")} } `:"";return`${T.value}${P}`}function Si(T){if(T.snapshot){const P=T.snapshot,I=T._futureSnapshot;T.snapshot=I,_n(P.queryParams,I.queryParams)||T.queryParamsSubject.next(I.queryParams),P.fragment!==I.fragment&&T.fragmentSubject.next(I.fragment),_n(P.params,I.params)||T.paramsSubject.next(I.params),function Dn(T,P){if(T.length!==P.length)return!1;for(let I=0;I<T.length;++I)if(!_n(T[I],P[I]))return!1;return!0}(P.url,I.url)||T.urlSubject.next(I.url),_n(P.data,I.data)||T.dataSubject.next(I.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function Yt(T,P){const I=_n(T.params,P.params)&&function ki(T,P){return Pn(T,P)&&T.every((I,N)=>_n(I.parameters,P[N].parameters))}(T.url,P.url);return I&&!(!T.parent!=!P.parent)&&(!T.parent||Yt(T.parent,P.parent))}let Hn=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pe,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(Ao),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(Nr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(I){if(I.name){const{firstChange:N,previousValue:q}=I.name;if(N)return;this.isTrackedInParentContexts(q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(q)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(I){return this.parentContexts.getContext(I)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const I=this.parentContexts.getContext(this.name);I?.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,N){this.activated=I,this._activatedRoute=N,this.location.insert(I.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,N){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=I;const q=this.location,De=I.snapshot.component,dt=this.parentContexts.getOrCreateContext(this.name).children,ot=new Hi(I,dt,q.injector);this.activated=q.createComponent(De,{index:q.length,injector:ot,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(N){return new(N||T)};static#t=this.\u0275dir=h.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]})}return T})();class Hi{constructor(P,I,N){this.route=P,this.childContexts=I,this.parent=N}get(P,I){return P===Ar?this.route:P===Ao?this.childContexts:this.parent.get(P,I)}}const Nr=new h.OlP("");let to=(()=>{class T{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){this.outletDataSubscriptions.get(I)?.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:N}=I,q=(0,fe.a)([N.queryParams,N.params,N.data]).pipe((0,Xe.w)(([ce,De,dt],ot)=>(dt={...ce,...De,...dt},0===ot?(0,Ee.of)(dt):Promise.resolve(dt)))).subscribe(ce=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(I);const De=(0,h.qFp)(N.component);if(De)for(const{templateName:dt}of De.inputs)I.activatedComponentRef.setInput(dt,ce[dt]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,q)}static#e=this.\u0275fac=function(N){return new(N||T)};static#t=this.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac})}return T})();function Vr(T,P,I){if(I&&T.shouldReuseRoute(P.value,I.value.snapshot)){const N=I.value;N._futureSnapshot=P.value;const q=function Oi(T,P,I){return P.children.map(N=>{for(const q of I.children)if(T.shouldReuseRoute(N.value,q.value.snapshot))return Vr(T,N,q);return Vr(T,N)})}(T,P,I);return new vo(N,q)}{if(T.shouldAttach(P.value)){const ce=T.retrieve(P.value);if(null!==ce){const De=ce.route;return De.value._futureSnapshot=P.value,De.children=P.children.map(dt=>Vr(T,dt)),De}}const N=function kr(T){return new Ar(new Te.X(T.url),new Te.X(T.params),new Te.X(T.queryParams),new Te.X(T.fragment),new Te.X(T.data),T.outlet,T.component,T)}(P.value),q=P.children.map(ce=>Vr(T,ce));return new vo(N,q)}}const Ce="ngNavigationCancelingError";function G(T,P){const{redirectTo:I,navigationBehaviorOptions:N}=Ht(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,q=$(!1,0,P);return q.url=I,q.navigationBehaviorOptions=N,q}function $(T,P,I){const N=new Error("NavigationCancelingError: "+(T||""));return N[Ce]=!0,N.cancellationCode=P,I&&(N.url=I),N}function ye(T){return T&&T[Ce]}let Ne=(()=>{class T{static#e=this.\u0275fac=function(N){return new(N||T)};static#t=this.\u0275cmp=h.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(N,q){1&N&&h._UZ(0,"router-outlet")},dependencies:[Hn],encapsulation:2})}return T})();function Sn(T){const P=T.children&&T.children.map(Sn),I=P?{...T,children:P}:{...T};return!I.component&&!I.loadComponent&&(P||I.loadChildren)&&I.outlet&&I.outlet!==Pe&&(I.component=Ne),I}function Fr(T){return T.outlet||Pe}function bo(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let P=T.parent;P;P=P.parent){const I=P.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class bs{constructor(P,I,N,q,ce){this.routeReuseStrategy=P,this.futureState=I,this.currState=N,this.forwardEvent=q,this.inputBindingEnabled=ce}activate(P){const I=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,N,P),Si(this.futureState.root),this.activateChildRoutes(I,N,P)}deactivateChildRoutes(P,I,N){const q=So(I);P.children.forEach(ce=>{const De=ce.value.outlet;this.deactivateRoutes(ce,q[De],N),delete q[De]}),Object.values(q).forEach(ce=>{this.deactivateRouteAndItsChildren(ce,N)})}deactivateRoutes(P,I,N){const q=P.value,ce=I?I.value:null;if(q===ce)if(q.component){const De=N.getContext(q.outlet);De&&this.deactivateChildRoutes(P,I,De.children)}else this.deactivateChildRoutes(P,I,N);else ce&&this.deactivateRouteAndItsChildren(I,N)}deactivateRouteAndItsChildren(P,I){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,I):this.deactivateRouteAndOutlet(P,I)}detachAndStoreRouteSubtree(P,I){const N=I.getContext(P.value.outlet),q=N&&P.value.component?N.children:I,ce=So(P);for(const De of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[De],q);if(N&&N.outlet){const De=N.outlet.detach(),dt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:De,route:P,contexts:dt})}}deactivateRouteAndOutlet(P,I){const N=I.getContext(P.value.outlet),q=N&&P.value.component?N.children:I,ce=So(P);for(const De of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[De],q);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(P,I,N){const q=So(I);P.children.forEach(ce=>{this.activateRoutes(ce,q[ce.value.outlet],N),this.forwardEvent(new Or(ce.value.snapshot))}),P.children.length&&this.forwardEvent(new vs(P.value.snapshot))}activateRoutes(P,I,N){const q=P.value,ce=I?I.value:null;if(Si(q),q===ce)if(q.component){const De=N.getOrCreateContext(q.outlet);this.activateChildRoutes(P,I,De.children)}else this.activateChildRoutes(P,I,N);else if(q.component){const De=N.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const dt=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),De.children.onOutletReAttached(dt.contexts),De.attachRef=dt.componentRef,De.route=dt.route.value,De.outlet&&De.outlet.attach(dt.componentRef,dt.route.value),Si(dt.route.value),this.activateChildRoutes(P,null,De.children)}else{const dt=bo(q.snapshot);De.attachRef=null,De.route=q,De.injector=dt,De.outlet&&De.outlet.activateWith(q,De.injector),this.activateChildRoutes(P,null,De.children)}}else this.activateChildRoutes(P,null,N)}}class no{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class mr{constructor(P,I){this.component=P,this.route=I}}function Es(T,P,I){const N=T._root;return Et(N,P?P._root:null,I,[N.value])}function br(T,P){const I=Symbol(),N=P.get(T,I);return N===I?"function"!=typeof T||(0,h.Z0I)(T)?P.get(T):T:N}function Et(T,P,I,N,q={canDeactivateChecks:[],canActivateChecks:[]}){const ce=So(P);return T.children.forEach(De=>{(function Ge(T,P,I,N,q={canDeactivateChecks:[],canActivateChecks:[]}){const ce=T.value,De=P?P.value:null,dt=I?I.getContext(T.value.outlet):null;if(De&&ce.routeConfig===De.routeConfig){const ot=function Ve(T,P,I){if("function"==typeof I)return I(T,P);switch(I){case"pathParamsChange":return!Pn(T.url,P.url);case"pathParamsOrQueryParamsChange":return!Pn(T.url,P.url)||!_n(T.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yt(T,P)||!_n(T.queryParams,P.queryParams);default:return!Yt(T,P)}}(De,ce,ce.routeConfig.runGuardsAndResolvers);ot?q.canActivateChecks.push(new no(N)):(ce.data=De.data,ce._resolvedData=De._resolvedData),Et(T,P,ce.component?dt?dt.children:null:I,N,q),ot&&dt&&dt.outlet&&dt.outlet.isActivated&&q.canDeactivateChecks.push(new mr(dt.outlet.component,De))}else De&&Ke(P,dt,q),q.canActivateChecks.push(new no(N)),Et(T,null,ce.component?dt?dt.children:null:I,N,q)})(De,ce[De.value.outlet],I,N.concat([De.value]),q),delete ce[De.value.outlet]}),Object.entries(ce).forEach(([De,dt])=>Ke(dt,I.getContext(De),q)),q}function Ke(T,P,I){const N=So(T),q=T.value;Object.entries(N).forEach(([ce,De])=>{Ke(De,q.component?P?P.children.getContext(ce):null:P,I)}),I.canDeactivateChecks.push(new mr(q.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,q))}function yt(T){return"function"==typeof T}function ke(T){return T instanceof Se.K||"EmptyError"===T?.name}const Nn=Symbol("INITIAL_VALUE");function Qn(){return(0,Xe.w)(T=>(0,fe.a)(T.map(P=>P.pipe((0,ct.q)(1),(0,Fe.O)(Nn)))).pipe((0,Me.U)(P=>{for(const I of P)if(!0!==I){if(I===Nn)return Nn;if(!1===I||I instanceof en)return I}return!0}),(0,Wt.h)(P=>P!==Nn),(0,ct.q)(1)))}function oa(T){return(0,Ze.z)((0,jt.b)(P=>{if(Ht(P))throw G(0,P)}),(0,Me.U)(P=>!0===P))}class Mo{constructor(P){this.segmentGroup=P||null}}class Eo{constructor(P){this.urlTree=P}}function ts(T){return(0,tt._)(new Mo(T))}function sa(T){return(0,tt._)(new Eo(T))}class Io{constructor(P,I){this.urlSerializer=P,this.urlTree=I}noMatchError(P){return new h.vHH(4002,!1)}lineralizeSegments(P,I){let N=[],q=I.root;for(;;){if(N=N.concat(q.segments),0===q.numberOfChildren)return(0,Ee.of)(N);if(q.numberOfChildren>1||!q.children[Pe])return(0,tt._)(new h.vHH(4e3,!1));q=q.children[Pe]}}applyRedirectCommands(P,I,N){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),P,N)}applyRedirectCreateUrlTree(P,I,N,q){const ce=this.createSegmentGroup(P,I.root,N,q);return new en(ce,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(P,I){const N={};return Object.entries(P).forEach(([q,ce])=>{if("string"==typeof ce&&ce.startsWith(":")){const dt=ce.substring(1);N[q]=I[dt]}else N[q]=ce}),N}createSegmentGroup(P,I,N,q){const ce=this.createSegments(P,I.segments,N,q);let De={};return Object.entries(I.children).forEach(([dt,ot])=>{De[dt]=this.createSegmentGroup(P,ot,N,q)}),new hn(ce,De)}createSegments(P,I,N,q){return I.map(ce=>ce.path.startsWith(":")?this.findPosParam(P,ce,q):this.findOrReturn(ce,N))}findPosParam(P,I,N){const q=N[I.path.substring(1)];if(!q)throw new h.vHH(4001,!1);return q}findOrReturn(P,I){let N=0;for(const q of I){if(q.path===P.path)return I.splice(N),q;N++}return P}}const rl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ya(T,P,I,N,q){const ce=wo(T,P,I);return ce.matched?(N=function ft(T,P){return T.providers&&!T._injector&&(T._injector=(0,h.MMx)(T.providers,P,`Route: ${T.path}`)),T._injector??P}(P,N),function nc(T,P,I,N){const q=P.canMatch;if(!q||0===q.length)return(0,Ee.of)(!0);const ce=q.map(De=>{const dt=br(De,T);return Bn(function ee(T){return T&&yt(T.canMatch)}(dt)?dt.canMatch(P,I):T.runInContext(()=>dt(P,I)))});return(0,Ee.of)(ce).pipe(Qn(),oa())}(N,P,I).pipe((0,Me.U)(De=>!0===De?ce:{...rl}))):(0,Ee.of)(ce)}function wo(T,P,I){if(""===P.path)return"full"===P.pathMatch&&(T.hasChildren()||I.length>0)?{...rl}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const q=(P.matcher||Kn)(I,T,P);if(!q)return{...rl};const ce={};Object.entries(q.posParams??{}).forEach(([dt,ot])=>{ce[dt]=ot.path});const De=q.consumed.length>0?{...ce,...q.consumed[q.consumed.length-1].parameters}:ce;return{matched:!0,consumedSegments:q.consumed,remainingSegments:I.slice(q.consumed.length),parameters:De,positionalParamSegments:q.posParams??{}}}function aa(T,P,I,N){return I.length>0&&function ic(T,P,I){return I.some(N=>ba(T,P,N)&&Fr(N)!==Pe)}(T,I,N)?{segmentGroup:new hn(P,Zs(N,new hn(I,T.children))),slicedSegments:[]}:0===I.length&&function zo(T,P,I){return I.some(N=>ba(T,P,N))}(T,I,N)?{segmentGroup:new hn(T.segments,Al(T,0,I,N,T.children)),slicedSegments:I}:{segmentGroup:new hn(T.segments,T.children),slicedSegments:I}}function Al(T,P,I,N,q){const ce={};for(const De of N)if(ba(T,I,De)&&!q[Fr(De)]){const dt=new hn([],{});ce[Fr(De)]=dt}return{...q,...ce}}function Zs(T,P){const I={};I[Pe]=P;for(const N of T)if(""===N.path&&Fr(N)!==Pe){const q=new hn([],{});I[Fr(N)]=q}return I}function ba(T,P,I){return(!(T.hasChildren()||P.length>0)||"full"!==I.pathMatch)&&""===I.path}class Po{constructor(P,I,N,q,ce,De,dt){this.injector=P,this.configLoader=I,this.rootComponentType=N,this.config=q,this.urlTree=ce,this.paramsInheritanceStrategy=De,this.urlSerializer=dt,this.allowRedirects=!0,this.applyRedirects=new Io(this.urlSerializer,this.urlTree)}noMatchError(P){return new h.vHH(4002,!1)}recognize(){const P=aa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,P,Pe).pipe((0,bi.K)(I=>{if(I instanceof Eo)return this.allowRedirects=!1,this.urlTree=I.urlTree,this.match(I.urlTree);throw I instanceof Mo?this.noMatchError(I):I}),(0,Me.U)(I=>{const N=new so([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pe,this.rootComponentType,null,{}),q=new vo(N,I),ce=new Fi("",q),De=function gn(T,P,I=null,N=null){return et(An(T),P,I,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return De.queryParams=this.urlTree.queryParams,ce.url=this.urlSerializer.serialize(De),this.inheritParamsAndData(ce._root),{state:ce,tree:De}}))}match(P){return this.processSegmentGroup(this.injector,this.config,P.root,Pe).pipe((0,bi.K)(N=>{throw N instanceof Mo?this.noMatchError(N):N}))}inheritParamsAndData(P){const I=P.value,N=tr(I,this.paramsInheritanceStrategy);I.params=Object.freeze(N.params),I.data=Object.freeze(N.data),P.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(P,I,N,q){return 0===N.segments.length&&N.hasChildren()?this.processChildren(P,I,N):this.processSegment(P,I,N,N.segments,q,!0)}processChildren(P,I,N){const q=[];for(const ce of Object.keys(N.children))"primary"===ce?q.unshift(ce):q.push(ce);return(0,me.D)(q).pipe((0,an.b)(ce=>{const De=N.children[ce],dt=function Ho(T,P){const I=T.filter(N=>Fr(N)===P);return I.push(...T.filter(N=>Fr(N)!==P)),I}(I,ce);return this.processSegmentGroup(P,dt,De,ce)}),(0,Jt.R)((ce,De)=>(ce.push(...De),ce)),(0,bn.d)(null),(0,En.Z)(),(0,Ut.z)(ce=>{if(null===ce)return ts(N);const De=Ri(ce);return function la(T){T.sort((P,I)=>P.value.outlet===Pe?-1:I.value.outlet===Pe?1:P.value.outlet.localeCompare(I.value.outlet))}(De),(0,Ee.of)(De)}))}processSegment(P,I,N,q,ce,De){return(0,me.D)(I).pipe((0,an.b)(dt=>this.processSegmentAgainstRoute(dt._injector??P,I,dt,N,q,ce,De).pipe((0,bi.K)(ot=>{if(ot instanceof Mo)return(0,Ee.of)(null);throw ot}))),(0,dn.P)(dt=>!!dt),(0,bi.K)(dt=>{if(ke(dt))return function rc(T,P,I){return 0===P.length&&!T.children[I]}(N,q,ce)?(0,Ee.of)([]):ts(N);throw dt}))}processSegmentAgainstRoute(P,I,N,q,ce,De,dt){return function Wi(T,P,I,N){return!!(Fr(T)===N||N!==Pe&&ba(P,I,T))&&("**"===T.path||wo(P,T,I).matched)}(N,q,ce,De)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(P,q,N,ce,De,dt):dt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(P,q,I,N,ce,De):ts(q):ts(q)}expandSegmentAgainstRouteUsingRedirect(P,I,N,q,ce,De){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(P,N,q,De):this.expandRegularSegmentAgainstRouteUsingRedirect(P,I,N,q,ce,De)}expandWildCardWithParamsAgainstRouteUsingRedirect(P,I,N,q){const ce=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?sa(ce):this.applyRedirects.lineralizeSegments(N,ce).pipe((0,Ut.z)(De=>{const dt=new hn(De,{});return this.processSegment(P,I,dt,De,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(P,I,N,q,ce,De){const{matched:dt,consumedSegments:ot,remainingSegments:un,positionalParamSegments:Vn}=wo(I,q,ce);if(!dt)return ts(I);const Wr=this.applyRedirects.applyRedirectCommands(ot,q.redirectTo,Vn);return q.redirectTo.startsWith("/")?sa(Wr):this.applyRedirects.lineralizeSegments(q,Wr).pipe((0,Ut.z)(zi=>this.processSegment(P,N,I,zi.concat(un),De,!1)))}matchSegmentAgainstRoute(P,I,N,q,ce,De){let dt;if("**"===N.path){const ot=q.length>0?li(q).parameters:{},un=new so(q,ot,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ol(N),Fr(N),N.component??N._loadedComponent??null,N,Ns(N));dt=(0,Ee.of)({snapshot:un,consumedSegments:[],remainingSegments:[]}),I.children={}}else dt=ya(I,N,q,P).pipe((0,Me.U)(({matched:ot,consumedSegments:un,remainingSegments:Vn,parameters:Wr})=>ot?{snapshot:new so(un,Wr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ol(N),Fr(N),N.component??N._loadedComponent??null,N,Ns(N)),consumedSegments:un,remainingSegments:Vn}:null));return dt.pipe((0,Xe.w)(ot=>null===ot?ts(I):this.getChildConfig(P=N._injector??P,N,q).pipe((0,Xe.w)(({routes:un})=>{const Vn=N._loadedInjector??P,{snapshot:Wr,consumedSegments:zi,remainingSegments:_o}=ot,{segmentGroup:Ca,slicedSegments:Da}=aa(I,zi,_o,un);if(0===Da.length&&Ca.hasChildren())return this.processChildren(Vn,un,Ca).pipe((0,Me.U)($a=>null===$a?null:[new vo(Wr,$a)]));if(0===un.length&&0===Da.length)return(0,Ee.of)([new vo(Wr,[])]);const Aa=Fr(N)===ce;return this.processSegment(Vn,un,Ca,Da,Aa?Pe:ce,!0).pipe((0,Me.U)($a=>[new vo(Wr,$a)]))}))))}getChildConfig(P,I,N){return I.children?(0,Ee.of)({routes:I.children,injector:P}):I.loadChildren?void 0!==I._loadedRoutes?(0,Ee.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function Nc(T,P,I,N){const q=P.canLoad;if(void 0===q||0===q.length)return(0,Ee.of)(!0);const ce=q.map(De=>{const dt=br(De,T);return Bn(function Zn(T){return T&&yt(T.canLoad)}(dt)?dt.canLoad(P,I):T.runInContext(()=>dt(P,I)))});return(0,Ee.of)(ce).pipe(Qn(),oa())}(P,I,N).pipe((0,Ut.z)(q=>q?this.configLoader.loadChildren(P,I).pipe((0,jt.b)(ce=>{I._loadedRoutes=ce.routes,I._loadedInjector=ce.injector})):function Ks(T){return(0,tt._)($(!1,3))}())):(0,Ee.of)({routes:[],injector:P})}}function Ea(T){const P=T.value.routeConfig;return P&&""===P.path}function Ri(T){const P=[],I=new Set;for(const N of T){if(!Ea(N)){P.push(N);continue}const q=P.find(ce=>N.value.routeConfig===ce.value.routeConfig);void 0!==q?(q.children.push(...N.children),I.add(q)):P.push(N)}for(const N of I){const q=Ri(N.children);P.push(new vo(N.value,q))}return P.filter(N=>!I.has(N))}function ol(T){return T.data||{}}function Ns(T){return T.resolve||{}}function Sl(T){return"string"==typeof T.title||null===T.title}function Is(T){return(0,Xe.w)(P=>{const I=T(P);return I?(0,me.D)(I).pipe((0,Me.U)(()=>P)):(0,Ee.of)(P)})}const ca=new h.OlP("ROUTES");let D=(()=>{class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,Ee.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const N=Bn(I.loadComponent()).pipe((0,Me.U)(X),(0,jt.b)(ce=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=ce}),(0,Ye.x)(()=>{this.componentLoaders.delete(I)})),q=new _t(N,()=>new ge.x).pipe(Pt());return this.componentLoaders.set(I,q),q}loadChildren(I,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Ee.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ce=function re(T,P,I,N){return Bn(T.loadChildren()).pipe((0,Me.U)(X),(0,Ut.z)(q=>q instanceof h.YKP||Array.isArray(q)?(0,Ee.of)(q):(0,me.D)(P.compileModuleAsync(q))),(0,Me.U)(q=>{N&&N(T);let ce,De,dt=!1;return Array.isArray(q)?(De=q,!0):(ce=q.create(I).injector,De=ce.get(ca,[],{optional:!0,self:!0}).flat()),{routes:De.map(Sn),injector:ce}}))}(N,this.compiler,I,this.onLoadEndListener).pipe((0,Ye.x)(()=>{this.childrenLoaders.delete(N)})),De=new _t(ce,()=>new ge.x).pipe(Pt());return this.childrenLoaders.set(N,De),De}static#e=this.\u0275fac=function(N){return new(N||T)};static#t=this.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function X(T){return function z(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let Re=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ge.x,this.transitionAbortSubject=new ge.x,this.configLoader=(0,h.f3M)(D),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(Mr),this.rootContexts=(0,h.f3M)(Ao),this.inputBindingEnabled=null!==(0,h.f3M)(Nr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ee.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=q=>this.events.next(new _s(q)),this.configLoader.onLoadStartListener=q=>this.events.next(new Va(q))}complete(){this.transitions?.complete()}handleNavigationRequest(I){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...I,id:N})}setupNavigations(I,N,q){return this.transitions=new Te.X({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:I.urlHandlingStrategy.extract(N),urlAfterRedirects:I.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Pr,restoredState:null,currentSnapshot:q.snapshot,targetSnapshot:null,currentRouterState:q,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Wt.h)(ce=>0!==ce.id),(0,Me.U)(ce=>({...ce,extractedUrl:I.urlHandlingStrategy.extract(ce.rawUrl)})),(0,Xe.w)(ce=>{this.currentTransition=ce;let De=!1,dt=!1;return(0,Ee.of)(ce).pipe((0,jt.b)(ot=>{this.currentNavigation={id:ot.id,initialUrl:ot.rawUrl,extractedUrl:ot.extractedUrl,trigger:ot.source,extras:ot.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Xe.w)(ot=>{const un=ot.currentBrowserUrl.toString(),Vn=!I.navigated||ot.extractedUrl.toString()!==un||un!==ot.currentUrlTree.toString();if(!Vn&&"reload"!==(ot.extras.onSameUrlNavigation??I.onSameUrlNavigation)){const zi="";return this.events.next(new Kr(ot.id,this.urlSerializer.serialize(ot.rawUrl),zi,0)),ot.resolve(null),bt.E}if(I.urlHandlingStrategy.shouldProcessUrl(ot.rawUrl))return(0,Ee.of)(ot).pipe((0,Xe.w)(zi=>{const _o=this.transitions?.getValue();return this.events.next(new Ai(zi.id,this.urlSerializer.serialize(zi.extractedUrl),zi.source,zi.restoredState)),_o!==this.transitions?.getValue()?bt.E:Promise.resolve(zi)}),function Xo(T,P,I,N,q,ce){return(0,Ut.z)(De=>function Ys(T,P,I,N,q,ce,De="emptyOnly"){return new Po(T,P,I,N,q,De,ce).recognize()}(T,P,I,N,De.extractedUrl,q,ce).pipe((0,Me.U)(({state:dt,tree:ot})=>({...De,targetSnapshot:dt,urlAfterRedirects:ot}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,I.config,this.urlSerializer,I.paramsInheritanceStrategy),(0,jt.b)(zi=>{ce.targetSnapshot=zi.targetSnapshot,ce.urlAfterRedirects=zi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:zi.urlAfterRedirects};const _o=new ls(zi.id,this.urlSerializer.serialize(zi.extractedUrl),this.urlSerializer.serialize(zi.urlAfterRedirects),zi.targetSnapshot);this.events.next(_o)}));if(Vn&&I.urlHandlingStrategy.shouldProcessUrl(ot.currentRawUrl)){const{id:zi,extractedUrl:_o,source:Ca,restoredState:Da,extras:Aa}=ot,$a=new Ai(zi,this.urlSerializer.serialize(_o),Ca,Da);this.events.next($a);const Uc=ji(0,this.rootComponentType).snapshot;return this.currentTransition=ce={...ot,targetSnapshot:Uc,urlAfterRedirects:_o,extras:{...Aa,skipLocationChange:!1,replaceUrl:!1}},(0,Ee.of)(ce)}{const zi="";return this.events.next(new Kr(ot.id,this.urlSerializer.serialize(ot.extractedUrl),zi,1)),ot.resolve(null),bt.E}}),(0,jt.b)(ot=>{const un=new es(ot.id,this.urlSerializer.serialize(ot.extractedUrl),this.urlSerializer.serialize(ot.urlAfterRedirects),ot.targetSnapshot);this.events.next(un)}),(0,Me.U)(ot=>(this.currentTransition=ce={...ot,guards:Es(ot.targetSnapshot,ot.currentSnapshot,this.rootContexts)},ce)),function Qo(T,P){return(0,Ut.z)(I=>{const{targetSnapshot:N,currentSnapshot:q,guards:{canActivateChecks:ce,canDeactivateChecks:De}}=I;return 0===De.length&&0===ce.length?(0,Ee.of)({...I,guardsResult:!0}):function _a(T,P,I,N){return(0,me.D)(T).pipe((0,Ut.z)(q=>function Ba(T,P,I,N,q){const ce=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!ce||0===ce.length)return(0,Ee.of)(!0);const De=ce.map(dt=>{const ot=bo(P)??q,un=br(dt,ot);return Bn(function Y(T){return T&&yt(T.canDeactivate)}(un)?un.canDeactivate(T,P,I,N):ot.runInContext(()=>un(T,P,I,N))).pipe((0,dn.P)())});return(0,Ee.of)(De).pipe(Qn())}(q.component,q.route,I,P,N)),(0,dn.P)(q=>!0!==q,!0))}(De,N,q,T).pipe((0,Ut.z)(dt=>dt&&function cn(T){return"boolean"==typeof T}(dt)?function qs(T,P,I,N){return(0,me.D)(P).pipe((0,an.b)(q=>(0,ae.z)(function tc(T,P){return null!==T&&P&&P(new Ps(T)),(0,Ee.of)(!0)}(q.route.parent,N),function vu(T,P){return null!==T&&P&&P(new cs(T)),(0,Ee.of)(!0)}(q.route,N),function il(T,P,I){const N=P[P.length-1],ce=P.slice(0,P.length-1).reverse().map(De=>function mi(T){const P=T.routeConfig?T.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:T,guards:P}:null}(De)).filter(De=>null!==De).map(De=>Oe(()=>{const dt=De.guards.map(ot=>{const un=bo(De.node)??I,Vn=br(ot,un);return Bn(function Ro(T){return T&&yt(T.canActivateChild)}(Vn)?Vn.canActivateChild(N,T):un.runInContext(()=>Vn(N,T))).pipe((0,dn.P)())});return(0,Ee.of)(dt).pipe(Qn())}));return(0,Ee.of)(ce).pipe(Qn())}(T,q.path,I),function va(T,P,I){const N=P.routeConfig?P.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Ee.of)(!0);const q=N.map(ce=>Oe(()=>{const De=bo(P)??I,dt=br(ce,De);return Bn(function Zr(T){return T&&yt(T.canActivate)}(dt)?dt.canActivate(P,T):De.runInContext(()=>dt(P,T))).pipe((0,dn.P)())}));return(0,Ee.of)(q).pipe(Qn())}(T,q.route,I))),(0,dn.P)(q=>!0!==q,!0))}(N,ce,T,P):(0,Ee.of)(dt)),(0,Me.U)(dt=>({...I,guardsResult:dt})))})}(this.environmentInjector,ot=>this.events.next(ot)),(0,jt.b)(ot=>{if(ce.guardsResult=ot.guardsResult,Ht(ot.guardsResult))throw G(0,ot.guardsResult);const un=new xr(ot.id,this.urlSerializer.serialize(ot.extractedUrl),this.urlSerializer.serialize(ot.urlAfterRedirects),ot.targetSnapshot,!!ot.guardsResult);this.events.next(un)}),(0,Wt.h)(ot=>!!ot.guardsResult||(this.cancelNavigationTransition(ot,"",3),!1)),Is(ot=>{if(ot.guards.canActivateChecks.length)return(0,Ee.of)(ot).pipe((0,jt.b)(un=>{const Vn=new $r(un.id,this.urlSerializer.serialize(un.extractedUrl),this.urlSerializer.serialize(un.urlAfterRedirects),un.targetSnapshot);this.events.next(Vn)}),(0,Xe.w)(un=>{let Vn=!1;return(0,Ee.of)(un).pipe(function Oo(T,P){return(0,Ut.z)(I=>{const{targetSnapshot:N,guards:{canActivateChecks:q}}=I;if(!q.length)return(0,Ee.of)(I);let ce=0;return(0,me.D)(q).pipe((0,an.b)(De=>function Ia(T,P,I,N){const q=T.routeConfig,ce=T._resolve;return void 0!==q?.title&&!Sl(q)&&(ce[wt]=q.title),function Ua(T,P,I,N){const q=function wa(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===q.length)return(0,Ee.of)({});const ce={};return(0,me.D)(q).pipe((0,Ut.z)(De=>function ja(T,P,I,N){const q=bo(P)??N,ce=br(T,q);return Bn(ce.resolve?ce.resolve(P,I):q.runInContext(()=>ce(P,I)))}(T[De],P,I,N).pipe((0,dn.P)(),(0,jt.b)(dt=>{ce[De]=dt}))),(0,We.h)(1),function Je(T){return(0,Me.U)(()=>T)}(ce),(0,bi.K)(De=>ke(De)?bt.E:(0,tt._)(De)))}(ce,T,P,N).pipe((0,Me.U)(De=>(T._resolvedData=De,T.data=tr(T,I).resolve,q&&Sl(q)&&(T.data[wt]=q.title),null)))}(De.route,N,T,P)),(0,jt.b)(()=>ce++),(0,We.h)(1),(0,Ut.z)(De=>ce===q.length?(0,Ee.of)(I):bt.E))})}(I.paramsInheritanceStrategy,this.environmentInjector),(0,jt.b)({next:()=>Vn=!0,complete:()=>{Vn||this.cancelNavigationTransition(un,"",2)}}))}),(0,jt.b)(un=>{const Vn=new Ko(un.id,this.urlSerializer.serialize(un.extractedUrl),this.urlSerializer.serialize(un.urlAfterRedirects),un.targetSnapshot);this.events.next(Vn)}))}),Is(ot=>{const un=Vn=>{const Wr=[];Vn.routeConfig?.loadComponent&&!Vn.routeConfig._loadedComponent&&Wr.push(this.configLoader.loadComponent(Vn.routeConfig).pipe((0,jt.b)(zi=>{Vn.component=zi}),(0,Me.U)(()=>{})));for(const zi of Vn.children)Wr.push(...un(zi));return Wr};return(0,fe.a)(un(ot.targetSnapshot.root)).pipe((0,bn.d)(),(0,ct.q)(1))}),Is(()=>this.afterPreactivation()),(0,Me.U)(ot=>{const un=function or(T,P,I){const N=Vr(T,P._root,I?I._root:void 0);return new Jn(N,P)}(I.routeReuseStrategy,ot.targetSnapshot,ot.currentRouterState);return this.currentTransition=ce={...ot,targetRouterState:un},ce}),(0,jt.b)(()=>{this.events.next(new Zo)}),((T,P,I,N)=>(0,Me.U)(q=>(new bs(P,q.targetRouterState,q.currentRouterState,I,N).activate(T),q)))(this.rootContexts,I.routeReuseStrategy,ot=>this.events.next(ot),this.inputBindingEnabled),(0,ct.q)(1),(0,jt.b)({next:ot=>{De=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vi(ot.id,this.urlSerializer.serialize(ot.extractedUrl),this.urlSerializer.serialize(ot.urlAfterRedirects))),I.titleStrategy?.updateTitle(ot.targetRouterState.snapshot),ot.resolve(!0)},complete:()=>{De=!0}}),(0,Qe.R)(this.transitionAbortSubject.pipe((0,jt.b)(ot=>{throw ot}))),(0,Ye.x)(()=>{De||dt||this.cancelNavigationTransition(ce,"",1),this.currentNavigation?.id===ce.id&&(this.currentNavigation=null)}),(0,bi.K)(ot=>{if(dt=!0,ye(ot))this.events.next(new Uo(ce.id,this.urlSerializer.serialize(ce.extractedUrl),ot.message,ot.cancellationCode)),function J(T){return ye(T)&&Ht(T.url)}(ot)?this.events.next(new fo(ot.url)):ce.resolve(!1);else{this.events.next(new jo(ce.id,this.urlSerializer.serialize(ce.extractedUrl),ot,ce.targetSnapshot??void 0));try{ce.resolve(I.errorHandler(ot))}catch(un){ce.reject(un)}}return bt.E}))}))}cancelNavigationTransition(I,N,q){const ce=new Uo(I.id,this.urlSerializer.serialize(I.extractedUrl),N,q);this.events.next(ce),I.resolve(!1)}static#e=this.\u0275fac=function(N){return new(N||T)};static#t=this.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function ht(T){return T!==Pr}let It=(()=>{class T{buildTitle(I){let N,q=I.root;for(;void 0!==q;)N=this.getResolvedTitleForRoute(q)??N,q=q.children.find(ce=>ce.outlet===Pe);return N}getResolvedTitleForRoute(I){return I.data[wt]}static#e=this.\u0275fac=function(N){return new(N||T)};static#t=this.\u0275prov=h.Yz7({token:T,factory:function(){return(0,h.f3M)(In)},providedIn:"root"})}return T})(),In=(()=>{class T extends It{constructor(I){super(),this.title=I}updateTitle(I){const N=this.buildTitle(I);void 0!==N&&this.title.setTitle(N)}static#e=this.\u0275fac=function(N){return new(N||T)(h.LFG(st.Dx))};static#t=this.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),ur=(()=>{class T{static#e=this.\u0275fac=function(N){return new(N||T)};static#t=this.\u0275prov=h.Yz7({token:T,factory:function(){return(0,h.f3M)(Ki)},providedIn:"root"})}return T})();class qi{shouldDetach(P){return!1}store(P,I){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,I){return P.routeConfig===I.routeConfig}}let Ki=(()=>{class T extends qi{static#e=this.\u0275fac=function(){let I;return function(q){return(I||(I=h.n5z(T)))(q||T)}}();static#t=this.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const On=new h.OlP("",{providedIn:"root",factory:()=>({})});let gr=(()=>{class T{static#e=this.\u0275fac=function(N){return new(N||T)};static#t=this.\u0275prov=h.Yz7({token:T,factory:function(){return(0,h.f3M)(Bi)},providedIn:"root"})}return T})(),Bi=(()=>{class T{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,N){return I}static#e=this.\u0275fac=function(N){return new(N||T)};static#t=this.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();var Er=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(Er||{});function ks(T,P){T.events.pipe((0,Wt.h)(I=>I instanceof Vi||I instanceof Uo||I instanceof jo||I instanceof Kr),(0,Me.U)(I=>I instanceof Vi||I instanceof Kr?Er.COMPLETE:I instanceof Uo&&(0===I.code||1===I.code)?Er.REDIRECTING:Er.FAILED),(0,Wt.h)(I=>I!==Er.REDIRECTING),(0,ct.q)(1)).subscribe(()=>{P()})}function Ct(T){throw T}function dr(T,P,I){return P.parse("/")}const Ir={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zt=(()=>{class T{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this._events=new ge.x,this.options=(0,h.f3M)(On,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||Ct,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||dr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(gr),this.routeReuseStrategy=(0,h.f3M)(ur),this.titleStrategy=(0,h.f3M)(It),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(ca,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)(Re),this.urlSerializer=(0,h.f3M)(Mr),this.location=(0,h.f3M)(Le.Ye),this.componentInputBindingEnabled=!!(0,h.f3M)(Nr,{optional:!0}),this.eventsSubscription=new it.w0,this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new en,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ji(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(I=>{this.lastSuccessfulId=I.id,this.currentPageId=this.browserPageId},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const I=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:q}=this.navigationTransitions;if(null===q)return void(yu(N)&&this._events.next(N));if(N instanceof Ai)ht(q.source)&&(this.browserUrlTree=q.extractedUrl);else if(N instanceof Kr)this.rawUrlTree=q.rawUrl;else if(N instanceof ls){if("eager"===this.urlUpdateStrategy){if(!q.extras.skipLocationChange){const ce=this.urlHandlingStrategy.merge(q.urlAfterRedirects,q.rawUrl);this.setBrowserUrl(ce,q)}this.browserUrlTree=q.urlAfterRedirects}}else if(N instanceof Zo)this.currentUrlTree=q.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(q.urlAfterRedirects,q.rawUrl),this.routerState=q.targetRouterState,"deferred"===this.urlUpdateStrategy&&(q.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,q),this.browserUrlTree=q.urlAfterRedirects);else if(N instanceof Uo)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(q);else if(N instanceof fo){const ce=this.urlHandlingStrategy.merge(N.url,q.currentRawUrl),De={skipLocationChange:q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ht(q.source)};this.scheduleNavigation(ce,Pr,null,De,{resolve:q.resolve,reject:q.reject,promise:q.promise})}N instanceof jo&&this.restoreHistory(q,!0),N instanceof Vi&&(this.navigated=!0),yu(N)&&this._events.next(N)}catch(q){this.navigationTransitions.transitionAbortSubject.next(q)}});this.eventsSubscription.add(I)}resetRootComponentType(I){this.routerState.root.component=I,this.navigationTransitions.rootComponentType=I}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const I=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Pr,I)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const N="popstate"===I.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(I.url,N,I.state)},0)}))}navigateToSyncWithBrowser(I,N,q){const ce={replaceUrl:!0},De=q?.navigationId?q:null;if(q){const ot={...q};delete ot.navigationId,delete ot.\u0275routerPageId,0!==Object.keys(ot).length&&(ce.state=ot)}const dt=this.parseUrl(I);this.scheduleNavigation(dt,N,De,ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(I){this.config=I.map(Sn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(I,N={}){const{relativeTo:q,queryParams:ce,fragment:De,queryParamsHandling:dt,preserveFragment:ot}=N,un=ot?this.currentUrlTree.fragment:De;let Wr,Vn=null;switch(dt){case"merge":Vn={...this.currentUrlTree.queryParams,...ce};break;case"preserve":Vn=this.currentUrlTree.queryParams;break;default:Vn=ce||null}null!==Vn&&(Vn=this.removeEmptyProps(Vn));try{Wr=An(q?q.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof I[0]||!I[0].startsWith("/"))&&(I=[]),Wr=this.currentUrlTree.root}return et(Wr,I,Vn,un??null)}navigateByUrl(I,N={skipLocationChange:!1}){const q=Ht(I)?I:this.parseUrl(I),ce=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(ce,Pr,null,N)}navigate(I,N={skipLocationChange:!1}){return function Cn(T){for(let P=0;P<T.length;P++)if(null==T[P])throw new h.vHH(4008,!1)}(I),this.navigateByUrl(this.createUrlTree(I,N),N)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let N;try{N=this.urlSerializer.parse(I)}catch(q){N=this.malformedUriErrorHandler(q,this.urlSerializer,I)}return N}isActive(I,N){let q;if(q=!0===N?{...Ir}:!1===N?{...Fs}:N,Ht(I))return lr(this.currentUrlTree,I,q);const ce=this.parseUrl(I);return lr(this.currentUrlTree,ce,q)}removeEmptyProps(I){return Object.keys(I).reduce((N,q)=>{const ce=I[q];return null!=ce&&(N[q]=ce),N},{})}scheduleNavigation(I,N,q,ce,De){if(this.disposed)return Promise.resolve(!1);let dt,ot,un;De?(dt=De.resolve,ot=De.reject,un=De.promise):un=new Promise((Wr,zi)=>{dt=Wr,ot=zi});const Vn=this.pendingTasks.add();return ks(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Vn))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:I,extras:ce,resolve:dt,reject:ot,promise:un,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),un.catch(Wr=>Promise.reject(Wr))}setBrowserUrl(I,N){const q=this.urlSerializer.serialize(I);if(this.location.isCurrentPathEqualTo(q)||N.extras.replaceUrl){const De={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(q,"",De)}else{const ce={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(q,"",ce)}}restoreHistory(I,N=!1){if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-this.browserPageId;0!==ce?this.location.historyGo(ce):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ce&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(I,N){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:N}:{navigationId:I}}static#e=this.\u0275fac=function(N){return new(N||T)};static#t=this.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function yu(T){return!(T instanceof Zo||T instanceof fo)}let Mt=(()=>{class T{constructor(I,N,q,ce,De,dt){this.router=I,this.route=N,this.tabIndexAttribute=q,this.renderer=ce,this.el=De,this.locationStrategy=dt,this.href=null,this.commands=null,this.onChanges=new ge.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ot=De.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ot||"area"===ot,this.isAnchorElement?this.subscription=I.events.subscribe(un=>{un instanceof Vi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",I)}ngOnChanges(I){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(I,N,q,ce,De){return!!(null===this.urlTree||this.isAnchorElement&&(0!==I||N||q||ce||De||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const I=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",I)}applyAttributeValue(I,N){const q=this.renderer,ce=this.el.nativeElement;null!==N?q.setAttribute(ce,I,N):q.removeAttribute(ce,I)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(N){return new(N||T)(h.Y36(zt),h.Y36(Ar),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Le.S$))};static#t=this.\u0275dir=h.lG2({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,q){1&N&&h.NdJ("click",function(De){return q.onClick(De.button,De.ctrlKey,De.shiftKey,De.altKey,De.metaKey)}),2&N&&h.uIk("target",q.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]})}return T})();class ai{}let xa=(()=>{class T{constructor(I,N,q,ce,De){this.router=I,this.injector=q,this.preloadingStrategy=ce,this.loader=De}setUpPreloading(){this.subscription=this.router.events.pipe((0,Wt.h)(I=>I instanceof Vi),(0,an.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,N){const q=[];for(const ce of N){ce.providers&&!ce._injector&&(ce._injector=(0,h.MMx)(ce.providers,I,`Route: ${ce.path}`));const De=ce._injector??I,dt=ce._loadedInjector??De;(ce.loadChildren&&!ce._loadedRoutes&&void 0===ce.canLoad||ce.loadComponent&&!ce._loadedComponent)&&q.push(this.preloadConfig(De,ce)),(ce.children||ce._loadedRoutes)&&q.push(this.processRoutes(dt,ce.children??ce._loadedRoutes))}return(0,me.D)(q).pipe((0,$e.J)())}preloadConfig(I,N){return this.preloadingStrategy.preload(N,()=>{let q;q=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(I,N):(0,Ee.of)(null);const ce=q.pipe((0,Ut.z)(De=>null===De?(0,Ee.of)(void 0):(N._loadedRoutes=De.routes,N._loadedInjector=De.injector,this.processRoutes(De.injector??I,De.routes))));if(N.loadComponent&&!N._loadedComponent){const De=this.loader.loadComponent(N);return(0,me.D)([ce,De]).pipe((0,$e.J)())}return ce})}static#e=this.\u0275fac=function(N){return new(N||T)(h.LFG(zt),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(ai),h.LFG(D))};static#t=this.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const No=new h.OlP("");let ds=(()=>{class T{constructor(I,N,q,ce,De={}){this.urlSerializer=I,this.transitions=N,this.viewportScroller=q,this.zone=ce,this.options=De,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},De.scrollPositionRestoration=De.scrollPositionRestoration||"disabled",De.anchorScrolling=De.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof Ai?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof Vi?(this.lastId=I.id,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.urlAfterRedirects).fragment)):I instanceof Kr&&0===I.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof Dr&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Dr(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(N){h.$Z()};static#t=this.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac})}return T})();function ao(T,P){return{\u0275kind:T,\u0275providers:P}}function Ha(){const T=(0,h.f3M)(h.zs3);return P=>{const I=T.get(h.z2F);if(P!==I.components[0])return;const N=T.get(zt),q=T.get(Vc);1===T.get(pn)&&N.initialNavigation(),T.get(ll,null,h.XFs.Optional)?.setUpPreloading(),T.get(No,null,h.XFs.Optional)?.init(),N.resetRootComponentType(I.componentTypes[0]),q.closed||(q.next(),q.complete(),q.unsubscribe())}}const Vc=new h.OlP("",{factory:()=>new ge.x}),pn=new h.OlP("",{providedIn:"root",factory:()=>1}),ll=new h.OlP("");function Lr(T){return ao(0,[{provide:ll,useExisting:xa},{provide:ai,useExisting:T}])}const hs=new h.OlP("ROUTER_FORROOT_GUARD"),bu=[Le.Ye,{provide:Mr,useClass:Qt},zt,Ao,{provide:Ar,useFactory:function Fc(T){return T.routerState.root},deps:[zt]},D,[]];function Tt(){return new h.PXZ("Router",zt)}let gi=(()=>{class T{constructor(I){}static forRoot(I,N){return{ngModule:T,providers:[bu,[],{provide:ca,multi:!0,useValue:I},{provide:hs,useFactory:Qs,deps:[[zt,new h.FiY,new h.tp0]]},{provide:On,useValue:N||{}},N?.useHash?{provide:Le.S$,useClass:Le.Do}:{provide:Le.S$,useClass:Le.b0},{provide:No,useFactory:()=>{const T=(0,h.f3M)(Le.EM),P=(0,h.f3M)(h.R0b),I=(0,h.f3M)(On),N=(0,h.f3M)(Re),q=(0,h.f3M)(Mr);return I.scrollOffset&&T.setOffset(I.scrollOffset),new ds(q,N,T,P,I)}},N?.preloadingStrategy?Lr(N.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:Tt},N?.initialNavigation?Ta(N):[],N?.bindToComponentInputs?ao(8,[to,{provide:Nr,useExisting:to}]).\u0275providers:[],[{provide:Yr,useFactory:Ha},{provide:h.tb,multi:!0,useExisting:Yr}]]}}static forChild(I){return{ngModule:T,providers:[{provide:ca,multi:!0,useValue:I}]}}static#e=this.\u0275fac=function(N){return new(N||T)(h.LFG(hs,8))};static#t=this.\u0275mod=h.oAB({type:T});static#n=this.\u0275inj=h.cJS({})}return T})();function Qs(T){return"guarded"}function Ta(T){return["disabled"===T.initialNavigation?ao(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const P=(0,h.f3M)(zt);return()=>{P.setUpLocationChangeListener()}}},{provide:pn,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?ao(2,[{provide:pn,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:P=>{const I=P.get(Le.V_,Promise.resolve());return()=>I.then(()=>new Promise(N=>{const q=P.get(zt),ce=P.get(Vc);ks(q,()=>{N(!0)}),P.get(Re).afterPreactivation=()=>(N(!0),ce.closed?(0,Ee.of)(void 0):ce),q.initialNavigation()}))}}]).\u0275providers:[]]}const Yr=new h.OlP("")},3106:(Nt,Be,O)=>{O.d(Be,{Z:()=>bt});var h=O(9058),H=O(4537),te=O(534),R=O(7879);class me{constructor(lt,pt){this._delegate=lt,this.firebase=pt,(0,te._addComponent)(lt,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=lt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(lt){this._delegate.automaticDataCollectionEnabled=lt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(lt=>{this._delegate.checkDestroyed(),lt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,te.deleteApp)(this._delegate)))}_getService(lt,pt=te._DEFAULT_ENTRY_NAME){var Pt;this._delegate.checkDestroyed();const _t=this._delegate.container.getProvider(lt);return!_t.isInitialized()&&"EXPLICIT"===(null===(Pt=_t.getComponent())||void 0===Pt?void 0:Pt.instantiationMode)&&_t.initialize(),_t.getImmediate({identifier:pt})}_removeServiceInstance(lt,pt=te._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(lt).clearInstance(pt)}_addComponent(lt){(0,te._addComponent)(this._delegate,lt)}_addOrOverwriteComponent(lt){(0,te._addOrOverwriteComponent)(this._delegate,lt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function Se(){const it=function fe(it){const lt={},pt={__esModule:!0,initializeApp:function ge(ct,Fe={}){const Wt=te.initializeApp(ct,Fe);if((0,h.r3)(lt,Wt.name))return lt[Wt.name];const Ut=new it(Wt,pt);return lt[Wt.name]=Ut,Ut},app:_t,registerVersion:te.registerVersion,setLogLevel:te.setLogLevel,onLog:te.onLog,apps:null,SDK_VERSION:te.SDK_VERSION,INTERNAL:{registerComponent:function Me(ct){const Fe=ct.name,Wt=Fe.replace("-compat","");if(te._registerComponent(ct)&&"PUBLIC"===ct.type){const Ut=(dn=_t())=>{if("function"!=typeof dn[Wt])throw Te.create("invalid-app-argument",{appName:Fe});return dn[Wt]()};void 0!==ct.serviceProps&&(0,h.ZB)(Ut,ct.serviceProps),pt[Wt]=Ut,it.prototype[Wt]=function(...dn){return this._getService.bind(this,Fe).apply(this,ct.multipleInstances?dn:[])}}return"PUBLIC"===ct.type?pt[Wt]:null},removeApp:function Pt(ct){delete lt[ct]},useAsService:function Xe(ct,Fe){return"serverAuth"===Fe?null:Fe},modularAPIs:te}};function _t(ct){if(!(0,h.r3)(lt,ct=ct||te._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:ct});return lt[ct]}return pt.default=pt,Object.defineProperty(pt,"apps",{get:function Le(){return Object.keys(lt).map(ct=>lt[ct])}}),_t.App=it,pt}(me);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function lt(pt){(0,h.ZB)(it,pt)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),it}(),ve=new R.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){ve.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&ve.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const bt=ae;!function tt(it){(0,te.registerVersion)("@firebase/app-compat","0.2.22",it)}()},534:(Nt,Be,O)=>{O.r(Be),O.d(Be,{FirebaseError:()=>R.ZR,SDK_VERSION:()=>Di,_DEFAULT_ENTRY_NAME:()=>ln,_addComponent:()=>wi,_addOrOverwriteComponent:()=>ki,_apps:()=>en,_clearComponents:()=>Qt,_components:()=>hn,_getProvider:()=>$n,_registerComponent:()=>Pn,_removeServiceInstance:()=>Mr,deleteApp:()=>vi,getApp:()=>Gn,getApps:()=>Mn,initializeApp:()=>ui,onLog:()=>Ui,registerVersion:()=>Xi,setLogLevel:()=>Gi});var h=O(5861),H=O(4537),te=O(7879),R=O(9058);const me=(_e,we)=>we.some(at=>_e instanceof at);let Ee,Te;const ae=new WeakMap,ve=new WeakMap,Oe=new WeakMap,Ze=new WeakMap,tt=new WeakMap;let lt={get(_e,we,at){if(_e instanceof IDBTransaction){if("done"===we)return ve.get(_e);if("objectStoreNames"===we)return _e.objectStoreNames||Oe.get(_e);if("store"===we)return at.objectStoreNames[1]?void 0:at.objectStore(at.objectStoreNames[0])}return ge(_e[we])},set:(_e,we,at)=>(_e[we]=at,!0),has:(_e,we)=>_e instanceof IDBTransaction&&("done"===we||"store"===we)||we in _e};function _t(_e){return"function"==typeof _e?function Pt(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...we){return _e.apply(Le(this),we),ge(ae.get(this))}:function(...we){return ge(_e.apply(Le(this),we))}:function(we,...at){const Ot=_e.call(Le(this),we,...at);return Oe.set(Ot,we.sort?we.sort():[we]),ge(Ot)}}(_e):(_e instanceof IDBTransaction&&function it(_e){if(ve.has(_e))return;const we=new Promise((at,Ot)=>{const Kt=()=>{_e.removeEventListener("complete",Bt),_e.removeEventListener("error",Un),_e.removeEventListener("abort",Un)},Bt=()=>{at(),Kt()},Un=()=>{Ot(_e.error||new DOMException("AbortError","AbortError")),Kt()};_e.addEventListener("complete",Bt),_e.addEventListener("error",Un),_e.addEventListener("abort",Un)});ve.set(_e,we)}(_e),me(_e,function fe(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,lt):_e)}function ge(_e){if(_e instanceof IDBRequest)return function bt(_e){const we=new Promise((at,Ot)=>{const Kt=()=>{_e.removeEventListener("success",Bt),_e.removeEventListener("error",Un)},Bt=()=>{at(ge(_e.result)),Kt()},Un=()=>{Ot(_e.error),Kt()};_e.addEventListener("success",Bt),_e.addEventListener("error",Un)});return we.then(at=>{at instanceof IDBCursor&&ae.set(at,_e)}).catch(()=>{}),tt.set(we,_e),we}(_e);if(Ze.has(_e))return Ze.get(_e);const we=_t(_e);return we!==_e&&(Ze.set(_e,we),tt.set(we,_e)),we}const Le=_e=>tt.get(_e),ct=["get","getKey","getAll","getAllKeys","count"],Fe=["put","add","delete","clear"],Wt=new Map;function Ut(_e,we){if(!(_e instanceof IDBDatabase)||we in _e||"string"!=typeof we)return;if(Wt.get(we))return Wt.get(we);const at=we.replace(/FromIndex$/,""),Ot=we!==at,Kt=Fe.includes(at);if(!(at in(Ot?IDBIndex:IDBObjectStore).prototype)||!Kt&&!ct.includes(at))return;const Bt=function(){var Un=(0,h.Z)(function*(yi,...xi){const Ji=this.transaction(yi,Kt?"readwrite":"readonly");let Ti=Ji.store;return Ot&&(Ti=Ti.index(xi.shift())),(yield Promise.all([Ti[at](...xi),Kt&&Ji.done]))[0]});return function(xi){return Un.apply(this,arguments)}}();return Wt.set(we,Bt),Bt}!function pt(_e){lt=_e(lt)}(_e=>({..._e,get:(we,at,Ot)=>Ut(we,at)||_e.get(we,at,Ot),has:(we,at)=>!!Ut(we,at)||_e.has(we,at)}));class dn{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function an(_e){const we=_e.getComponent();return"VERSION"===we?.type}(at)){const Ot=at.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(at=>at).join(" ")}}const jt="@firebase/app",Jt=new te.Yd("@firebase/app"),ln="[DEFAULT]",fn={[jt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},en=new Map,hn=new Map;function wi(_e,we){try{_e.container.addComponent(we)}catch(at){Jt.debug(`Component ${we.name} failed to register with FirebaseApp ${_e.name}`,at)}}function ki(_e,we){_e.container.addOrOverwriteComponent(we)}function Pn(_e){const we=_e.name;if(hn.has(we))return Jt.debug(`There were multiple attempts to register component ${we}.`),!1;hn.set(we,_e);for(const at of en.values())wi(at,_e);return!0}function $n(_e,we){const at=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),_e.container.getProvider(we)}function Mr(_e,we,at=ln){$n(_e,we).clearInstance(at)}function Qt(){hn.clear()}const vn=new R.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fi{constructor(we,at,Ot){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}const Di="10.5.2";function ui(_e,we={}){let at=_e;"object"!=typeof we&&(we={name:we});const Ot=Object.assign({name:ln,automaticDataCollectionEnabled:!1},we),Kt=Ot.name;if("string"!=typeof Kt||!Kt)throw vn.create("bad-app-name",{appName:String(Kt)});if(at||(at=(0,R.aH)()),!at)throw vn.create("no-options");const Bt=en.get(Kt);if(Bt){if((0,R.vZ)(at,Bt.options)&&(0,R.vZ)(Ot,Bt.config))return Bt;throw vn.create("duplicate-app",{appName:Kt})}const Un=new H.H0(Kt);for(const xi of hn.values())Un.addComponent(xi);const yi=new fi(at,Ot,Un);return en.set(Kt,yi),yi}function Gn(_e=ln){const we=en.get(_e);if(!we&&_e===ln&&(0,R.aH)())return ui();if(!we)throw vn.create("no-app",{appName:_e});return we}function Mn(){return Array.from(en.values())}function vi(_e){return $i.apply(this,arguments)}function $i(){return($i=(0,h.Z)(function*(_e){const we=_e.name;en.has(we)&&(en.delete(we),yield Promise.all(_e.container.getProviders().map(at=>at.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function Xi(_e,we,at){var Ot;let Kt=null!==(Ot=fn[_e])&&void 0!==Ot?Ot:_e;at&&(Kt+=`-${at}`);const Bt=Kt.match(/\s|\//),Un=we.match(/\s|\//);if(Bt||Un){const yi=[`Unable to register library "${Kt}" with version "${we}":`];return Bt&&yi.push(`library name "${Kt}" contains illegal characters (whitespace or "/")`),Bt&&Un&&yi.push("and"),Un&&yi.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void Jt.warn(yi.join(" "))}Pn(new H.wA(`${Kt}-version`,()=>({library:Kt,version:we}),"VERSION"))}function Ui(_e,we){if(null!==_e&&"function"!=typeof _e)throw vn.create("invalid-log-argument");(0,te.Am)(_e,we)}function Gi(_e){(0,te.Ub)(_e)}const fr="firebase-heartbeat-database",Dt=1,oe="firebase-heartbeat-store";let U=null;function F(){return U||(U=function Me(_e,we,{blocked:at,upgrade:Ot,blocking:Kt,terminated:Bt}={}){const Un=indexedDB.open(_e,we),yi=ge(Un);return Ot&&Un.addEventListener("upgradeneeded",xi=>{Ot(ge(Un.result),xi.oldVersion,xi.newVersion,ge(Un.transaction),xi)}),at&&Un.addEventListener("blocked",xi=>at(xi.oldVersion,xi.newVersion,xi)),yi.then(xi=>{Bt&&xi.addEventListener("close",()=>Bt()),Kt&&xi.addEventListener("versionchange",Ji=>Kt(Ji.oldVersion,Ji.newVersion,Ji))}).catch(()=>{}),yi}(fr,Dt,{upgrade:(_e,we)=>{0===we&&_e.createObjectStore(oe)}}).catch(_e=>{throw vn.create("idb-open",{originalErrorMessage:_e.message})})),U}function B(){return(B=(0,h.Z)(function*(_e){try{return yield(yield F()).transaction(oe).objectStore(oe).get(vt(_e))}catch(we){if(we instanceof R.ZR)Jt.warn(we.message);else{const at=vn.create("idb-get",{originalErrorMessage:we?.message});Jt.warn(at.message)}}})).apply(this,arguments)}function pe(_e,we){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,h.Z)(function*(_e,we){try{const Ot=(yield F()).transaction(oe,"readwrite");yield Ot.objectStore(oe).put(we,vt(_e)),yield Ot.done}catch(at){if(at instanceof R.ZR)Jt.warn(at.message);else{const Ot=vn.create("idb-set",{originalErrorMessage:at?.message});Jt.warn(Ot.message)}}})).apply(this,arguments)}function vt(_e){return`${_e.name}!${_e.options.appId}`}class Ht{constructor(we){this.container=we,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new et(at),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var we=this;return(0,h.Z)(function*(){const Ot=we.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kt=gn();if(null===we._heartbeatsCache&&(we._heartbeatsCache=yield we._heartbeatsCachePromise),we._heartbeatsCache.lastSentHeartbeatDate!==Kt&&!we._heartbeatsCache.heartbeats.some(Bt=>Bt.date===Kt))return we._heartbeatsCache.heartbeats.push({date:Kt,agent:Ot}),we._heartbeatsCache.heartbeats=we._heartbeatsCache.heartbeats.filter(Bt=>{const Un=new Date(Bt.date).valueOf();return Date.now()-Un<=2592e6}),we._storage.overwrite(we._heartbeatsCache)})()}getHeartbeatsHeader(){var we=this;return(0,h.Z)(function*(){if(null===we._heartbeatsCache&&(yield we._heartbeatsCachePromise),null===we._heartbeatsCache||0===we._heartbeatsCache.heartbeats.length)return"";const at=gn(),{heartbeatsToSend:Ot,unsentEntries:Kt}=function An(_e,we=1024){const at=[];let Ot=_e.slice();for(const Kt of _e){const Bt=at.find(Un=>Un.agent===Kt.agent);if(Bt){if(Bt.dates.push(Kt.date),ie(at)>we){Bt.dates.pop();break}}else if(at.push({agent:Kt.agent,dates:[Kt.date]}),ie(at)>we){at.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:at,unsentEntries:Ot}}(we._heartbeatsCache.heartbeats),Bt=(0,R.L)(JSON.stringify({version:2,heartbeats:Ot}));return we._heartbeatsCache.lastSentHeartbeatDate=at,Kt.length>0?(we._heartbeatsCache.heartbeats=Kt,yield we._storage.overwrite(we._heartbeatsCache)):(we._heartbeatsCache.heartbeats=[],we._storage.overwrite(we._heartbeatsCache)),Bt})()}}function gn(){return(new Date).toISOString().substring(0,10)}class et{constructor(we){this.app=we,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,R.hl)()&&(0,R.eu)().then(()=>!0).catch(()=>!1)})()}read(){var we=this;return(0,h.Z)(function*(){return(yield we._canUseIndexedDBPromise)&&(yield function k(_e){return B.apply(this,arguments)}(we.app))||{heartbeats:[]}})()}overwrite(we){var at=this;return(0,h.Z)(function*(){var Ot;if(yield at._canUseIndexedDBPromise){const Bt=yield at.read();return pe(at.app,{lastSentHeartbeatDate:null!==(Ot=we.lastSentHeartbeatDate)&&void 0!==Ot?Ot:Bt.lastSentHeartbeatDate,heartbeats:we.heartbeats})}})()}add(we){var at=this;return(0,h.Z)(function*(){var Ot;if(yield at._canUseIndexedDBPromise){const Bt=yield at.read();return pe(at.app,{lastSentHeartbeatDate:null!==(Ot=we.lastSentHeartbeatDate)&&void 0!==Ot?Ot:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...we.heartbeats]})}})()}}function ie(_e){return(0,R.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function Ie(_e){Pn(new H.wA("platform-logger",we=>new dn(we),"PRIVATE")),Pn(new H.wA("heartbeat",we=>new Ht(we),"PRIVATE")),Xi(jt,"0.9.22",_e),Xi(jt,"0.9.22","esm2017"),Xi("fire-js","")}("")},4537:(Nt,Be,O)=>{O.d(Be,{H0:()=>fe,wA:()=>te});var h=O(5861),H=O(9058);class te{constructor(ae,ve,Oe){this.name=ae,this.instanceFactory=ve,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const R="[DEFAULT]";class me{constructor(ae,ve){this.name=ae,this.container=ve,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const ve=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(ve)){const Oe=new H.BH;if(this.instancesDeferred.set(ve,Oe),this.isInitialized(ve)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:ve});Ze&&Oe.resolve(Ze)}catch{}}return this.instancesDeferred.get(ve).promise}getImmediate(ae){var ve;const Oe=this.normalizeInstanceIdentifier(ae?.identifier),Ze=null!==(ve=ae?.optional)&&void 0!==ve&&ve;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(tt){if(Ze)return null;throw tt}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Te(Se){return"EAGER"===Se.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:R})}catch{}for(const[ve,Oe]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(ve);try{const tt=this.getOrInitializeService({instanceIdentifier:Ze});Oe.resolve(tt)}catch{}}}}clearInstance(ae=R){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,h.Z)(function*(){const ve=Array.from(ae.instances.values());yield Promise.all([...ve.filter(Oe=>"INTERNAL"in Oe).map(Oe=>Oe.INTERNAL.delete()),...ve.filter(Oe=>"_delete"in Oe).map(Oe=>Oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=R){return this.instances.has(ae)}getOptions(ae=R){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:ve={}}=ae,Oe=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(Oe))throw Error(`${this.name}(${Oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:Oe,options:ve});for(const[tt,bt]of this.instancesDeferred.entries())Oe===this.normalizeInstanceIdentifier(tt)&&bt.resolve(Ze);return Ze}onInit(ae,ve){var Oe;const Ze=this.normalizeInstanceIdentifier(ve),tt=null!==(Oe=this.onInitCallbacks.get(Ze))&&void 0!==Oe?Oe:new Set;tt.add(ae),this.onInitCallbacks.set(Ze,tt);const bt=this.instances.get(Ze);return bt&&ae(bt,Ze),()=>{tt.delete(ae)}}invokeOnInitCallbacks(ae,ve){const Oe=this.onInitCallbacks.get(ve);if(Oe)for(const Ze of Oe)try{Ze(ae,ve)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:ve={}}){let Oe=this.instances.get(ae);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=ae,Se===R?void 0:Se),options:ve}),this.instances.set(ae,Oe),this.instancesOptions.set(ae,ve),this.invokeOnInitCallbacks(Oe,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Oe)}catch{}var Se;return Oe||null}normalizeInstanceIdentifier(ae=R){return this.component?this.component.multipleInstances?ae:R:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const ve=this.getProvider(ae.name);if(ve.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);ve.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const ve=new me(ae,this);return this.providers.set(ae,ve),ve}getProviders(){return Array.from(this.providers.values())}}},7879:(Nt,Be,O)=>{O.d(Be,{Am:()=>Se,Ub:()=>fe,Yd:()=>Te,in:()=>H});const h=[];var H=function(ae){return ae[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",ae}(H||{});const te={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},R=H.INFO,me={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},Ee=(ae,ve,...Oe)=>{if(ve<ae.logLevel)return;const Ze=(new Date).toISOString(),tt=me[ve];if(!tt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ve})`);console[tt](`[${Ze}]  ${ae.name}:`,...Oe)};class Te{constructor(ve){this.name=ve,this._logLevel=R,this._logHandler=Ee,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(ve){if(!(ve in H))throw new TypeError(`Invalid value "${ve}" assigned to \`logLevel\``);this._logLevel=ve}setLogLevel(ve){this._logLevel="string"==typeof ve?te[ve]:ve}get logHandler(){return this._logHandler}set logHandler(ve){if("function"!=typeof ve)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ve}get userLogHandler(){return this._userLogHandler}set userLogHandler(ve){this._userLogHandler=ve}debug(...ve){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...ve),this._logHandler(this,H.DEBUG,...ve)}log(...ve){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...ve),this._logHandler(this,H.VERBOSE,...ve)}info(...ve){this._userLogHandler&&this._userLogHandler(this,H.INFO,...ve),this._logHandler(this,H.INFO,...ve)}warn(...ve){this._userLogHandler&&this._userLogHandler(this,H.WARN,...ve),this._logHandler(this,H.WARN,...ve)}error(...ve){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...ve),this._logHandler(this,H.ERROR,...ve)}}function fe(ae){h.forEach(ve=>{ve.setLogLevel(ae)})}function Se(ae,ve){for(const Oe of h){let Ze=null;ve&&ve.level&&(Ze=te[ve.level]),Oe.userLogHandler=null===ae?null:(tt,bt,...it)=>{const lt=it.map(pt=>{if(null==pt)return null;if("string"==typeof pt)return pt;if("number"==typeof pt||"boolean"==typeof pt)return pt.toString();if(pt instanceof Error)return pt.message;try{return JSON.stringify(pt)}catch{return null}}).filter(pt=>pt).join(" ");bt>=(Ze??tt.logLevel)&&ae({level:H[bt].toLowerCase(),message:lt,args:it,type:tt.name})}}}},3182:(Nt,Be,O)=>{O.d(Be,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=O(534);(0,h.registerVersion)("firebase","10.5.2","app")},752:(Nt,Be,O)=>{O.d(Be,{Xb:()=>h.a9,v0:()=>h.o,w$:()=>h.af,e5:()=>h.aa,w7:()=>h.C,ck:()=>h.aj});var h=O(3560);O(9058),O(534),O(7879),O(4537)},7142:(Nt,Be,O)=>{O.d(Be,{Z:()=>h.Z});var h=O(3106);h.Z.registerVersion("firebase","10.5.2","app-compat")},6365:(Nt,Be,O)=>{O.r(Be);var h=O(5861),H=O(3106),te=O(3560),R=O(9058),Te=(O(534),O(7879),O(4537));function fe(){return window}function ve(){return ve=(0,h.Z)(function*(F,k,B){var pe;const{BuildInfo:Ue}=fe();(0,te.at)(k.sessionId,"AuthEvent did not contain a session ID");const vt=yield function pt(F){return Pt.apply(this,arguments)}(k.sessionId),St={};return(0,te.au)()?St.ibi=Ue.packageName:(0,te.av)()?St.apn=Ue.packageName:(0,te.aw)(F,"operation-not-supported-in-this-environment"),Ue.displayName&&(St.appDisplayName=Ue.displayName),St.sessionId=vt,(0,te.ax)(F,B,k.type,void 0,null!==(pe=k.eventId)&&void 0!==pe?pe:void 0,St)}),ve.apply(this,arguments)}function Ze(){return(Ze=(0,h.Z)(function*(F){const{BuildInfo:k}=fe(),B={};(0,te.au)()?B.iosBundleId=k.packageName:(0,te.av)()?B.androidPackageName=k.packageName:(0,te.aw)(F,"operation-not-supported-in-this-environment"),yield(0,te.ay)(F,B)})).apply(this,arguments)}function it(){return(it=(0,h.Z)(function*(F,k,B){const{cordova:pe}=fe();let Ue=()=>{};try{yield new Promise((vt,St)=>{let Lt=null;function Ht(){var et;vt();const ie=null===(et=pe.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof ie&&ie(),"function"==typeof B?.close&&B.close()}function gn(){Lt||(Lt=window.setTimeout(()=>{St((0,te.aA)(F,"redirect-cancelled-by-user"))},2e3))}function An(){"visible"===document?.visibilityState&&gn()}k.addPassiveListener(Ht),document.addEventListener("resume",gn,!1),(0,te.av)()&&document.addEventListener("visibilitychange",An,!1),Ue=()=>{k.removePassiveListener(Ht),document.removeEventListener("resume",gn,!1),document.removeEventListener("visibilitychange",An,!1),Lt&&window.clearTimeout(Lt)}})}finally{Ue()}})).apply(this,arguments)}function Pt(){return(Pt=(0,h.Z)(function*(F){const k=function _t(F){if((0,te.at)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(F);const k=new ArrayBuffer(F.length),B=new Uint8Array(k);for(let pe=0;pe<F.length;pe++)B[pe]=F.charCodeAt(pe);return B}(F),B=yield crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(B)).map(Ue=>Ue.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Le extends te.aC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(k=>{this.resolveInialized=k})}addPassiveListener(k){this.passiveListeners.add(k)}removePassiveListener(k){this.passiveListeners.delete(k)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(k){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(k)),super.onEvent(k)}initialized(){var k=this;return(0,h.Z)(function*(){yield k.initPromise})()}}function ct(F){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,h.Z)(function*(F){const k=yield dn()._get(an(F));return k&&(yield dn()._remove(an(F))),k})).apply(this,arguments)}function Ut(){const F=[];for(let B=0;B<20;B++){const pe=Math.floor(62*Math.random());F.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(pe))}return F.join("")}function dn(){return(0,te.aD)(te.b)}function an(F){return(0,te.aE)("authEvent",F.config.apiKey,F.name)}function Jt(F){if(!F?.includes("?"))return{};const[k,...B]=F.split("?");return(0,R.zd)(B.join("?"))}const We=class En{constructor(){this._redirectPersistence=te.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=te.aF,this._overrideRedirectResult=te.aG}_initialize(k){var B=this;return(0,h.Z)(function*(){const pe=k._key();let Ue=B.eventManagers.get(pe);return Ue||(Ue=new Le(k),B.eventManagers.set(pe,Ue),B.attachCallbackListeners(k,Ue)),Ue})()}_openPopup(k){(0,te.aw)(k,"operation-not-supported-in-this-environment")}_openRedirect(k,B,pe,Ue){var vt=this;return(0,h.Z)(function*(){!function lt(F){var k,B,pe,Ue,vt,St,Lt,Ht,gn,An;const et=fe();(0,te.aB)("function"==typeof(null===(k=et?.universalLinks)||void 0===k?void 0:k.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,te.aB)(typeof(null===(B=et?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,te.aB)("function"==typeof(null===(vt=null===(Ue=null===(pe=et?.cordova)||void 0===pe?void 0:pe.plugins)||void 0===Ue?void 0:Ue.browsertab)||void 0===vt?void 0:vt.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,te.aB)("function"==typeof(null===(Ht=null===(Lt=null===(St=et?.cordova)||void 0===St?void 0:St.plugins)||void 0===Lt?void 0:Lt.browsertab)||void 0===Ht?void 0:Ht.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,te.aB)("function"==typeof(null===(An=null===(gn=et?.cordova)||void 0===gn?void 0:gn.InAppBrowser)||void 0===An?void 0:An.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(k);const St=yield vt._initialize(k);yield St.initialized(),St.resetRedirect(),(0,te.aH)(),yield vt._originValidation(k);const Lt=function Me(F,k,B=null){return{type:k,eventId:B,urlResponse:null,sessionId:Ut(),postBody:null,tenantId:F.tenantId,error:(0,te.aA)(F,"no-auth-event")}}(k,pe,Ue);yield function Xe(F,k){return dn()._set(an(F),k)}(k,Lt);const Ht=yield function ae(F,k,B){return ve.apply(this,arguments)}(k,Lt,B),gn=yield function tt(F){const{cordova:k}=fe();return new Promise(B=>{k.plugins.browsertab.isAvailable(pe=>{let Ue=null;pe?k.plugins.browsertab.openUrl(F):Ue=k.InAppBrowser.open(F,(0,te.az)()?"_blank":"_system","location=yes"),B(Ue)})})}(Ht);return function bt(F,k,B){return it.apply(this,arguments)}(k,St,gn)})()}_isIframeWebStorageSupported(k,B){throw new Error("Method not implemented.")}_originValidation(k){const B=k._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function Oe(F){return Ze.apply(this,arguments)}(k)),this.originValidationPromises[B]}attachCallbackListeners(k,B){const{universalLinks:pe,handleOpenURL:Ue,BuildInfo:vt}=fe(),St=setTimeout((0,h.Z)(function*(){yield ct(k),B.onEvent(Je())}),500),Lt=function(){var An=(0,h.Z)(function*(et){clearTimeout(St);const ie=yield ct(k);let Ie=null;ie&&et?.url&&(Ie=function Wt(F,k){var B,pe;const Ue=function bi(F){const k=Jt(F),B=k.link?decodeURIComponent(k.link):void 0,pe=Jt(B).link,Ue=k.deep_link_id?decodeURIComponent(k.deep_link_id):void 0;return Jt(Ue).link||Ue||pe||B||F}(k);if(Ue.includes("/__/auth/callback")){const vt=Jt(Ue),St=vt.firebaseError?function jt(F){try{return JSON.parse(F)}catch{return null}}(decodeURIComponent(vt.firebaseError)):null,Lt=null===(pe=null===(B=St?.code)||void 0===B?void 0:B.split("auth/"))||void 0===pe?void 0:pe[1],Ht=Lt?(0,te.aA)(Lt):null;return Ht?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:Ht,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:Ue,postBody:null}}return null}(ie,et.url)),B.onEvent(Ie||Je())});return function(ie){return An.apply(this,arguments)}}();typeof pe<"u"&&"function"==typeof pe.subscribe&&pe.subscribe(null,Lt);const Ht=Ue,gn=`${vt.packageName.toLowerCase()}://`;fe().handleOpenURL=function(){var An=(0,h.Z)(function*(et){if(et.toLowerCase().startsWith(gn)&&Lt({url:et}),"function"==typeof Ht)try{Ht(et)}catch(ie){console.error(ie)}});return function(et){return An.apply(this,arguments)}}()}};function Je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,te.aA)("no-auth-event")}}function Pe(){var F;return(null===(F=self?.location)||void 0===F?void 0:F.protocol)||null}function zn(F=(0,R.z$)()){return!("file:"!==Pe()&&"ionic:"!==Pe()&&"capacitor:"!==Pe()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ln(){try{const F=self.localStorage,k=te.aM();if(F)return F.setItem(k,"1"),F.removeItem(k),!function _n(F=(0,R.z$)()){return function Kn(){return(0,R.w1)()&&11===document?.documentMode}()||function Dn(F=(0,R.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,R.hl)()}catch{return li()&&(0,R.hl)()}return!1}function li(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bn(){return(function wt(){return"http:"===Pe()||"https:"===Pe()}()||(0,R.ru)()||zn())&&!function rn(){return(0,R.b$)()||(0,R.UG)()}()&&Ln()&&!li()}function Ei(){return zn()&&typeof document<"u"}function lr(){return(lr=(0,h.Z)(function*(){return!!Ei()&&new Promise(F=>{const k=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(k),F(!0)})})})).apply(this,arguments)}const ni={LOCAL:"local",NONE:"none",SESSION:"session"},Pi=te.aB,Ii="persistence";function fn(F){return en.apply(this,arguments)}function en(){return(en=(0,h.Z)(function*(F){yield F._initializationPromise;const k=wi(),B=te.aE(Ii,F.config.apiKey,F.name);k&&k.setItem(B,F._getPersistence())})).apply(this,arguments)}function wi(){var F;try{return(null===(F=function Li(){return typeof window<"u"?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch{return null}}const ki=te.aB;class Pn{constructor(){this.browserResolver=te.aD(te.k),this.cordovaResolver=te.aD(We),this.underlyingResolver=null,this._redirectPersistence=te.a,this._completeRedirectFn=te.aF,this._overrideRedirectResult=te.aG}_initialize(k){var B=this;return(0,h.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(k)})()}_openPopup(k,B,pe,Ue){var vt=this;return(0,h.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openPopup(k,B,pe,Ue)})()}_openRedirect(k,B,pe,Ue){var vt=this;return(0,h.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openRedirect(k,B,pe,Ue)})()}_isIframeWebStorageSupported(k,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(k,B)}_originValidation(k){return this.assertedUnderlyingResolver._originValidation(k)}get _shouldInitProactively(){return Ei()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ki(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var k=this;return(0,h.Z)(function*(){if(k.underlyingResolver)return;const B=yield function Xn(){return lr.apply(this,arguments)}();k.underlyingResolver=B?k.cordovaResolver:k.browserResolver})()}}function $n(F){return F.unwrap()}function Qt(F){return vn(F)}function vn(F){const{_tokenResponse:k}=F instanceof R.ZR?F.customData:F;if(!k)return null;if(!(F instanceof R.ZR)&&"temporaryProof"in k&&"phoneNumber"in k)return te.P.credentialFromResult(F);const B=k.providerId;if(!B||B===te.p.PASSWORD)return null;let pe;switch(B){case te.p.GOOGLE:pe=te.W;break;case te.p.FACEBOOK:pe=te.V;break;case te.p.GITHUB:pe=te.X;break;case te.p.TWITTER:pe=te._;break;default:const{oauthIdToken:Ue,oauthAccessToken:vt,oauthTokenSecret:St,pendingToken:Lt,nonce:Ht}=k;return vt||St||Ue||Lt?Lt?B.startsWith("saml.")?te.aP._create(B,Lt):te.M._fromParams({providerId:B,signInMethod:B,pendingToken:Lt,idToken:Ue,accessToken:vt}):new te.Y(B).credential({idToken:Ue,accessToken:vt,rawNonce:Ht}):null}return F instanceof R.ZR?pe.credentialFromError(F):pe.credentialFromResult(F)}function fi(F,k){return k.catch(B=>{throw B instanceof R.ZR&&function hr(F,k){var B;const pe=null===(B=k.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===k?.code)k.resolver=new Gn(F,te.ar(F,k));else if(pe){const Ue=vn(k),vt=k;Ue&&(vt.credential=Ue,vt.tenantId=pe.tenantId||void 0,vt.email=pe.email||void 0,vt.phoneNumber=pe.phoneNumber||void 0)}}(F,B),B}).then(B=>{const Ue=B.user;return{operationType:B.operationType,credential:Qt(B),additionalUserInfo:te.ap(B),user:Mn.getOrCreate(Ue)}})}function Di(F,k){return ui.apply(this,arguments)}function ui(){return(ui=(0,h.Z)(function*(F,k){const B=yield k;return{verificationId:B.verificationId,confirm:pe=>fi(F,B.confirm(pe))}})).apply(this,arguments)}class Gn{constructor(k,B){this.resolver=B,this.auth=function Mr(F){return F.wrapped()}(k)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(k){return fi($n(this.auth),this.resolver.resolveSignIn(k))}}class Mn{constructor(k){this._delegate=k,this.multiFactor=te.as(k)}static getOrCreate(k){return Mn.USER_MAP.has(k)||Mn.USER_MAP.set(k,new Mn(k)),Mn.USER_MAP.get(k)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(k){return this._delegate.getIdTokenResult(k)}getIdToken(k){return this._delegate.getIdToken(k)}linkAndRetrieveDataWithCredential(k){return this.linkWithCredential(k)}linkWithCredential(k){var B=this;return(0,h.Z)(function*(){return fi(B.auth,te.a1(B._delegate,k))})()}linkWithPhoneNumber(k,B){var pe=this;return(0,h.Z)(function*(){return Di(pe.auth,te.l(pe._delegate,k,B))})()}linkWithPopup(k){var B=this;return(0,h.Z)(function*(){return fi(B.auth,te.d(B._delegate,k,Pn))})()}linkWithRedirect(k){var B=this;return(0,h.Z)(function*(){return yield fn(te.aI(B.auth)),te.g(B._delegate,k,Pn)})()}reauthenticateAndRetrieveDataWithCredential(k){return this.reauthenticateWithCredential(k)}reauthenticateWithCredential(k){var B=this;return(0,h.Z)(function*(){return fi(B.auth,te.a2(B._delegate,k))})()}reauthenticateWithPhoneNumber(k,B){return Di(this.auth,te.r(this._delegate,k,B))}reauthenticateWithPopup(k){return fi(this.auth,te.e(this._delegate,k,Pn))}reauthenticateWithRedirect(k){var B=this;return(0,h.Z)(function*(){return yield fn(te.aI(B.auth)),te.h(B._delegate,k,Pn)})()}sendEmailVerification(k){return te.af(this._delegate,k)}unlink(k){var B=this;return(0,h.Z)(function*(){return yield te.ao(B._delegate,k),B})()}updateEmail(k){return te.ak(this._delegate,k)}updatePassword(k){return te.al(this._delegate,k)}updatePhoneNumber(k){return te.u(this._delegate,k)}updateProfile(k){return te.aj(this._delegate,k)}verifyBeforeUpdateEmail(k,B){return te.ag(this._delegate,k,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mn.USER_MAP=new WeakMap;const vi=te.aB;let $i=(()=>{class F{constructor(B,pe){if(this.app=B,pe.isInitialized())return this._delegate=pe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ue}=B.options;vi(Ue,"invalid-api-key",{appName:B.name}),vi(Ue,"invalid-api-key",{appName:B.name});const vt=typeof window<"u"?Pn:void 0;this._delegate=pe.initialize({options:{persistence:Ui(Ue,B.name),popupRedirectResolver:vt}}),this._delegate._updateErrorMap(te.E),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,pe){te.J(this._delegate,B,pe)}applyActionCode(B){return te.a6(this._delegate,B)}checkActionCode(B){return te.a7(this._delegate,B)}confirmPasswordReset(B,pe){return te.a5(this._delegate,B,pe)}createUserWithEmailAndPassword(B,pe){var Ue=this;return(0,h.Z)(function*(){return fi(Ue._delegate,te.a9(Ue._delegate,B,pe))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return te.ae(this._delegate,B)}isSignInWithEmailLink(B){return te.ac(this._delegate,B)}getRedirectResult(){var B=this;return(0,h.Z)(function*(){vi(Bn(),B._delegate,"operation-not-supported-in-this-environment");const pe=yield te.j(B._delegate,Pn);return pe?fi(B._delegate,Promise.resolve(pe)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function Ye(F,k){(0,te.aI)(F)._logFramework(k)}(this._delegate,B)}onAuthStateChanged(B,pe,Ue){const{next:vt,error:St,complete:Lt}=Xi(B,pe,Ue);return this._delegate.onAuthStateChanged(vt,St,Lt)}onIdTokenChanged(B,pe,Ue){const{next:vt,error:St,complete:Lt}=Xi(B,pe,Ue);return this._delegate.onIdTokenChanged(vt,St,Lt)}sendSignInLinkToEmail(B,pe){return te.ab(this._delegate,B,pe)}sendPasswordResetEmail(B,pe){return te.a4(this._delegate,B,pe||void 0)}setPersistence(B){var pe=this;return(0,h.Z)(function*(){let Ue;switch(function ln(F,k){Pi(Object.values(ni).includes(k),F,"invalid-persistence-type"),(0,R.b$)()?Pi(k!==ni.SESSION,F,"unsupported-persistence-type"):(0,R.UG)()?Pi(k===ni.NONE,F,"unsupported-persistence-type"):li()?Pi(k===ni.NONE||k===ni.LOCAL&&(0,R.hl)(),F,"unsupported-persistence-type"):Pi(k===ni.NONE||Ln(),F,"unsupported-persistence-type")}(pe._delegate,B),B){case ni.SESSION:Ue=te.a;break;case ni.LOCAL:Ue=(yield te.aD(te.i)._isAvailable())?te.i:te.b;break;case ni.NONE:Ue=te.Q;break;default:return te.aw("argument-error",{appName:pe._delegate.name})}return pe._delegate.setPersistence(Ue)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return fi(this._delegate,te.$(this._delegate))}signInWithCredential(B){return fi(this._delegate,te.a0(this._delegate,B))}signInWithCustomToken(B){return fi(this._delegate,te.a3(this._delegate,B))}signInWithEmailAndPassword(B,pe){return fi(this._delegate,te.aa(this._delegate,B,pe))}signInWithEmailLink(B,pe){return fi(this._delegate,te.ad(this._delegate,B,pe))}signInWithPhoneNumber(B,pe){return Di(this._delegate,te.s(this._delegate,B,pe))}signInWithPopup(B){var pe=this;return(0,h.Z)(function*(){return vi(Bn(),pe._delegate,"operation-not-supported-in-this-environment"),fi(pe._delegate,te.c(pe._delegate,B,Pn))})()}signInWithRedirect(B){var pe=this;return(0,h.Z)(function*(){return vi(Bn(),pe._delegate,"operation-not-supported-in-this-environment"),yield fn(pe._delegate),te.f(pe._delegate,B,Pn)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return te.a8(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=ni,F})();function Xi(F,k,B){let pe=F;"function"!=typeof F&&({next:pe,error:k,complete:B}=F);const Ue=pe;return{next:St=>Ue(St&&Mn.getOrCreate(St)),error:k,complete:B}}function Ui(F,k){const B=function hn(F,k){const B=wi();if(!B)return[];const pe=te.aE(Ii,F,k);switch(B.getItem(pe)){case ni.NONE:return[te.Q];case ni.LOCAL:return[te.i,te.a];case ni.SESSION:return[te.a];default:return[]}}(F,k);if(typeof self<"u"&&!B.includes(te.i)&&B.push(te.i),typeof window<"u")for(const pe of[te.b,te.a])B.includes(pe)||B.push(pe);return B.includes(te.Q)||B.push(te.Q),B}class Gi{constructor(){this.providerId="phone",this._delegate=new te.P($n(H.Z.auth()))}static credential(k,B){return te.P.credential(k,B)}verifyPhoneNumber(k,B){return this._delegate.verifyPhoneNumber(k,B)}unwrap(){return this._delegate}}Gi.PHONE_SIGN_IN_METHOD=te.P.PHONE_SIGN_IN_METHOD,Gi.PROVIDER_ID=te.P.PROVIDER_ID;const fr=te.aB;class Dt{constructor(k,B,pe=H.Z.app()){var Ue;fr(null===(Ue=pe.options)||void 0===Ue?void 0:Ue.apiKey,"invalid-api-key",{appName:pe.name}),this._delegate=new te.R(pe.auth(),k,B),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function U(F){F.INTERNAL.registerComponent(new Te.wA("auth-compat",k=>{const B=k.getProvider("app-compat").getImmediate(),pe=k.getProvider("auth");return new $i(B,pe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:te.A.EMAIL_SIGNIN,PASSWORD_RESET:te.A.PASSWORD_RESET,RECOVER_EMAIL:te.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:te.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:te.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:te.A.VERIFY_EMAIL}},EmailAuthProvider:te.U,FacebookAuthProvider:te.V,GithubAuthProvider:te.X,GoogleAuthProvider:te.W,OAuthProvider:te.Y,SAMLAuthProvider:te.Z,PhoneAuthProvider:Gi,PhoneMultiFactorGenerator:te.m,RecaptchaVerifier:Dt,TwitterAuthProvider:te._,Auth:$i,AuthCredential:te.K,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.4.8")}(H.Z)},5861:(Nt,Be,O)=>{function h(te,R,me,Ee,Te,fe,Se){try{var ae=te[fe](Se),ve=ae.value}catch(Oe){return void me(Oe)}ae.done?R(ve):Promise.resolve(ve).then(Ee,Te)}function H(te){return function(){var R=this,me=arguments;return new Promise(function(Ee,Te){var fe=te.apply(R,me);function Se(ve){h(fe,Ee,Te,Se,ae,"next",ve)}function ae(ve){h(fe,Ee,Te,Se,ae,"throw",ve)}Se(void 0)})}}O.d(Be,{Z:()=>H})},7582:(Nt,Be,O)=>{function R(We,Je){var Ye={};for(var Qe in We)Object.prototype.hasOwnProperty.call(We,Qe)&&Je.indexOf(Qe)<0&&(Ye[Qe]=We[Qe]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(Qe=Object.getOwnPropertySymbols(We);$e<Qe.length;$e++)Je.indexOf(Qe[$e])<0&&Object.prototype.propertyIsEnumerable.call(We,Qe[$e])&&(Ye[Qe[$e]]=We[Qe[$e]])}return Ye}function Oe(We,Je,Ye,Qe){return new(Ye||(Ye=Promise))(function(st,Pe){function wt(Kn){try{rn(Qe.next(Kn))}catch(Dn){Pe(Dn)}}function zn(Kn){try{rn(Qe.throw(Kn))}catch(Dn){Pe(Dn)}}function rn(Kn){Kn.done?st(Kn.value):function $e(st){return st instanceof Ye?st:new Ye(function(Pe){Pe(st)})}(Kn.value).then(wt,zn)}rn((Qe=Qe.apply(We,Je||[])).next())})}function ge(We){return this instanceof ge?(this.v=We,this):new ge(We)}function Le(We,Je,Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Qe=Ye.apply(We,Je||[]),st=[];return $e={},Pe("next"),Pe("throw"),Pe("return"),$e[Symbol.asyncIterator]=function(){return this},$e;function Pe(_n){Qe[_n]&&($e[_n]=function(Ln){return new Promise(function(li,Bn){st.push([_n,Ln,li,Bn])>1||wt(_n,Ln)})})}function wt(_n,Ln){try{!function zn(_n){_n.value instanceof ge?Promise.resolve(_n.value.v).then(rn,Kn):Dn(st[0][2],_n)}(Qe[_n](Ln))}catch(li){Dn(st[0][3],li)}}function rn(_n){wt("next",_n)}function Kn(_n){wt("throw",_n)}function Dn(_n,Ln){_n(Ln),st.shift(),st.length&&wt(st[0][0],st[0][1])}}function Xe(We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,Je=We[Symbol.asyncIterator];return Je?Je.call(We):(We=function it(We){var Je="function"==typeof Symbol&&Symbol.iterator,Ye=Je&&We[Je],Qe=0;if(Ye)return Ye.call(We);if(We&&"number"==typeof We.length)return{next:function(){return We&&Qe>=We.length&&(We=void 0),{value:We&&We[Qe++],done:!We}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")}(We),Ye={},Qe("next"),Qe("throw"),Qe("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye);function Qe(st){Ye[st]=We[st]&&function(Pe){return new Promise(function(wt,zn){!function $e(st,Pe,wt,zn){Promise.resolve(zn).then(function(rn){st({value:rn,done:wt})},Pe)}(wt,zn,(Pe=We[st](Pe)).done,Pe.value)})}}}O.d(Be,{FC:()=>Le,KL:()=>Xe,_T:()=>R,mG:()=>Oe,qq:()=>ge}),"function"==typeof SuppressedError&&SuppressedError}},Nt=>{Nt(Nt.s=6804)}]);