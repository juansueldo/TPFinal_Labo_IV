"use strict";(self.webpackChunkTPFinal_Labo_IV=self.webpackChunkTPFinal_Labo_IV||[]).push([[179],{3560:(kt,Be,P)=>{P.d(Be,{$:()=>qe,A:()=>_e,C:()=>Pt,E:()=>nt,J:()=>zo,K:()=>Do,M:()=>yr,P:()=>zl,Q:()=>Ue,R:()=>ca,U:()=>ar,V:()=>ao,W:()=>Rr,X:()=>vs,Y:()=>Ao,Z:()=>ys,_:()=>ui,a:()=>ml,a0:()=>es,a1:()=>ul,a2:()=>Ga,a3:()=>Da,a4:()=>Aa,a5:()=>lo,a6:()=>Sa,a7:()=>dl,a8:()=>ma,a9:()=>Bl,aA:()=>Le,aB:()=>ke,aC:()=>Ts,aD:()=>k,aE:()=>_t,aF:()=>cs,aG:()=>fd,aH:()=>Wl,aI:()=>fi,aM:()=>Hr,aP:()=>Or,aa:()=>jo,ab:()=>ga,ac:()=>ts,ad:()=>Lc,ae:()=>So,af:()=>va,ag:()=>Ma,aj:()=>C,ak:()=>U,al:()=>X,ao:()=>nr,ap:()=>Bi,ar:()=>Eu,as:()=>cd,at:()=>jt,au:()=>be,av:()=>ie,aw:()=>me,ax:()=>Q,ay:()=>Ya,az:()=>st,b:()=>ba,c:()=>Eo,d:()=>Vs,e:()=>Tu,f:()=>_l,g:()=>Ka,h:()=>Ba,i:()=>q,j:()=>Ys,k:()=>Wt,l:()=>bh,m:()=>ei,o:()=>Js,p:()=>de,r:()=>hd,s:()=>xu,u:()=>gc});var u=P(5861),$=P(9058),te=P(534),H=P(7879),fe=P(7582),Ce=P(4537);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},_e={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const nt=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},bt=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ot=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mt=new H.Yd("@firebase/auth");function vt(b,...f){mt.logLevel<=H.in.ERROR&&mt.error(`Auth (${te.SDK_VERSION}): ${b}`,...f)}function me(b,...f){throw Ze(b,...f)}function Le(b,...f){return Ze(b,...f)}function Oe(b,f,_){const x=Object.assign(Object.assign({},bt()),{[f]:_});return new $.LL("auth","Firebase",x).create(f,{appName:b.name})}function Je(b,f,_){if(!(f instanceof _))throw _.name!==f.constructor.name&&me(b,"argument-error"),Oe(b,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(b,...f){if("string"!=typeof b){const _=f[0],x=[...f.slice(1)];return x[0]&&(x[0].appName=b.name),b._errorFactory.create(_,...x)}return ot.create(b,...f)}function ke(b,f,..._){if(!b)throw Ze(f,..._)}function $t(b){const f="INTERNAL ASSERTION FAILED: "+b;throw vt(f),new Error(f)}function jt(b,f){b||$t(f)}function ln(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Vn(){return"http:"===un()||"https:"===un()}function un(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class _n{constructor(f,_){this.shortDelay=f,this.longDelay=_,jt(_>f,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function Ei(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vn()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vn(b,f){jt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return f?`${_}${f.startsWith("/")?f.slice(1):f}`:_}class Ge{static initialize(f,_,x){this.fetchImpl=f,_&&(this.headersImpl=_),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void $t("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void $t("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void $t("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qe=new _n(3e4,6e4);function Xe(b,f){return b.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:b.tenantId}):f}function $e(b,f,_,x){return at.apply(this,arguments)}function at(){return(at=(0,u.Z)(function*(b,f,_,x,W={}){return Pe(b,W,(0,u.Z)(function*(){let ne={},Re={};x&&("GET"===f?Re=x:ne={body:JSON.stringify(x)});const et=(0,$.xO)(Object.assign({key:b.config.apiKey},Re)).slice(1),Tt=yield b._getAdditionalHeaders();return Tt["Content-Type"]="application/json",b.languageCode&&(Tt["X-Firebase-Locale"]=b.languageCode),Ge.fetch()(Gn(b,b.config.apiHost,_,et),Object.assign({method:f,headers:Tt,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function Pe(b,f,_){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(b,f,_){b._canInitEmulator=!1;const x=Object.assign(Object.assign({},Ye),f);try{const W=new En(b),ne=yield Promise.race([_(),W.promise]);W.clearNetworkTimeout();const Re=yield ne.json();if("needConfirmation"in Re)throw On(b,"account-exists-with-different-credential",Re);if(ne.ok&&!("errorMessage"in Re))return Re;{const et=ne.ok?Re.errorMessage:Re.error.message,[Tt,dn]=et.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Tt)throw On(b,"credential-already-in-use",Re);if("EMAIL_EXISTS"===Tt)throw On(b,"email-already-in-use",Re);if("USER_DISABLED"===Tt)throw On(b,"user-disabled",Re);const Nt=x[Tt]||Tt.toLowerCase().replace(/[_\s]+/g,"-");if(dn)throw Oe(b,Nt,dn);me(b,Nt)}}catch(W){if(W instanceof $.ZR)throw W;me(b,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function Bn(b,f,_,x){return tn.apply(this,arguments)}function tn(){return(tn=(0,u.Z)(function*(b,f,_,x,W={}){const ne=yield $e(b,f,_,x,W);return"mfaPendingCredential"in ne&&me(b,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function Gn(b,f,_,x){const W=`${f}${_}?${x}`;return b.config.emulator?vn(b.config,W):`${b.config.apiScheme}://${W}`}function In(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class En{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((_,x)=>{this.timer=setTimeout(()=>x(Le(this.auth,"network-request-failed")),Qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function On(b,f,_){const x={appName:b.name};_.email&&(x.email=_.email),_.phoneNumber&&(x.phoneNumber=_.phoneNumber);const W=Le(b,f,x);return W.customData._tokenResponse=_,W}function ni(b){return void 0!==b&&void 0!==b.getResponse}function Un(b){return void 0!==b&&void 0!==b.enterprise}class Mi{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===f)return In(_.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function Ji(){return(Ji=(0,u.Z)(function*(b){return(yield $e(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ri(b,f){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,u.Z)(function*(b,f){return $e(b,"GET","/v2/recaptchaConfig",Xe(b,f))})).apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(b,f){return $e(b,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function mn(){return(mn=(0,u.Z)(function*(b,f){return $e(b,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function hn(){return(hn=(0,u.Z)(function*(b,f){return $e(b,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function wi(b){if(b)try{const f=new Date(Number(b));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function zn(){return(zn=(0,u.Z)(function*(b,f=!1){const _=(0,$.m9)(b),x=yield _.getIdToken(f),W=Kt(x);ke(W&&W.exp&&W.auth_time&&W.iat,_.auth,"internal-error");const ne="object"==typeof W.firebase?W.firebase:void 0,Re=ne?.sign_in_provider;return{claims:W,token:x,authTime:wi(mr(W.auth_time)),issuedAtTime:wi(mr(W.iat)),expirationTime:wi(mr(W.exp)),signInProvider:Re||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function mr(b){return 1e3*Number(b)}function Kt(b){const[f,_,x]=b.split(".");if(void 0===f||void 0===_||void 0===x)return vt("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,$.tV)(_);return W?JSON.parse(W):(vt("Failed to decode base64 JWT payload"),null)}catch(W){return vt("Caught error parsing JWT payload as JSON",W?.toString()),null}}function fn(b,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,u.Z)(function*(b,f,_=!1){if(_)return f;try{return yield f}catch(x){throw x instanceof $.ZR&&function di({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(x)&&b.auth.currentUser===b&&(yield b.auth.signOut()),x}})).apply(this,arguments)}class ii{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var _;if(f){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const W=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(f=!1){var _=this;if(!this.isRunning)return;const x=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),x)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&f.schedule(!0))}f.schedule()})()}}class Sn{constructor(f,_){this.createdAt=f,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=wi(this.lastLoginAt),this.creationTime=wi(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cn(b){return ci.apply(this,arguments)}function ci(){return ci=(0,u.Z)(function*(b){var f;const _=b.auth,x=yield b.getIdToken(),W=yield fn(b,function Xt(b,f){return hn.apply(this,arguments)}(_,{idToken:x}));ke(W?.users.length,_,"internal-error");const ne=W.users[0];b._notifyReloadListener(ne);const Re=null!==(f=ne.providerUserInfo)&&void 0!==f&&f.length?function qi(b){return b.map(f=>{var{providerId:_}=f,x=(0,fe._T)(f,["providerId"]);return{providerId:_,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}(ne.providerUserInfo):[],et=function Sr(b,f){return[...b.filter(x=>!f.some(W=>W.providerId===x.providerId)),...f]}(b.providerData,Re),Nt=!!b.isAnonymous&&!(b.email&&ne.passwordHash||et?.length),yi={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:et,metadata:new Sn(ne.createdAt,ne.lastLoginAt),isAnonymous:Nt};Object.assign(b,yi)}),ci.apply(this,arguments)}function Gi(){return(Gi=(0,u.Z)(function*(b){const f=(0,$.m9)(b);yield Cn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function St(){return(St=(0,u.Z)(function*(b,f){const _=yield Pe(b,{},(0,u.Z)(function*(){const x=(0,$.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:W,apiKey:ne}=b.config,Re=Gn(b,W,"/v1/token",`key=${ne}`),et=yield b._getAdditionalHeaders();return et["Content-Type"]="application/x-www-form-urlencoded",Ge.fetch()(Re,{method:"POST",headers:et,body:x})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class oe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ke(f.idToken,"internal-error"),ke(typeof f.idToken<"u","internal-error"),ke(typeof f.refreshToken<"u","internal-error");const _="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function xi(b){const f=Kt(b);return ke(f,"internal-error"),ke(typeof f.exp<"u","internal-error"),ke(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,_)}getToken(f,_=!1){var x=this;return(0,u.Z)(function*(){return ke(!x.accessToken||x.refreshToken,f,"user-token-expired"),_||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(f,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,_){var x=this;return(0,u.Z)(function*(){const{accessToken:W,refreshToken:ne,expiresIn:Re}=yield function gr(b,f){return St.apply(this,arguments)}(f,_);x.updateTokensAndExpiration(W,ne,Number(Re))})()}updateTokensAndExpiration(f,_,x){this.refreshToken=_||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(f,_){const{refreshToken:x,accessToken:W,expirationTime:ne}=_,Re=new oe;return x&&(ke("string"==typeof x,"internal-error",{appName:f}),Re.refreshToken=x),W&&(ke("string"==typeof W,"internal-error",{appName:f}),Re.accessToken=W),ne&&(ke("number"==typeof ne,"internal-error",{appName:f}),Re.expirationTime=ne),Re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new oe,this.toJSON())}_performRefresh(){return $t("not implemented")}}function L(b,f){ke("string"==typeof b||typeof b>"u","internal-error",{appName:f})}class O{constructor(f){var{uid:_,auth:x,stsTokenManager:W}=f,ne=(0,fe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ii(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=x,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new Sn(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(f){var _=this;return(0,u.Z)(function*(){const x=yield fn(_,_.stsTokenManager.getToken(_.auth,f));return ke(x,_.auth,"internal-error"),_.accessToken!==x&&(_.accessToken=x,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),x})()}getIdTokenResult(f){return function Tn(b){return zn.apply(this,arguments)}(this,f)}reload(){return function Wi(b){return Gi.apply(this,arguments)}(this)}_assign(f){this!==f&&(ke(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(_=>Object.assign({},_)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const _=new O(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(f){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,_=!1){var x=this;return(0,u.Z)(function*(){let W=!1;f.idToken&&f.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(f),W=!0),_&&(yield Cn(x)),yield x.auth._persistUserIfCurrent(x),W&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var f=this;return(0,u.Z)(function*(){const _=yield f.getIdToken();return yield fn(f,function Ii(b,f){return gi.apply(this,arguments)}(f.auth,{idToken:_})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,_){var x,W,ne,Re,et,Tt,dn,Nt;const yi=null!==(x=_.displayName)&&void 0!==x?x:void 0,Oi=null!==(W=_.email)&&void 0!==W?W:void 0,fa=null!==(ne=_.phoneNumber)&&void 0!==ne?ne:void 0,Kl=null!==(Re=_.photoURL)&&void 0!==Re?Re:void 0,fo=null!==(et=_.tenantId)&&void 0!==et?et:void 0,Ds=null!==(Tt=_._redirectEventId)&&void 0!==Tt?Tt:void 0,As=null!==(dn=_.createdAt)&&void 0!==dn?dn:void 0,bl=null!==(Nt=_.lastLoginAt)&&void 0!==Nt?Nt:void 0,{uid:Zl,emailVerified:El,isAnonymous:Yl,providerData:Su,stsTokenManager:Il}=_;ke(Zl&&Il,f,"internal-error");const Mu=oe.fromJSON(this.name,Il);ke("string"==typeof Zl,f,"internal-error"),L(yi,f.name),L(Oi,f.name),ke("boolean"==typeof El,f,"internal-error"),ke("boolean"==typeof Yl,f,"internal-error"),L(fa,f.name),L(Kl,f.name),L(fo,f.name),L(Ds,f.name),L(As,f.name),L(bl,f.name);const Ql=new O({uid:Zl,auth:f,email:Oi,emailVerified:El,displayName:yi,isAnonymous:Yl,photoURL:Kl,phoneNumber:fa,tenantId:fo,stsTokenManager:Mu,createdAt:As,lastLoginAt:bl});return Su&&Array.isArray(Su)&&(Ql.providerData=Su.map(np=>Object.assign({},np))),Ds&&(Ql._redirectEventId=Ds),Ql}static _fromIdTokenResponse(f,_,x=!1){return(0,u.Z)(function*(){const W=new oe;W.updateFromServerResponse(_);const ne=new O({uid:_.localId,auth:f,stsTokenManager:W,isAnonymous:x});return yield Cn(ne),ne})()}}const N=new Map;function k(b){jt(b instanceof Function,"Expected a class definition");let f=N.get(b);return f?(jt(f instanceof b,"Instance stored in cache mismatched with class"),f):(f=new b,N.set(b,f),f)}const Ue=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,x){var W=this;return(0,u.Z)(function*(){W.storage[_]=x})()}_get(_){var x=this;return(0,u.Z)(function*(){const W=x.storage[_];return void 0===W?null:W})()}_remove(_){var x=this;return(0,u.Z)(function*(){delete x.storage[_]})()}_addListener(_,x){}_removeListener(_,x){}}return b.type="NONE",b})();function _t(b,f,_){return`firebase:${b}:${f}:${_}`}class Mt{constructor(f,_,x){this.persistence=f,this.auth=_,this.userKey=x;const{config:W,name:ne}=this.auth;this.fullUserKey=_t(this.userKey,W.apiKey,ne),this.fullPersistenceKey=_t("persistence",W.apiKey,ne),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const _=yield f.persistence._get(f.fullUserKey);return _?O._fromJSON(f.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var _=this;return(0,u.Z)(function*(){if(_.persistence===f)return;const x=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=f,x?_.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,_,x="authUser"){return(0,u.Z)(function*(){if(!_.length)return new Mt(k(Ue),f,x);const W=(yield Promise.all(_.map(function(){var dn=(0,u.Z)(function*(Nt){if(yield Nt._isAvailable())return Nt});return function(Nt){return dn.apply(this,arguments)}}()))).filter(dn=>dn);let ne=W[0]||k(Ue);const Re=_t(x,f.config.apiKey,f.name);let et=null;for(const dn of _)try{const Nt=yield dn._get(Re);if(Nt){const yi=O._fromJSON(f,Nt);dn!==ne&&(et=yi),ne=dn;break}}catch{}const Tt=W.filter(dn=>dn._shouldAllowMigration);return ne._shouldAllowMigration&&Tt.length?(ne=Tt[0],et&&(yield ne._set(Re,et.toJSON())),yield Promise.all(_.map(function(){var dn=(0,u.Z)(function*(Nt){if(Nt!==ne)try{yield Nt._remove(Re)}catch{}});return function(Nt){return dn.apply(this,arguments)}}())),new Mt(ne,f,x)):new Mt(ne,f,x)})()}}function Lt(b){const f=b.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(tt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ft(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ee(f))return"Blackberry";if(ge(f))return"Webos";if(cn(f))return"Safari";if((f.includes("chrome/")||jn(f))&&!f.includes("edge/"))return"Chrome";if(ie(f))return"Android";{const x=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function Ft(b=(0,$.z$)()){return/firefox\//i.test(b)}function cn(b=(0,$.z$)()){const f=b.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function jn(b=(0,$.z$)()){return/crios\//i.test(b)}function tt(b=(0,$.z$)()){return/iemobile/i.test(b)}function ie(b=(0,$.z$)()){return/android/i.test(b)}function Ee(b=(0,$.z$)()){return/blackberry/i.test(b)}function ge(b=(0,$.z$)()){return/webos/i.test(b)}function be(b=(0,$.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function st(b=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Bt(b=(0,$.z$)()){return be(b)||ie(b)||ge(b)||Ee(b)||/windows phone/i.test(b)||tt(b)}function li(b,f=[]){let _;switch(b){case"Browser":_=Lt((0,$.z$)());break;case"Worker":_=`${Lt((0,$.z$)())}-${b}`;break;default:_=b}const x=f.length?f.join(","):"FirebaseCore-web";return`${_}/JsCore/${te.SDK_VERSION}/${x}`}class hi{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,_){const x=ne=>new Promise((Re,et)=>{try{Re(f(ne))}catch(Tt){et(Tt)}});x.onAbort=_,this.queue.push(x);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(f){var _=this;return(0,u.Z)(function*(){if(_.auth.currentUser===f)return;const x=[];try{for(const W of _.queue)yield W(f),W.onAbort&&x.push(W.onAbort)}catch(W){x.reverse();for(const ne of x)try{ne()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:W?.message})}})()}}function Fi(){return(Fi=(0,u.Z)(function*(b,f={}){return $e(b,"GET","/v2/passwordPolicy",Xe(b,f))})).apply(this,arguments)}class ki{constructor(f){var _,x,W,ne;const Re=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=Re.minPasswordLength)&&void 0!==_?_:6,Re.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Re.maxPasswordLength),void 0!==Re.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Re.containsLowercaseCharacter),void 0!==Re.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Re.containsUppercaseCharacter),void 0!==Re.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Re.containsNumericCharacter),void 0!==Re.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Re.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(W=null===(x=f.allowedNonAlphanumericCharacters)||void 0===x?void 0:x.join(""))&&void 0!==W?W:"",this.forceUpgradeOnSignin=null!==(ne=f.forceUpgradeOnSignin)&&void 0!==ne&&ne,this.schemaVersion=f.schemaVersion}validatePassword(f){var _,x,W,ne,Re,et;const Tt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,Tt),this.validatePasswordCharacterOptions(f,Tt),Tt.isValid&&(Tt.isValid=null===(_=Tt.meetsMinPasswordLength)||void 0===_||_),Tt.isValid&&(Tt.isValid=null===(x=Tt.meetsMaxPasswordLength)||void 0===x||x),Tt.isValid&&(Tt.isValid=null===(W=Tt.containsLowercaseLetter)||void 0===W||W),Tt.isValid&&(Tt.isValid=null===(ne=Tt.containsUppercaseLetter)||void 0===ne||ne),Tt.isValid&&(Tt.isValid=null===(Re=Tt.containsNumericCharacter)||void 0===Re||Re),Tt.isValid&&(Tt.isValid=null===(et=Tt.containsNonAlphanumericCharacter)||void 0===et||et),Tt}validatePasswordLengthOptions(f,_){const x=this.customStrengthOptions.minPasswordLength,W=this.customStrengthOptions.maxPasswordLength;x&&(_.meetsMinPasswordLength=f.length>=x),W&&(_.meetsMaxPasswordLength=f.length<=W)}validatePasswordCharacterOptions(f,_){let x;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let W=0;W<f.length;W++)x=f.charAt(W),this.updatePasswordCharacterOptionsStatuses(_,x>="a"&&x<="z",x>="A"&&x<="Z",x>="0"&&x<="9",this.allowedNonAlphanumericCharacters.includes(x))}updatePasswordCharacterOptionsStatuses(f,_,x,W,ne){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=x)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=W)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=ne))}}class Vr{constructor(f,_,x,W){this.app=f,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=x,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wr(this),this.idTokenSubscription=new Wr(this),this.beforeStateQueue=new hi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(f,_){var x=this;return _&&(this._popupRedirectResolver=k(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var W,ne;if(!x._deleted&&(x.persistenceManager=yield Mt.create(x,f),!x._deleted)){if(null!==(W=x._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(_),x.lastNotifiedUid=(null===(ne=x.currentUser)||void 0===ne?void 0:ne.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const _=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||_){if(f.currentUser&&_&&f.currentUser.uid===_.uid)return f._currentUser._assign(_),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(_,!0)}})()}initializeCurrentUser(f){var _=this;return(0,u.Z)(function*(){var x;const W=yield _.assertedPersistence.getCurrentUser();let ne=W,Re=!1;if(f&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const et=null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId,Tt=ne?._redirectEventId,dn=yield _.tryRedirectSignIn(f);(!et||et===Tt)&&dn?.user&&(ne=dn.user,Re=!0)}if(!ne)return _.directlySetCurrentUser(null);if(!ne._redirectEventId){if(Re)try{yield _.beforeStateQueue.runMiddleware(ne)}catch(et){ne=W,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(et))}return ne?_.reloadAndSetCurrentUserOrClear(ne):_.directlySetCurrentUser(null)}return ke(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===ne._redirectEventId?_.directlySetCurrentUser(ne):_.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(f){var _=this;return(0,u.Z)(function*(){let x=null;try{x=yield _._popupRedirectResolver._completeRedirectFn(_,f,!0)}catch{yield _._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(f){var _=this;return(0,u.Z)(function*(){try{yield Cn(f)}catch(x){if("auth/network-request-failed"!==x?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Qt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var _=this;return(0,u.Z)(function*(){const x=f?(0,$.m9)(f):null;return x&&ke(x.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(x&&x._clone(_))})()}_updateCurrentUser(f,_=!1){var x=this;return(0,u.Z)(function*(){if(!x._deleted)return f&&ke(x.tenantId===f.tenantId,x,"tenant-id-mismatch"),_||(yield x.beforeStateQueue.runMiddleware(f)),x.queue((0,u.Z)(function*(){yield x.directlySetCurrentUser(f),x.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(k(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var _=this;return(0,u.Z)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const x=_._getPasswordPolicyInternal();return x.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):x.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,u.Z)(function*(){const _=yield function dr(b){return Fi.apply(this,arguments)}(f),x=new ki(_);null===f.tenantId?f._projectPasswordPolicy=x:f._tenantPasswordPolicies[f.tenantId]=x})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new $.LL("auth","Firebase",f())}onAuthStateChanged(f,_,x){return this.registerStateListener(this.authStateSubscription,f,_,x)}beforeAuthStateChanged(f,_){return this.beforeStateQueue.pushCallback(f,_)}onIdTokenChanged(f,_,x){return this.registerStateListener(this.idTokenSubscription,f,_,x)}authStateReady(){return new Promise((f,_)=>{if(this.currentUser)f();else{const x=this.onAuthStateChanged(()=>{x(),f()},_)}})}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,_){var x=this;return(0,u.Z)(function*(){const W=yield x.getOrInitRedirectPersistenceManager(_);return null===f?W.removeCurrentUser():W.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const x=f&&k(f)||_._popupRedirectResolver;ke(x,_,"argument-error"),_.redirectPersistenceManager=yield Mt.create(_,[k(x._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(f){var _=this;return(0,u.Z)(function*(){var x,W;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(x=_._currentUser)||void 0===x?void 0:x._redirectEventId)===f?_._currentUser:(null===(W=_.redirectUser)||void 0===W?void 0:W._redirectEventId)===f?_.redirectUser:null})()}_persistUserIfCurrent(f){var _=this;return(0,u.Z)(function*(){if(f===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(_=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,_,x,W){if(this._deleted)return()=>{};const ne="function"==typeof _?_:_.next.bind(_);let Re=!1;const et=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(et,this,"internal-error"),et.then(()=>{Re||ne(this.currentUser)}),"function"==typeof _){const Tt=f.addObserver(_,x,W);return()=>{Re=!0,Tt()}}{const Tt=f.addObserver(_);return()=>{Re=!0,Tt()}}}directlySetCurrentUser(f){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==f&&_._currentUser._stopProactiveRefresh(),f&&_.isProactiveRefreshEnabled&&f._startProactiveRefresh(),_.currentUser=f,f?yield _.assertedPersistence.setCurrentUser(f):yield _.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=li(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var _;const x={"X-Client-Version":f.clientVersion};f.app.options.appId&&(x["X-Firebase-gmpid"]=f.app.options.appId);const W=yield null===(_=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();W&&(x["X-Firebase-Client"]=W);const ne=yield f._getAppCheckToken();return ne&&(x["X-Firebase-AppCheck"]=ne),x})()}_getAppCheckToken(){var f=this;return(0,u.Z)(function*(){var _;const x=yield null===(_=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return x?.error&&function Ut(b,...f){mt.logLevel<=H.in.WARN&&mt.warn(`Auth (${te.SDK_VERSION}): ${b}`,...f)}(`Error while retrieving App Check token: ${x.error}`),x?.token})()}}function fi(b){return(0,$.m9)(b)}class Wr{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,$.ne)(_=>this.observer=_)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _i(b){return new Promise((f,_)=>{const x=document.createElement("script");x.setAttribute("src",b),x.onload=f,x.onerror=W=>{const ne=Le("internal-error");ne.customData=W,_(ne)},x.type="text/javascript",x.charset="UTF-8",function Hn(){var b,f;return null!==(f=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==f?f:document}().appendChild(x)})}function Li(b){return`__${b}${Math.floor(1e6*Math.random())}`}class os{constructor(f){this.type="recaptcha-enterprise",this.auth=fi(f)}verify(f="verify",_=!1){var x=this;return(0,u.Z)(function*(){function ne(){return ne=(0,u.Z)(function*(et){if(!_){if(null==et.tenantId&&null!=et._agentRecaptchaConfig)return et._agentRecaptchaConfig.siteKey;if(null!=et.tenantId&&void 0!==et._tenantRecaptchaConfigs[et.tenantId])return et._tenantRecaptchaConfigs[et.tenantId].siteKey}return new Promise(function(){var Tt=(0,u.Z)(function*(dn,Nt){Ri(et,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(yi=>{if(void 0!==yi.recaptchaKey){const Oi=new Mi(yi);return null==et.tenantId?et._agentRecaptchaConfig=Oi:et._tenantRecaptchaConfigs[et.tenantId]=Oi,dn(Oi.siteKey)}Nt(new Error("recaptcha Enterprise site key undefined"))}).catch(yi=>{Nt(yi)})});return function(dn,Nt){return Tt.apply(this,arguments)}}())}),ne.apply(this,arguments)}function Re(et,Tt,dn){const Nt=window.grecaptcha;Un(Nt)?Nt.enterprise.ready(()=>{Nt.enterprise.execute(et,{action:f}).then(yi=>{Tt(yi)}).catch(()=>{Tt("NO_RECAPTCHA")})}):dn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((et,Tt)=>{(function W(et){return ne.apply(this,arguments)})(x.auth).then(dn=>{if(!_&&Un(window.grecaptcha))Re(dn,et,Tt);else{if(typeof window>"u")return void Tt(new Error("RecaptchaVerifier is only supported in browser"));_i("https://www.google.com/recaptcha/enterprise.js?render="+dn).then(()=>{Re(dn,et,Tt)}).catch(Nt=>{Tt(Nt)})}}).catch(dn=>{Tt(dn)})})})()}}function ss(b,f,_){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(b,f,_,x=!1){const W=new os(b);let ne;try{ne=yield W.verify(_)}catch{ne=yield W.verify(_,!0)}const Re=Object.assign({},f);return Object.assign(Re,x?{captchaResp:ne}:{captchaResponse:ne}),Object.assign(Re,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Re,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Re})).apply(this,arguments)}function Jr(b,f,_,x){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,u.Z)(function*(b,f,_,x){var W;if(null!==(W=b._getRecaptchaConfig())&&void 0!==W&&W.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ne=yield ss(b,f,_,"getOobCode"===_);return x(b,ne)}return x(b,f).catch(function(){var ne=(0,u.Z)(function*(Re){if("auth/missing-recaptcha-token"===Re.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const et=yield ss(b,f,_,"getOobCode"===_);return x(b,et)}return Promise.reject(Re)});return function(Re){return ne.apply(this,arguments)}}())}),Yo.apply(this,arguments)}function zo(b,f,_){const x=fi(b);ke(x._canInitEmulator,x,"emulator-config-failed"),ke(/^https?:\/\//.test(f),x,"invalid-emulator-scheme");const W=!!_?.disableWarnings,ne=gs(f),{host:Re,port:et}=function _r(b){const f=gs(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(f.length));if(!_)return{host:"",port:null};const x=_[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(x);if(W){const ne=W[1];return{host:ne,port:To(x.substr(ne.length+1))}}{const[ne,Re]=x.split(":");return{host:ne,port:To(Re)}}}(f);x.config.emulator={url:`${ne}//${Re}${null===et?"":`:${et}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:Re,port:et,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function $o(){function b(){const f=document.createElement("p"),_=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function gs(b){const f=b.indexOf(":");return f<0?"":b.substr(0,f+1)}function To(b){if(!b)return null;const f=Number(b);return isNaN(f)?null:f}class Do{constructor(f,_){this.providerId=f,this.signInMethod=_}toJSON(){return $t("not implemented")}_getIdTokenResponse(f){return $t("not implemented")}_linkToIdToken(f,_){return $t("not implemented")}_getReauthenticationResolver(f){return $t("not implemented")}}function _s(b,f){return Io.apply(this,arguments)}function Io(){return(Io=(0,u.Z)(function*(b,f){return $e(b,"POST","/v1/accounts:resetPassword",Xe(b,f))})).apply(this,arguments)}function oo(b,f){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,u.Z)(function*(b,f){return $e(b,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function eo(){return(eo=(0,u.Z)(function*(b,f){return $e(b,"POST","/v1/accounts:update",Xe(b,f))})).apply(this,arguments)}function so(b,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(b,f){return Bn(b,"POST","/v1/accounts:signInWithPassword",Xe(b,f))})).apply(this,arguments)}function or(b,f){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,u.Z)(function*(b,f){return $e(b,"POST","/v1/accounts:sendOobCode",Xe(b,f))})).apply(this,arguments)}function Qi(){return(Qi=(0,u.Z)(function*(b,f){return or(b,f)})).apply(this,arguments)}function Jo(b,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,u.Z)(function*(b,f){return or(b,f)})).apply(this,arguments)}function Ti(b,f){return qr.apply(this,arguments)}function qr(){return(qr=(0,u.Z)(function*(b,f){return or(b,f)})).apply(this,arguments)}function pi(){return(pi=(0,u.Z)(function*(b,f){return or(b,f)})).apply(this,arguments)}function Nn(){return(Nn=(0,u.Z)(function*(b,f){return Bn(b,"POST","/v1/accounts:signInWithEmailLink",Xe(b,f))})).apply(this,arguments)}function Cr(){return(Cr=(0,u.Z)(function*(b,f){return Bn(b,"POST","/v1/accounts:signInWithEmailLink",Xe(b,f))})).apply(this,arguments)}class Ur extends Do{constructor(f,_,x,W=null){super("password",x),this._email=f,this._password=_,this._tenantId=W}static _fromEmailAndPassword(f,_){return new Ur(f,_,"password")}static _fromEmailAndCode(f,_,x=null){return new Ur(f,_,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(f){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return Jr(f,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",so);case"emailLink":return function Zt(b,f){return Nn.apply(this,arguments)}(f,{email:_._email,oobCode:_._password});default:me(f,"internal-error")}})()}_linkToIdToken(f,_){var x=this;return(0,u.Z)(function*(){switch(x.signInMethod){case"password":return oo(f,{idToken:_,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function Vi(b,f){return Cr.apply(this,arguments)}(f,{idToken:_,email:x._email,oobCode:x._password});default:me(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function er(b,f){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,u.Z)(function*(b,f){return Bn(b,"POST","/v1/accounts:signInWithIdp",Xe(b,f))})).apply(this,arguments)}class yr extends Do{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const _=new yr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(_.idToken=f.idToken),f.accessToken&&(_.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(_.nonce=f.nonce),f.pendingToken&&(_.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(_.accessToken=f.oauthToken,_.secret=f.oauthTokenSecret):me("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:x,signInMethod:W}=_,ne=(0,fe._T)(_,["providerId","signInMethod"]);if(!x||!W)return null;const Re=new yr(x,W);return Re.idToken=ne.idToken||void 0,Re.accessToken=ne.accessToken||void 0,Re.secret=ne.secret,Re.nonce=ne.nonce,Re.pendingToken=ne.pendingToken||null,Re}_getIdTokenResponse(f){return er(f,this.buildRequest())}_linkToIdToken(f,_){const x=this.buildRequest();return x.idToken=_,er(f,x)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,er(f,_)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),f.postBody=(0,$.xO)(_)}return f}}function z(){return(z=(0,u.Z)(function*(b,f){return $e(b,"POST","/v1/accounts:sendVerificationCode",Xe(b,f))})).apply(this,arguments)}function J(){return(J=(0,u.Z)(function*(b,f){return Bn(b,"POST","/v1/accounts:signInWithPhoneNumber",Xe(b,f))})).apply(this,arguments)}function Ne(){return(Ne=(0,u.Z)(function*(b,f){const _=yield Bn(b,"POST","/v1/accounts:signInWithPhoneNumber",Xe(b,f));if(_.temporaryProof)throw On(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const ft={USER_NOT_FOUND:"user-not-found"};function Yt(){return(Yt=(0,u.Z)(function*(b,f){return Bn(b,"POST","/v1/accounts:signInWithPhoneNumber",Xe(b,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ft)})).apply(this,arguments)}class gn extends Do{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,_){return new gn({verificationId:f,verificationCode:_})}static _fromTokenResponse(f,_){return new gn({phoneNumber:f,temporaryProof:_})}_getIdTokenResponse(f){return function j(b,f){return J.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,_){return function ve(b,f){return Ne.apply(this,arguments)}(f,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ot(b,f){return Yt.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:_,verificationId:x,verificationCode:W}=this.params;return f&&_?{temporaryProof:f,phoneNumber:_}:{sessionInfo:x,code:W}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:_,verificationCode:x,phoneNumber:W,temporaryProof:ne}=f;return x||_||W||ne?new gn({verificationId:_,verificationCode:x,phoneNumber:W,temporaryProof:ne}):null}}class Xi{constructor(f){var _,x,W,ne,Re,et;const Tt=(0,$.zd)((0,$.pd)(f)),dn=null!==(_=Tt.apiKey)&&void 0!==_?_:null,Nt=null!==(x=Tt.oobCode)&&void 0!==x?x:null,yi=function Rn(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=Tt.mode)&&void 0!==W?W:null);ke(dn&&Nt&&yi,"argument-error"),this.apiKey=dn,this.operation=yi,this.code=Nt,this.continueUrl=null!==(ne=Tt.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(Re=Tt.languageCode)&&void 0!==Re?Re:null,this.tenantId=null!==(et=Tt.tenantId)&&void 0!==et?et:null}static parseLink(f){const _=function ri(b){const f=(0,$.zd)((0,$.pd)(b)).link,_=f?(0,$.zd)((0,$.pd)(f)).deep_link_id:null,x=(0,$.zd)((0,$.pd)(b)).deep_link_id;return(x?(0,$.zd)((0,$.pd)(x)).link:null)||x||_||f||b}(f);try{return new Xi(_)}catch{return null}}}let ar=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,x){return Ur._fromEmailAndPassword(_,x)}static credentialWithLink(_,x){const W=Xi.parseLink(x);return ke(W,"argument-error"),Ur._fromEmailAndCode(_,W.code,W.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class xn{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Dr extends xn{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ao extends Dr{static credentialFromJSON(f){const _="string"==typeof f?JSON.parse(f):f;return ke("providerId"in _&&"signInMethod"in _,"argument-error"),yr._fromParams(_)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ke(f.idToken||f.accessToken,"argument-error"),yr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ao.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ao.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:x,oauthTokenSecret:W,pendingToken:ne,nonce:Re,providerId:et}=f;if(!x&&!W&&!_&&!ne||!et)return null;try{return new Ao(et)._credential({idToken:_,accessToken:x,nonce:Re,pendingToken:ne})}catch{return null}}}let ao=(()=>{class b extends Dr{constructor(){super("facebook.com")}static credential(_){return yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Rr=(()=>{class b extends Dr{constructor(){super("google.com"),this.addScope("profile")}static credential(_,x){return yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:x,oauthAccessToken:W}=_;if(!x&&!W)return null;try{return b.credential(x,W)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),vs=(()=>{class b extends Dr{constructor(){super("github.com")}static credential(_){return yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Or extends Do{constructor(f,_){super(f,f),this.pendingToken=_}_getIdTokenResponse(f){return er(f,this.buildRequest())}_linkToIdToken(f,_){const x=this.buildRequest();return x.idToken=_,er(f,x)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,er(f,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:x,signInMethod:W,pendingToken:ne}=_;return x&&W&&ne&&x===W?new Or(x,ne):null}static _create(f,_){return new Or(f,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ys extends xn{constructor(f){ke(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ys.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ys.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const _=Or.fromJSON(f);return ke(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:_,providerId:x}=f;if(!_||!x)return null;try{return Or._create(x,_)}catch{return null}}}let ui=(()=>{class b extends Dr{constructor(){super("twitter.com")}static credential(_,x){return yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:x,oauthTokenSecret:W}=_;if(!x||!W)return null;try{return b.credential(x,W)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function hr(b,f){return Et.apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(b,f){return Bn(b,"POST","/v1/accounts:signUp",Xe(b,f))})).apply(this,arguments)}class We{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,_,x,W=!1){return(0,u.Z)(function*(){const ne=yield O._fromIdTokenResponse(f,x,W),Re=Ve(x);return new We({user:ne,providerId:Re,_tokenResponse:x,operationType:_})})()}static _forOperation(f,_,x){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(x,!0);const W=Ve(x);return new We({user:f,providerId:W,_tokenResponse:x,operationType:_})})()}}function Ve(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function qe(b){return yt.apply(this,arguments)}function yt(){return(yt=(0,u.Z)(function*(b){var f;const _=fi(b);if(yield _._initializationPromise,null!==(f=_.currentUser)&&void 0!==f&&f.isAnonymous)return new We({user:_.currentUser,providerId:null,operationType:"signIn"});const x=yield hr(_,{returnSecureToken:!0}),W=yield We._fromIdTokenResponse(_,"signIn",x,!0);return yield _._updateCurrentUser(W.user),W})).apply(this,arguments)}class nn extends $.ZR{constructor(f,_,x,W){var ne;super(_.code,_.message),this.operationType=x,this.user=W,Object.setPrototypeOf(this,nn.prototype),this.customData={appName:f.name,tenantId:null!==(ne=f.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:_.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(f,_,x,W){return new nn(f,_,x,W)}}function qn(b,f,_,x){return("reauthenticate"===f?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?nn._fromErrorAndOperation(b,ne,f,x):ne})}function Nr(b){return new Set(b.map(({providerId:f})=>f).filter(f=>!!f))}function nr(b,f){return Y.apply(this,arguments)}function Y(){return Y=(0,u.Z)(function*(b,f){const _=(0,$.m9)(b);yield ue(!0,_,f);const{providerUserInfo:x}=yield function sn(b,f){return mn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[f]}),W=Nr(x||[]);return _.providerData=_.providerData.filter(ne=>W.has(ne.providerId)),W.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Y.apply(this,arguments)}function ee(b,f){return V.apply(this,arguments)}function V(){return(V=(0,u.Z)(function*(b,f,_=!1){const x=yield fn(b,f._linkToIdToken(b.auth,yield b.getIdToken()),_);return We._forOperation(b,"link",x)})).apply(this,arguments)}function ue(b,f,_){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,u.Z)(function*(b,f,_){yield Cn(f);const W=!1===b?"provider-already-linked":"no-such-provider";ke(Nr(f.providerData).has(_)===b,f.auth,W)})).apply(this,arguments)}function Dn(b,f){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(b,f,_=!1){const{auth:x}=b,W="reauthenticate";try{const ne=yield fn(b,qn(x,W,f,b),_);ke(ne.idToken,x,"internal-error");const Re=Kt(ne.idToken);ke(Re,x,"internal-error");const{sub:et}=Re;return ke(b.uid===et,x,"user-mismatch"),We._forOperation(b,W,ne)}catch(ne){throw"auth/user-not-found"===ne?.code&&me(x,"user-mismatch"),ne}})).apply(this,arguments)}function Vo(b,f){return zs.apply(this,arguments)}function zs(){return(zs=(0,u.Z)(function*(b,f,_=!1){const x="signIn",W=yield qn(b,x,f),ne=yield We._fromIdTokenResponse(b,x,W);return _||(yield b._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function es(b,f){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,u.Z)(function*(b,f){return Vo(fi(b),f)})).apply(this,arguments)}function ul(b,f){return ra.apply(this,arguments)}function ra(){return(ra=(0,u.Z)(function*(b,f){const _=(0,$.m9)(b);return yield ue(!1,_,f.providerId),ee(_,f)})).apply(this,arguments)}function Ga(b,f){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,u.Z)(function*(b,f){return Dn((0,$.m9)(b),f)})).apply(this,arguments)}function $s(){return($s=(0,u.Z)(function*(b,f){return Bn(b,"POST","/v1/accounts:signInWithCustomToken",Xe(b,f))})).apply(this,arguments)}function Da(b,f){return go.apply(this,arguments)}function go(){return go=(0,u.Z)(function*(b,f){const _=fi(b),x=yield function Vl(b,f){return $s.apply(this,arguments)}(_,{token:f,returnSecureToken:!0}),W=yield We._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(W.user),W}),go.apply(this,arguments)}class _o{constructor(f,_){this.factorId=f,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(f,_){return"phoneInfo"in _?Bo._fromServerResponse(f,_):"totpInfo"in _?Ms._fromServerResponse(f,_):me(f,"internal-error")}}class Bo extends _o{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,_){return new Bo(_)}}class Ms extends _o{constructor(f){super("totp",f)}static _fromServerResponse(f,_){return new Ms(_)}}function jr(b,f,_){var x;ke((null===(x=_.url)||void 0===x?void 0:x.length)>0,b,"invalid-continue-uri"),ke(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),f.continueUrl=_.url,f.dynamicLinkDomain=_.dynamicLinkDomain,f.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ke(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),f.iOSBundleId=_.iOS.bundleId),_.android&&(ke(_.android.packageName.length>0,b,"missing-android-pkg-name"),f.androidInstallApp=_.android.installApp,f.androidMinimumVersionCode=_.android.minimumVersion,f.androidPackageName=_.android.packageName)}function Rs(b){return vo.apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(b){const f=fi(b);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function Aa(b,f,_){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(b,f,_){const x=fi(b),W={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};_&&jr(x,W,_),yield Jr(x,W,"getOobCode",Jo)})).apply(this,arguments)}function lo(b,f,_){return bs.apply(this,arguments)}function bs(){return bs=(0,u.Z)(function*(b,f,_){yield _s((0,$.m9)(b),{oobCode:f,newPassword:_}).catch(function(){var x=(0,u.Z)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&Rs(b),W});return function(W){return x.apply(this,arguments)}}())}),bs.apply(this,arguments)}function Sa(b,f){return Ps.apply(this,arguments)}function Ps(){return Ps=(0,u.Z)(function*(b,f){yield function po(b,f){return eo.apply(this,arguments)}((0,$.m9)(b),{oobCode:f})}),Ps.apply(this,arguments)}function dl(b,f){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(b,f){const _=(0,$.m9)(b),x=yield _s(_,{oobCode:f}),W=x.requestType;switch(ke(W,_,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(x.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(x.mfaInfo,_,"internal-error");default:ke(x.email,_,"internal-error")}let ne=null;return x.mfaInfo&&(ne=_o._fromServerResponse(fi(_),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:ne},operation:W}})).apply(this,arguments)}function ma(b,f){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,u.Z)(function*(b,f){const{data:_}=yield dl((0,$.m9)(b),f);return _.email})).apply(this,arguments)}function Bl(b,f,_){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,u.Z)(function*(b,f,_){const x=fi(b),Re=yield Jr(x,{returnSecureToken:!0,email:f,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hr).catch(Tt=>{throw"auth/password-does-not-meet-requirements"===Tt.code&&Rs(b),Tt}),et=yield We._fromIdTokenResponse(x,"signIn",Re);return yield x._updateCurrentUser(et.user),et})).apply(this,arguments)}function jo(b,f,_){return es((0,$.m9)(b),ar.credential(f,_)).catch(function(){var x=(0,u.Z)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&Rs(b),W});return function(W){return x.apply(this,arguments)}}())}function ga(b,f,_){return sa.apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(b,f,_){const x=fi(b),W={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function ne(Re,et){ke(et.handleCodeInApp,x,"argument-error"),et&&jr(x,Re,et)})(W,_),yield Jr(x,W,"getOobCode",Ti)})).apply(this,arguments)}function ts(b,f){const _=Xi.parseLink(f);return"EMAIL_SIGNIN"===_?.operation}function Lc(b,f,_){return hl.apply(this,arguments)}function hl(){return(hl=(0,u.Z)(function*(b,f,_){const x=(0,$.m9)(b),W=ar.credentialWithLink(f,_||ln());return ke(W._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),es(x,W)})).apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(b,f){return $e(b,"POST","/v1/accounts:createAuthUri",Xe(b,f))})).apply(this,arguments)}function So(b,f){return _a.apply(this,arguments)}function _a(){return _a=(0,u.Z)(function*(b,f){const x={identifier:f,continueUri:Vn()?ln():"http://localhost"},{signinMethods:W}=yield function Os(b,f){return Wo.apply(this,arguments)}((0,$.m9)(b),x);return W||[]}),_a.apply(this,arguments)}function va(b,f){return aa.apply(this,arguments)}function aa(){return aa=(0,u.Z)(function*(b,f){const _=(0,$.m9)(b),W={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};f&&jr(_.auth,W,f);const{email:ne}=yield function vr(b,f){return Qi.apply(this,arguments)}(_.auth,W);ne!==b.email&&(yield b.reload())}),aa.apply(this,arguments)}function Ma(b,f,_){return fl.apply(this,arguments)}function fl(){return fl=(0,u.Z)(function*(b,f,_){const x=(0,$.m9)(b),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:f};_&&jr(x.auth,ne,_);const{email:Re}=yield function mo(b,f){return pi.apply(this,arguments)}(x.auth,ne);Re!==b.email&&(yield b.reload())}),fl.apply(this,arguments)}function Gs(){return(Gs=(0,u.Z)(function*(b,f){return $e(b,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function C(b,f){return re.apply(this,arguments)}function re(){return re=(0,u.Z)(function*(b,{displayName:f,photoURL:_}){if(void 0===f&&void 0===_)return;const x=(0,$.m9)(b),ne={idToken:yield x.getIdToken(),displayName:f,photoUrl:_,returnSecureToken:!0},Re=yield fn(x,function as(b,f){return Gs.apply(this,arguments)}(x.auth,ne));x.displayName=Re.displayName||null,x.photoURL=Re.photoUrl||null;const et=x.providerData.find(({providerId:Tt})=>"password"===Tt);et&&(et.displayName=x.displayName,et.photoURL=x.photoURL),yield x._updateTokensIfNecessary(Re)}),re.apply(this,arguments)}function U(b,f){return Ae((0,$.m9)(b),f,null)}function X(b,f){return Ae((0,$.m9)(b),null,f)}function Ae(b,f,_){return pt.apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(b,f,_){const{auth:x}=b,ne={idToken:yield b.getIdToken(),returnSecureToken:!0};f&&(ne.email=f),_&&(ne.password=_);const Re=yield fn(b,oo(x,ne));yield b._updateTokensIfNecessary(Re,!0)})).apply(this,arguments)}class bn{constructor(f,_,x={}){this.isNewUser=f,this.providerId=_,this.profile=x}}class ir extends bn{constructor(f,_,x,W){super(f,_,x),this.username=W}}class zi extends bn{constructor(f,_){super(f,"facebook.com",_)}}class Ki extends ir{constructor(f,_){super(f,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Mn extends bn{constructor(f,_){super(f,"google.com",_)}}class lr extends ir{constructor(f,_,x){super(f,"twitter.com",_,x)}}function Bi(b){const{user:f,_tokenResponse:_}=b;return f.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function It(b){var f,_;if(!b)return null;const{providerId:x}=b,W=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},ne=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!x&&b?.idToken){const Re=null===(_=null===(f=Kt(b.idToken))||void 0===f?void 0:f.firebase)||void 0===_?void 0:_.sign_in_provider;if(Re)return new bn(ne,"anonymous"!==Re&&"custom"!==Re?Re:null)}if(!x)return null;switch(x){case"facebook.com":return new zi(ne,W);case"github.com":return new Ki(ne,W);case"google.com":return new Mn(ne,W);case"twitter.com":return new lr(ne,W,b.screenName||null);case"custom":case"anonymous":return new bn(ne,null);default:return new bn(ne,x,W)}}(_)}function Pt(b){return(0,$.m9)(b).signOut()}class Ci{constructor(f,_,x){this.type=f,this.credential=_,this.user=x}static _fromIdtoken(f,_){return new Ci("enroll",f,_)}static _fromMfaPendingCredential(f){return new Ci("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var _,x;if(f?.multiFactorSession){if(null!==(_=f.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Ci._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(x=f.multiFactorSession)&&void 0!==x&&x.idToken)return Ci._fromIdtoken(f.multiFactorSession.idToken)}return null}}class uc{constructor(f,_,x){this.session=f,this.hints=_,this.signInResolver=x}static _fromError(f,_){const x=fi(f),W=_.customData._serverResponse,ne=(W.mfaInfo||[]).map(et=>_o._fromServerResponse(x,et));ke(W.mfaPendingCredential,x,"internal-error");const Re=Ci._fromMfaPendingCredential(W.mfaPendingCredential);return new uc(Re,ne,function(){var et=(0,u.Z)(function*(Tt){const dn=yield Tt._process(x,Re);delete W.mfaInfo,delete W.mfaPendingCredential;const Nt=Object.assign(Object.assign({},W),{idToken:dn.idToken,refreshToken:dn.refreshToken});switch(_.operationType){case"signIn":const yi=yield We._fromIdTokenResponse(x,_.operationType,Nt);return yield x._updateCurrentUser(yi.user),yi;case"reauthenticate":return ke(_.user,x,"internal-error"),We._forOperation(_.user,_.operationType,Nt);default:me(x,"internal-error")}});return function(Tt){return et.apply(this,arguments)}}())}resolveSignIn(f){var _=this;return(0,u.Z)(function*(){return _.signInResolver(f)})()}}function Eu(b,f){var _;const x=(0,$.m9)(b),W=f;return ke(f.customData.operationType,x,"argument-error"),ke(null===(_=W.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,x,"argument-error"),uc._fromError(x,W)}class wo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(x=>_o._fromServerResponse(f.auth,x)))})}static _fromUser(f){return new wo(f)}getSession(){var f=this;return(0,u.Z)(function*(){return Ci._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,_){var x=this;return(0,u.Z)(function*(){const W=f,ne=yield x.getSession(),Re=yield fn(x.user,W._process(x.user.auth,ne,_));return yield x.user._updateTokensIfNecessary(Re),x.user.reload()})()}unenroll(f){var _=this;return(0,u.Z)(function*(){const x="string"==typeof f?f:f.uid,W=yield _.user.getIdToken();try{const ne=yield fn(_.user,function dc(b,f){return $e(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Xe(b,f))}(_.user.auth,{idToken:W,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Re})=>Re!==x),yield _.user._updateTokensIfNecessary(ne),yield _.user.reload()}catch(ne){throw ne}})()}}const hc=new WeakMap;function cd(b){const f=(0,$.m9)(b);return hc.has(f)||hc.set(f,wo._fromUser(f)),hc.get(f)}const pl="__sak";class Jn{constructor(f,_){this.storageRetriever=f,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(pl,"1"),this.storage.removeItem(pl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,_){return this.storage.setItem(f,JSON.stringify(_)),Promise.resolve()}_get(f){const _=this.storage.getItem(f);return Promise.resolve(_?JSON.parse(_):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ba=(()=>{class b extends Jn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,x)=>this.onStorageEvent(_,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ya(){const b=(0,$.z$)();return cn(b)||be(b)}()&&function Ln(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Bt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const x of Object.keys(this.listeners)){const W=this.storage.getItem(x),ne=this.localCache[x];W!==ne&&_(x,ne,W)}}onStorageEvent(_,x=!1){if(!_.key)return void this.forAllChangedKeys((et,Tt,dn)=>{this.notifyListeners(et,dn)});const W=_.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const et=this.storage.getItem(W);if(_.newValue!==et)null!==_.newValue?this.storage.setItem(W,_.newValue):this.storage.removeItem(W);else if(this.localCache[W]===_.newValue&&!x)return}const ne=()=>{const et=this.storage.getItem(W);!x&&this.localCache[W]===et||this.notifyListeners(W,et)},Re=this.storage.getItem(W);!function zt(){return(0,$.w1)()&&10===document.documentMode}()||Re===_.newValue||_.newValue===_.oldValue?ne():setTimeout(ne,10)}notifyListeners(_,x){this.localCache[_]=x;const W=this.listeners[_];if(W)for(const ne of Array.from(W))ne(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,x,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:x,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,x){var W=()=>super._set,ne=this;return(0,u.Z)(function*(){yield W().call(ne,_,x),ne.localCache[_]=JSON.stringify(x)})()}_get(_){var x=()=>super._get,W=this;return(0,u.Z)(function*(){const ne=yield x().call(W,_);return W.localCache[_]=JSON.stringify(ne),ne})()}_remove(_){var x=()=>super._remove,W=this;return(0,u.Z)(function*(){yield x().call(W,_),delete W.localCache[_]})()}}return b.type="LOCAL",b})(),ml=(()=>{class b extends Jn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,x){}_removeListener(_,x){}}return b.type="SESSION",b})();let Jt=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const x=this.receivers.find(ne=>ne.isListeningto(_));if(x)return x;const W=new b(_);return this.receivers.push(W),W}isListeningto(_){return this.eventTarget===_}handleEvent(_){var x=this;return(0,u.Z)(function*(){const W=_,{eventId:ne,eventType:Re,data:et}=W.data,Tt=x.handlersMap[Re];if(!Tt?.size)return;W.ports[0].postMessage({status:"ack",eventId:ne,eventType:Re});const dn=Array.from(Tt).map(function(){var yi=(0,u.Z)(function*(Oi){return Oi(W.origin,et)});return function(Oi){return yi.apply(this,arguments)}}()),Nt=yield function Ir(b){return Promise.all(b.map(function(){var f=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(x){return{fulfilled:!1,reason:x}}});return function(_){return f.apply(this,arguments)}}()))}(dn);W.ports[0].postMessage({status:"done",eventId:ne,eventType:Re,response:Nt})})()}_subscribe(_,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(x)}_unsubscribe(_,x){this.handlersMap[_]&&x&&this.handlersMap[_].delete(x),(!x||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Hr(b="",f=10){let _="";for(let x=0;x<f;x++)_+=Math.floor(10*Math.random());return b+_}class pc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,_,x=50){var W=this;return(0,u.Z)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let Re,et;return new Promise((Tt,dn)=>{const Nt=Hr("",20);ne.port1.start();const yi=setTimeout(()=>{dn(new Error("unsupported_event"))},x);et={messageChannel:ne,onMessage(Oi){const fa=Oi;if(fa.data.eventId===Nt)switch(fa.data.status){case"ack":clearTimeout(yi),Re=setTimeout(()=>{dn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Re),Tt(fa.data.response);break;default:clearTimeout(yi),clearTimeout(Re),dn(new Error("invalid_response"))}}},W.handlers.add(et),ne.port1.addEventListener("message",et.onMessage),W.target.postMessage({eventType:f,eventId:Nt,data:_},[ne.port2])}).finally(()=>{et&&W.removeMessageHandler(et)})})()}}function br(){return window}function ks(){return typeof br().WorkerGlobalScope<"u"&&"function"==typeof br().importScripts}function Ct(){return(Ct=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qo="firebaseLocalStorageDb",Ra="firebaseLocalStorage",Ea="fbase_key";class zr{constructor(f){this.request=f}toPromise(){return new Promise((f,_)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function qs(b,f){return b.transaction([Ra],f?"readwrite":"readonly").objectStore(Ra)}function ls(){const b=indexedDB.open(qo,1);return new Promise((f,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const x=b.result;try{x.createObjectStore(Ra,{keyPath:Ea})}catch(W){_(W)}}),b.addEventListener("success",(0,u.Z)(function*(){const x=b.result;x.objectStoreNames.contains(Ra)?f(x):(x.close(),yield function it(){const b=indexedDB.deleteDatabase(qo);return new zr(b).toPromise()}(),f(yield ls()))}))})}function Ks(b,f,_){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,u.Z)(function*(b,f,_){const x=qs(b,!0).put({[Ea]:f,value:_});return new zr(x).toPromise()})).apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(b,f){const _=qs(b,!1).get(f),x=yield new zr(_).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function w(b,f){const _=qs(b,!0).delete(f);return new zr(_).toPromise()}const q=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield ls()),_.db})()}_withRetries(_){var x=this;return(0,u.Z)(function*(){let W=0;for(;;)try{const ne=yield x._openDb();return yield _(ne)}catch(ne){if(W++>3)throw ne;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return ks()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=Jt._getInstance(function Es(){return ks()?self:null}()),_.receiver._subscribe("keyChanged",function(){var x=(0,u.Z)(function*(W,ne){return{keyProcessed:(yield _._poll()).includes(ne.key)}});return function(W,ne){return x.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var x=(0,u.Z)(function*(W,ne){return["keyChanged"]});return function(W,ne){return x.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var x,W;if(_.activeServiceWorker=yield function Bc(){return Ct.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new pc(_.activeServiceWorker);const ne=yield _.sender._send("ping",{},800);ne&&null!==(x=ne[0])&&void 0!==x&&x.fulfilled&&null!==(W=ne[0])&&void 0!==W&&W.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var x=this;return(0,u.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function Si(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:_},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ls();return yield Ks(_,pl,"1"),yield w(_,pl),!0}catch{}return!1})()}_withPendingWrite(_){var x=this;return(0,u.Z)(function*(){x.pendingWrites++;try{yield _()}finally{x.pendingWrites--}})()}_set(_,x){var W=this;return(0,u.Z)(function*(){return W._withPendingWrite((0,u.Z)(function*(){return yield W._withRetries(ne=>Ks(ne,_,x)),W.localCache[_]=x,W.notifyServiceWorker(_)}))})()}_get(_){var x=this;return(0,u.Z)(function*(){const W=yield x._withRetries(ne=>function yo(b,f){return bo.apply(this,arguments)}(ne,_));return x.localCache[_]=W,W})()}_remove(_){var x=this;return(0,u.Z)(function*(){return x._withPendingWrite((0,u.Z)(function*(){return yield x._withRetries(W=>w(W,_)),delete x.localCache[_],x.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const x=yield _._withRetries(Re=>{const et=qs(Re,!1).getAll();return new zr(et).toPromise()});if(!x)return[];if(0!==_.pendingWrites)return[];const W=[],ne=new Set;for(const{fbase_key:Re,value:et}of x)ne.add(Re),JSON.stringify(_.localCache[Re])!==JSON.stringify(et)&&(_.notifyListeners(Re,et),W.push(Re));for(const Re of Object.keys(_.localCache))_.localCache[Re]&&!ne.has(Re)&&(_.notifyListeners(Re,null),W.push(Re));return W})()}notifyListeners(_,x){this.localCache[_]=x;const W=this.listeners[_];if(W)for(const ne of Array.from(W))ne(x)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),An=1e12;class Fr{constructor(f){this.auth=f,this.counter=An,this._widgets=new Map}render(f,_){const x=this.counter;return this._widgets.set(x,new Ni(f,this.auth.name,_||{})),this.counter++,x}reset(f){var _;const x=f||An;null===(_=this._widgets.get(x))||void 0===_||_.delete(),this._widgets.delete(x)}getResponse(f){var _;return(null===(_=this._widgets.get(f||An))||void 0===_?void 0:_.getResponse())||""}execute(f){var _=this;return(0,u.Z)(function*(){var x;return null===(x=_._widgets.get(f||An))||void 0===x||x.execute(),""})()}}class Ni{constructor(f,_,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof f?document.getElementById(f):f;ke(W,"argument-error",{appName:_}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function uo(b){const f=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<b;x++)f.push(_.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":_}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ls=Li("rcb"),la=new _n(3e4,6e4);class Oa{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=br().grecaptcha)||void 0===f||!f.render)}load(f,_=""){return ke(function jl(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),f,"argument-error"),this.shouldResolveImmediately(_)&&ni(br().grecaptcha)?Promise.resolve(br().grecaptcha):new Promise((x,W)=>{const ne=br().setTimeout(()=>{W(Le(f,"network-request-failed"))},la.get());br()[Ls]=()=>{br().clearTimeout(ne),delete br()[Ls];const et=br().grecaptcha;if(!et||!ni(et))return void W(Le(f,"internal-error"));const Tt=et.render;et.render=(dn,Nt)=>{const yi=Tt(dn,Nt);return this.counter++,yi},this.hostLanguage=_,x(et)},_i(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Ls,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(ne),W(Le(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var _;return!(null===(_=br().grecaptcha)||void 0===_||!_.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ud{load(f){return(0,u.Z)(function*(){return new Fr(f)})()}clearedOneInstance(){}}const dd="recaptcha",ns={theme:"light",type:"image"};class ca{constructor(f,_,x=Object.assign({},ns)){this.parameters=x,this.type=dd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fi(f),this.isInvisible="invisible"===this.parameters.size,ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof _?document.getElementById(_):_;ke(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ud:new Oa,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const _=yield f.render(),x=f.getAssertedRecaptcha();return x.getResponse(_)||new Promise(ne=>{const Re=et=>{et&&(f.tokenChangeListeners.delete(Re),ne(et))};f.tokenChangeListeners.add(Re),f.isInvisible&&x.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return _=>{if(this.tokenChangeListeners.forEach(x=>x(_)),"function"==typeof f)f(_);else if("string"==typeof f){const x=br()[f];"function"==typeof x&&x(_)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let _=f.container;if(!f.isInvisible){const x=document.createElement("div");_.appendChild(x),_=x}f.widgetId=f.getAssertedRecaptcha().render(_,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){ke(Vn()&&!ks(),f.auth,"internal-error"),yield function Kr(){let b=null;return new Promise(f=>{"complete"!==document.readyState?(b=()=>f(),window.addEventListener("load",b)):f()}).catch(f=>{throw b&&window.removeEventListener("load",b),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const _=yield function Ui(b){return Ji.apply(this,arguments)}(f.auth);ke(_,f.auth,"internal-error"),f.parameters.sitekey=_})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Uc{constructor(f,_){this.verificationId=f,this.onConfirmation=_}confirm(f){const _=gn._fromVerification(this.verificationId,f);return this.onConfirmation(_)}}function xu(b,f,_){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,u.Z)(function*(b,f,_){const x=fi(b),W=yield ua(x,f,(0,$.m9)(_));return new Uc(W,ne=>es(x,ne))})).apply(this,arguments)}function bh(b,f,_){return jc.apply(this,arguments)}function jc(){return(jc=(0,u.Z)(function*(b,f,_){const x=(0,$.m9)(b);yield ue(!1,x,"phone");const W=yield ua(x.auth,f,(0,$.m9)(_));return new Uc(W,ne=>ul(x,ne))})).apply(this,arguments)}function hd(b,f,_){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,u.Z)(function*(b,f,_){const x=(0,$.m9)(b),W=yield ua(x.auth,f,(0,$.m9)(_));return new Uc(W,ne=>Ga(x,ne))})).apply(this,arguments)}function ua(b,f,_){return mc.apply(this,arguments)}function mc(){return mc=(0,u.Z)(function*(b,f,_){var x;const W=yield _.verify();try{let ne;if(ke("string"==typeof W,b,"argument-error"),ke(_.type===dd,b,"argument-error"),ne="string"==typeof f?{phoneNumber:f}:f,"session"in ne){const Re=ne.session;if("phoneNumber"in ne)return ke("enroll"===Re.type,b,"internal-error"),(yield function qa(b,f){return $e(b,"POST","/v2/accounts/mfaEnrollment:start",Xe(b,f))}(b,{idToken:Re.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{ke("signin"===Re.type,b,"internal-error");const et=(null===(x=ne.multiFactorHint)||void 0===x?void 0:x.uid)||ne.multiFactorUid;return ke(et,b,"missing-multi-factor-info"),(yield function ce(b,f){return $e(b,"POST","/v2/accounts/mfaSignIn:start",Xe(b,f))}(b,{mfaPendingCredential:Re.credential,mfaEnrollmentId:et,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Re}=yield function we(b,f){return z.apply(this,arguments)}(b,{phoneNumber:ne.phoneNumber,recaptchaToken:W});return Re}}finally{_._reset()}}),mc.apply(this,arguments)}function gc(b,f){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(b,f){yield ee((0,$.m9)(b),f)})).apply(this,arguments)}let zl=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=fi(_)}verifyPhoneNumber(_,x){return ua(this.auth,_,(0,$.m9)(x))}static credential(_,x){return gn._fromVerification(_,x)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:x,temporaryProof:W}=_;return x&&W?gn._fromTokenResponse(x,W):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Fa(b,f){return f?k(f):(ke(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class $l extends Do{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return er(f,this._buildIdpRequest())}_linkToIdToken(f,_){return er(f,this._buildIdpRequest(_))}_getReauthenticationResolver(f){return er(f,this._buildIdpRequest())}_buildIdpRequest(f){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(_.idToken=f),_}}function Mo(b){return Vo(b.auth,new $l(b),b.bypassAuthState)}function Hc(b){const{auth:f,user:_}=b;return ke(_,f,"internal-error"),Dn(_,new $l(b),b.bypassAuthState)}function is(b){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(b){const{auth:f,user:_}=b;return ke(_,f,"internal-error"),ee(_,new $l(b),b.bypassAuthState)})).apply(this,arguments)}class wr{constructor(f,_,x,W,ne=!1){this.auth=f,this.resolver=x,this.user=W,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var f=this;return new Promise(function(){var _=(0,u.Z)(function*(x,W){f.pendingPromise={resolve:x,reject:W};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(ne){f.reject(ne)}});return function(x,W){return _.apply(this,arguments)}}())}onAuthEvent(f){var _=this;return(0,u.Z)(function*(){const{urlResponse:x,sessionId:W,postBody:ne,tenantId:Re,error:et,type:Tt}=f;if(et)return void _.reject(et);const dn={auth:_.auth,requestUri:x,sessionId:W,tenantId:Re||void 0,postBody:ne||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Tt)(dn))}catch(Nt){_.reject(Nt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Mo;case"linkViaPopup":case"linkViaRedirect":return is;case"reauthViaPopup":case"reauthViaRedirect":return Hc;default:me(this.auth,"internal-error")}}resolve(f){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zc=new _n(2e3,1e4);function Eo(b,f,_){return cr.apply(this,arguments)}function cr(){return(cr=(0,u.Z)(function*(b,f,_){const x=fi(b);Je(b,f,xn);const W=Fa(x,_);return new Zs(x,"signInViaPopup",f,W).executeNotNull()})).apply(this,arguments)}function Tu(b,f,_){return La.apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(b,f,_){const x=(0,$.m9)(b);Je(x.auth,f,xn);const W=Fa(x.auth,_);return new Zs(x.auth,"reauthViaPopup",f,W,x).executeNotNull()})).apply(this,arguments)}function Vs(b,f,_){return da.apply(this,arguments)}function da(){return(da=(0,u.Z)(function*(b,f,_){const x=(0,$.m9)(b);Je(x.auth,f,xn);const W=Fa(x.auth,_);return new Zs(x.auth,"linkViaPopup",f,W,x).executeNotNull()})).apply(this,arguments)}let Zs=(()=>{class b extends wr{constructor(_,x,W,ne,Re){super(_,x,ne,Re),this.provider=W,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const x=yield _.execute();return ke(x,_.auth,"internal-error"),x})()}onExecution(){var _=this;return(0,u.Z)(function*(){jt(1===_.filter.length,"Popup operations only handle one event");const x=Hr();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],x),_.authWindow.associatedEvent=x,_.resolver._originValidation(_.auth).catch(W=>{_.reject(W)}),_.resolver._isIframeWebStorageSupported(_.auth,W=>{W||_.reject(Le(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var x,W;this.pollId=null!==(W=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==W&&W.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,zc.get())};_()}}return b.currentPopupAction=null,b})();const to="pendingRedirect",_c=new Map;class Is extends wr{constructor(f,_,x=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,x),this.eventId=null}execute(){var f=()=>super.execute,_=this;return(0,u.Z)(function*(){let x=_c.get(_.auth._key());if(!x){try{const ne=(yield function Zr(b,f){return ws.apply(this,arguments)}(_.resolver,_.auth))?yield f().call(_):null;x=()=>Promise.resolve(ne)}catch(W){x=()=>Promise.reject(W)}_c.set(_.auth._key(),x)}return _.bypassAuthState||_c.set(_.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(f){var _=()=>super.onAuthEvent,x=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return _().call(x,f);if("unknown"!==f.type){if(f.eventId){const W=yield x.auth._redirectUserForId(f.eventId);if(W)return x.user=W,_().call(x,f);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function ws(){return(ws=(0,u.Z)(function*(b,f){const _=Va(f),x=Ho(b);if(!(yield x._isAvailable()))return!1;const W="true"===(yield x._get(_));return yield x._remove(_),W})).apply(this,arguments)}function vc(b,f){return gl.apply(this,arguments)}function gl(){return(gl=(0,u.Z)(function*(b,f){return Ho(b)._set(Va(f),"true")})).apply(this,arguments)}function Wl(){_c.clear()}function fd(b,f){_c.set(b._key(),f)}function Ho(b){return k(b._redirectPersistence)}function Va(b){return _t(to,b.config.apiKey,b.name)}function _l(b,f,_){return function xs(b,f,_){return Cs.apply(this,arguments)}(b,f,_)}function Cs(){return(Cs=(0,u.Z)(function*(b,f,_){const x=fi(b);Je(b,f,xn),yield x._initializationPromise;const W=Fa(x,_);return yield vc(W,x),W._openRedirect(x,f,"signInViaRedirect")})).apply(this,arguments)}function Ba(b,f,_){return function ha(b,f,_){return yc.apply(this,arguments)}(b,f,_)}function yc(){return(yc=(0,u.Z)(function*(b,f,_){const x=(0,$.m9)(b);Je(x.auth,f,xn),yield x.auth._initializationPromise;const W=Fa(x.auth,_);yield vc(W,x.auth);const ne=yield Wc(x);return W._openRedirect(x.auth,f,"reauthViaRedirect",ne)})).apply(this,arguments)}function Ka(b,f,_){return function $c(b,f,_){return vl.apply(this,arguments)}(b,f,_)}function vl(){return(vl=(0,u.Z)(function*(b,f,_){const x=(0,$.m9)(b);Je(x.auth,f,xn),yield x.auth._initializationPromise;const W=Fa(x.auth,_);yield ue(!1,x,f.providerId),yield vc(W,x.auth);const ne=yield Wc(x);return W._openRedirect(x.auth,f,"linkViaRedirect",ne)})).apply(this,arguments)}function Ys(b,f){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,u.Z)(function*(b,f){return yield fi(b)._initializationPromise,cs(b,f,!1)})).apply(this,arguments)}function cs(b,f){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,u.Z)(function*(b,f,_=!1){const x=fi(b),W=Fa(x,f),Re=yield new Is(x,W,_).execute();return Re&&!_&&(delete Re.user._redirectEventId,yield x._persistUserIfCurrent(Re.user),yield x._setRedirectUser(null,f)),Re})).apply(this,arguments)}function Wc(b){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(b){const f=Hr(`${b.uid}:::`);return b._redirectEventId=f,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),f})).apply(this,arguments)}class Ts{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let _=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(f,x)&&(_=!0,this.sendToConsumer(f,x),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function pd(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ko(b);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=f,_=!0)),_}sendToConsumer(f,_){var x;if(f.error&&!Ko(f)){const W=(null===(x=f.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";_.onError(Le(this.auth,W))}else _.onAuthEvent(f)}isEventForConsumer(f,_){const x=null===_.eventId||!!f.eventId&&f.eventId===_.eventId;return _.filter.includes(f.type)&&x}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bc(f))}saveEventToCache(f){this.cachedEventUids.add(bc(f)),this.lastProcessedEventTime=Date.now()}}function bc(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(f=>f).join("-")}function Ko({type:b,error:f}){return"unknown"===b&&"auth/no-auth-event"===f?.code}function Ya(b){return no.apply(this,arguments)}function no(){return(no=(0,u.Z)(function*(b,f={}){return $e(b,"GET","/v1/projects",f)})).apply(this,arguments)}const Du=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kr=/^https?/;function ja(){return(ja=(0,u.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:f}=yield Ya(b);for(const _ of f)try{if(Qa(_))return}catch{}me(b,"unauthorized-domain")})).apply(this,arguments)}function Qa(b){const f=ln(),{protocol:_,hostname:x}=new URL(f);if(b.startsWith("chrome-extension://")){const Re=new URL(b);return""===Re.hostname&&""===x?"chrome-extension:"===_&&b.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===_&&Re.hostname===x}if(!kr.test(_))return!1;if(Du.test(b))return x===b;const W=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(x)}const wa=new _n(3e4,6e4);function Au(){const b=br().___jsl;if(b?.H)for(const f of Object.keys(b.H))if(b.H[f].r=b.H[f].r||[],b.H[f].L=b.H[f].L||[],b.H[f].r=[...b.H[f].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let mi=null;const yl=new _n(5e3,15e3),md="__/auth/iframe",gd="emulator/auth/iframe",Eh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_d=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vd(b){const f=b.config;ke(f.authDomain,b,"auth-domain-config-required");const _=f.emulator?vn(f,gd):`https://${b.config.authDomain}/${md}`,x={apiKey:f.apiKey,appName:b.name,v:te.SDK_VERSION},W=_d.get(b.config.apiHost);W&&(x.eid=W);const ne=b._getFrameworks();return ne.length&&(x.fw=ne.join(",")),`${_}?${(0,$.xO)(x).slice(1)}`}function Ha(){return Ha=(0,u.Z)(function*(b){const f=yield function Er(b){return mi=mi||function Gc(b){return new Promise((f,_)=>{var x,W,ne;function Re(){Au(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Au(),_(Le(b,"network-request-failed"))},timeout:wa.get()})}if(null!==(W=null===(x=br().gapi)||void 0===x?void 0:x.iframes)&&void 0!==W&&W.Iframe)f(gapi.iframes.getContext());else{if(null===(ne=br().gapi)||void 0===ne||!ne.load){const et=Li("iframefcb");return br()[et]=()=>{gapi.load?Re():_(Le(b,"network-request-failed"))},_i(`https://apis.google.com/js/api.js?onload=${et}`).catch(Tt=>_(Tt))}Re()}}).catch(f=>{throw mi=null,f})}(b),mi}(b),_=br().gapi;return ke(_,b,"internal-error"),f.open({where:document.body,url:vd(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eh,dontclear:!0},x=>new Promise(function(){var W=(0,u.Z)(function*(ne,Re){yield x.restyle({setHideOnLeave:!1});const et=Le(b,"network-request-failed"),Tt=br().setTimeout(()=>{Re(et)},yl.get());function dn(){br().clearTimeout(Tt),ne(x)}x.ping(dn).then(dn,()=>{Re(et)})});return function(ne,Re){return W.apply(this,arguments)}}()))}),Ha.apply(this,arguments)}const wh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qc{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const m="__/auth/handler",y="emulator/auth/handler",B=encodeURIComponent("fac");function Q(b,f,_,x,W,ne){return pe.apply(this,arguments)}function pe(){return(pe=(0,u.Z)(function*(b,f,_,x,W,ne){ke(b.config.authDomain,b,"auth-domain-config-required"),ke(b.config.apiKey,b,"invalid-api-key");const Re={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:x,v:te.SDK_VERSION,eventId:W};if(f instanceof xn){f.setDefaultLanguage(b.languageCode),Re.providerId=f.providerId||"",(0,$.xb)(f.getCustomParameters())||(Re.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Nt,yi]of Object.entries(ne||{}))Re[Nt]=yi}if(f instanceof Dr){const Nt=f.getScopes().filter(yi=>""!==yi);Nt.length>0&&(Re.scopes=Nt.join(","))}b.tenantId&&(Re.tid=b.tenantId);const et=Re;for(const Nt of Object.keys(et))void 0===et[Nt]&&delete et[Nt];const Tt=yield b._getAppCheckToken(),dn=Tt?`#${B}=${encodeURIComponent(Tt)}`:"";return`${function Se({config:b}){return b.emulator?vn(b,y):`https://${b.authDomain}/${m}`}(b)}?${(0,$.xO)(et).slice(1)}${dn}`})).apply(this,arguments)}const He="webStorageSupport",Wt=class ut{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ml,this._completeRedirectFn=cs,this._overrideRedirectResult=fd}_openPopup(f,_,x,W){var ne=this;return(0,u.Z)(function*(){var Re;jt(null===(Re=ne.eventManagers[f._key()])||void 0===Re?void 0:Re.manager,"_initialize() not called before _openPopup()");const et=yield Q(f,_,x,ln(),W);return function S(b,f,_,x=500,W=600){const ne=Math.max((window.screen.availHeight-W)/2,0).toString(),Re=Math.max((window.screen.availWidth-x)/2,0).toString();let et="";const Tt=Object.assign(Object.assign({},wh),{width:x.toString(),height:W.toString(),top:ne,left:Re}),dn=(0,$.z$)().toLowerCase();_&&(et=jn(dn)?"_blank":_),Ft(dn)&&(f=f||"http://localhost",Tt.scrollbars="yes");const Nt=Object.entries(Tt).reduce((Oi,[fa,Kl])=>`${Oi}${fa}=${Kl},`,"");if(function Dt(b=(0,$.z$)()){var f;return be(b)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(dn)&&"_self"!==et)return function g(b,f){const _=document.createElement("a");_.href=b,_.target=f;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(x)}(f||"",et),new qc(null);const yi=window.open(f||"",et,Nt);ke(yi,b,"popup-blocked");try{yi.focus()}catch{}return new qc(yi)}(f,et,Hr())})()}_openRedirect(f,_,x,W){var ne=this;return(0,u.Z)(function*(){return yield ne._originValidation(f),function wu(b){br().location.href=b}(yield Q(f,_,x,ln(),W)),new Promise(()=>{})})()}_initialize(f){const _=f._key();if(this.eventManagers[_]){const{manager:W,promise:ne}=this.eventManagers[_];return W?Promise.resolve(W):(jt(ne,"If manager is not set, promise should be"),ne)}const x=this.initAndGetManager(f);return this.eventManagers[_]={promise:x},x.catch(()=>{delete this.eventManagers[_]}),x}initAndGetManager(f){var _=this;return(0,u.Z)(function*(){const x=yield function Ih(b){return Ha.apply(this,arguments)}(f),W=new Ts(f);return x.register("authEvent",ne=>(ke(ne?.authEvent,f,"invalid-auth-event"),{status:W.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[f._key()]={manager:W},_.iframes[f._key()]=x,W})()}_isIframeWebStorageSupported(f,_){this.iframes[f._key()].send(He,{type:He},W=>{var ne;const Re=null===(ne=W?.[0])||void 0===ne?void 0:ne[He];void 0!==Re&&_(!!Re),me(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const _=f._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ia(b){return ja.apply(this,arguments)}(f)),this.originValidationPromises[_]}get _shouldInitProactively(){return Bt()||cn()||be()}};class en{constructor(f){this.factorId=f}_process(f,_,x){switch(_.type){case"enroll":return this._finalizeEnroll(f,_.credential,x);case"signin":return this._finalizeSignIn(f,_.credential);default:return $t("unexpected MultiFactorSessionType")}}}class Wn extends en{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Wn(f)}_finalizeEnroll(f,_,x){return function Go(b,f){return $e(b,"POST","/v2/accounts/mfaEnrollment:finalize",Xe(b,f))}(f,{idToken:_,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,_){return function De(b,f){return $e(b,"POST","/v2/accounts/mfaSignIn:finalize",Xe(b,f))}(f,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ei=(()=>{class b{constructor(){}static assertion(_){return Wn._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Yr="@firebase/auth";class Lr{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const _=this.auth.onIdTokenChanged(x=>{f(x?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,_),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const _=this.internalListeners.get(f);_&&(this.internalListeners.delete(f),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Xs=(0,$.Pz)("authIdTokenMaxAge")||300;let us=null;const xa=b=>function(){var f=(0,u.Z)(function*(_){const x=_&&(yield _.getIdTokenResult()),W=x&&((new Date).getTime()-Date.parse(x.issuedAtTime))/1e3;if(W&&W>Xs)return;const ne=x?.token;us!==ne&&(us=ne,yield fetch(b,{method:ne?"POST":"DELETE",headers:ne?{Authorization:`Bearer ${ne}`}:{}}))});return function(_){return f.apply(this,arguments)}}();function Js(b=(0,te.getApp)()){const f=(0,te._getProvider)(b,"auth");if(f.isInitialized())return f.getImmediate();const _=function Qo(b,f){const _=(0,te._getProvider)(b,"auth");if(_.isInitialized()){const W=_.getImmediate(),ne=_.getOptions();if((0,$.vZ)(ne,f??{}))return W;me(W,"already-initialized")}return _.initialize({options:f})}(b,{popupRedirectResolver:Wt,persistence:[q,ba,ml]}),x=(0,$.Pz)("authTokenSyncURL");if(x){const ne=xa(x);(function Fs(b,f,_){(0,$.m9)(b).beforeAuthStateChanged(f,_)})(_,ne,()=>ne(_.currentUser)),function pr(b,f,_,x){(0,$.m9)(b).onIdTokenChanged(f,_,x)}(_,Re=>ne(Re))}const W=(0,$.q4)("auth");return W&&zo(_,`http://${W}`),_}!function Po(b){(0,te._registerComponent)(new Ce.wA("auth",(f,{options:_})=>{const x=f.getProvider("app").getImmediate(),W=f.getProvider("heartbeat"),ne=f.getProvider("app-check-internal"),{apiKey:Re,authDomain:et}=x.options;ke(Re&&!Re.includes(":"),"invalid-api-key",{appName:x.name});const Tt={apiKey:Re,authDomain:et,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:li(b)},dn=new Vr(x,W,ne,Tt);return function Xo(b,f){const _=f?.persistence||[],x=(Array.isArray(_)?_:[_]).map(k);f?.errorMap&&b._updateErrorMap(f.errorMap),b._initializeWithPersistence(x,f?.popupRedirectResolver)}(dn,_),dn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,_,x)=>{f.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new Ce.wA("auth-internal",f=>{const _=fi(f.getProvider("auth").getImmediate());return new Lr(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(Yr,"1.3.2",function Bs(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,te.registerVersion)(Yr,"1.3.2","esm2017")}("Browser")},5776:(kt,Be,P)=>{P.d(Be,{u7:()=>Vm,Jj:()=>oc,IX:()=>sy,my:()=>Co,xU:()=>al,Lz:()=>Pl,WA:()=>Rt,F8:()=>kf,$q:()=>mh,W:()=>vu,EK:()=>pn,PU:()=>Km,l7:()=>Ho,Ky:()=>Jt,Xb:()=>Ir,Cf:()=>$i,K9:()=>Vc,Me:()=>Zs,yq:()=>pr,Wi:()=>Rm,ET:()=>Py,Ab:()=>Ym,vr:()=>Z_,Fc:()=>ly,hJ:()=>Of,B$:()=>lh,at:()=>Pf,oe:()=>Ry,AK:()=>K_,TF:()=>uy,JU:()=>Nm,ST:()=>A_,fH:()=>S_,Ix:()=>cy,Wu:()=>Iy,Lx:()=>Ey,qY:()=>ro,GL:()=>yu,QT:()=>Um,kl:()=>$f,Xk:()=>Kb,PL:()=>Ay,UQ:()=>Sy,zN:()=>jm,ad:()=>T_,nP:()=>Qm,b9:()=>L_,vh:()=>V_,Pb:()=>dy,L$:()=>hy,cf:()=>W_,sc:()=>G_,Xo:()=>k_,IO:()=>rd,iE:()=>x_,Eo:()=>Nf,i3:()=>jy,Bt:()=>Zm,pl:()=>My,Ub:()=>Ns,qK:()=>Dy,TQ:()=>qb,e0:()=>by,r7:()=>$_,Mx:()=>ch,ar:()=>F_});var de,u=P(5861),$=P(534),te=P(4537),H=P(7879),fe=P(9058),Ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Te={},Ie=Ie||{},le=Ce||self;function _e(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Me(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var nt="closure_uid_"+(1e9*Math.random()>>>0),bt=0;function ot(r,e,n){return r.call.apply(r.bind,arguments)}function ht(r,e,n){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),r.apply(e,l)}}return function(){return r.apply(e,arguments)}}function mt(r,e,n){return(mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ot:ht).apply(null,arguments)}function Ut(r,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function vt(r,e){function n(){}n.prototype=e.prototype,r.$=e.prototype,r.prototype=new n,r.prototype.constructor=r,r.ac=function(s,l,d){for(var p=Array(arguments.length-2),T=2;T<arguments.length;T++)p[T-2]=arguments[T];return e.prototype[l].apply(s,p)}}function me(){this.s=this.s,this.o=this.o}me.prototype.s=!1,me.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ke(r){Object.prototype.hasOwnProperty.call(r,nt)&&r[nt]||(r[nt]=++bt)}(this)},me.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Oe=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let n=0;n<r.length;n++)if(n in r&&r[n]===e)return n;return-1};function Je(r){const e=r.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=r[s];return n}return[]}function Ze(r,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(_e(s)){const l=r.length||0,d=s.length||0;r.length=l+d;for(let p=0;p<d;p++)r[l+p]=s[p]}else r.push(s)}}function ke(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var $t=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{le.addEventListener("test",()=>{},e),le.removeEventListener("test",()=>{},e)}catch{}return r}();function jt(r){return/^[\s\xa0]*$/.test(r)}function ln(){var r=le.navigator;return r&&(r=r.userAgent)?r:""}function Vn(r){return-1!=ln().indexOf(r)}function un(r){return un[" "](r),r}un[" "]=function(){};var $e,r,Qt=Vn("Opera"),_n=Vn("Trident")||Vn("MSIE"),vn=Vn("Edge"),Ge=vn||_n,Ye=Vn("Gecko")&&!(-1!=ln().toLowerCase().indexOf("webkit")&&!Vn("Edge"))&&!(Vn("Trident")||Vn("MSIE"))&&!Vn("Edge"),Qe=-1!=ln().toLowerCase().indexOf("webkit")&&!Vn("Edge");function Xe(){var r=le.document;return r?r.documentMode:void 0}e:{var at="",Pe=(r=ln(),Ye?/rv:([^\);]+)(\)|;)/.exec(r):vn?/Edge\/([\d\.]+)/.exec(r):_n?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Qe?/WebKit\/(\S+)/.exec(r):Qt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Pe&&(at=Pe?Pe[1]:""),_n){var wt=Xe();if(null!=wt&&wt>parseFloat(at)){$e=String(wt);break e}}$e=at}var Gn=le.document&&_n&&(Xe()||parseInt($e,10))||void 0;function In(r,e){if(ke.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Ye){e:{try{un(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=r.fromElement:"mouseout"==n&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:En[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&In.$.h.call(this)}}vt(In,ke);var En={2:"touch",3:"pen",4:"mouse"};In.prototype.h=function(){In.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var On="closure_listenable_"+(1e6*Math.random()|0),ni=0;function Un(r,e,n,s,l){this.listener=r,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=l,this.key=++ni,this.fa=this.ia=!1}function Mi(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Ui(r,e,n){for(const s in r)e.call(n,r[s],s,r)}function Ri(r){const e={};for(const n in r)e[n]=r[n];return e}const Qn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ii(r,e){let n,s;for(let l=1;l<arguments.length;l++){for(n in s=arguments[l],s)r[n]=s[n];for(let d=0;d<Qn.length;d++)n=Qn[d],Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}}function gi(r){this.src=r,this.g={},this.h=0}function sn(r,e){var n=e.type;if(n in r.g){var d,s=r.g[n],l=Oe(s,e);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(Mi(e),0==r.g[n].length&&(delete r.g[n],r.h--))}}function mn(r,e,n,s){for(var l=0;l<r.length;++l){var d=r[l];if(!d.fa&&d.listener==e&&d.capture==!!n&&d.la==s)return l}return-1}gi.prototype.add=function(r,e,n,s,l){var d=r.toString();(r=this.g[d])||(r=this.g[d]=[],this.h++);var p=mn(r,e,s,l);return-1<p?(e=r[p],n||(e.ia=!1)):((e=new Un(e,this.src,d,!!s,l)).ia=n,r.push(e)),e};var Xt="closure_lm_"+(1e6*Math.random()|0),hn={};function wi(r,e,n,s,l){if(s&&s.once)return zn(r,e,n,s,l);if(Array.isArray(e)){for(var d=0;d<e.length;d++)wi(r,e[d],n,s,l);return null}return n=ii(n),r&&r[On]?r.O(e,n,Me(s)?!!s.capture:!!s,l):Pi(r,e,n,!1,s,l)}function Pi(r,e,n,s,l,d){if(!e)throw Error("Invalid event type");var p=Me(l)?!!l.capture:!!l,T=ai(r);if(T||(r[Xt]=T=new gi(r)),(n=T.add(e,n,s,p,d)).proxy)return n;if(s=function Tn(){const e=fn;return function r(n){return e.call(r.src,r.listener,n)}}(),n.proxy=s,s.src=r,s.listener=n,r.addEventListener)$t||(l=p),void 0===l&&(l=!1),r.addEventListener(e.toString(),s,l);else if(r.attachEvent)r.attachEvent(xi(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return n}function zn(r,e,n,s,l){if(Array.isArray(e)){for(var d=0;d<e.length;d++)zn(r,e[d],n,s,l);return null}return n=ii(n),r&&r[On]?r.P(e,n,Me(s)?!!s.capture:!!s,l):Pi(r,e,n,!0,s,l)}function mr(r,e,n,s,l){if(Array.isArray(e))for(var d=0;d<e.length;d++)mr(r,e[d],n,s,l);else s=Me(s)?!!s.capture:!!s,n=ii(n),r&&r[On]?(r=r.i,(e=String(e).toString())in r.g&&-1<(n=mn(d=r.g[e],n,s,l))&&(Mi(d[n]),Array.prototype.splice.call(d,n,1),0==d.length&&(delete r.g[e],r.h--))):r&&(r=ai(r))&&(e=r.g[e.toString()],r=-1,e&&(r=mn(e,n,s,l)),(n=-1<r?e[r]:null)&&Kt(n))}function Kt(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[On])sn(e.i,r);else{var n=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(n,s,r.capture):e.detachEvent?e.detachEvent(xi(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=ai(e))?(sn(n,r),0==n.h&&(n.src=null,e[Xt]=null)):Mi(r)}}}function xi(r){return r in hn?hn[r]:hn[r]="on"+r}function fn(r,e){if(r.fa)r=!0;else{e=new In(e,this);var n=r.listener,s=r.la||r.src;r.ia&&Kt(r),r=n.call(s,e)}return r}function ai(r){return(r=r[Xt])instanceof gi?r:null}var di="__closure_events_fn_"+(1e9*Math.random()>>>0);function ii(r){return"function"==typeof r?r:(r[di]||(r[di]=function(e){return r.handleEvent(e)}),r[di])}function Sn(){me.call(this),this.i=new gi(this),this.S=this,this.J=null}function Cn(r,e){var n,s=r.J;if(s)for(n=[];s;s=s.J)n.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new ke(e,r);else if(e instanceof ke)e.target=e.target||r;else{var l=e;Ii(e=new ke(s,r),l)}if(l=!0,n)for(var d=n.length-1;0<=d;d--){var p=e.g=n[d];l=ci(p,s,!0,e)&&l}if(l=ci(p=e.g=r,s,!0,e)&&l,l=ci(p,s,!1,e)&&l,n)for(d=0;d<n.length;d++)l=ci(p=e.g=n[d],s,!1,e)&&l}function ci(r,e,n,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.fa&&p.capture==n){var T=p.listener,F=p.la||p.src;p.ia&&sn(r.i,p),l=!1!==T.call(F,s)&&l}}return l&&!s.defaultPrevented}vt(Sn,me),Sn.prototype[On]=!0,Sn.prototype.removeEventListener=function(r,e,n,s){mr(this,r,e,n,s)},Sn.prototype.N=function(){if(Sn.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var n=r.g[e],s=0;s<n.length;s++)Mi(n[s]);delete r.g[e],r.h--}}this.J=null},Sn.prototype.O=function(r,e,n,s){return this.i.add(String(r),e,!1,n,s)},Sn.prototype.P=function(r,e,n,s){return this.i.add(String(r),e,!0,n,s)};var Wi=le.JSON.stringify;function Sr(){var r=k;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var gr=new class Gi{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new St,r=>r.reset());class St{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function oe(r){var e=1;r=r.split(":");const n=[];for(;0<e&&r.length;)n.push(r.shift()),e--;return r.length&&n.push(r.join(":")),n}function L(r){le.setTimeout(()=>{throw r},0)}let O,N=!1,k=new class qi{constructor(){this.h=this.g=null}add(e,n){const s=gr.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},he=()=>{const r=le.Promise.resolve(void 0);O=()=>{r.then(Ue)}};var Ue=()=>{for(var r;r=Sr();){try{r.h.call(r.g)}catch(n){L(n)}var e=gr;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}N=!1};function _t(r,e){Sn.call(this),this.h=r||1,this.g=e||le,this.j=mt(this.qb,this),this.l=Date.now()}function Mt(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Lt(r,e,n){if("function"==typeof r)n&&(r=mt(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=mt(r.handleEvent,r)}return 2147483647<Number(e)?-1:le.setTimeout(r,e||0)}function Ft(r){r.g=Lt(()=>{r.g=null,r.i&&(r.i=!1,Ft(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}vt(_t,Sn),(de=_t.prototype).ga=!1,de.T=null,de.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Cn(this,"tick"),this.ga&&(Mt(this),this.start()))}},de.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},de.N=function(){_t.$.N.call(this),Mt(this),delete this.g};class cn extends me{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ft(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jn(r){me.call(this),this.h=r,this.g={}}vt(jn,me);var tt=[];function ie(r,e,n,s){Array.isArray(n)||(n&&(tt[0]=n.toString()),n=tt);for(var l=0;l<n.length;l++){var d=wi(e,n[l],s||r.handleEvent,!1,r.h||r);if(!d)break;r.g[d.key]=d}}function Ee(r){Ui(r.g,function(e,n){this.g.hasOwnProperty(n)&&Kt(e)},r),r.g={}}function ge(){this.g=!0}function Dt(r,e,n,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Bt(r,e){if(!r.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var s=n[r];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<l.length;p++)l[p]=""}}}return Wi(n)}catch{return e}}(r,n)+(s?" "+s:"")})}jn.prototype.N=function(){jn.$.N.call(this),Ee(this)},jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ge.prototype.Ea=function(){this.g=!1},ge.prototype.info=function(){};var Ln={},li=null;function hi(){return li=li||new Sn}function dr(r){ke.call(this,Ln.Ta,r)}function Fi(r){const e=hi();Cn(e,new dr(e))}function Mr(r,e){ke.call(this,Ln.STAT_EVENT,r),this.stat=e}function ki(r){const e=hi();Cn(e,new Mr(e,r))}function Vr(r,e){ke.call(this,Ln.Ua,r),this.size=e}function fi(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){r()},e)}Ln.Ta="serverreachability",vt(dr,ke),Ln.STAT_EVENT="statevent",vt(Mr,ke),Ln.Ua="timingevent",vt(Vr,ke);var Wr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Hn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _i(){}function No(){}_i.prototype.h=null;var ss,Gr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fo(){ke.call(this,"d")}function os(){ke.call(this,"c")}function tr(){}function Jr(r,e,n,s){this.l=r,this.j=e,this.m=n,this.W=s||1,this.U=new jn(this),this.P=pa,this.V=new _t(r=Ge?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Yo}function Yo(){this.i=null,this.g="",this.h=!1}vt(Fo,ke),vt(os,ke),vt(tr,_i),tr.prototype.g=function(){return new XMLHttpRequest},tr.prototype.i=function(){return{}},ss=new tr;var pa=45e3,ko={},Qo={};function Xo(r,e,n){r.L=1,r.v=qr(vr(e)),r.s=n,r.S=!0,zo(r,null)}function zo(r,e){r.G=Date.now(),$o(r),r.A=vr(r.v);var n=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),z(n.i,"t",s),r.C=0,n=r.l.J,r.h=new Yo,r.g=vo(r.l,n?e:null,!r.s),0<r.O&&(r.M=new cn(mt(r.Pa,r,r.g),r.O)),ie(r.U,r.g,"readystatechange",r.nb),e=r.I?Ri(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Fi(),function be(r,e,n,s,l,d){r.info(function(){if(r.g)if(d)for(var p="",T=d.split("&"),F=0;F<T.length;F++){var K=T[F].split("=");if(1<K.length){var se=K[0];K=K[1];var ye=se.split("_");p=2<=ye.length&&"type"==ye[1]?p+(se+"=")+K+"&":p+(se+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+n+"\n"+p})}(r.j,r.u,r.A,r.m,r.W,r.s)}function gs(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function _r(r,e,n){let l,s=!0;for(;!r.J&&r.C<n.length;){if(l=To(r,n),l==Qo){4==e&&(r.o=4,ki(14),s=!1),Dt(r.j,r.m,null,"[Incomplete Response]");break}if(l==ko){r.o=4,ki(15),Dt(r.j,r.m,n,"[Invalid Chunk]"),s=!1;break}Dt(r.j,r.m,l,null),Lo(r,l)}gs(r)&&l!=Qo&&l!=ko&&(r.h.g="",r.C=0),4!=e||0!=n.length||r.h.h||(r.o=1,ki(16),s=!1),r.i=r.i&&s,s?0<n.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$s(e),e.M=!0,ki(11))):(Dt(r.j,r.m,n,"[Invalid Chunked Response]"),oo(r),Io(r))}function To(r,e){var n=r.C,s=e.indexOf("\n",n);return-1==s?Qo:(n=Number(e.substring(n,s)),isNaN(n)?ko:(s+=1)+n>e.length?Qo:(e=e.slice(s,s+n),r.C=s+n,e))}function $o(r){r.Y=Date.now()+r.P,Do(r,r.P)}function Do(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=fi(mt(r.lb,r),e)}function _s(r){r.B&&(le.clearTimeout(r.B),r.B=null)}function Io(r){0==r.l.H||r.J||_o(r.l,r)}function oo(r){_s(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Mt(r.V),Ee(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Lo(r,e){try{var n=r.l;if(0!=n.H&&(n.g==r||gn(n.i,r)))if(!r.K&&gn(n.i,r)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<r.G))break e;go(n),Vo(n)}Vl(n),ki(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=fi(mt(n.ib,n),6e3));if(1>=Yt(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ms(n,11)}else if((r.K||n.g==r)&&go(n),!jt(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let K=l[e];if(n.V=K[0],K=K[1],2==n.H)if("c"==K[0]){n.K=K[1],n.pa=K[2];const se=K[3];null!=se&&(n.ra=se,n.l.info("VER="+n.ra));const ye=K[4];null!=ye&&(n.Ga=ye,n.l.info("SVER="+n.Ga));const je=K[5];null!=je&&"number"==typeof je&&0<je&&(n.L=s=1.5*je,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const dt=r.g;if(dt){const qt=dt.g?dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qt){var d=s.i;d.g||-1==qt.indexOf("spdy")&&-1==qt.indexOf("quic")&&-1==qt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Rn(d,d.h),d.h=null))}if(s.F){const rn=dt.g?dt.g.getResponseHeader("X-HTTP-Session-Id"):null;rn&&(s.Da=rn,Ti(s.I,s.F,rn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-r.G,n.l.info("Handshake RTT: "+n.S+"ms"));var p=r;if((s=n).wa=Rs(s,s.J?s.pa:null,s.Y),p.K){ri(s.i,p);var T=p,F=s.L;F&&T.setTimeout(F),T.B&&(_s(T),$o(T)),s.g=p}else Ta(s);0<n.j.length&&es(n)}else"stop"!=K[0]&&"close"!=K[0]||Ms(n,7);else 3==n.H&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?Ms(n,7):$n(n):"noop"!=K[0]&&n.h&&n.h.Aa(K),n.A=0)}Fi()}catch{}}function so(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(_e(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var n=function eo(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(_e(r)||"string"==typeof r){var e=[];r=r.length;for(var n=0;n<r;n++)e.push(n);return e}e=[],n=0;for(const s in r)e[n++]=s;return e}}}(r),s=function po(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(_e(r)){for(var e=[],n=r.length,s=0;s<n;s++)e.push(r[s]);return e}for(s in e=[],n=0,r)e[n++]=r[s];return e}(r),l=s.length,d=0;d<l;d++)e.call(void 0,s[d],n&&n[d],r)}(de=Jr.prototype).setTimeout=function(r){this.P=r},de.nb=function(r){r=r.target;const e=this.M;e&&3==nr(r)?e.l():this.Pa(r)},de.Pa=function(r){try{if(r==this.g)e:{const se=nr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>se)&&(3!=se||Ge||this.g&&(this.h.h||this.g.ja()||Y(this.g)))){this.J||4!=se||7==e||Fi(),_s(this);var n=this.g.da();this.ca=n;t:if(gs(this)){var s=Y(this.g);r="";var l=s.length,d=4==nr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){oo(this),Io(this);var p="";break t}this.h.i=new le.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:d&&e==l-1});s.splice(0,l),this.h.g+=r,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==n,function st(r,e,n,s,l,d,p){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+d+" "+p})}(this.j,this.u,this.A,this.m,this.W,se,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,F=this.g;if((T=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jt(T)){var K=T;break t}}K=null}if(!(n=K)){this.i=!1,this.o=3,ki(12),oo(this),Io(this);break e}Dt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lo(this,n)}this.S?(_r(this,se,p),Ge&&this.i&&3==se&&(ie(this.U,this.V,"tick",this.mb),this.V.start())):(Dt(this.j,this.m,p,null),Lo(this,p)),4==se&&oo(this),this.i&&!this.J&&(4==se?_o(this.l,this):(this.i=!1,$o(this)))}else(function ee(r){const e={};r=(r.g&&2<=nr(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(jt(r[s]))continue;var n=oe(r[s]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const d=e[l]||[];e[l]=d,d.push(n)}!function Ji(r,e){for(const n in r)e.call(void 0,r[n],n,r)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<p.indexOf("Unknown SID")?(this.o=3,ki(12)):(this.o=0,ki(13)),oo(this),Io(this)}}}catch{}},de.mb=function(){if(this.g){var r=nr(this.g),e=this.g.ja();this.C<e.length&&(_s(this),_r(this,r,e),this.i&&4!=r&&$o(this))}},de.cancel=function(){this.J=!0,oo(this)},de.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function zt(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Fi(),ki(17)),oo(this),this.o=2,Io(this)):Do(this,this.Y-r)};var Zn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yi(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Yi){this.h=r.h,Qi(this,r.j),this.s=r.s,this.g=r.g,Jo(this,r.m),this.l=r.l;var e=r.i,n=new Tr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Br(this,n),this.o=r.o}else r&&(e=String(r).match(Zn))?(this.h=!1,Qi(this,e[1]||"",!0),this.s=mo(e[2]||""),this.g=mo(e[3]||"",!0),Jo(this,e[4]),this.l=mo(e[5]||"",!0),Br(this,e[6]||"",!0),this.o=mo(e[7]||"")):(this.h=!1,this.i=new Tr(null,this.h))}function vr(r){return new Yi(r)}function Qi(r,e,n){r.j=n?mo(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Jo(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Br(r,e,n){e instanceof Tr?(r.i=e,function J(r,e){e&&!r.j&&(Di(r),r.i=null,r.g.forEach(function(n,s){var l=s.toLowerCase();s!=l&&(yr(this,s),z(this,l,n))},r)),r.j=e}(r.i,r.h)):(n||(e=pi(e,Ur)),r.i=new Tr(e,r.h))}function Ti(r,e,n){r.i.set(e,n)}function qr(r){return Ti(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function mo(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function pi(r,e,n){return"string"==typeof r?(r=encodeURI(r).replace(e,Zt),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Zt(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Yi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(pi(e,Nn,!0),":");var n=this.g;return(n||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(pi(e,Nn,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&r.push("/"),r.push(pi(n,"/"==n.charAt(0)?Cr:Vi,!0))),(n=this.i.toString())&&r.push("?",n),(n=this.o)&&r.push("#",pi(n,er)),r.join("")};var Nn=/[#\/\?@]/g,Vi=/[#\?:]/g,Cr=/[#\?]/g,Ur=/[#\?@]/g,er=/#/g;function Tr(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Di(r){r.g||(r.g=new Map,r.h=0,r.i&&function or(r,e){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var s=r[n].indexOf("="),l=null;if(0<=s){var d=r[n].substring(0,s);l=r[n].substring(s+1)}else d=r[n];e(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(r.i,function(e,n){r.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function yr(r,e){Di(r),e=j(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function we(r,e){return Di(r),e=j(r,e),r.g.has(e)}function z(r,e,n){yr(r,e),0<n.length&&(r.i=null,r.g.set(j(r,e),Je(n)),r.h+=n.length)}function j(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ne(r){this.l=r||ft,r=le.PerformanceNavigationTiming?0<(r=le.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().dc),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(de=Tr.prototype).add=function(r,e){Di(this),this.i=null,r=j(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(e),this.h+=1,this},de.forEach=function(r,e){Di(this),this.g.forEach(function(n,s){n.forEach(function(l){r.call(e,l,s,this)},this)},this)},de.ta=function(){Di(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const l=r[s];for(let d=0;d<l.length;d++)n.push(e[s])}return n},de.Z=function(r){Di(this);let e=[];if("string"==typeof r)we(this,r)&&(e=e.concat(this.g.get(j(this,r))));else{r=Array.from(this.g.values());for(let n=0;n<r.length;n++)e=e.concat(r[n])}return e},de.set=function(r,e){return Di(this),this.i=null,we(this,r=j(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},de.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},de.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const d=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var l=d;""!==p[s]&&(l+="="+encodeURIComponent(String(p[s]))),r.push(l)}}return this.i=r.join("&")};var ft=10;function Ot(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Yt(r){return r.h?1:r.g?r.g.size:0}function gn(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Rn(r,e){r.g?r.g.add(e):r.h=e}function ri(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Xi(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const n of r.g.values())e=e.concat(n.F);return e}return Je(r.i)}Ne.prototype.cancel=function(){if(this.i=Xi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var sr=class{stringify(r){return le.JSON.stringify(r,void 0)}parse(r){return le.JSON.parse(r,void 0)}};function ar(){this.g=new sr}function xn(r,e,n){const s=n||"";try{so(r,function(l,d){let p=l;Me(l)&&(p=Wi(l)),e.push(s+d+"="+encodeURIComponent(p))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function Ao(r,e,n,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function ao(r){this.l=r.ec||null,this.j=r.ob||!1}function Rr(r,e){Sn.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=vs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vt(ao,_i),ao.prototype.g=function(){return new Rr(this.l,this.j)},ao.prototype.i=function(r){return function(){return r}}({}),vt(Rr,Sn);var vs=0;function Pr(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Or(r){r.readyState=4,r.l=null,r.j=null,r.A=null,ji(r)}function ji(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(de=Rr.prototype).open=function(r,e){if(this.readyState!=vs)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,ji(this)},de.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Or(this)),this.readyState=vs},de.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,ji(this)),this.g&&(this.readyState=3,ji(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pr(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},de.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Or(this):ji(this),3==this.readyState&&Pr(this)}},de.Za=function(r){this.g&&(this.response=this.responseText=r,Or(this))},de.Ya=function(r){this.g&&(this.response=r,Or(this))},de.ka=function(){this.g&&Or(this)},de.setRequestHeader=function(r,e){this.v.append(r,e)},de.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},de.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var n=e.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=e.next();return r.join("\r\n")},Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var ys=le.JSON.parse;function ui(r){Sn.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hr,this.L=this.M=!1}vt(ui,Sn);var hr="",Et=/^https?$/i,We=["POST","PUT"];function qe(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,yt(r),qn(r)}function yt(r){r.F||(r.F=!0,Cn(r,"complete"),Cn(r,"error"))}function nn(r){if(r.h&&typeof Ie<"u"&&(!r.C[1]||4!=nr(r)||2!=r.da()))if(r.v&&4==nr(r))Lt(r.La,0,r);else if(Cn(r,"readystatechange"),4==nr(r)){r.h=!1;try{const p=r.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===p){var l=String(r.I).match(Zn)[1]||null;!l&&le.self&&le.self.location&&(l=le.self.location.protocol.slice(0,-1)),s=!Et.test(l?l.toLowerCase():"")}n=s}if(n)Cn(r,"complete"),Cn(r,"success");else{r.m=6;try{var d=2<nr(r)?r.g.statusText:""}catch{d=""}r.j=d+" ["+r.da()+"]",yt(r)}}finally{qn(r)}}}function qn(r,e){if(r.g){Nr(r);const n=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Cn(r,"ready");try{n.onreadystatechange=s}catch{}}}function Nr(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(le.clearTimeout(r.A),r.A=null)}function nr(r){return r.g?r.g.readyState:0}function Y(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case hr:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function V(r){let e="";return Ui(r,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function ue(r,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=V(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):Ti(r,e,n))}function Fe(r,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||e}function Dn(r){this.Ga=0,this.j=[],this.l=new ge,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fe("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fe("baseRetryDelayMs",5e3,r),this.hb=Fe("retryDelaySeedMs",1e4,r),this.eb=Fe("forwardChannelMaxRetries",2,r),this.xa=Fe("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.useFetchStreams||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Ne(r&&r.concurrentRequestLimit),this.Ja=new ar,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function $n(r){if(zs(r),3==r.H){var e=r.W++,n=vr(r.I);if(Ti(n,"SID",r.K),Ti(n,"RID",e),Ti(n,"TYPE","terminate"),ra(r,n),(e=new Jr(r,r.l,e)).L=2,e.v=qr(vr(n)),n=!1,le.navigator&&le.navigator.sendBeacon)try{n=le.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&le.Image&&((new Image).src=e.v,n=!0),n||(e.g=vo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$o(e)}jr(r)}function Vo(r){r.g&&($s(r),r.g.cancel(),r.g=null)}function zs(r){Vo(r),r.u&&(le.clearTimeout(r.u),r.u=null),go(r),r.i.cancel(),r.m&&("number"==typeof r.m&&le.clearTimeout(r.m),r.m=null)}function es(r){if(!Ot(r.i)&&!r.m){r.m=!0;var e=r.Na;O||he(),N||(O(),N=!0),k.add(e,r),r.C=0}}function ul(r,e){var n;n=e?e.m:r.W++;const s=vr(r.I);Ti(s,"SID",r.K),Ti(s,"RID",n),Ti(s,"AID",r.V),ra(r,s),r.o&&r.s&&ue(s,r.o,r.s),n=new Jr(r,r.l,n,r.C+1),null===r.o&&(n.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Ga(r,n,1e3),n.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Rn(r.i,n),Xo(n,s,e)}function ra(r,e){r.na&&Ui(r.na,function(n,s){Ti(e,s,n)}),r.h&&so({},function(n,s){Ti(e,s,n)})}function Ga(r,e,n){n=Math.min(r.j.length,n);var s=r.h?mt(r.h.Va,r.h,r):null;e:{var l=r.j;let d=-1;for(;;){const p=["count="+n];-1==d?0<n?(d=l[0].g,p.push("ofs="+d)):d=0:p.push("ofs="+d);let T=!0;for(let F=0;F<n;F++){let K=l[F].g;const se=l[F].map;if(K-=d,0>K)d=Math.max(0,l[F].g-100),T=!1;else try{xn(se,p,"req"+K+"_")}catch{s&&s(se)}}if(T){s=p.join("&");break e}}}return r=r.j.splice(0,n),e.F=r,s}function Ta(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;O||he(),N||(O(),N=!0),k.add(e,r),r.A=0}}function Vl(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=fi(mt(r.Ma,r),Bo(r,r.A)),r.A++,0))}function $s(r){null!=r.B&&(le.clearTimeout(r.B),r.B=null)}function Da(r){r.g=new Jr(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=vr(r.wa);Ti(e,"RID","rpc"),Ti(e,"SID",r.K),Ti(e,"AID",r.V),Ti(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Ti(e,"TO",r.qa),Ti(e,"TYPE","xmlhttp"),ra(r,e),r.o&&r.s&&ue(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var n=r.g;r=r.pa,n.L=1,n.v=qr(vr(e)),n.s=null,n.S=!0,zo(n,r)}function go(r){null!=r.v&&(le.clearTimeout(r.v),r.v=null)}function _o(r,e){var n=null;if(r.g==e){go(r),$s(r),r.g=null;var s=2}else{if(!gn(r.i,e))return;n=e.F,ri(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){n=e.s?e.s.length:0,e=Date.now()-e.G;var l=r.C;Cn(s=hi(),new Vr(s,n)),es(r)}else Ta(r);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==s&&function Ll(r,e){return!(Yt(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=fi(mt(r.Na,r,e),Bo(r,r.C)),r.C++,0)))}(r,e)||2==s&&Vl(r)))switch(n&&0<n.length&&(e=r.i,e.i=e.i.concat(n)),l){case 1:Ms(r,5);break;case 4:Ms(r,10);break;case 3:Ms(r,6);break;default:Ms(r,2)}}function Bo(r,e){let n=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(n*=2),n*e}function Ms(r,e){if(r.l.info("Error code "+e),2==e){var n=null;r.h&&(n=null);var s=mt(r.pb,r);n||(n=new Yi("//www.google.com/images/cleardot.gif"),le.location&&"http"==le.location.protocol||Qi(n,"https"),qr(n)),function Dr(r,e){const n=new ge;if(le.Image){const s=new Image;s.onload=Ut(Ao,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Ut(Ao,n,s,"TestLoadImage: error",!1,e),s.onabort=Ut(Ao,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ut(Ao,n,s,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(n.toString(),s)}else ki(2);r.H=0,r.h&&r.h.za(e),jr(r),zs(r)}function jr(r){if(r.H=0,r.ma=[],r.h){const e=Xi(r.i);(0!=e.length||0!=r.j.length)&&(Ze(r.ma,e),Ze(r.ma,r.j),r.i.i.length=0,Je(r.j),r.j.length=0),r.h.ya()}}function Rs(r,e,n){var s=n instanceof Yi?vr(n):new Yi(n);if(""!=s.g)e&&(s.g=e+"."+s.g),Jo(s,s.m);else{var l=le.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var d=new Yi(null);s&&Qi(d,s),e&&(d.g=e),l&&Jo(d,l),n&&(d.l=n),s=d}return e=r.Da,(n=r.F)&&e&&Ti(s,n,e),Ti(s,"VER",r.ra),ra(r,s),s}function vo(r,e,n){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ui(n&&r.Ha&&!r.va?new ao({ob:!0}):r.va)).Oa(r.J),e}function Aa(){}function oa(){if(_n&&!(10<=Number(Gn)))throw Error("Environmental error: no available transport.")}function lo(r,e){Sn.call(this),this.g=new Dn(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!jt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ps(this)}function bs(r){Fo.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const n in e){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Sa(){os.call(this),this.status=1}function Ps(r){this.g=r}function Uo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ma(r,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)s[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var d=r.g[3],p=(e=r.g[0])+(d^(n=r.g[1])&((l=r.g[2])^d))+s[0]+3614090360&4294967295;p=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=n+(p<<7&4294967295|p>>>25))+((p=d+(l^e&(n^l))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=l+(n^d&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^l&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^n&(l^d))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=d+(l^e&(n^l))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=l+(n^d&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^l&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^n&(l^d))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=d+(l^e&(n^l))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=l+(n^d&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^l&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^n&(l^d))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=d+(l^e&(n^l))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=l+(n^d&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^l&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(l^d&(n^l))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=d+(n^l&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=l+(e^n&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=n+(d^e&(l^d))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(l^d&(n^l))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=d+(n^l&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=l+(e^n&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=n+(d^e&(l^d))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(l^d&(n^l))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=d+(n^l&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=l+(e^n&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=n+(d^e&(l^d))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(l^d&(n^l))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=d+(n^l&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=l+(e^n&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=n+(d^e&(l^d))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(n^l^d)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^n^l)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=l+(d^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=n+(l^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(n^l^d)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^n^l)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=l+(d^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=n+(l^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(n^l^d)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^n^l)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=l+(d^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=n+(l^d^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(n^l^d)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^n^l)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=l+(d^e^n)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=n+(l^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(l^(n|~d))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=d+(n^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=l+(e^(d|~n))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=n+(d^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(l^(n|~d))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=d+(n^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=l+(e^(d|~n))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=n+(d^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(l^(n|~d))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=d+(n^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=l+(e^(d|~n))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=n+(d^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((d=(e=n+((p=e+(l^(n|~d))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=d+(n^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((l=d+((p=l+(e^(d|~n))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(l+(p<<21&4294967295|p>>>11))&4294967295,r.g[2]=r.g[2]+l&4294967295,r.g[3]=r.g[3]+d&4294967295}function Hi(r,e){this.h=e;for(var n=[],s=!0,l=r.length-1;0<=l;l--){var d=0|r[l];s&&d==e||(n[l]=d,s=!1)}this.g=n}(de=ui.prototype).Oa=function(r){this.M=r},de.ha=function(r,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ss.g(),this.C=function Li(r){return r.h||(r.h=r.i())}(this.u?this.u:ss),this.g.onreadystatechange=mt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(d){return void qe(this,d)}if(r=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)n.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())n.set(d,s.get(d))}s=Array.from(n.keys()).find(d=>"content-type"==d.toLowerCase()),l=le.FormData&&r instanceof le.FormData,!(0<=Oe(We,e))||s||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,p]of n)this.g.setRequestHeader(d,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Nr(this),0<this.B&&((this.L=function Ve(r){return _n&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mt(this.ua,this)):this.A=Lt(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(d){qe(this,d)}},de.ua=function(){typeof Ie<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cn(this,"timeout"),this.abort(8))},de.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Cn(this,"complete"),Cn(this,"abort"),qn(this))},de.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qn(this,!0)),ui.$.N.call(this)},de.La=function(){this.s||(this.G||this.v||this.l?nn(this):this.kb())},de.kb=function(){nn(this)},de.isActive=function(){return!!this.g},de.da=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},de.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},de.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),ys(e)}},de.Ia=function(){return this.m},de.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(de=Dn.prototype).ra=8,de.H=1,de.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const l=new Jr(this,this.l,r);let d=this.s;if(this.U&&(d?(d=Ri(d),Ii(d,this.U)):d=this.U),null!==this.o||this.O||(l.I=d,d=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ga(this,l,e),Ti(n=vr(this.I),"RID",r),Ti(n,"CVER",22),this.F&&Ti(n,"X-HTTP-Session-Id",this.F),ra(this,n),d&&(this.O?e="headers="+encodeURIComponent(String(V(d)))+"&"+e:this.o&&ue(n,this.o,d)),Rn(this.i,l),this.bb&&Ti(n,"TYPE","init"),this.P?(Ti(n,"$req",e),Ti(n,"SID","null"),l.aa=!0,Xo(l,n,null)):Xo(l,n,e),this.H=2}}else 3==this.H&&(r?ul(this,r):0==this.j.length||Ot(this.i)||ul(this))},de.Ma=function(){if(this.u=null,Da(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=fi(mt(this.jb,this),r)}},de.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ki(10),Vo(this),Da(this))},de.ib=function(){null!=this.v&&(this.v=null,Vo(this),Vl(this),ki(19))},de.pb=function(r){r?(this.l.info("Successfully pinged google.com"),ki(2)):(this.l.info("Failed to ping google.com"),ki(1))},de.isActive=function(){return!!this.h&&this.h.isActive(this)},(de=Aa.prototype).Ba=function(){},de.Aa=function(){},de.za=function(){},de.ya=function(){},de.isActive=function(){return!0},de.Va=function(){},oa.prototype.g=function(r,e){return new lo(r,e)},vt(lo,Sn),lo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,n=this.h||void 0;ki(0),r.Y=e,r.na=n||{},r.G=r.aa,r.I=Rs(r,null,r.Y),es(r)},lo.prototype.close=function(){$n(this.g)},lo.prototype.u=function(r){var e=this.g;if("string"==typeof r){var n={};n.__data__=r,r=n}else this.v&&((n={}).__data__=Wi(r),r=n);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&es(e)},lo.prototype.N=function(){this.g.h=null,delete this.j,$n(this.g),delete this.g,lo.$.N.call(this)},vt(bs,Fo),vt(Sa,os),vt(Ps,Aa),Ps.prototype.Ba=function(){Cn(this.g,"a")},Ps.prototype.Aa=function(r){Cn(this.g,new bs(r))},Ps.prototype.za=function(r){Cn(this.g,new Sa)},Ps.prototype.ya=function(){Cn(this.g,"b")},vt(Uo,function dl(){this.blockSize=-1}),Uo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Uo.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var n=e-this.blockSize,s=this.m,l=this.h,d=0;d<e;){if(0==l)for(;d<=n;)ma(this,r,d),d+=this.blockSize;if("string"==typeof r){for(;d<e;)if(s[l++]=r.charCodeAt(d++),l==this.blockSize){ma(this,s),l=0;break}}else for(;d<e;)if(s[l++]=r[d++],l==this.blockSize){ma(this,s),l=0;break}}this.h=l,this.i+=e},Uo.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var n=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&n,n/=256;for(this.j(r),r=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)r[n++]=this.g[e]>>>s&255;return r};var Bl={};function Ws(r){return-128<=r&&128>r?function Ei(r,e){var n=Bl;return Object.prototype.hasOwnProperty.call(n,r)?n[r]:n[r]=e(r)}(r,function(e){return new Hi([0|e],0>e?-1:0)}):new Hi([0|r],0>r?-1:0)}function jo(r){if(isNaN(r)||!isFinite(r))return ts;if(0>r)return So(jo(-r));for(var e=[],n=1,s=0;r>=n;s++)e[s]=r/n|0,n*=sa;return new Hi(e,0)}var sa=4294967296,ts=Ws(0),Lc=Ws(1),hl=Ws(16777216);function Os(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Wo(r){return-1==r.h}function So(r){for(var e=r.g.length,n=[],s=0;s<e;s++)n[s]=~r.g[s];return new Hi(n,~r.h).add(Lc)}function _a(r,e){return r.add(So(e))}function va(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function aa(r,e){this.g=r,this.h=e}function Ma(r,e){if(Os(e))throw Error("division by zero");if(Os(r))return new aa(ts,ts);if(Wo(r))return e=Ma(So(r),e),new aa(So(e.g),So(e.h));if(Wo(e))return e=Ma(r,So(e)),new aa(So(e.g),e.h);if(30<r.g.length){if(Wo(r)||Wo(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Lc,s=e;0>=s.X(r);)n=fl(n),s=fl(s);var l=as(n,1),d=as(s,1);for(s=as(s,2),n=as(n,2);!Os(s);){var p=d.add(s);0>=p.X(r)&&(l=l.add(n),d=p),s=as(s,1),n=as(n,1)}return e=_a(r,l.R(e)),new aa(l,e)}for(l=ts;0<=r.X(e);){for(n=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),p=(d=jo(n)).R(e);Wo(p)||0<p.X(r);)p=(d=jo(n-=s)).R(e);Os(d)&&(d=Lc),l=l.add(d),r=_a(r,p)}return new aa(l,r)}function fl(r){for(var e=r.g.length+1,n=[],s=0;s<e;s++)n[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Hi(n,r.h)}function as(r,e){var n=e>>5;e%=32;for(var s=r.g.length-n,l=[],d=0;d<s;d++)l[d]=0<e?r.D(d+n)>>>e|r.D(d+n+1)<<32-e:r.D(d+n);return new Hi(l,r.h)}(de=Hi.prototype).ea=function(){if(Wo(this))return-So(this).ea();for(var r=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);r+=(0<=s?s:sa+s)*e,e*=sa}return r},de.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Os(this))return"0";if(Wo(this))return"-"+So(this).toString(r);for(var e=jo(Math.pow(r,6)),n=this,s="";;){var l=Ma(n,e).g,d=((0<(n=_a(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(r);if(Os(n=l))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},de.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},de.X=function(r){return Wo(r=_a(this,r))?-1:Os(r)?0:1},de.abs=function(){return Wo(this)?So(this):this},de.add=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0,l=0;l<=e;l++){var d=s+(65535&this.D(l))+(65535&r.D(l)),p=(d>>>16)+(this.D(l)>>>16)+(r.D(l)>>>16);s=p>>>16,n[l]=(p&=65535)<<16|(d&=65535)}return new Hi(n,-2147483648&n[n.length-1]?-1:0)},de.R=function(r){if(Os(this)||Os(r))return ts;if(Wo(this))return Wo(r)?So(this).R(So(r)):So(So(this).R(r));if(Wo(r))return So(this.R(So(r)));if(0>this.X(hl)&&0>r.X(hl))return jo(this.ea()*r.ea());for(var e=this.g.length+r.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<r.g.length;l++){var d=this.D(s)>>>16,p=65535&this.D(s),T=r.D(l)>>>16,F=65535&r.D(l);n[2*s+2*l]+=p*F,va(n,2*s+2*l),n[2*s+2*l+1]+=d*F,va(n,2*s+2*l+1),n[2*s+2*l+1]+=p*T,va(n,2*s+2*l+1),n[2*s+2*l+2]+=d*T,va(n,2*s+2*l+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new Hi(n,0)},de.gb=function(r){return Ma(this,r).h},de.and=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&r.D(s);return new Hi(n,this.h&r.h)},de.or=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|r.D(s);return new Hi(n,this.h|r.h)},de.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^r.D(s);return new Hi(n,this.h^r.h)},oa.prototype.createWebChannel=oa.prototype.g,lo.prototype.send=lo.prototype.u,lo.prototype.open=lo.prototype.m,lo.prototype.close=lo.prototype.close,Wr.NO_ERROR=0,Wr.TIMEOUT=8,Wr.HTTP_ERROR=6,Hn.COMPLETE="complete",No.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",Sn.prototype.listen=Sn.prototype.O,ui.prototype.listenOnce=ui.prototype.P,ui.prototype.getLastError=ui.prototype.Sa,ui.prototype.getLastErrorCode=ui.prototype.Ia,ui.prototype.getStatus=ui.prototype.da,ui.prototype.getResponseJson=ui.prototype.Wa,ui.prototype.getResponseText=ui.prototype.ja,ui.prototype.send=ui.prototype.ha,ui.prototype.setWithCredentials=ui.prototype.Oa,Uo.prototype.digest=Uo.prototype.l,Uo.prototype.reset=Uo.prototype.reset,Uo.prototype.update=Uo.prototype.j,Hi.prototype.add=Hi.prototype.add,Hi.prototype.multiply=Hi.prototype.R,Hi.prototype.modulo=Hi.prototype.gb,Hi.prototype.compare=Hi.prototype.X,Hi.prototype.toNumber=Hi.prototype.ea,Hi.prototype.toString=Hi.prototype.toString,Hi.prototype.getBits=Hi.prototype.D,Hi.fromNumber=jo,Hi.fromString=function ga(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return So(ga(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=jo(Math.pow(e,8)),s=ts,l=0;l<r.length;l+=8){var d=Math.min(8,r.length-l),p=parseInt(r.substring(l,l+d),e);8>d?(d=jo(Math.pow(e,d)),s=s.R(d).add(jo(p))):s=(s=s.R(n)).add(jo(p))}return s};var Gs=Te.createWebChannelTransport=function(){return new oa},C=Te.getStatEventTarget=function(){return hi()},re=Te.ErrorCode=Wr,U=Te.EventType=Hn,X=Te.Event=Ln,Ae=Te.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pt=Te.FetchXmlHttpFactory=ao,It=Te.WebChannel=No,bn=Te.XhrIo=ui,ir=Te.Md5=Uo,zi=Te.Integer=Hi;const Ki="@firebase/firestore";class Mn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");let lr="10.5.2";const Bi=new H.Yd("@firebase/firestore");function fr(){return Bi.logLevel}function Ns(r){Bi.setLogLevel(r)}function At(r,...e){if(Bi.logLevel<=H.in.DEBUG){const n=e.map(Fs);Bi.debug(`Firestore (${lr}): ${r}`,...n)}}function rr(r,...e){if(Bi.logLevel<=H.in.ERROR){const n=e.map(Fs);Bi.error(`Firestore (${lr}): ${r}`,...n)}}function pr(r,...e){if(Bi.logLevel<=H.in.WARN){const n=e.map(Fs);Bi.warn(`Firestore (${lr}): ${r}`,...n)}}function Fs(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Ht(r="Unexpected state"){const e=`FIRESTORE (${lr}) INTERNAL ASSERTION FAILED: `+r;throw rr(e),new Error(e)}function wn(r,e){r||Ht()}function Vc(r,e){r||Ht()}function Pt(r,e){return r}const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends fe.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class uc{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Eu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mn.UNAUTHENTICATED))}shutdown(){}}class qa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Go{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let l=this.i;const d=K=>this.i!==l?(l=this.i,n(K)):Promise.resolve();let p=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Ci,e.enqueueRetryable(()=>d(this.currentUser))};const T=()=>{const K=p;e.enqueueRetryable((0,u.Z)(function*(){yield K.promise,yield d(s.currentUser)}))},F=K=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(K=>F(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?F(K):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Ci)}},0),T()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(wn("string"==typeof s.accessToken),new uc(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wn(null===e||"string"==typeof e),new Mn(e)}}class Iu{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ld{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Iu(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wo{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=d=>{null!=d.error&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const p=d.token!==this.R;return this.R=d.token,At("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const l=d=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>l(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?l(d):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wn("string"==typeof n.token),this.R=n.token,new dc(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function cd(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class pl{static newId(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=cd(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[d]%62))}return s}}function Jn(r,e){return r<e?-1:r>e?1:0}function ya(r,e,n){return r.length===e.length&&r.every((s,l)=>n(s,e[l]))}function fc(r){return r+"\0"}class pn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Rt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Rt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new pn(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jn(this.nanoseconds,e.nanoseconds):Jn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fn(e)}static min(){return new Fn(new pn(0,0))}static max(){return new Fn(new pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ba{constructor(e,n,s){void 0===n?n=0:n>e.length&&Ht(),void 0===s?s=e.length-n:s>e.length-n&&Ht(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===ba.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ba?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const d=e.get(l),p=n.get(l);if(d<p)return-1;if(d>p)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ai extends ba{construct(e,n,s){return new Ai(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Rt(gt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Ai(n)}static emptyPath(){return new Ai([])}}const ml=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ir extends ba{construct(e,n,s){return new Ir(e,n,s)}static isValidIdentifier(e){return ml.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ir(["__name__"])}static fromServerFormat(e){const n=[];let s="",l=0;const d=()=>{if(0===s.length)throw new Rt(gt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let p=!1;for(;l<e.length;){const T=e[l];if("\\"===T){if(l+1===e.length)throw new Rt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[l+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Rt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=F,l+=2}else"`"===T?(p=!p,l++):"."!==T||p?(s+=T,l++):(d(),l++)}if(d(),p)throw new Rt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ir(n)}static emptyPath(){return new Ir([])}}class Jt{constructor(e){this.path=e}static fromPath(e){return new Jt(Ai.fromString(e))}static fromName(e){return new Jt(Ai.fromString(e).popFirst(5))}static empty(){return new Jt(Ai.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ai.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ai.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jt(new Ai(e.slice()))}}class Hr{constructor(e,n,s,l){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=l}}function pc(r){return r.fields.find(e=>2===e.kind)}function br(r){return r.fields.filter(e=>2!==e.kind)}Hr.UNKNOWN_ID=-1;class ks{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ct{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ct(0,qo.min())}}function Si(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Fn.fromTimestamp(1e9===s?new pn(n+1,0):new pn(n,s));return new qo(l,Jt.empty(),e)}function Es(r){return new qo(r.readTime,r.key,-1)}class qo{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new qo(Fn.min(),Jt.empty(),-1)}static max(){return new qo(Fn.max(),Jt.empty(),-1)}}function co(r,e){let n=r.readTime.compareTo(e.readTime);return 0!==n?n:(n=Jt.comparator(r.documentKey,e.documentKey),0!==n?n:Jn(r.largestBatchId,e.largestBatchId))}const Ra="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ea{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zr(r){return qs.apply(this,arguments)}function qs(){return qs=(0,u.Z)(function*(r){if(r.code!==gt.FAILED_PRECONDITION||r.message!==Ra)throw r;At("LocalStore","Unexpectedly lost primary lease")}),qs.apply(this,arguments)}class it{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new it((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(n,d).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):it.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):it.reject(n)}static resolve(e){return new it((n,s)=>{n(e)})}static reject(e){return new it((n,s)=>{s(e)})}static waitFor(e){return new it((n,s)=>{let l=0,d=0,p=!1;e.forEach(T=>{++l,T.next(()=>{++d,p&&d===l&&n()},F=>s(F))}),p=!0,d===l&&n()})}static or(e){let n=it.resolve(!1);for(const s of e)n=n.next(l=>l?it.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,d)=>{s.push(n.call(this,l,d))}),this.waitFor(s)}static mapArray(e,n){return new it((s,l)=>{const d=e.length,p=new Array(d);let T=0;for(let F=0;F<d;F++){const K=F;n(e[K]).next(se=>{p[K]=se,++T,T===d&&s(p)},se=>l(se))}})}static doWhile(e,n){return new it((s,l)=>{const d=()=>{!0===e()?n().next(()=>{d()},l):s()};d()})}}class ls{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ci,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new yo(e,n.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=R(s.target.error);this.V.reject(new yo(e,l))}}static open(e,n,s,l){try{return new ls(n,e.transaction(l,s))}catch(d){throw new yo(n,d)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(At("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new w(n)}}class Ks{constructor(e,n,s){this.name=e,this.version=n,this.p=s,12.2===Ks.S((0,fe.z$)())&&rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return At("SimpleDb","Removing database:",e),M(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,fe.hl)())return!1;if(Ks.C())return!0;const e=(0,fe.z$)(),n=Ks.S(e),s=0<n&&n<10,l=Ks.v(e),d=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var n=this;return(0,u.Z)(function*(){return n.db||(At("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,l)=>{const d=indexedDB.open(n.name,n.version);d.onsuccess=p=>{s(p.target.result)},d.onblocked=()=>{l(new yo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=p=>{const T=p.target.error;l("VersionError"===T.name?new Rt(gt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new Rt(gt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new yo(e,T))},d.onupgradeneeded=p=>{At("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',p.oldVersion),n.p.N(p.target.result,d.transaction,p.oldVersion,n.version).next(()=>{At("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=s=>n.B(s)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,s,l){var d=this;return(0,u.Z)(function*(){const p="readonly"===n;let T=0;for(;;){++T;try{d.db=yield d.O(e);const F=ls.open(d.db,e,p?"readonly":"readwrite",s),K=l(F).next(se=>(F.g(),se)).catch(se=>(F.abort(se),it.reject(se))).toPromise();return K.catch(()=>{}),yield F.m,K}catch(F){const K=F,se="FirebaseError"!==K.name&&T<3;if(At("SimpleDb","Transaction failed with error:",K.message,"Retrying:",se),d.close(),!se)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ul{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return M(this.k.delete())}}class yo extends Rt{constructor(e,n){super(gt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function bo(r){return"IndexedDbTransactionError"===r.name}class w{constructor(e){this.store=e}put(e,n){let s;return void 0!==n?(At("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(At("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),M(s)}add(e){return At("SimpleDb","ADD",this.store.name,e,e),M(this.store.add(e))}get(e){return M(this.store.get(e)).next(n=>(void 0===n&&(n=null),At("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return At("SimpleDb","DELETE",this.store.name,e),M(this.store.delete(e))}count(){return At("SimpleDb","COUNT",this.store.name),M(this.store.count())}W(e,n){const s=this.options(e,n);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),d=[];return this.G(l,(p,T)=>{d.push(T)}).next(()=>d)}{const l=this.store.getAll(s.range);return new it((d,p)=>{l.onerror=T=>{p(T.target.error)},l.onsuccess=T=>{d(T.target.result)}})}}j(e,n){const s=this.store.getAll(e,null===n?void 0:n);return new it((l,d)=>{s.onerror=p=>{d(p.target.error)},s.onsuccess=p=>{l(p.target.result)}})}H(e,n){At("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,n);s.J=!1;const l=this.cursor(s);return this.G(l,(d,p,T)=>T.delete())}Y(e,n){let s;n?s=e:(s={},n=e);const l=this.cursor(s);return this.G(l,n)}Z(e){const n=this.cursor({});return new it((s,l)=>{n.onerror=d=>{const p=R(d.target.error);l(p)},n.onsuccess=d=>{const p=d.target.result;p?e(p.primaryKey,p.value).next(T=>{T?p.continue():s()}):s()}})}G(e,n){const s=[];return new it((l,d)=>{e.onerror=p=>{d(p.target.error)},e.onsuccess=p=>{const T=p.target.result;if(!T)return void l();const F=new Ul(T),K=n(T.primaryKey,T.value,F);if(K instanceof it){const se=K.catch(ye=>(F.done(),it.reject(ye)));s.push(se)}F.isDone?l():null===F.$?T.continue():T.continue(F.$)}}).next(()=>it.waitFor(s))}options(e,n){let s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function M(r){return new it((e,n)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const l=R(s.target.error);n(l)}})}let E=!1;function R(r){const e=Ks.S((0,fe.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const s=new Rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return E||(E=!0,setTimeout(()=>{throw s},0)),s}}return r}class q{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;At("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,u.Z)(function*(){n.task=null;try{At("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(s){bo(s)?At("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield zr(s)}yield n.ee(6e4)}))}}class ce{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,u.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>n.ne(s,e))})()}ne(e,n){const s=new Set;let l=n,d=!0;return it.doWhile(()=>!0===d&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return At("IndexBackiller",`Processing collection: ${p}`),this.re(e,p,l).next(T=>{l-=T,s.add(p)});d=!1})).next(()=>n-l)}re(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,s).next(d=>{const p=d.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.ie(l,d)).next(T=>(At("IndexBackiller",`Updating offset: ${T}`),this.localStore.indexManager.updateCollectionGroup(e,n,T))).next(()=>p.size)}))}ie(e,n){let s=e;return n.changes.forEach((l,d)=>{const p=Es(d);co(p,s)>0&&(s=p)}),new qo(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}let De=(()=>{class r{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=l=>this.se(l),this.oe=l=>s.writeSequenceNumber(l))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return r._e=-1,r})();function lt(r){return null==r}function ct(r){return 0===r&&1/r==-1/0}function an(r){return"number"==typeof r&&Number.isInteger(r)&&!ct(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function An(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Ni(e)),e=Fr(r.get(n),e);return Ni(e)}function Fr(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const d=r.charAt(l);switch(d){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=d}}return n}function Ni(r){return r+"\x01\x01"}function uo(r){const e=r.length;if(wn(e>=2),2===e)return wn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Ai.emptyPath();const n=e-2,s=[];let l="";for(let d=0;d<e;){const p=r.indexOf("\x01",d);switch((p<0||p>n)&&Ht(),r.charAt(p+1)){case"\x01":const T=r.substring(d,p);let F;0===l.length?F=T:(l+=T,F=l,l=""),s.push(F);break;case"\x10":l+=r.substring(d,p),l+="\0";break;case"\x11":l+=r.substring(d,p+1);break;default:Ht()}d=p+2}return new Ai(s)}const Ls=["userId","batchId"];function la(r,e){return[r,An(e)]}function Pa(r,e,n){return[r,An(e),n]}const Oa={},jl=["prefixPath","collectionGroup","readTime","documentId"],ud=["prefixPath","collectionGroup","documentId"],dd=["collectionGroup","readTime","prefixPath","documentId"],ns=["canonicalId","targetId"],ca=["targetId","path"],Kr=["path","targetId"],Uc=["collectionId","parent"],xu=["indexId","uid"],Cu=["uid","sequenceNumber"],bh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jc=["indexId","uid","orderedDocumentKey"],hd=["userId","collectionPath","documentId"],Hl=["userId","collectionPath","largestBatchId"],ua=["userId","collectionGroup","largestBatchId"],mc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gc=[...mc,"documentOverlays"],Na=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zl=Na,Fa=[...zl,"indexConfiguration","indexState","indexEntries"];class $l extends Ea{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Mo(r,e){const n=Pt(r);return Ks.M(n.ae,e)}function Hc(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function is(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function ka(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class wr{constructor(e,n){this.comparator=e,this.root=n||Eo.EMPTY}insert(e,n){return new wr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Eo.BLACK,null,null))}remove(e){return new wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Eo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=n?s(e.key,n):1,n&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Eo{constructor(e,n,s,l,d){this.key=e,this.value=n,this.color=s??Eo.RED,this.left=l??Eo.EMPTY,this.right=d??Eo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,d){return new Eo(e??this.key,n??this.value,s??this.color,l??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const d=s(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,n,s),null):0===d?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Eo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return Eo.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Eo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Eo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ht();const e=this.left.check();if(e!==this.right.check())throw Ht();return e+(this.isRed()?0:1)}}Eo.EMPTY=null,Eo.RED=!0,Eo.BLACK=!1,Eo.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht()}get value(){throw Ht()}get color(){throw Ht()}get left(){throw Ht()}get right(){throw Ht()}copy(e,n,s,l,d){return this}insert(e,n,s){return new Eo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cr{constructor(e){this.comparator=e,this.data=new wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Tu(this.data.getIterator())}getIteratorFrom(e){return new Tu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof cr)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new cr(this.comparator);return n.data=e,n}}class Tu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function La(r){return r.hasNext()?r.getNext():void 0}class Vs{constructor(e){this.fields=e,e.sort(Ir.comparator)}static empty(){return new Vs([])}unionWith(e){let n=new cr(Ir.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Vs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class da extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Zs(){return typeof atob<"u"}class to{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new da("Invalid base64 string: "+d):d}}(e);return new to(n)}static fromUint8Array(e){const n=function(l){let d="";for(let p=0;p<l.length;++p)d+=String.fromCharCode(l[p]);return d}(e);return new to(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}to.EMPTY_BYTE_STRING=new to("");const _c=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(r){if(wn(!!r),"string"==typeof r){let e=0;const n=_c.exec(r);if(wn(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Zr(r.seconds),nanos:Zr(r.nanos)}}function Zr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function ws(r){return"string"==typeof r?to.fromBase64String(r):to.fromUint8Array(r)}function vc(r){var e,n;return"server_timestamp"===(null===(n=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gl(r){const e=r.mapValue.fields.__previous_value__;return vc(e)?gl(e):e}function Wl(r){const e=Is(r.mapValue.fields.__local_write_time__.timestampValue);return new pn(e.seconds,e.nanos)}class fd{constructor(e,n,s,l,d,p,T,F,K){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=T,this.longPollingOptions=F,this.useFetchStreams=K}}class Ho{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ho("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ho&&e.projectId===this.projectId&&e.database===this.database}}const Va={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_l={nullValue:"NULL_VALUE"};function xs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vc(r)?4:Ts(r)?9007199254740991:10:Ht()}function Cs(r,e){if(r===e)return!0;const n=xs(r);if(n!==xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wl(r).isEqual(Wl(e));case 3:return function(l,d){if("string"==typeof l.timestampValue&&"string"==typeof d.timestampValue&&l.timestampValue.length===d.timestampValue.length)return l.timestampValue===d.timestampValue;const p=Is(l.timestampValue),T=Is(d.timestampValue);return p.seconds===T.seconds&&p.nanos===T.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return d=e,ws(r.bytesValue).isEqual(ws(d.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(l,d){return Zr(l.geoPointValue.latitude)===Zr(d.geoPointValue.latitude)&&Zr(l.geoPointValue.longitude)===Zr(d.geoPointValue.longitude)}(r,e);case 2:return function(l,d){if("integerValue"in l&&"integerValue"in d)return Zr(l.integerValue)===Zr(d.integerValue);if("doubleValue"in l&&"doubleValue"in d){const p=Zr(l.doubleValue),T=Zr(d.doubleValue);return p===T?ct(p)===ct(T):isNaN(p)&&isNaN(T)}return!1}(r,e);case 9:return ya(r.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:return function(l,d){const p=l.mapValue.fields||{},T=d.mapValue.fields||{};if(Hc(p)!==Hc(T))return!1;for(const F in p)if(p.hasOwnProperty(F)&&(void 0===T[F]||!Cs(p[F],T[F])))return!1;return!0}(r,e);default:return Ht()}var d}function Ba(r,e){return void 0!==(r.values||[]).find(n=>Cs(n,e))}function ha(r,e){if(r===e)return 0;const n=xs(r),s=xs(e);if(n!==s)return Jn(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jn(r.booleanValue,e.booleanValue);case 2:return function(d,p){const T=Zr(d.integerValue||d.doubleValue),F=Zr(p.integerValue||p.doubleValue);return T<F?-1:T>F?1:T===F?0:isNaN(T)?isNaN(F)?0:-1:1}(r,e);case 3:return yc(r.timestampValue,e.timestampValue);case 4:return yc(Wl(r),Wl(e));case 5:return Jn(r.stringValue,e.stringValue);case 6:return function(d,p){const T=ws(d),F=ws(p);return T.compareTo(F)}(r.bytesValue,e.bytesValue);case 7:return function(d,p){const T=d.split("/"),F=p.split("/");for(let K=0;K<T.length&&K<F.length;K++){const se=Jn(T[K],F[K]);if(0!==se)return se}return Jn(T.length,F.length)}(r.referenceValue,e.referenceValue);case 8:return function(d,p){const T=Jn(Zr(d.latitude),Zr(p.latitude));return 0!==T?T:Jn(Zr(d.longitude),Zr(p.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(d,p){const T=d.values||[],F=p.values||[];for(let K=0;K<T.length&&K<F.length;++K){const se=ha(T[K],F[K]);if(se)return se}return Jn(T.length,F.length)}(r.arrayValue,e.arrayValue);case 10:return function(d,p){if(d===Va.mapValue&&p===Va.mapValue)return 0;if(d===Va.mapValue)return 1;if(p===Va.mapValue)return-1;const T=d.fields||{},F=Object.keys(T),K=p.fields||{},se=Object.keys(K);F.sort(),se.sort();for(let ye=0;ye<F.length&&ye<se.length;++ye){const je=Jn(F[ye],se[ye]);if(0!==je)return je;const dt=ha(T[F[ye]],K[se[ye]]);if(0!==dt)return dt}return Jn(F.length,se.length)}(r.mapValue,e.mapValue);default:throw Ht()}}function yc(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Jn(r,e);const n=Is(r),s=Is(e),l=Jn(n.seconds,s.seconds);return 0!==l?l:Jn(n.nanos,s.nanos)}function Ka(r){return $c(r)}function $c(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Is(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?ws(r.bytesValue).toBase64():"referenceValue"in r?Jt.fromName(r.referenceValue).toString():"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const d of n.values||[])l?l=!1:s+=",",s+=$c(d);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",d=!0;for(const p of s)d?d=!1:l+=",",l+=`${p}:${$c(n.fields[p])}`;return l+"}"}(r.mapValue):Ht()}function Ys(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Gl(r){return!!r&&"integerValue"in r}function cs(r){return!!r&&"arrayValue"in r}function Qs(r){return!!r&&"nullValue"in r}function Wc(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ua(r){return!!r&&"mapValue"in r}function Za(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return is(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Za(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Za(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Ts(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function bc(r){return"nullValue"in r?_l:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Ys(Ho.empty(),Jt.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Ht()}function Ko(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Ys(Ho.empty(),Jt.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Va:Ht()}function pd(r,e){const n=ha(r.value,e.value);return 0!==n?n:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Ya(r,e){const n=ha(r.value,e.value);return 0!==n?n:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class no{constructor(e){this.value=e}static empty(){return new no({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ua(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Za(n)}setAll(e){let n=Ir.emptyPath(),s={},l=[];e.forEach((p,T)=>{if(!n.isImmediateParentOf(T)){const F=this.getFieldsMap(n);this.applyChanges(F,s,l),s={},l=[],n=T.popLast()}p?s[T.lastSegment()]=Za(p):l.push(T.lastSegment())});const d=this.getFieldsMap(n);this.applyChanges(d,s,l)}delete(e){const n=this.field(e.popLast());Ua(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Ua(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){is(n,(l,d)=>e[l]=d);for(const l of s)delete e[l]}clone(){return new no(Za(this.value))}}function Du(r){const e=[];return is(r.fields,(n,s)=>{const l=new Ir([n]);if(Ua(s)){const d=Du(s.mapValue).fields;if(0===d.length)e.push(l);else for(const p of d)e.push(l.child(p))}else e.push(l)}),new Vs(e)}class kr{constructor(e,n,s,l,d,p,T){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=d,this.data=p,this.documentState=T}static newInvalidDocument(e){return new kr(e,0,Fn.min(),Fn.min(),Fn.min(),no.empty(),0)}static newFoundDocument(e,n,s,l){return new kr(e,1,n,Fn.min(),s,l,0)}static newNoDocument(e,n){return new kr(e,2,n,Fn.min(),Fn.min(),no.empty(),0)}static newUnknownDocument(e,n){return new kr(e,3,n,Fn.min(),Fn.min(),no.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=no.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=no.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ia{constructor(e,n){this.position=e,this.inclusive=n}}function ja(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const d=e[l],p=r.position[l];if(s=d.field.isKeyField()?Jt.comparator(Jt.fromName(p.referenceValue),n.key):ha(p,n.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function Qa(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Cs(r.position[n],e.position[n]))return!1;return!0}class wa{constructor(e,n="asc"){this.field=e,this.dir=n}}function Au(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Gc{}class mi extends Gc{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new wh(e,n,s):"array-contains"===n?new ql(e,s):"in"===n?new qc(e,s):"not-in"===n?new S(e,s):"array-contains-any"===n?new g(e,s):new mi(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new xh(e,s):new Ro(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ha(n,this.value)):null!==n&&xs(this.value)===xs(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends Gc{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Er(e,n)}matches(e){return yl(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function yl(r){return"and"===r.op}function md(r){return"or"===r.op}function gd(r){return Eh(r)&&yl(r)}function Eh(r){for(const e of r.filters)if(e instanceof Er)return!1;return!0}function _d(r){if(r instanceof mi)return r.field.canonicalString()+r.op.toString()+Ka(r.value);if(gd(r))return r.filters.map(e=>_d(e)).join(",");{const e=r.filters.map(n=>_d(n)).join(",");return`${r.op}(${e})`}}function vd(r,e){return r instanceof mi?(s=r,(l=e)instanceof mi&&s.op===l.op&&s.field.isEqual(l.field)&&Cs(s.value,l.value)):r instanceof Er?function(s,l){return l instanceof Er&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((d,p,T)=>d&&vd(p,l.filters[T]),!0)}(r,e):void Ht();var s,l}function Ih(r,e){const n=r.filters.concat(e);return Er.create(n,r.op)}function Ha(r){return r instanceof mi?`${(n=r).field.canonicalString()} ${n.op} ${Ka(n.value)}`:r instanceof Er?function(n){return n.op.toString()+" {"+n.getFilters().map(Ha).join(" ,")+"}"}(r):"Filter";var n}class wh extends mi{constructor(e,n,s){super(e,n,s),this.key=Jt.fromName(s.referenceValue)}matches(e){const n=Jt.comparator(e.key,this.key);return this.matchesComparison(n)}}class xh extends mi{constructor(e,n){super(e,"in",n),this.keys=yd(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ro extends mi{constructor(e,n){super(e,"not-in",n),this.keys=yd(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yd(r,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>Jt.fromName(s.referenceValue))}class ql extends mi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cs(n)&&Ba(n.arrayValue,this.value)}}class qc extends mi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ba(this.value.arrayValue,n)}}class S extends mi{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ba(this.value.arrayValue,n)}}class g extends mi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cs(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ba(this.value.arrayValue,s))}}class m{constructor(e,n=null,s=[],l=[],d=null,p=null,T=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=p,this.endAt=T,this.ce=null}}function y(r,e=null,n=[],s=[],l=null,d=null,p=null){return new m(r,e,n,s,l,d,p)}function B(r){const e=Pt(r);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>_d(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),lt(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ka(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ka(s)).join(",")),e.ce=n}return e.ce}function Q(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Au(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!vd(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Qa(r.startAt,e.startAt)&&Qa(r.endAt,e.endAt)}function pe(r){return Jt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function Se(r,e){return r.filters.filter(n=>n instanceof mi&&n.field.isEqual(e))}function He(r,e,n){let s=_l,l=!0;for(const d of Se(r,e)){let p=_l,T=!0;switch(d.op){case"<":case"<=":p=bc(d.value);break;case"==":case"in":case">=":p=d.value;break;case">":p=d.value,T=!1;break;case"!=":case"not-in":p=_l}pd({value:s,inclusive:l},{value:p,inclusive:T})<0&&(s=p,l=T)}if(null!==n)for(let d=0;d<r.orderBy.length;++d)if(r.orderBy[d].field.isEqual(e)){const p=n.position[d];pd({value:s,inclusive:l},{value:p,inclusive:n.inclusive})<0&&(s=p,l=n.inclusive);break}return{value:s,inclusive:l}}function ut(r,e,n){let s=Va,l=!0;for(const d of Se(r,e)){let p=Va,T=!0;switch(d.op){case">=":case">":p=Ko(d.value),T=!1;break;case"==":case"in":case"<=":p=d.value;break;case"<":p=d.value,T=!1;break;case"!=":case"not-in":p=Va}Ya({value:s,inclusive:l},{value:p,inclusive:T})>0&&(s=p,l=T)}if(null!==n)for(let d=0;d<r.orderBy.length;++d)if(r.orderBy[d].field.isEqual(e)){const p=n.position[d];Ya({value:s,inclusive:l},{value:p,inclusive:n.inclusive})>0&&(s=p,l=n.inclusive);break}return{value:s,inclusive:l}}class Wt{constructor(e,n=null,s=[],l=[],d=null,p="F",T=null,F=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=p,this.startAt=T,this.endAt=F,this.le=null,this.he=null,this.Pe=null}}function en(r,e,n,s,l,d,p,T){return new Wt(r,e,n,s,l,d,p,T)}function Wn(r){return new Wt(r)}function ei(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function kn(r){return null!==r.collectionGroup}function Pn(r){const e=Pt(r);if(null===e.le){e.le=[];const n=new Set;for(const d of e.explicitOrderBy)e.le.push(d),n.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let T=new cr(Ir.comparator);return p.filters.forEach(F=>{F.getFlattenedFilters().forEach(K=>{K.isInequality()&&(T=T.add(K.field))})}),T})(e).forEach(d=>{n.has(d.canonicalString())||d.isKeyField()||e.le.push(new wa(d,s))}),n.has(Ir.keyField().canonicalString())||e.le.push(new wa(Ir.keyField(),s))}return e.le}function oi(r){const e=Pt(r);return e.he||(e.he=function xr(r,e){if("F"===r.limitType)return y(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(l=>new wa(l.field,"desc"===l.dir?"asc":"desc"));const n=r.endAt?new Ia(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ia(r.startAt.position,r.startAt.inclusive):null;return y(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}(e,Pn(r))),e.he}function Yr(r,e){const n=r.filters.concat([e]);return new Wt(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ho(r,e,n){return new Wt(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Lr(r,e){return Q(oi(r),oi(e))&&r.limitType===e.limitType}function Bs(r){return`${B(oi(r))}|lt:${r.limitType}`}function Po(r){return`Query(target=${function(n){let s=n.path.canonicalString();return null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>Ha(l)).join(", ")}]`),lt(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>{return`${(p=l).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Ka(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Ka(l)).join(",")),`Target(${s})`}(oi(r))}; limitType=${r.limitType})`}function Qr(r,e){return e.isFoundDocument()&&function(s,l){const d=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):Jt.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(r,e)&&function(s,l){for(const d of Pn(s))if(!d.field.isKeyField()&&null===l.data.field(d.field))return!1;return!0}(r,e)&&function(s,l){for(const d of s.filters)if(!d.matches(l))return!1;return!0}(r,e)&&(l=e,!((s=r).startAt&&!function(p,T,F){const K=ja(p,T,F);return p.inclusive?K<=0:K<0}(s.startAt,Pn(s),l)||s.endAt&&!function(p,T,F){const K=ja(p,T,F);return p.inclusive?K>=0:K>0}(s.endAt,Pn(s),l)));var s,l}function Xs(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function us(r){return(e,n)=>{let s=!1;for(const l of Pn(r)){const d=xa(l,e,n);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function xa(r,e,n){const s=r.field.isKeyField()?Jt.comparator(e.key,n.key):function(d,p,T){const F=p.data.field(d),K=T.data.field(d);return null!==F&&null!==K?ha(F,K):Ht()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ht()}}class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,e))return d}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,n]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(n,s)=>{for(const[l,d]of s)e(l,d)})}isEmpty(){return ka(this.inner)}size(){return this.innerSize}}const b=new wr(Jt.comparator);function f(){return b}const _=new wr(Jt.comparator);function x(...r){let e=_;for(const n of r)e=e.insert(n.key,n);return e}function W(r){let e=_;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ne(){return et()}function Re(){return et()}function et(){return new Js(r=>r.toString(),(r,e)=>r.isEqual(e))}const Tt=new wr(Jt.comparator),dn=new cr(Jt.comparator);function Nt(...r){let e=dn;for(const n of r)e=e.add(n);return e}const yi=new cr(Jn);function Oi(){return yi}function fa(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ct(e)?"-0":e}}function Kl(r){return{integerValue:""+r}}function fo(r,e){return an(e)?Kl(e):fa(r,e)}class Ds{constructor(){this._=void 0}}function As(r,e,n){return r instanceof El?function(l,d){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return d&&vc(d)&&(d=gl(d)),d&&(p.fields.__previous_value__=d),{mapValue:p}}(n,e):r instanceof Yl?Su(r,e):r instanceof Il?Mu(r,e):function(l,d){const p=Zl(l,d),T=np(p)+np(l.Ie);return Gl(p)&&Gl(l.Ie)?Kl(T):fa(l.serializer,T)}(r,e)}function bl(r,e,n){return r instanceof Yl?Su(r,e):r instanceof Il?Mu(r,e):n}function Zl(r,e){return r instanceof Ql?Gl(s=e)||(d=s)&&"doubleValue"in d?e:{integerValue:0}:null;var s,d}class El extends Ds{}class Yl extends Ds{constructor(e){super(),this.elements=e}}function Su(r,e){const n=Ch(e);for(const s of r.elements)n.some(l=>Cs(l,s))||n.push(s);return{arrayValue:{values:n}}}class Il extends Ds{constructor(e){super(),this.elements=e}}function Mu(r,e){let n=Ch(e);for(const s of r.elements)n=n.filter(l=>!Cs(l,s));return{arrayValue:{values:n}}}class Ql extends Ds{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function np(r){return Zr(r.integerValue||r.doubleValue)}function Ch(r){return cs(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Th{constructor(e,n){this.field=e,this.transform=n}}class kb{constructor(e,n){this.version=e,this.transformResults=n}}class xo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xo}static exists(e){return new xo(void 0,e)}static updateTime(e){return new xo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ip(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Dh{}function bd(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Xl(r.key,xo.none()):new Xa(r.key,r.data,xo.none());{const n=r.data,s=no.empty();let l=new cr(Ir.comparator);for(let d of e.fields)if(!l.has(d)){let p=n.field(d);null===p&&d.length>1&&(d=d.popLast(),p=n.field(d)),null===p?s.delete(d):s.set(d,p),l=l.add(d)}return new wl(r.key,s,new Vs(l.toArray()),xo.none())}}function Ah(r,e,n){r instanceof Xa?function(l,d,p){const T=l.value.clone(),F=Ed(l.fieldTransforms,d,p.transformResults);T.setAll(F),d.convertToFoundDocument(p.version,T).setHasCommittedMutations()}(r,e,n):r instanceof wl?function(l,d,p){if(!ip(l.precondition,d))return void d.convertToUnknownDocument(p.version);const T=Ed(l.fieldTransforms,d,p.transformResults),F=d.data;F.setAll(op(l)),F.setAll(T),d.convertToFoundDocument(p.version,F).setHasCommittedMutations()}(r,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ru(r,e,n,s){return r instanceof Xa?function(d,p,T,F){if(!ip(d.precondition,p))return T;const K=d.value.clone(),se=Id(d.fieldTransforms,F,p);return K.setAll(se),p.convertToFoundDocument(p.version,K).setHasLocalMutations(),null}(r,e,n,s):r instanceof wl?function(d,p,T,F){if(!ip(d.precondition,p))return T;const K=Id(d.fieldTransforms,F,p),se=p.data;return se.setAll(op(d)),se.setAll(K),p.convertToFoundDocument(p.version,se).setHasLocalMutations(),null===T?null:T.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(ye=>ye.field))}(r,e,n,s):(T=n,ip(r.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):T);var p,T}function hg(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),d=Zl(s.transform,l||null);null!=d&&(null===n&&(n=no.empty()),n.set(s.field,d))}return n||null}function rp(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=r.fieldTransforms)&&void 0===l||s&&l&&ya(s,l,(d,p)=>function Fb(r,e){return r.field.isEqual(e.field)&&(l=e.transform,(s=r.transform)instanceof Yl&&l instanceof Yl||s instanceof Il&&l instanceof Il?ya(s.elements,l.elements,Cs):s instanceof Ql&&l instanceof Ql?Cs(s.Ie,l.Ie):s instanceof El&&l instanceof El);var s,l}(d,p))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var s,l}class Xa extends Dh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class wl extends Dh{constructor(e,n,s,l,d=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function op(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Ed(r,e,n){const s=new Map;wn(r.length===n.length);for(let l=0;l<n.length;l++){const d=r[l],p=d.transform,T=e.data.field(d.field);s.set(d.field,bl(p,T,n[l]))}return s}function Id(r,e,n){const s=new Map;for(const l of r){const d=l.transform,p=n.data.field(l.field);s.set(l.field,As(d,p,e))}return s}class Xl extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sp extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ap{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&Ah(d,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ru(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ru(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Re();return this.mutations.forEach(l=>{const d=e.get(l.key),p=d.overlayedDocument;let T=this.applyToLocalView(p,d.mutatedFields);T=n.has(l.key)?null:T;const F=bd(p,T);null!==F&&s.set(l.key,F),p.isValidDocument()||p.convertToNoDocument(Fn.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Nt())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(n,s)=>rp(n,s))&&ya(this.baseMutations,e.baseMutations,(n,s)=>rp(n,s))}}class lp{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){wn(e.mutations.length===s.length);let l=Tt;const d=e.mutations;for(let p=0;p<d.length;p++)l=l.insert(d[p].key,s[p].version);return new lp(e,n,s,l)}}class Sh{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pv{constructor(e,n){this.count=e,this.unchangedNames=n}}var Zo,ur;function up(r){switch(r){default:return Ht();case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0}}function fg(r){if(void 0===r)return rr("GRPC error has no .code"),gt.UNKNOWN;switch(r){case Zo.OK:return gt.OK;case Zo.CANCELLED:return gt.CANCELLED;case Zo.UNKNOWN:return gt.UNKNOWN;case Zo.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case Zo.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case Zo.INTERNAL:return gt.INTERNAL;case Zo.UNAVAILABLE:return gt.UNAVAILABLE;case Zo.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case Zo.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case Zo.NOT_FOUND:return gt.NOT_FOUND;case Zo.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case Zo.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case Zo.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case Zo.ABORTED:return gt.ABORTED;case Zo.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case Zo.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case Zo.DATA_LOSS:return gt.DATA_LOSS;default:return Ht()}}(ur=Zo||(Zo={}))[ur.OK=0]="OK",ur[ur.CANCELLED=1]="CANCELLED",ur[ur.UNKNOWN=2]="UNKNOWN",ur[ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ur[ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ur[ur.NOT_FOUND=5]="NOT_FOUND",ur[ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",ur[ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",ur[ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",ur[ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ur[ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ur[ur.ABORTED=10]="ABORTED",ur[ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",ur[ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",ur[ur.INTERNAL=13]="INTERNAL",ur[ur.UNAVAILABLE=14]="UNAVAILABLE",ur[ur.DATA_LOSS=15]="DATA_LOSS";function ea(){return new TextEncoder}const dp=new zi([4294967295,4294967295],0);function hp(r){const e=ea().encode(r),n=new ir;return n.update(e),new Uint8Array(n.digest())}function Rh(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new zi([n,s],0),new zi([l,d],0)]}class ds{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Jl(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=zi.fromNumber(this.Te)}de(e,n,s){let l=e.add(n.multiply(zi.fromNumber(s)));return 1===l.compare(dp)&&(l=new zi([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=hp(e),[s,l]=Rh(n);for(let d=0;d<this.hashCount;d++){const p=this.de(s,l,d);if(!this.Ae(p))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),p=new ds(d,l,n);return s.forEach(T=>p.insert(T)),p}insert(e){if(0===this.Te)return;const n=hp(e),[s,l]=Rh(n);for(let d=0;d<this.hashCount;d++){const p=this.de(s,l,d);this.Re(p)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pu{constructor(e,n,s,l,d){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Pu(Fn.min(),l,new wr(Jn),f(),Nt())}}class Ou{constructor(e,n,s,l,d){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ou(s,n,Nt(),Nt(),Nt())}}class Ph{constructor(e,n,s,l){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=l}}class fp{constructor(e,n){this.targetId=e,this.fe=n}}class pg{constructor(e,n,s=to.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class pp{constructor(){this.ge=0,this.pe=mg(),this.ye=to.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Nt(),n=Nt(),s=Nt();return this.pe.forEach((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Ht()}}),new Ou(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=mg()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class mv{constructor(e){this.Le=e,this.ke=new Map,this.qe=f(),this.Qe=mp(),this.Ke=new wr(Jn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:Ht()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,l)=>{this.je(l)&&n(l)})}Je(e){const n=e.targetId,s=e.fe.count,l=this.Ye(n);if(l){const d=l.target;if(pe(d))if(0===s){const p=new Jt(d.path);this.We(n,p,kr.newNoDocument(p,Fn.min()))}else wn(1===s);else{const p=this.Ze(n);if(p!==s){const T=this.Xe(e),F=T?this.et(T,e,p):1;0!==F&&(this.He(n),this.Ke=this.Ke.insert(n,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:d=0}=n;let p,T;try{p=ws(s).toUint8Array()}catch(F){if(F instanceof da)return pr("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{T=new ds(p,l,d)}catch(F){return pr(F instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===T.Te?null:T}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let l=0;return s.forEach(d=>{const p=this.Le.nt(),T=`projects/${p.projectId}/databases/${p.database}/documents/${d.path.canonicalString()}`;e.mightContain(T)||(this.We(n,d,null),l++)}),l}it(e){const n=new Map;this.ke.forEach((d,p)=>{const T=this.Ye(p);if(T){if(d.current&&pe(T.target)){const F=new Jt(T.target.path);null!==this.qe.get(F)||this.st(p,F)||this.We(p,F,kr.newNoDocument(F,e))}d.De&&(n.set(p,d.ve()),d.Fe())}});let s=Nt();this.Qe.forEach((d,p)=>{let T=!0;p.forEachWhile(F=>{const K=this.Ye(F);return!K||"TargetPurposeLimboResolution"===K.purpose||(T=!1,!1)}),T&&(s=s.add(d))}),this.qe.forEach((d,p)=>p.setReadTime(e));const l=new Pu(e,n,this.Ke,this.qe,s);return this.qe=f(),this.Qe=mp(),this.Ke=new wr(Jn),l}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const l=this.ze(e);this.st(e,n)?l.Me(n,1):l.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new pp,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new cr(Jn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||At("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new pp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function mp(){return new wr(Jt.comparator)}function mg(){return new wr(Jt.comparator)}const gv={asc:"ASCENDING",desc:"DESCENDING"},gp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_p={and:"AND",or:"OR"};class _v{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kc(r,e){return r.useProto3Json||lt(e)?e:{value:e}}function Nu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gg(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function _g(r,e){return Nu(r,e.toTimestamp())}function Oo(r){return wn(!!r),Fn.fromTimestamp(function(n){const s=Is(n);return new pn(s.seconds,s.nanos)}(r))}function Oh(r,e){return(s=r,new Ai(["projects",s.projectId,"databases",s.database])).child("documents").child(e).canonicalString();var s}function Zc(r){const e=Ai.fromString(r);return wn(Ip(e)),e}function Ec(r,e){return Oh(r.databaseId,e.path)}function Ja(r,e){const n=Zc(e);if(n.get(1)!==r.databaseId.projectId)throw new Rt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Rt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Jt(vg(n))}function wd(r,e){return Oh(r.databaseId,e)}function xd(r){const e=Zc(r);return 4===e.length?Ai.emptyPath():vg(e)}function Cd(r){return new Ai(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function vg(r){return wn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function yg(r,e,n){return{name:Ec(r,e),fields:n.value.mapValue.fields}}function bg(r,e,n){const s=Ja(r,e.name),l=Oo(e.updateTime),d=e.createTime?Oo(e.createTime):Fn.min(),p=new no({mapValue:{fields:e.fields}}),T=kr.newFoundDocument(s,l,d,p);return n&&T.setHasCommittedMutations(),n?T.setHasCommittedMutations():T}function Fu(r,e){let n;if(e instanceof Xa)n={update:yg(r,e.key,e.value)};else if(e instanceof Xl)n={delete:Ec(r,e.key)};else if(e instanceof wl)n={update:yg(r,e.key,e.data),updateMask:bv(e.fieldMask)};else{if(!(e instanceof sp))return Ht();n={verify:Ec(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(d,p){const T=p.transform;if(T instanceof El)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof Yl)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof Il)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof Ql)return{fieldPath:p.field.canonicalString(),increment:T.Ie};throw Ht()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:_g(r,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:Ht()),n;var d}function ku(r,e){const n=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?xo.updateTime(Oo(d.updateTime)):void 0!==d.exists?xo.exists(d.exists):xo.none():xo.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(p,T){let F=null;"setToServerValue"in T?(wn("REQUEST_TIME"===T.setToServerValue),F=new El):"appendMissingElements"in T?F=new Yl(T.appendMissingElements.values||[]):"removeAllFromArray"in T?F=new Il(T.removeAllFromArray.values||[]):"increment"in T?F=new Ql(p,T.increment):Ht();const K=Ir.fromServerFormat(T.fieldPath);return new Th(K,F)}(r,l)):[];var d;if(e.update){const l=Ja(r,e.update.name),d=new no({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Vs((e.updateMask.fieldPaths||[]).map(se=>Ir.fromServerFormat(se)));return new wl(l,d,p,n,s)}return new Xa(l,d,n,s)}if(e.delete){const l=Ja(r,e.delete);return new Xl(l,n)}if(e.verify){const l=Ja(r,e.verify);return new sp(l,n)}return Ht()}function Nh(r,e){return{documents:[wd(r,e.path)]}}function yp(r,e){const n={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(n.parent=wd(r,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wd(r,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(F){if(0!==F.length)return Dd(Er.create(F,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const d=function(F){if(0!==F.length)return F.map(K=>{return{field:Ic((ye=K).field),direction:Yc(ye.dir)};var ye})}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Kc(r,e.limit);return null!==p&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt={before:(F=e.startAt).inclusive,values:F.position}),e.endAt&&(n.structuredQuery.endAt=function(F){return{before:!F.inclusive,values:F.position}}(e.endAt)),n;var F}function Eg(r){let e=xd(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){wn(1===s);const se=n.from[0];se.allDescendants?l=se.collectionId:e=e.child(se.collectionId)}let d=[];n.where&&(d=function(ye){const je=Ep(ye);return je instanceof Er&&gd(je)?je.getFilters():[je]}(n.where));let p=[];n.orderBy&&(p=n.orderBy.map(je=>{return new wa(Td((qt=je).field),function(on){switch(on){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(qt.direction));var qt}));let T=null;n.limit&&(T=function(ye){let je;return je="object"==typeof ye?ye.value:ye,lt(je)?null:je}(n.limit));let F=null;var ye;n.startAt&&(F=new Ia((ye=n.startAt).values||[],!!ye.before));let K=null;return n.endAt&&(K=function(ye){return new Ia(ye.values||[],!ye.before)}(n.endAt)),en(e,l,p,d,T,"F",F,K)}function Ep(r){return void 0!==r.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Td(n.unaryFilter.field);return mi.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Td(n.unaryFilter.field);return mi.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Td(n.unaryFilter.field);return mi.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Td(n.unaryFilter.field);return mi.create(p,"!=",{nullValue:"NULL_VALUE"});default:return Ht()}}(r):void 0!==r.fieldFilter?mi.create(Td((n=r).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ht()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==r.compositeFilter?function(n){return Er.create(n.compositeFilter.filters.map(s=>Ep(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ht()}}(n.compositeFilter.op))}(r):Ht();var n}function Yc(r){return gv[r]}function Ig(r){return gp[r]}function wg(r){return _p[r]}function Ic(r){return{fieldPath:r.canonicalString()}}function Td(r){return Ir.fromServerFormat(r.fieldPath)}function Dd(r){return r instanceof mi?function(n){if("=="===n.op){if(Wc(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NAN"}};if(Qs(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Wc(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NOT_NAN"}};if(Qs(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ic(n.field),op:Ig(n.op),value:n.value}}}(r):r instanceof Er?function(n){const s=n.getFilters().map(l=>Dd(l));return 1===s.length?s[0]:{compositeFilter:{op:wg(n.op),filters:s}}}(r):Ht()}function bv(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ip(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class xl{constructor(e,n,s,l,d=Fn.min(),p=Fn.min(),T=to.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=T,this.expectedCount=F}withSequenceNumber(e){return new xl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wp{constructor(e){this.ut=e}}function Cp(r,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Qc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Ec(d=r.ut,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Nu(d,p.version.toTimestamp()),createTime:Nu(d,p.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:el(e.version)};else{if(!e.isUnknownDocument())return Ht();s.unknownDocument={path:n.path.toArray(),version:el(e.version)}}var d,p;return s}function Qc(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function el(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wc(r){const e=new pn(r.seconds,r.nanoseconds);return Fn.fromTimestamp(e)}function ec(r,e){const n=(e.baseMutations||[]).map(d=>ku(r.ut,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const s=e.mutations.map(d=>ku(r.ut,d)),l=pn.fromMillis(e.localWriteTimeMs);return new ap(e.batchId,l,n,s)}function xc(r){const e=wc(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?wc(r.lastLimboFreeSnapshotVersion):Fn.min();let s;return s=void 0!==r.query.documents?(wn(1===(d=r.query).documents.length),oi(Wn(xd(d.documents[0])))):function(d){return oi(Eg(d))}(r.query),new xl(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,n,to.fromBase64String(r.resumeToken));var d}function Tp(r,e){const n=el(e.snapshotVersion),s=el(e.lastLimboFreeSnapshotVersion);let l;l=pe(e.target)?Nh(r.ut,e.target):yp(r.ut,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:B(e.target),readTime:n,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function Ad(r){const e=Eg({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?ho(e,e.limit,"L"):e}function Xc(r,e){return new Sh(e.largestBatchId,ku(r.ut,e.overlayMutation))}function xg(r,e){const n=e.path.lastSegment();return[r,An(e.path.popLast()),n]}function Dp(r,e,n,s){return{indexId:r,uid:e.uid||"",sequenceNumber:n,readTime:el(s.readTime),documentKey:An(s.documentKey.path),largestBatchId:s.largestBatchId}}class Ev{getBundleMetadata(e,n){return Cg(e).get(n).next(s=>{if(s)return{id:(d=s).bundleId,createTime:wc(d.createTime),version:d.version};var d})}saveBundleMetadata(e,n){return Cg(e).put({bundleId:(l=n).id,createTime:el(Oo(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return Tg(e).get(n).next(s=>{if(s)return{name:(d=s).name,query:Ad(d.bundledQuery),readTime:wc(d.readTime)};var d})}saveNamedQuery(e,n){return Tg(e).put({name:(l=n).name,readTime:el(Oo(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Cg(r){return Mo(r,"bundles")}function Tg(r){return Mo(r,"namedQueries")}class Sd{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new Sd(e,n.uid||"")}getOverlay(e,n){return Lu(e).get(xg(this.userId,n)).next(s=>s?Xc(this.serializer,s):null)}getOverlays(e,n){const s=ne();return it.forEach(n,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,n,s){const l=[];return s.forEach((d,p)=>{const T=new Sh(n,p);l.push(this.lt(e,T))}),it.waitFor(l)}removeOverlaysForBatchId(e,n,s){const l=new Set;n.forEach(p=>l.add(An(p.getCollectionPath())));const d=[];return l.forEach(p=>{const T=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);d.push(Lu(e).H("collectionPathOverlayIndex",T))}),it.waitFor(d)}getOverlaysForCollection(e,n,s){const l=ne(),d=An(n),p=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Lu(e).W("collectionPathOverlayIndex",p).next(T=>{for(const F of T){const K=Xc(this.serializer,F);l.set(K.getKey(),K)}return l})}getOverlaysForCollectionGroup(e,n,s,l){const d=ne();let p;const T=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Lu(e).Y({index:"collectionGroupOverlayIndex",range:T},(F,K,se)=>{const ye=Xc(this.serializer,K);d.size()<l||ye.largestBatchId===p?(d.set(ye.getKey(),ye),p=ye.largestBatchId):se.done()}).next(()=>d)}lt(e,n){return Lu(e).put(function(l,d,p){const[T,F,K]=xg(d,p.mutation.key);return{userId:d,collectionPath:F,documentId:K,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:Fu(l.ut,p.mutation)}}(this.serializer,this.userId,n))}}function Lu(r){return Mo(r,"documentOverlays")}class Cl{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Zr(e.integerValue));else if("doubleValue"in e){const s=Zr(e.doubleValue);isNaN(s)?this.Tt(n,13):(this.Tt(n,15),ct(s)?n.Et(0):n.Et(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Tt(n,20),"string"==typeof s?n.dt(s):(n.dt(`${s.seconds||""}`),n.Et(s.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(ws(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Tt(n,45),n.Et(s.latitude||0),n.Et(s.longitude||0)}else"mapValue"in e?Ts(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Ht()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const s=e.fields||{};this.Tt(n,55);for(const l of Object.keys(s))this.At(l,n),this.Pt(s[l],n)}yt(e,n){const s=e.values||[];this.Tt(n,50);for(const l of s)this.Pt(l,n)}ft(e,n){this.Tt(n,37),Jt.fromName(e).path.forEach(s=>{this.Tt(n,60),this.wt(s,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function Ap(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Jc(r){const e=64-function(s){let l=0;for(let d=0;d<8;++d){const p=Ap(255&s[d]);if(l+=p,8!==p)break}return l}(r);return Math.ceil(e/8)}Cl.St=new Cl;class Iv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Dt(s.value),s=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Ft(s.value),s=n.next();this.Mt()}xt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Dt(s);else if(s<2048)this.Dt(960|s>>>6),this.Dt(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s);else{const l=n.codePointAt(0);this.Dt(240|l>>>18),this.Dt(128|63&l>>>12),this.Dt(128|63&l>>>6),this.Dt(128|63&l)}}this.Ct()}Ot(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const l=n.codePointAt(0);this.Ft(240|l>>>18),this.Ft(128|63&l>>>12),this.Ft(128|63&l>>>6),this.Ft(128|63&l)}}this.Mt()}Nt(e){const n=this.Bt(e),s=Jc(n);this.Lt(1+s),this.buffer[this.position++]=255&s;for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=255&n[l]}kt(e){const n=this.Bt(e),s=Jc(n);this.Lt(1+s),this.buffer[this.position++]=~(255&s);for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(d){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,d,!1),new Uint8Array(p.buffer)}(e),s=0!=(128&n[0]);n[0]^=s?255:128;for(let l=1;l<n.length;++l)n[l]^=s?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class wv{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Lb{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Md{constructor(){this.Wt=new Iv,this.Gt=new wv(this.Wt),this.zt=new Lb(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class tc{constructor(e,n,s,l){this.indexId=e,this.documentKey=n,this.arrayValue=s,this.directionalValue=l}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(n);return s.set(this.directionalValue,0),n!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new tc(this.indexId,this.documentKey,this.arrayValue,s)}}function Cc(r,e){let n=r.indexId-e.indexId;return 0!==n?n:(n=eu(r.arrayValue,e.arrayValue),0!==n?n:(n=eu(r.directionalValue,e.directionalValue),0!==n?n:Jt.comparator(r.documentKey,e.documentKey)))}function eu(r,e){for(let n=0;n<r.length&&n<e.length;++n){const s=r[n]-e[n];if(0!==s)return s}return r.length-e.length}class Rd{constructor(e){this.Jt=new cr((n,s)=>Ir.comparator(n.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const s=n;s.isInequality()?this.Jt=this.Jt.add(s):this.Zt.push(s)}}get Xt(){return this.Jt.size>1}en(e){if(wn(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=pc(e);if(void 0!==n&&!this.tn(n))return!1;const s=br(e);let l=new Set,d=0,p=0;for(;d<s.length&&this.tn(s[d]);++d)l=l.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(this.Jt.size>0){const T=this.Jt.getIterator().getNext();if(!l.has(T.field.canonicalString())){const F=s[d];if(!this.nn(T,F)||!this.rn(this.Yt[p++],F))return!1}++d}for(;d<s.length;++d)if(p>=this.Yt.length||!this.rn(this.Yt[p++],s[d]))return!1;return!0}sn(){if(this.Xt)return null;let e=new cr(Ir.comparator);const n=[];for(const s of this.Zt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)n.push(new ks(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),n.push(new ks(s.field,0))}for(const s of this.Yt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),n.push(new ks(s.field,"asc"===s.dir?0:1)));return new Hr(Hr.UNKNOWN_ID,this.collectionId,n,Ct.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function Fh(r){var e,n;if(wn(r instanceof mi||r instanceof Er),r instanceof mi){if(r instanceof qc){const l=(null===(n=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(d=>mi.create(r.field,"==",d)))||[];return Er.create(l,"or")}return r}const s=r.filters.map(l=>Fh(l));return Er.create(s,r.op)}function Dg(r){if(0===r.getFilters().length)return[];const e=Sp(Fh(r));return wn(Tc(e)),kh(e)||Lh(e)?[e]:e.getFilters()}function kh(r){return r instanceof mi}function Lh(r){return r instanceof Er&&gd(r)}function Tc(r){return kh(r)||Lh(r)||function(n){if(n instanceof Er&&md(n)){for(const s of n.getFilters())if(!kh(s)&&!Lh(s))return!1;return!0}return!1}(r)}function Sp(r){if(wn(r instanceof mi||r instanceof Er),r instanceof mi)return r;if(1===r.filters.length)return Sp(r.filters[0]);const e=r.filters.map(s=>Sp(s));let n=Er.create(e,r.op);return n=Vh(n),Tc(n)?n:(wn(n instanceof Er),wn(yl(n)),wn(n.filters.length>1),n.filters.reduce((s,l)=>Mp(s,l)))}function Mp(r,e){let n;return wn(r instanceof mi||r instanceof Er),wn(e instanceof mi||e instanceof Er),n=r instanceof mi?e instanceof mi?Er.create([r,e],"and"):Ag(r,e):e instanceof mi?Ag(e,r):function(l,d){if(wn(l.filters.length>0&&d.filters.length>0),yl(l)&&yl(d))return Ih(l,d.getFilters());const p=md(l)?l:d,T=md(l)?d:l,F=p.filters.map(K=>Mp(K,T));return Er.create(F,"or")}(r,e),Vh(n)}function Ag(r,e){if(yl(e))return Ih(e,r.getFilters());{const n=e.filters.map(s=>Mp(r,s));return Er.create(n,"or")}}function Vh(r){if(wn(r instanceof mi||r instanceof Er),r instanceof mi)return r;const e=r.getFilters();if(1===e.length)return Vh(e[0]);if(Eh(r))return r;const n=e.map(l=>Vh(l)),s=[];return n.forEach(l=>{l instanceof mi?s.push(l):l instanceof Er&&(l.op===r.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:Er.create(s,r.op)}class xv{constructor(){this.on=new tl}addToCollectionParentIndex(e,n){return this.on.add(n),it.resolve()}getCollectionParents(e,n){return it.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return it.resolve()}deleteFieldIndex(e,n){return it.resolve()}deleteAllFieldIndexes(e){return it.resolve()}createTargetIndexes(e,n){return it.resolve()}getDocumentsMatchingTarget(e,n){return it.resolve(null)}getIndexType(e,n){return it.resolve(0)}getFieldIndexes(e,n){return it.resolve([])}getNextCollectionGroupToUpdate(e){return it.resolve(null)}getMinOffset(e,n){return it.resolve(qo.min())}getMinOffsetFromCollectionGroup(e,n){return it.resolve(qo.min())}updateCollectionGroup(e,n,s){return it.resolve()}updateIndexEntries(e,n){return it.resolve()}}class tl{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new cr(Ai.comparator),d=!l.has(s);return this.index[n]=l.add(s),d}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new cr(Ai.comparator)).toArray()}}const nc=new Uint8Array(0);class Cv{constructor(e,n){this.user=e,this.databaseId=n,this._n=new tl,this.an=new Js(s=>B(s),(s,l)=>Q(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const s=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const d={collectionId:s,parent:An(l)};return Sg(e).put(d)}return it.resolve()}getCollectionParents(e,n){const s=[],l=IDBKeyRange.bound([n,""],[fc(n),""],!1,!0);return Sg(e).W(l).next(d=>{for(const p of d){if(p.collectionId!==n)break;s.push(uo(p.parent))}return s})}addFieldIndex(e,n){const s=Pd(e),l={indexId:(T=n).indexId,collectionGroup:T.collectionGroup,fields:T.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var T;delete l.indexId;const d=s.add(l);if(n.indexState){const p=Bu(e);return d.next(T=>{p.put(Dp(T,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return d.next()}deleteFieldIndex(e,n){const s=Pd(e),l=Bu(e),d=Vu(e);return s.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Pd(e),s=Vu(e),l=Bu(e);return n.H().next(()=>s.H()).next(()=>l.H())}createTargetIndexes(e,n){return it.forEach(this.un(n),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const d=new Rd(s).sn();if(null!=d)return this.addFieldIndex(e,d)}}))}getDocumentsMatchingTarget(e,n){const s=Vu(e);let l=!0;const d=new Map;return it.forEach(this.un(n),p=>this.cn(e,p).next(T=>{l&&(l=!!T),d.set(p,T)})).next(()=>{if(l){let p=Nt();const T=[];return it.forEach(d,(F,K)=>{var ti;At("IndexedDbIndexManager",`Using index ${ti=F,`id=${ti.indexId}|cg=${ti.collectionGroup}|f=${ti.fields.map(Yn=>`${Yn.fieldPath}:${Yn.kind}`).join(",")}`} to execute ${B(n)}`);const se=function(ti,Yn){const $r=pc(Yn);if(void 0===$r)return null;for(const Ar of Se(ti,$r.fieldPath))switch(Ar.op){case"array-contains-any":return Ar.value.arrayValue.values||[];case"array-contains":return[Ar.value]}return null}(K,F),ye=function(ti,Yn){const $r=new Map;for(const Ar of br(Yn))for(const ms of Se(ti,Ar.fieldPath))switch(ms.op){case"==":case"in":$r.set(Ar.fieldPath.canonicalString(),ms.value);break;case"not-in":case"!=":return $r.set(Ar.fieldPath.canonicalString(),ms.value),Array.from($r.values())}return null}(K,F),je=function(ti,Yn){const $r=[];let Ar=!0;for(const ms of br(Yn)){const cl=0===ms.kind?He(ti,ms.fieldPath,ti.startAt):ut(ti,ms.fieldPath,ti.startAt);$r.push(cl.value),Ar&&(Ar=cl.inclusive)}return new Ia($r,Ar)}(K,F),dt=function(ti,Yn){const $r=[];let Ar=!0;for(const ms of br(Yn)){const cl=0===ms.kind?ut(ti,ms.fieldPath,ti.endAt):He(ti,ms.fieldPath,ti.endAt);$r.push(cl.value),Ar&&(Ar=cl.inclusive)}return new Ia($r,Ar)}(K,F),qt=this.ln(F,K,je),rn=this.ln(F,K,dt),on=this.hn(F,K,ye),Xn=this.Pn(F.indexId,se,qt,je.inclusive,rn,dt.inclusive,on);return it.forEach(Xn,si=>s.j(si,n.limit).next(ti=>{ti.forEach(Yn=>{const $r=Jt.fromSegments(Yn.documentKey);p.has($r)||(p=p.add($r),T.push($r))})}))}).next(()=>T)}return it.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:Dg(Er.create(e.filters,"and")).map(s=>y(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,s,l,d,p,T){const F=(null!=n?n.length:1)*Math.max(s.length,d.length),K=F/(null!=n?n.length:1),se=[];for(let ye=0;ye<F;++ye){const je=n?this.In(n[ye/K]):nc,dt=this.Tn(e,je,s[ye%K],l),qt=this.En(e,je,d[ye%K],p),rn=T.map(on=>this.Tn(e,je,on,!0));se.push(...this.createRange(dt,qt,rn))}return se}Tn(e,n,s,l){const d=new tc(e,Jt.empty(),n,s);return l?d:d.Ht()}En(e,n,s,l){const d=new tc(e,Jt.empty(),n,s);return l?d.Ht():d}cn(e,n){const s=new Rd(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(d=>{let p=null;for(const T of d)s.en(T)&&(!p||T.fields.length>p.fields.length)&&(p=T);return p})}getIndexType(e,n){let s=2;const l=this.un(n);return it.forEach(l,d=>this.cn(e,d).next(p=>{p?0!==s&&p.fields.length<function(F){let K=new cr(Ir.comparator),se=!1;for(const ye of F.filters)for(const je of ye.getFlattenedFilters())je.field.isKeyField()||("array-contains"===je.op||"array-contains-any"===je.op?se=!0:K=K.add(je.field));for(const ye of F.orderBy)ye.field.isKeyField()||(K=K.add(ye.field));return K.size+(se?1:0)}(d)&&(s=1):s=0})).next(()=>null!==n.limit&&l.length>1&&2===s?1:s)}dn(e,n){const s=new Md;for(const l of br(e)){const d=n.data.field(l.fieldPath);if(null==d)return null;const p=s.jt(l.kind);Cl.St.ht(d,p)}return s.Ut()}In(e){const n=new Md;return Cl.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const s=new Md;return Cl.St.ht(Ys(this.databaseId,n),s.jt(function(d){const p=br(d);return 0===p.length?0:p[p.length-1].kind}(e))),s.Ut()}hn(e,n,s){if(null===s)return[];let l=[];l.push(new Md);let d=0;for(const p of br(e)){const T=s[d++];for(const F of l)if(this.Rn(n,p.fieldPath)&&cs(T))l=this.Vn(l,p,T);else{const K=F.jt(p.kind);Cl.St.ht(T,K)}}return this.mn(l)}ln(e,n,s){return this.hn(e,n,s.position)}mn(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].Ut();return n}Vn(e,n,s){const l=[...e],d=[];for(const p of s.arrayValue.values||[])for(const T of l){const F=new Md;F.seed(T.Ut()),Cl.St.ht(p,F.jt(n.kind)),d.push(F)}return d}Rn(e,n){return!!e.filters.find(s=>s instanceof mi&&s.field.isEqual(n)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,n){const s=Pd(e),l=Bu(e);return(n?s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):s.W()).next(d=>{const p=[];return it.forEach(d,T=>l.get([T.indexId,this.uid]).next(F=>{p.push(function(se,ye){const je=ye?new Ct(ye.sequenceNumber,new qo(wc(ye.readTime),new Jt(uo(ye.documentKey)),ye.largestBatchId)):Ct.empty(),dt=se.fields.map(([qt,rn])=>new ks(Ir.fromServerFormat(qt),rn));return new Hr(se.indexId,se.collectionGroup,dt,je)}(T,F))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((s,l)=>{const d=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==d?d:Jn(s.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const l=Pd(e),d=Bu(e);return this.fn(e).next(p=>l.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(T=>it.forEach(T,F=>d.put(Dp(F.indexId,this.user,p,s)))))}updateIndexEntries(e,n){const s=new Map;return it.forEach(n,(l,d)=>{const p=s.get(l.collectionGroup);return(p?it.resolve(p):this.getFieldIndexes(e,l.collectionGroup)).next(T=>(s.set(l.collectionGroup,T),it.forEach(T,F=>this.gn(e,l,F).next(K=>{const se=this.pn(d,F);return K.isEqual(se)?it.resolve():this.yn(e,d,F,K,se)}))))})}wn(e,n,s,l){return Vu(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.An(s,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,s,l){return Vu(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.An(s,n.key),n.key.path.toArray()])}gn(e,n,s){const l=Vu(e);let d=new cr(Cc);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.An(s,n)])},(p,T)=>{d=d.add(new tc(s.indexId,n,T.arrayValue,T.directionalValue))}).next(()=>d)}pn(e,n){let s=new cr(Cc);const l=this.dn(n,e);if(null==l)return s;const d=pc(n);if(null!=d){const p=e.data.field(d.fieldPath);if(cs(p))for(const T of p.arrayValue.values||[])s=s.add(new tc(n.indexId,e.key,this.In(T),l))}else s=s.add(new tc(n.indexId,e.key,nc,l));return s}yn(e,n,s,l,d){At("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const p=[];return function(F,K,se,ye,je){const dt=F.getIterator(),qt=K.getIterator();let rn=La(dt),on=La(qt);for(;rn||on;){let Xn=!1,si=!1;if(rn&&on){const ti=se(rn,on);ti<0?si=!0:ti>0&&(Xn=!0)}else null!=rn?si=!0:Xn=!0;Xn?(ye(on),on=La(qt)):si?(je(rn),rn=La(dt)):(rn=La(dt),on=La(qt))}}(l,d,Cc,T=>{p.push(this.wn(e,n,s,T))},T=>{p.push(this.Sn(e,n,s,T))}),it.waitFor(p)}fn(e){let n=1;return Bu(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,d)=>{d.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((p,T)=>Cc(p,T)).filter((p,T,F)=>!T||0!==Cc(p,F[T-1]));const l=[];l.push(e);for(const p of s){const T=Cc(p,e),F=Cc(p,n);if(0===T)l[0]=e.Ht();else if(T>0&&F<0)l.push(p),l.push(p.Ht());else if(F>0)break}l.push(n);const d=[];for(let p=0;p<l.length;p+=2){if(this.bn(l[p],l[p+1]))return[];d.push(IDBKeyRange.bound([l[p].indexId,this.uid,l[p].arrayValue,l[p].directionalValue,nc,[]],[l[p+1].indexId,this.uid,l[p+1].arrayValue,l[p+1].directionalValue,nc,[]]))}return d}bn(e,n){return Cc(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Mg)}getMinOffset(e,n){return it.mapArray(this.un(n),s=>this.cn(e,s).next(l=>l||Ht())).next(Mg)}}function Sg(r){return Mo(r,"collectionParents")}function Vu(r){return Mo(r,"indexEntries")}function Pd(r){return Mo(r,"indexConfiguration")}function Bu(r){return Mo(r,"indexState")}function Mg(r){wn(0!==r.length);let e=r[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<r.length;s++){const l=r[s].indexState.offset;co(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new qo(e.readTime,e.documentKey,n)}const Rp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Us{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Us(e,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Rg(r,e,n){const s=r.store("mutations"),l=r.store("documentMutations"),d=[],p=IDBKeyRange.only(n.batchId);let T=0;const F=s.Y({range:p},(se,ye,je)=>(T++,je.delete()));d.push(F.next(()=>{wn(1===T)}));const K=[];for(const se of n.mutations){const ye=Pa(e,se.key.path,n.batchId);d.push(l.delete(ye)),K.push(se.key)}return it.waitFor(d).next(()=>K)}function Bh(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Ht();e=r.noDocument}return JSON.stringify(e).length}Us.DEFAULT_COLLECTION_PERCENTILE=10,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Us.DEFAULT=new Us(41943040,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Us.DISABLED=new Us(-1,0,0);class Uh{constructor(e,n,s,l){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=l,this.Dn={}}static ct(e,n,s,l){wn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Uh(d,n,s,l)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return js(e).Y({index:"userMutationsIndex",range:s},(l,d,p)=>{n=!1,p.done()}).next(()=>n)}addMutationBatch(e,n,s,l){const d=Tl(e),p=js(e);return p.add({}).next(T=>{wn("number"==typeof T);const F=new ap(T,n,s,l),K=function(dt,qt,rn){const on=rn.baseMutations.map(si=>Fu(dt.ut,si)),Xn=rn.mutations.map(si=>Fu(dt.ut,si));return{userId:qt,batchId:rn.batchId,localWriteTimeMs:rn.localWriteTime.toMillis(),baseMutations:on,mutations:Xn}}(this.serializer,this.userId,F),se=[];let ye=new cr((je,dt)=>Jn(je.canonicalString(),dt.canonicalString()));for(const je of l){const dt=Pa(this.userId,je.key.path,T);ye=ye.add(je.key.path.popLast()),se.push(p.put(K)),se.push(d.put(dt,Oa))}return ye.forEach(je=>{se.push(this.indexManager.addToCollectionParentIndex(e,je))}),e.addOnCommittedListener(()=>{this.Dn[T]=F.keys()}),it.waitFor(se).next(()=>F)})}lookupMutationBatch(e,n){return js(e).get(n).next(s=>s?(wn(s.userId===this.userId),ec(this.serializer,s)):null)}Cn(e,n){return this.Dn[n]?it.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const l=s.keys();return this.Dn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return js(e).Y({index:"userMutationsIndex",range:l},(p,T,F)=>{T.userId===this.userId&&(wn(T.batchId>=s),d=ec(this.serializer,T)),F.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return js(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(l,d,p)=>{s=d.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return js(e).W("userMutationsIndex",n).next(s=>s.map(l=>ec(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=la(this.userId,n.path),l=IDBKeyRange.lowerBound(s),d=[];return Tl(e).Y({range:l},(p,T,F)=>{const[K,se,ye]=p,je=uo(se);if(K===this.userId&&n.path.isEqual(je))return js(e).get(ye).next(dt=>{if(!dt)throw Ht();wn(dt.userId===this.userId),d.push(ec(this.serializer,dt))});F.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new cr(Jn);const l=[];return n.forEach(d=>{const p=la(this.userId,d.path),T=IDBKeyRange.lowerBound(p),F=Tl(e).Y({range:T},(K,se,ye)=>{const[je,dt,qt]=K,rn=uo(dt);je===this.userId&&d.path.isEqual(rn)?s=s.add(qt):ye.done()});l.push(F)}),it.waitFor(l).next(()=>this.vn(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1,d=la(this.userId,s),p=IDBKeyRange.lowerBound(d);let T=new cr(Jn);return Tl(e).Y({range:p},(F,K,se)=>{const[ye,je,dt]=F,qt=uo(je);ye===this.userId&&s.isPrefixOf(qt)?qt.length===l&&(T=T.add(dt)):se.done()}).next(()=>this.vn(e,T))}vn(e,n){const s=[],l=[];return n.forEach(d=>{l.push(js(e).get(d).next(p=>{if(null===p)throw Ht();wn(p.userId===this.userId),s.push(ec(this.serializer,p))}))}),it.waitFor(l).next(()=>s)}removeMutationBatch(e,n){return Rg(e.ae,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),it.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return it.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return Tl(e).Y({range:s},(d,p,T)=>{if(d[0]===this.userId){const F=uo(d[1]);l.push(F)}else T.done()}).next(()=>{wn(0===l.length)})})}containsKey(e,n){return Od(e,this.userId,n)}Mn(e){return Pp(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Od(r,e,n){const s=la(e,n.path),l=s[1],d=IDBKeyRange.lowerBound(s);let p=!1;return Tl(r).Y({range:d,J:!0},(T,F,K)=>{const[se,ye,je]=T;se===e&&ye===l&&(p=!0),K.done()}).next(()=>p)}function js(r){return Mo(r,"mutations")}function Tl(r){return Mo(r,"documentMutations")}function Pp(r){return Mo(r,"mutationQueues")}class Dc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Dc(0)}static Nn(){return new Dc(-1)}}class Pg{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const s=new Dc(n.highestTargetId);return n.highestTargetId=s.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Fn.fromTimestamp(new pn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=n,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.Ln(e,l)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.qn(n,s),this.Ln(e,s))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Nd(e).delete(n.targetId)).next(()=>this.Bn(e)).next(s=>(wn(s.targetCount>0),s.targetCount-=1,this.Ln(e,s)))}removeTargets(e,n,s){let l=0;const d=[];return Nd(e).Y((p,T)=>{const F=xc(T);F.sequenceNumber<=n&&null===s.get(F.targetId)&&(l++,d.push(this.removeTargetData(e,F)))}).next(()=>it.waitFor(d)).next(()=>l)}forEachTarget(e,n){return Nd(e).Y((s,l)=>{const d=xc(l);n(d)})}Bn(e){return Tv(e).get("targetGlobalKey").next(n=>(wn(null!==n),n))}Ln(e,n){return Tv(e).put("targetGlobalKey",n)}kn(e,n){return Nd(e).put(Tp(this.serializer,n))}qn(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const s=B(n),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Nd(e).Y({range:l,index:"queryTargetsIndex"},(p,T,F)=>{const K=xc(T);Q(n,K.target)&&(d=K,F.done())}).next(()=>d)}addMatchingKeys(e,n,s){const l=[],d=tu(e);return n.forEach(p=>{const T=An(p.path);l.push(d.put({targetId:s,path:T})),l.push(this.referenceDelegate.addReference(e,s,p))}),it.waitFor(l)}removeMatchingKeys(e,n,s){const l=tu(e);return it.forEach(n,d=>{const p=An(d.path);return it.waitFor([l.delete([s,p]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,n){const s=tu(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),l=tu(e);let d=Nt();return l.Y({range:s,J:!0},(p,T,F)=>{const K=uo(p[1]),se=new Jt(K);d=d.add(se)}).next(()=>d)}containsKey(e,n){const s=An(n.path),l=IDBKeyRange.bound([s],[fc(s)],!1,!0);let d=0;return tu(e).Y({index:"documentTargetsIndex",J:!0,range:l},([p,T],F,K)=>{0!==p&&(d++,K.done())}).next(()=>d>0)}_t(e,n){return Nd(e).get(n).next(s=>s?xc(s):null)}}function Nd(r){return Mo(r,"targets")}function Tv(r){return Mo(r,"targetGlobal")}function tu(r){return Mo(r,"targetDocuments")}function jh([r,e],[n,s]){const l=Jn(r,n);return 0===l?Jn(e,s):l}class Op{constructor(e){this.Qn=e,this.buffer=new cr(jh),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();jh(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Dv{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;At("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,u.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(s){bo(s)?At("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield zr(s)}yield n.Gn(3e5)}))}}class Vb{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(0===n)return it.resolve(De._e);const s=new Op(n);return this.zn.forEachTarget(e,l=>s.Un(l.sequenceNumber)).next(()=>this.zn.Hn(e,l=>s.Un(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(Rp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rp):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let s,l,d,p,T,F,K;const se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ye=>(ye>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ye}`),l=this.params.maximumSequenceNumbersToCollect):l=ye,p=Date.now(),this.nthSequenceNumber(e,l))).next(ye=>(s=ye,T=Date.now(),this.removeTargets(e,s,n))).next(ye=>(d=ye,F=Date.now(),this.removeOrphanedDocuments(e,s))).next(ye=>(K=Date.now(),fr()<=H.in.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-se}ms\n\tDetermined least recently used ${l} in `+(T-p)+`ms\n\tRemoved ${d} targets in `+(F-T)+`ms\n\tRemoved ${ye} documents in `+(K-F)+`ms\nTotal Duration: ${K-se}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:ye})))}}class Av{constructor(e,n){this.db=e,this.garbageCollector=function Np(r,e){return new Vb(r,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}Yn(e){let n=0;return this.Hn(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(s,l)=>n(l))}addReference(e,n,s){return Hh(e,s)}removeReference(e,n,s){return Hh(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return Hh(e,n)}Xn(e,n){return function(l,d){let p=!1;return Pp(l).Z(T=>Od(l,T,d).next(F=>(F&&(p=!0),it.resolve(!F)))).next(()=>p)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Zn(e,(p,T)=>{if(T<=n){const F=this.Xn(e,p).next(K=>{if(!K)return d++,s.getEntry(e,p).next(()=>(s.removeEntry(p,Fn.min()),tu(e).delete([0,An(p.path)])))});l.push(F)}}).next(()=>it.waitFor(l)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return Hh(e,n)}Zn(e,n){const s=tu(e);let l,d=De._e;return s.Y({index:"documentTargetsIndex"},([p,T],{path:F,sequenceNumber:K})=>{0===p?(d!==De._e&&n(new Jt(uo(l)),d),d=K,l=F):d=De._e}).next(()=>{d!==De._e&&n(new Jt(uo(l)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hh(r,e){return tu(r).put((l=r.currentSequenceNumber,{targetId:0,path:An(e.path),sequenceNumber:l}));var l}class Og{constructor(){this.changes=new Js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?it.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Sv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return ic(e).put(s)}removeEntry(e,n,s){return ic(e).delete(function(d,p){const T=d.path.toArray();return[T.slice(0,T.length-2),T[T.length-2],Qc(p),T[T.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.er(e,s)))}getEntry(e,n){let s=kr.newInvalidDocument(n);return ic(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Fd(n))},(l,d)=>{s=this.tr(n,d)}).next(()=>s)}nr(e,n){let s={size:0,document:kr.newInvalidDocument(n)};return ic(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Fd(n))},(l,d)=>{s={document:this.tr(n,d),size:Bh(d)}}).next(()=>s)}getEntries(e,n){let s=f();return this.rr(e,n,(l,d)=>{const p=this.tr(l,d);s=s.insert(l,p)}).next(()=>s)}ir(e,n){let s=f(),l=new wr(Jt.comparator);return this.rr(e,n,(d,p)=>{const T=this.tr(d,p);s=s.insert(d,T),l=l.insert(d,Bh(p))}).next(()=>({documents:s,sr:l}))}rr(e,n,s){if(n.isEmpty())return it.resolve();let l=new cr(Ng);n.forEach(F=>l=l.add(F));const d=IDBKeyRange.bound(Fd(l.first()),Fd(l.last())),p=l.getIterator();let T=p.getNext();return ic(e).Y({index:"documentKeyIndex",range:d},(F,K,se)=>{const ye=Jt.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;T&&Ng(T,ye)<0;)s(T,null),T=p.getNext();T&&T.isEqual(ye)&&(s(T,K),T=p.hasNext()?p.getNext():null),T?se.U(Fd(T)):se.done()}).next(()=>{for(;T;)s(T,null),T=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,n,s,l,d){const p=n.path,T=[p.popLast().toArray(),p.lastSegment(),Qc(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],F=[p.popLast().toArray(),p.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ic(e).W(IDBKeyRange.bound(T,F,!0)).next(K=>{d?.incrementDocumentReadCount(K.length);let se=f();for(const ye of K){const je=this.tr(Jt.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);je.isFoundDocument()&&(Qr(n,je)||l.has(je.key))&&(se=se.insert(je.key,je))}return se})}getAllFromCollectionGroup(e,n,s,l){let d=f();const p=Ac(n,s),T=Ac(n,qo.max());return ic(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,T,!0)},(F,K,se)=>{const ye=this.tr(Jt.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);d=d.insert(ye.key,ye),d.size===l&&se.done()}).next(()=>d)}newChangeBuffer(e){return new zh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return kp(e).get("remoteDocumentGlobalKey").next(n=>(wn(!!n),n))}er(e,n){return kp(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const s=function xp(r,e){let n;if(e.document)n=bg(r.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Jt.fromSegments(e.noDocument.path),l=wc(e.noDocument.readTime);n=kr.newNoDocument(s,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ht();{const s=Jt.fromSegments(e.unknownDocument.path),l=wc(e.unknownDocument.version);n=kr.newUnknownDocument(s,l)}}return e.readTime&&n.setReadTime(function(l){const d=new pn(l[0],l[1]);return Fn.fromTimestamp(d)}(e.readTime)),n}(this.serializer,n);if(!s.isNoDocument()||!s.version.isEqual(Fn.min()))return s}return kr.newInvalidDocument(e)}}function Fp(r){return new Sv(r)}class zh extends Og{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Js(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const n=[];let s=0,l=new cr((d,p)=>Jn(d.canonicalString(),p.canonicalString()));return this.changes.forEach((d,p)=>{const T=this.ar.get(d);if(n.push(this._r.removeEntry(e,d,T.readTime)),p.isValidDocument()){const F=Cp(this._r.serializer,p);l=l.add(d.path.popLast());const K=Bh(F);s+=K-T.size,n.push(this._r.addEntry(e,d,F))}else if(s-=T.size,this.trackRemovals){const F=Cp(this._r.serializer,p.convertToNoDocument(Fn.min()));n.push(this._r.addEntry(e,d,F))}}),l.forEach(d=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,d))}),n.push(this._r.updateMetadata(e,s)),it.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(s=>(this.ar.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:s,sr:l})=>(l.forEach((d,p)=>{this.ar.set(d,{size:p,readTime:s.get(d).readTime})}),s))}}function kp(r){return Mo(r,"remoteDocumentGlobal")}function ic(r){return Mo(r,"remoteDocumentsV14")}function Fd(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ac(r,e){const n=e.documentKey.path.toArray();return[r,Qc(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ng(r,e){const n=r.path.toArray(),s=e.path.toArray();let l=0;for(let d=0;d<n.length-2&&d<s.length-2;++d)if(l=Jn(n[d],s[d]),l)return l;return l=Jn(n.length,s.length),l||(l=Jn(n[n.length-2],s[s.length-2]),l||Jn(n[n.length-1],s[s.length-1]))}class Mv{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $h{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(null!==s&&Ru(s.mutation,l,Vs.empty(),pn.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Nt()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Nt()){const l=ne();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(d=>{let p=x();return d.forEach((T,F)=>{p=p.insert(T,F.overlayedDocument)}),p}))}getOverlayedDocuments(e,n){const s=ne();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Nt()))}populateOverlays(e,n,s){const l=[];return s.forEach(d=>{n.has(d)||l.push(d)}),this.documentOverlayCache.getOverlays(e,l).next(d=>{d.forEach((p,T)=>{n.set(p,T)})})}computeViews(e,n,s,l){let d=f();const p=et(),T=et();return n.forEach((F,K)=>{const se=s.get(K.key);l.has(K.key)&&(void 0===se||se.mutation instanceof wl)?d=d.insert(K.key,K):void 0!==se?(p.set(K.key,se.mutation.getFieldMask()),Ru(se.mutation,K,se.mutation.getFieldMask(),pn.now())):p.set(K.key,Vs.empty())}),this.recalculateAndSaveOverlays(e,d).next(F=>(F.forEach((K,se)=>p.set(K,se)),n.forEach((K,se)=>{var ye;return T.set(K,new Mv(se,null!==(ye=p.get(K))&&void 0!==ye?ye:null))}),T))}recalculateAndSaveOverlays(e,n){const s=et();let l=new wr((p,T)=>p-T),d=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(p=>{for(const T of p)T.keys().forEach(F=>{const K=n.get(F);if(null===K)return;let se=s.get(F)||Vs.empty();se=T.applyToLocalView(K,se),s.set(F,se);const ye=(l.get(T.batchId)||Nt()).add(F);l=l.insert(T.batchId,ye)})}).next(()=>{const p=[],T=l.getReverseIterator();for(;T.hasNext();){const F=T.getNext(),K=F.key,se=F.value,ye=Re();se.forEach(je=>{if(!d.has(je)){const dt=bd(n.get(je),s.get(je));null!==dt&&ye.set(je,dt),d=d.add(je)}}),p.push(this.documentOverlayCache.saveOverlays(e,K,ye))}return it.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return Jt.isDocumentKey((p=n).path)&&null===p.collectionGroup&&0===p.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):kn(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l);var p}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(d=>{const p=l-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-d.size):it.resolve(ne());let T=-1,F=d;return p.next(K=>it.forEach(K,(se,ye)=>(T<ye.largestBatchId&&(T=ye.largestBatchId),d.get(se)?it.resolve():this.remoteDocumentCache.getEntry(e,se).next(je=>{F=F.insert(se,je)}))).next(()=>this.populateOverlays(e,K,d)).next(()=>this.computeViews(e,F,K,Nt())).next(se=>({batchId:T,changes:W(se)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Jt(n)).next(s=>{let l=x();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const d=n.collectionGroup;let p=x();return this.indexManager.getCollectionParents(e,d).next(T=>it.forEach(T,F=>{const K=(ye=n,je=F.child(d),new Wt(je,null,ye.explicitOrderBy.slice(),ye.filters.slice(),ye.limit,ye.limitType,ye.startAt,ye.endAt));var ye,je;return this.getDocumentsMatchingCollectionQuery(e,K,s,l).next(se=>{se.forEach((ye,je)=>{p=p.insert(ye,je)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,n,s,l){let d;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(p=>(d=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,d,l))).next(p=>{d.forEach((F,K)=>{const se=K.getKey();null===p.get(se)&&(p=p.insert(se,kr.newInvalidDocument(se)))});let T=x();return p.forEach((F,K)=>{const se=d.get(F);void 0!==se&&Ru(se.mutation,K,Vs.empty(),pn.now()),Qr(n,K)&&(T=T.insert(F,K))}),T})}}class Fg{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return it.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(l=n).id,version:l.version,createTime:Oo(l.createTime)}),it.resolve();var l}getNamedQuery(e,n){return it.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(l=n).name,query:Ad(l.bundledQuery),readTime:Oo(l.readTime)}),it.resolve();var l}}class Rv{constructor(){this.overlays=new wr(Jt.comparator),this.lr=new Map}getOverlay(e,n){return it.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ne();return it.forEach(n,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,d)=>{this.lt(e,n,d)}),it.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.lr.get(s);return void 0!==l&&(l.forEach(d=>this.overlays=this.overlays.remove(d)),this.lr.delete(s)),it.resolve()}getOverlaysForCollection(e,n,s){const l=ne(),d=n.length+1,p=new Jt(n.child("")),T=this.overlays.getIteratorFrom(p);for(;T.hasNext();){const F=T.getNext().value,K=F.getKey();if(!n.isPrefixOf(K.path))break;K.path.length===d&&F.largestBatchId>s&&l.set(F.getKey(),F)}return it.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let d=new wr((K,se)=>K-se);const p=this.overlays.getIterator();for(;p.hasNext();){const K=p.getNext().value;if(K.getKey().getCollectionGroup()===n&&K.largestBatchId>s){let se=d.get(K.largestBatchId);null===se&&(se=ne(),d=d.insert(K.largestBatchId,se)),se.set(K.getKey(),K)}}const T=ne(),F=d.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((K,se)=>T.set(K,se)),!(T.size()>=l)););return it.resolve(T)}lt(e,n,s){const l=this.overlays.get(s.key);if(null!==l){const p=this.lr.get(l.largestBatchId).delete(s.key);this.lr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new Sh(n,s));let d=this.lr.get(n);void 0===d&&(d=Nt(),this.lr.set(n,d)),this.lr.set(n,d.add(s.key))}}class Lp{constructor(){this.hr=new cr(hs.Pr),this.Ir=new cr(hs.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const s=new hs(e,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.dr(new hs(e,n))}Ar(e,n){e.forEach(s=>this.removeReference(s,n))}Rr(e){const n=new Jt(new Ai([])),s=new hs(n,e),l=new hs(n,e+1),d=[];return this.Ir.forEachInRange([s,l],p=>{this.dr(p),d.push(p.key)}),d}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Jt(new Ai([])),s=new hs(n,e),l=new hs(n,e+1);let d=Nt();return this.Ir.forEachInRange([s,l],p=>{d=d.add(p.key)}),d}containsKey(e){const n=new hs(e,0),s=this.hr.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class hs{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Jt.comparator(e.key,n.key)||Jn(e.gr,n.gr)}static Tr(e,n){return Jn(e.gr,n.gr)||Jt.comparator(e.key,n.key)}}class Pv{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new cr(hs.Pr)}checkEmpty(e){return it.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,l){const d=this.pr;this.pr++;const p=new ap(d,n,s,l);this.mutationQueue.push(p);for(const T of l)this.yr=this.yr.add(new hs(T.key,d)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return it.resolve(p)}lookupMutationBatch(e,n){return it.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.Sr(n+1),d=l<0?0:l;return it.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new hs(n,0),l=new hs(n,Number.POSITIVE_INFINITY),d=[];return this.yr.forEachInRange([s,l],p=>{const T=this.wr(p.gr);d.push(T)}),it.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new cr(Jn);return n.forEach(l=>{const d=new hs(l,0),p=new hs(l,Number.POSITIVE_INFINITY);this.yr.forEachInRange([d,p],T=>{s=s.add(T.gr)})}),it.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let d=s;Jt.isDocumentKey(d)||(d=d.child(""));const p=new hs(new Jt(d),0);let T=new cr(Jn);return this.yr.forEachWhile(F=>{const K=F.key.path;return!!s.isPrefixOf(K)&&(K.length===l&&(T=T.add(F.gr)),!0)},p),it.resolve(this.br(T))}br(e){const n=[];return e.forEach(s=>{const l=this.wr(s);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){wn(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let s=this.yr;return it.forEach(n.mutations,l=>{const d=new hs(l.key,n.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,n){const s=new hs(n,0),l=this.yr.firstAfterOrEqual(s);return it.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return it.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class kg{constructor(e){this.Cr=e,this.docs=new wr(Jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),d=l?l.size:0,p=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:p}),this.size+=p-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return it.resolve(s?s.document.mutableCopy():kr.newInvalidDocument(n))}getEntries(e,n){let s=f();return n.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.mutableCopy():kr.newInvalidDocument(l))}),it.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let d=f();const p=n.path,T=new Jt(p.child("")),F=this.docs.getIteratorFrom(T);for(;F.hasNext();){const{key:K,value:{document:se}}=F.getNext();if(!p.isPrefixOf(K.path))break;K.path.length>p.length+1||co(Es(se),s)<=0||(l.has(se.key)||Qr(n,se))&&(d=d.insert(se.key,se.mutableCopy()))}return it.resolve(d)}getAllFromCollectionGroup(e,n,s,l){Ht()}vr(e,n){return it.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Bb(this)}getSize(e){return it.resolve(this.size)}}class Bb extends Og{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this._r.addEntry(e,l)):this._r.removeEntry(s)}),it.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Ub{constructor(e){this.persistence=e,this.Fr=new Js(n=>B(n),Q),this.lastRemoteSnapshotVersion=Fn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Lp,this.targetCount=0,this.Nr=Dc.On()}forEachTarget(e,n){return this.Fr.forEach((s,l)=>n(l)),it.resolve()}getLastRemoteSnapshotVersion(e){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return it.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),it.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Dc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,it.resolve()}updateTargetData(e,n){return this.kn(n),it.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(e,n,s){let l=0;const d=[];return this.Fr.forEach((p,T)=>{T.sequenceNumber<=n&&null===s.get(T.targetId)&&(this.Fr.delete(p),d.push(this.removeMatchingKeysForTargetId(e,T.targetId)),l++)}),it.waitFor(d).next(()=>l)}getTargetCount(e){return it.resolve(this.targetCount)}getTargetData(e,n){const s=this.Fr.get(n)||null;return it.resolve(s)}addMatchingKeys(e,n,s){return this.Or.Er(n,s),it.resolve()}removeMatchingKeys(e,n,s){this.Or.Ar(n,s);const l=this.persistence.referenceDelegate,d=[];return l&&n.forEach(p=>{d.push(l.markPotentiallyOrphaned(e,p))}),it.waitFor(d)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),it.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Or.mr(n);return it.resolve(s)}containsKey(e,n){return it.resolve(this.Or.containsKey(n))}}class nu{constructor(e,n){this.Br={},this.overlays={},this.Lr=new De(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Ub(this),this.indexManager=new xv,this.remoteDocumentCache=new kg(s=>this.referenceDelegate.Qr(s)),this.serializer=new wp(n),this.Kr=new Fg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Br[e.toKey()];return s||(s=new Pv(n,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,s){At("MemoryPersistence","Starting transaction:",e);const l=new kd(this.Lr.next());return this.referenceDelegate.$r(),s(l).next(d=>this.referenceDelegate.Ur(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Wr(e,n){return it.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,n)))}}class kd extends Ea{constructor(e){super(),this.currentSequenceNumber=e}}class Ld{constructor(e){this.persistence=e,this.Gr=new Lp,this.zr=null}static jr(e){return new Ld(e)}get Hr(){if(this.zr)return this.zr;throw Ht()}addReference(e,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),it.resolve()}removeReference(e,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),it.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),it.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(l=>this.Hr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(d=>this.Hr.add(d.toString()))}).next(()=>s.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.Hr,s=>{const l=Jt.fromPath(s);return this.Jr(e,l).next(d=>{d||n.removeEntry(l,Fn.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return it.or([()=>it.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Vp{constructor(e){this.serializer=e}N(e,n,s,l){const d=new ls("createOrUpgrade",n);var F;s<1&&l>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ls,{unique:!0}),F.createObjectStore("documentMutations"),Bp(e),function(F){F.createObjectStore("remoteDocuments")}(e));let p=it.resolve();return s<3&&l>=3&&(0!==s&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),Bp(e)),p=p.next(()=>function(F){const K=F.store("targetGlobal"),se={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fn.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",se)}(d))),s<4&&l>=4&&(0!==s&&(p=p.next(()=>function(F,K){return K.store("mutations").W().next(se=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ls,{unique:!0});const ye=K.store("mutations"),je=se.map(dt=>ye.put(dt));return it.waitFor(je)})}(e,d))),p=p.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(p=p.next(()=>this.Zr(d))),s<6&&l>=6&&(p=p.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(d)))),s<7&&l>=7&&(p=p.next(()=>this.ei(d))),s<8&&l>=8&&(p=p.next(()=>this.ti(e,d))),s<9&&l>=9&&(p=p.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(p=p.next(()=>this.ni(d))),s<11&&l>=11&&(p=p.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(p=p.next(()=>{!function(F){const K=F.createObjectStore("documentOverlays",{keyPath:hd});K.createIndex("collectionPathOverlayIndex",Hl,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",ua,{unique:!1})}(e)})),s<13&&l>=13&&(p=p.next(()=>function(F){const K=F.createObjectStore("remoteDocumentsV14",{keyPath:jl});K.createIndex("documentKeyIndex",ud),K.createIndex("collectionGroupIndex",dd)}(e)).next(()=>this.ri(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(p=p.next(()=>this.ii(e,d))),s<15&&l>=15&&(p=p.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:xu}).createIndex("sequenceNumberIndex",Cu,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:bh}).createIndex("documentKeyIndex",jc,{unique:!1})}(e))),p}Xr(e){let n=0;return e.store("remoteDocuments").Y((s,l)=>{n+=Bh(l)}).next(()=>{const s={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Zr(e){const n=e.store("mutationQueues"),s=e.store("mutations");return n.W().next(l=>it.forEach(l,d=>{const p=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",p).next(T=>it.forEach(T,F=>{wn(F.userId===d.userId);const K=ec(this.serializer,F);return Rg(e,d.userId,K).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const d=[];return s.Y((p,T)=>{const F=new Ai(p),K=[0,An(F)];d.push(n.get(K).next(se=>se?it.resolve():n.put({targetId:0,path:An(F),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>it.waitFor(d))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Uc});const s=n.store("collectionParents"),l=new tl,d=p=>{if(l.add(p)){const T=p.lastSegment(),F=p.popLast();return s.put({collectionId:T,parent:An(F)})}};return n.store("remoteDocuments").Y({J:!0},(p,T)=>{const F=new Ai(p);return d(F.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([p,T,F],K)=>{const se=uo(T);return d(se.popLast())}))}ni(e){const n=e.store("targets");return n.Y((s,l)=>{const d=xc(l),p=Tp(this.serializer,d);return n.put(p)})}ri(e,n){const s=n.store("remoteDocuments"),l=[];return s.Y((d,p)=>{const T=n.store("remoteDocumentsV14"),F=(ye=p,ye.document?new Jt(Ai.fromString(ye.document.name).popFirst(5)):ye.noDocument?Jt.fromSegments(ye.noDocument.path):ye.unknownDocument?Jt.fromSegments(ye.unknownDocument.path):Ht()).path.toArray(),K={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};var ye;l.push(T.put(K))}).next(()=>it.waitFor(l))}ii(e,n){const s=n.store("mutations"),l=Fp(this.serializer),d=new nu(Ld.jr,this.serializer.ut);return s.W().next(p=>{const T=new Map;return p.forEach(F=>{var K;let se=null!==(K=T.get(F.userId))&&void 0!==K?K:Nt();ec(this.serializer,F).keys().forEach(ye=>se=se.add(ye)),T.set(F.userId,se)}),it.forEach(T,(F,K)=>{const se=new Mn(K),ye=Sd.ct(this.serializer,se),je=d.getIndexManager(se),dt=Uh.ct(se,this.serializer,je,d.referenceDelegate);return new $h(l,dt,ye,je).recalculateAndSaveOverlaysForDocumentKeys(new $l(n,De._e),F).next()})})}}function Bp(r){r.createObjectStore("targetDocuments",{keyPath:ca}).createIndex("documentTargetsIndex",Kr,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ns,{unique:!0}),r.createObjectStore("targetGlobal")}const Up="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wh{constructor(e,n,s,l,d,p,T,F,K,se,ye=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.si=d,this.window=p,this.document=T,this.oi=K,this._i=se,this.ai=ye,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=je=>Promise.resolve(),!Wh.D())throw new Rt(gt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Av(this,l),this.Ii=n+"main",this.serializer=new wp(F),this.Ti=new Ks(this.Ii,this.ai,new Vp(this.serializer)),this.qr=new Pg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Fp(this.serializer),this.Kr=new Ev,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===se&&rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Rt(gt.FAILED_PRECONDITION,Up);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new De(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var s=(0,u.Z)(function*(l){if(n.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,u.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,u.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>iu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(bo(e))return At("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return At("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Uu(e).get("owner").next(n=>it.resolve(this.wi(n)))}Si(e){return iu(e).delete(this.clientId)}bi(){var e=this;return(0,u.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=Mo(s,"clientMetadata");return l.W().next(d=>{const p=e.Ci(d,18e5),T=d.filter(F=>-1===p.indexOf(F));return it.forEach(T,F=>l.delete(F.clientId)).next(()=>T)})}).catch(()=>[]);if(e.Ei)for(const s of n)e.Ei.removeItem(e.vi(s.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?it.resolve(!0):Uu(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new Rt(gt.FAILED_PRECONDITION,Up);return!1}}return!(!this.networkEnabled||!this.inForeground)||iu(e).W().next(s=>void 0===this.Ci(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(n=>(this.isPrimary!==n&&At("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,u.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const s=new $l(n,De._e);return e.pi(s).next(()=>e.Si(s))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(s=>this.Di(s.updateTimeMs,n)&&!this.Fi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>iu(e).W().next(n=>this.Ci(n,18e5).map(s=>s.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return Uh.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Cv(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Sd.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,s){At("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",d=15===(F=this.ai)?Fa:14===F?zl:13===F?Na:12===F?gc:11===F?mc:void Ht();var F;let p;return this.Ti.runTransaction(e,l,d,T=>(p=new $l(T,this.Lr?this.Lr.next():De._e),"readwrite-primary"===n?this.fi(p).next(F=>!!F||this.gi(p)).next(F=>{if(!F)throw rr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new Rt(gt.FAILED_PRECONDITION,Ra);return s(p)}).next(F=>this.yi(p).next(()=>F)):this.Li(p).next(()=>s(p)))).then(T=>(p.raiseOnCommittedEvent(),T))}Li(e){return Uu(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Rt(gt.FAILED_PRECONDITION,Up)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uu(e).put("owner",n)}static D(){return Ks.D()}pi(e){const n=Uu(e);return n.get("owner").next(s=>this.wi(s)?(At("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):it.resolve())}Di(e,n){const s=Date.now();return!(e<s-n||e>s&&(rr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,fe.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const s=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return At("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return rr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){rr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Uu(r){return Mo(r,"owner")}function iu(r){return Mo(r,"clientMetadata")}function Lg(r,e){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+e+"/"+n+"/"}class Bd{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.ki=s,this.qi=l}static Qi(e,n){let s=Nt(),l=Nt();for(const d of n.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new Bd(e,n.fromCache,s,l)}}class Ov{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Gh{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,s,l){const d={result:null};return this.zi(e,n).next(p=>{d.result=p}).next(()=>{if(!d.result)return this.ji(e,n,l,s).next(p=>{d.result=p})}).next(()=>{if(d.result)return;const p=new Ov;return this.Hi(e,n,p).next(T=>{if(d.result=T,this.$i)return this.Ji(e,n,p,T.size)})}).next(()=>d.result)}Ji(e,n,s,l){return s.documentReadCount<this.Ui?(fr()<=H.in.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),it.resolve()):(fr()<=H.in.DEBUG&&At("QueryEngine","Query:",Po(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Wi*l?(fr()<=H.in.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(n))):it.resolve())}zi(e,n){if(ei(n))return it.resolve(null);let s=oi(n);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==n.limit&&1===l&&(n=ho(n,null,"F"),s=oi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const p=Nt(...d);return this.Gi.getDocuments(e,p).next(T=>this.indexManager.getMinOffset(e,s).next(F=>{const K=this.Yi(n,T);return this.Zi(n,K,p,F.readTime)?this.zi(e,ho(n,null,"F")):this.Xi(e,K,n,F)}))})))}ji(e,n,s,l){return ei(n)||l.isEqual(Fn.min())?it.resolve(null):this.Gi.getDocuments(e,s).next(d=>{const p=this.Yi(n,d);return this.Zi(n,p,s,l)?it.resolve(null):(fr()<=H.in.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Po(n)),this.Xi(e,p,n,Si(l,-1)).next(T=>T))})}Yi(e,n){let s=new cr(us(e));return n.forEach((l,d)=>{Qr(e,d)&&(s=s.add(d))}),s}Zi(e,n,s,l){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const d="F"===e.limitType?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Hi(e,n,s){return fr()<=H.in.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Po(n)),this.Gi.getDocumentsMatchingQuery(e,n,qo.min(),s)}Xi(e,n,s,l){return this.Gi.getDocumentsMatchingQuery(e,s,l).next(d=>(n.forEach(p=>{d=d.insert(p.key,p)}),d))}}class Vg{constructor(e,n,s,l){this.persistence=e,this.es=n,this.serializer=l,this.ts=new wr(Jn),this.ns=new Js(d=>B(d),Q),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $h(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function jp(r,e,n,s){return new Vg(r,e,n,s)}function Sc(r,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,u.Z)(function*(r,e){const n=Pt(r);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(d=>(l=d,n.os(e),n.mutationQueue.getAllMutationBatches(s))).next(d=>{const p=[],T=[];let F=Nt();for(const K of l){p.push(K.batchId);for(const se of K.mutations)F=F.add(se.key)}for(const K of d){T.push(K.batchId);for(const se of K.mutations)F=F.add(se.key)}return n.localDocuments.getDocuments(s,F).next(K=>({_s:K,removedBatchIds:p,addedBatchIds:T}))})})}),Hp.apply(this,arguments)}function Ud(r){const e=Pt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function qh(r,e,n){let s=Nt(),l=Nt();return n.forEach(d=>s=s.add(d)),e.getEntries(r,s).next(d=>{let p=f();return n.forEach((T,F)=>{const K=d.get(T);F.isFoundDocument()!==K.isFoundDocument()&&(l=l.add(T)),F.isNoDocument()&&F.version.isEqual(Fn.min())?(e.removeEntry(T,F.readTime),p=p.insert(T,F)):!K.isValidDocument()||F.version.compareTo(K.version)>0||0===F.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(F),p=p.insert(T,F)):At("LocalStore","Ignoring outdated watch update for ",T,". Current version:",K.version," Watch version:",F.version)}),{us:p,cs:l}})}function Kh(r,e){const n=Pt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ta(r,e){const n=Pt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.qr.getTargetData(s,e).next(d=>d?(l=d,it.resolve(l)):n.qr.allocateTargetId(s).next(p=>(l=new xl(e,p,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.ts.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(e,s.targetId)),s})}function nl(r,e,n){return jd.apply(this,arguments)}function jd(){return jd=(0,u.Z)(function*(r,e,n){const s=Pt(r),l=s.ts.get(e),d=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",d,p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!bo(p))throw p;At("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.ts=s.ts.remove(e),s.ns.delete(l.target)}),jd.apply(this,arguments)}function Zh(r,e,n){const s=Pt(r);let l=Fn.min(),d=Nt();return s.persistence.runTransaction("Execute query","readwrite",p=>function(F,K,se){const ye=Pt(F),je=ye.ns.get(se);return void 0!==je?it.resolve(ye.ts.get(je)):ye.qr.getTargetData(K,se)}(s,p,oi(e)).next(T=>{if(T)return l=T.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(p,T.targetId).next(F=>{d=F})}).next(()=>s.es.getDocumentsMatchingQuery(p,e,n?l:Fn.min(),n?d:Nt())).next(T=>(ru(s,Xs(e),T),{documents:T,ls:d})))}function Bg(r,e){const n=Pt(r),s=Pt(n.qr),l=n.ts.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",d=>s._t(d,e).next(p=>p?p.target:null))}function $p(r,e){const n=Pt(r),s=n.rs.get(e)||Fn.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.ss.getAllFromCollectionGroup(l,e,Si(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(ru(n,e,l),l))}function ru(r,e,n){let s=r.rs.get(e)||Fn.min();n.forEach((l,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),r.rs.set(e,s)}function Wp(){return Wp=(0,u.Z)(function*(r,e,n,s){const l=Pt(r);let d=Nt(),p=f();for(const K of n){const se=e.hs(K.metadata.name);K.document&&(d=d.add(se));const ye=e.Ps(K);ye.setReadTime(e.Is(K.metadata.readTime)),p=p.insert(se,ye)}const T=l.ss.newChangeBuffer({trackRemovals:!0}),F=yield ta(l,(se=s,oi(Wn(Ai.fromString(`__bundle__/docs/${se}`)))));var se;return l.persistence.runTransaction("Apply bundle documents","readwrite",K=>qh(K,T,p).next(se=>(T.apply(K),se)).next(se=>l.qr.removeMatchingKeysForTargetId(K,F.targetId).next(()=>l.qr.addMatchingKeys(K,d,F.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(K,se.us,se.cs)).next(()=>se.us)))}),Wp.apply(this,arguments)}function kv(r,e){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,u.Z)(function*(r,e,n=Nt()){const s=yield ta(r,oi(Ad(e.bundledQuery))),l=Pt(r);return l.persistence.runTransaction("Save named query","readwrite",d=>{const p=Oo(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return l.Kr.saveNamedQuery(d,e);const T=s.withResumeToken(to.EMPTY_BYTE_STRING,p);return l.ts=l.ts.insert(T.targetId,T),l.qr.updateTargetData(d,T).next(()=>l.qr.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.qr.addMatchingKeys(d,n,s.targetId)).next(()=>l.Kr.saveNamedQuery(d,e))})}),Hd.apply(this,arguments)}function Gp(r,e){return`firestore_clients_${r}_${e}`}function Ug(r,e,n){let s=`firestore_mutations_${r}_${n}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Yh(r,e){return`firestore_targets_${r}_${e}`}class ju{constructor(e,n,s,l){this.user=e,this.batchId=n,this.state=s,this.error=l}static Ts(e,n,s){const l=JSON.parse(s);let d,p="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return p&&l.error&&(p="string"==typeof l.error.message&&"string"==typeof l.error.code,p&&(d=new Rt(l.error.code,l.error.message))),p?new ju(e,n,l.state,d):(rr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qh{constructor(e,n,s){this.targetId=e,this.state=n,this.error=s}static Ts(e,n){const s=JSON.parse(n);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new Rt(s.error.code,s.error.message))),d?new Qh(e,s.state,l):(rr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xh{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const s=JSON.parse(n);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=Oi();for(let p=0;l&&p<s.activeTargetIds.length;++p)l=an(s.activeTargetIds[p]),d=d.add(s.activeTargetIds[p]);return l?new Xh(e,d):(rr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class qp{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new qp(n.clientId,n.onlineState):(rr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Kp{constructor(){this.activeTargetIds=Oi()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jg{constructor(e,n,s,l,d){this.window=e,this.si=n,this.persistenceKey=s,this.Rs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new wr(Jn),this.started=!1,this.ps=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ys=Gp(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new Kp),this.Ss=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,u.Z)(function*(){const n=yield e.syncEngine.Bi();for(const l of n){if(l===e.Rs)continue;const d=e.getItem(Gp(e.persistenceKey,l));if(d){const p=Xh.Ts(l,d);p&&(e.gs=e.gs.insert(p.clientId,p))}}e.Fs();const s=e.storage.getItem(e.Cs);if(s){const l=e.Ms(s);l&&e.xs(l)}for(const l of e.ps)e.fs(l);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((s,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,s){this.Ns(e,n,s),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Yh(this.persistenceKey,e));if(s){const l=Qh.Ts(e,s);l&&(n=l.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Yh(this.persistenceKey,e))}updateQueryState(e,n,s){this.ks(e,n,s)}handleUserChange(e,n,s){n.forEach(l=>{this.Bs(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return At("SharedClientState","READ",e,n),n}setItem(e,n){At("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){At("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const s=e;if(s.storageArea===this.storage){if(At("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ys)return void rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,u.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ss.test(s.key)){if(null==s.newValue){const l=n.Ks(s.key);return n.$s(l,null)}{const l=n.Us(s.key,s.newValue);if(l)return n.$s(l.clientId,l)}}else if(n.bs.test(s.key)){if(null!==s.newValue){const l=n.Ws(s.key,s.newValue);if(l)return n.Gs(l)}}else if(n.Ds.test(s.key)){if(null!==s.newValue){const l=n.zs(s.key,s.newValue);if(l)return n.js(l)}}else if(s.key===n.Cs){if(null!==s.newValue){const l=n.Ms(s.newValue);if(l)return n.xs(l)}}else if(s.key===n.ws){const l=function(p){let T=De._e;if(null!=p)try{const F=JSON.parse(p);wn("number"==typeof F),T=F}catch(F){rr("SharedClientState","Failed to read sequence number from WebStorage",F)}return T}(s.newValue);l!==De._e&&n.sequenceNumberHandler(l)}else if(s.key===n.vs){const l=n.Hs(s.newValue);yield Promise.all(l.map(d=>n.syncEngine.Js(d)))}}else n.ps.push(s)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,s){const l=new ju(this.currentUser,e,n,s),d=Ug(this.persistenceKey,this.currentUser,e);this.setItem(d,l.Es())}Bs(e){const n=Ug(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,s){const l=Yh(this.persistenceKey,e),d=new Qh(e,n,s);this.setItem(l,d.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const s=this.Ks(e);return Xh.Ts(s,n)}Ws(e,n){const s=this.bs.exec(e),l=Number(s[1]);return ju.Ts(new Mn(void 0!==s[2]?s[2]:null),l,n)}zs(e,n){const s=this.Ds.exec(e),l=Number(s[1]);return Qh.Ts(l,n)}Ms(e){return qp.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,u.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);At("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const s=n?this.gs.insert(e,n):this.gs.remove(e),l=this.Os(this.gs),d=this.Os(s),p=[],T=[];return d.forEach(F=>{l.has(F)||p.push(F)}),l.forEach(F=>{d.has(F)||T.push(F)}),this.syncEngine.Xs(p,T).then(()=>{this.gs=s})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=Oi();return e.forEach((s,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class Lv{constructor(){this.eo=new Kp,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,s){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Kp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jh{ro(e){}shutdown(){}}class Hg{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){At("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){At("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Hu=null;function zd(){return null===Hu?Hu=268435456+Math.round(2147483648*Math.random()):Hu++,"0x"+Hu.toString(16)}const zu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zp{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const fs="WebChannelConnection";class $d extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${l}/databases/${d}`,this.po="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${d}`}get yo(){return!1}wo(n,s,l,d,p){const T=zd(),F=this.So(n,s);At("RestConnection",`Sending RPC '${n}' ${T}:`,F,l);const K={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(K,d,p),this.Do(n,F,K,l).then(se=>(At("RestConnection",`Received RPC '${n}' ${T}: `,se),se),se=>{throw pr("RestConnection",`RPC '${n}' ${T} failed with error: `,se,"url: ",F,"request:",l),se})}Co(n,s,l,d,p,T){return this.wo(n,s,l,d,p)}bo(n,s,l){n["X-Goog-Api-Client"]="gl-js/ fire/"+lr,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((d,p)=>n[p]=d),l&&l.headers.forEach((d,p)=>n[p]=d)}So(n,s){return`${this.mo}/v1/${s}:${zu[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,s,l){const d=zd();return new Promise((p,T)=>{const F=new bn;F.setWithCredentials(!0),F.listenOnce(U.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case re.NO_ERROR:const se=F.getResponseJson();At(fs,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(se)),p(se);break;case re.TIMEOUT:At(fs,`RPC '${e}' ${d} timed out`),T(new Rt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case re.HTTP_ERROR:const ye=F.getStatus();if(At(fs,`RPC '${e}' ${d} failed with status:`,ye,"response text:",F.getResponseText()),ye>0){let je=F.getResponseJson();Array.isArray(je)&&(je=je[0]);const dt=je?.error;if(dt&&dt.status&&dt.message){const qt=function(on){const Xn=on.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(Xn)>=0?Xn:gt.UNKNOWN}(dt.status);T(new Rt(qt,dt.message))}else T(new Rt(gt.UNKNOWN,"Server responded with status "+F.getStatus()))}else T(new Rt(gt.UNAVAILABLE,"Connection failed."));break;default:Ht()}}finally{At(fs,`RPC '${e}' ${d} completed.`)}});const K=JSON.stringify(l);At(fs,`RPC '${e}' ${d} sending request:`,l),F.send(n,"POST",K,s,15)})}vo(e,n,s){const l=zd(),d=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Gs(),T=C(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(F.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(F.xmlHttpFactory=new pt({})),this.bo(F.initMessageHeaders,n,s),F.encodeInitMessageHeaders=!0;const se=d.join("");At(fs,`Creating RPC '${e}' stream ${l}: ${se}`,F);const ye=p.createWebChannel(se,F);let je=!1,dt=!1;const qt=new Zp({co:on=>{dt?At(fs,`Not sending because RPC '${e}' stream ${l} is closed:`,on):(je||(At(fs,`Opening RPC '${e}' stream ${l} transport.`),ye.open(),je=!0),At(fs,`RPC '${e}' stream ${l} sending:`,on),ye.send(on))},lo:()=>ye.close()}),rn=(on,Xn,si)=>{on.listen(Xn,ti=>{try{si(ti)}catch(Yn){setTimeout(()=>{throw Yn},0)}})};return rn(ye,It.EventType.OPEN,()=>{dt||At(fs,`RPC '${e}' stream ${l} transport opened.`)}),rn(ye,It.EventType.CLOSE,()=>{dt||(dt=!0,At(fs,`RPC '${e}' stream ${l} transport closed`),qt.Ro())}),rn(ye,It.EventType.ERROR,on=>{dt||(dt=!0,pr(fs,`RPC '${e}' stream ${l} transport errored:`,on),qt.Ro(new Rt(gt.UNAVAILABLE,"The operation could not be completed")))}),rn(ye,It.EventType.MESSAGE,on=>{var Xn;if(!dt){const si=on.data[0];wn(!!si);const Yn=si.error||(null===(Xn=si[0])||void 0===Xn?void 0:Xn.error);if(Yn){At(fs,`RPC '${e}' stream ${l} received error:`,Yn);const $r=Yn.status;let Ar=function(Gy){const eg=Zo[Gy];if(void 0!==eg)return fg(eg)}($r),ms=Yn.message;void 0===Ar&&(Ar=gt.INTERNAL,ms="Unknown error status: "+$r+" with message "+Yn.message),dt=!0,qt.Ro(new Rt(Ar,ms)),ye.close()}else At(fs,`RPC '${e}' stream ${l} received:`,si),qt.Vo(si)}}),rn(T,X.STAT_EVENT,on=>{on.stat===Ae.PROXY?At(fs,`RPC '${e}' stream ${l} detected buffering proxy`):on.stat===Ae.NOPROXY&&At(fs,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{qt.Ao()},0),qt}}function Wd(){return typeof window<"u"?window:null}function rc(){return typeof document<"u"?document:null}function ou(r){return new _v(r,!0)}class Gd{constructor(e,n,s=1e3,l=1.5,d=6e4){this.si=e,this.timerId=n,this.Fo=s,this.Mo=l,this.xo=d,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),l=Math.max(0,n-s);l>0&&At("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,l,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class qd{constructor(e,n,s,l,d,p,T,F){this.si=e,this.Ko=s,this.$o=l,this.connection=d,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=T,this.listener=F,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Gd(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,u.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,u.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var s=this;return(0,u.Z)(function*(){s.t_(),s.n_(),s.zo.cancel(),s.Uo++,4!==e?s.zo.reset():n&&n.code===gt.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),s.zo.Lo()):n&&n.code===gt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.r_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Uo===n&&this.s_(s,l)},s=>{e(()=>{const l=new Rt(gt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(l)})})}s_(e,n){const s=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(l=>{s(()=>this.o_(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Jo(){var e=this;this.state=5,this.zo.ko((0,u.Z)(function*(){e.state=0,e.start()}))}o_(e){return At("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(At("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jb extends qd{constructor(e,n,s,l,d,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,p),this.serializer=d}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function yv(r,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Ht(),l=e.targetChange.targetIds||[],d=function(K,se){return K.useProto3Json?(wn(void 0===se||"string"==typeof se),to.fromBase64String(se||"")):(wn(void 0===se||se instanceof Uint8Array),to.fromUint8Array(se||new Uint8Array))}(r,e.targetChange.resumeToken),p=e.targetChange.cause,T=p&&function(K){const se=void 0===K.code?gt.UNKNOWN:fg(K.code);return new Rt(se,K.message||"")}(p);n=new pg(s,l,d,T||null)}else if("documentChange"in e){const s=e.documentChange,l=Ja(r,s.document.name),d=Oo(s.document.updateTime),p=s.document.createTime?Oo(s.document.createTime):Fn.min(),T=new no({mapValue:{fields:s.document.fields}}),F=kr.newFoundDocument(l,d,p,T);n=new Ph(s.targetIds||[],s.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const s=e.documentDelete,l=Ja(r,s.document),d=s.readTime?Oo(s.readTime):Fn.min(),p=kr.newNoDocument(l,d);n=new Ph([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,l=Ja(r,s.document);n=new Ph([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Ht();{const s=e.filter,{count:l=0,unchangedNames:d}=s,p=new pv(l,d);n=new fp(s.targetId,p)}}var K;return n}(this.serializer,e),s=function(d){if(!("targetChange"in d))return Fn.min();const p=d.targetChange;return p.targetIds&&p.targetIds.length?Fn.min():p.readTime?Oo(p.readTime):Fn.min()}(e);return this.listener.a_(n,s)}u_(e){const n={};n.database=Cd(this.serializer),n.addTarget=function(d,p){let T;const F=p.target;if(T=pe(F)?{documents:Nh(d,F)}:{query:yp(d,F)},T.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){T.resumeToken=gg(d,p.resumeToken);const K=Kc(d,p.expectedCount);null!==K&&(T.expectedCount=K)}else if(p.snapshotVersion.compareTo(Fn.min())>0){T.readTime=Nu(d,p.snapshotVersion.toTimestamp());const K=Kc(d,p.expectedCount);null!==K&&(T.expectedCount=K)}return T}(this.serializer,e);const s=function bp(r,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ht()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.e_(n)}c_(e){const n={};n.database=Cd(this.serializer),n.removeTarget=e,this.e_(n)}}class Yp extends qd{constructor(e,n,s,l,d,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,p),this.serializer=d,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function vp(r,e){return r&&r.length>0?(wn(void 0!==e),r.map(n=>function(l,d){let p=Oo(l.updateTime?l.updateTime:d);return p.isEqual(Fn.min())&&(p=Oo(d)),new kb(p,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=Oo(e.commitTime);return this.listener.I_(s,n)}return wn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Cd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Fu(this.serializer,s))};this.e_(n)}}class Kd extends class{}{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.d_=!1}A_(){if(this.d_)throw new Rt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.wo(e,n,s,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Rt(gt.UNKNOWN,l.toString())})}Co(e,n,s,l){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,n,s,d,p,l)).catch(d=>{throw"FirebaseError"===d.name?(d.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Rt(gt.UNKNOWN,d.toString())})}terminate(){this.d_=!0}}class Bv{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(rr(n),this.f_=!1):At("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Uv{constructor(e,n,s,l,d){var p=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=d,this.F_.ro(T=>{s.enqueueAndForget((0,u.Z)(function*(){var F;Dl(p)&&(At("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,u.Z)(function*(se){const ye=Pt(se);ye.C_.add(4),yield $u(ye),ye.M_.set("Unknown"),ye.C_.delete(4),yield su(ye)}),function K(se){return F.apply(this,arguments)})(p))}))}),this.M_=new Bv(s,l)}}function su(r){return tf.apply(this,arguments)}function tf(){return tf=(0,u.Z)(function*(r){if(Dl(r))for(const e of r.v_)yield e(!0)}),tf.apply(this,arguments)}function $u(r){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,u.Z)(function*(r){for(const e of r.v_)yield e(!1)}),Qp.apply(this,arguments)}function Xp(r,e){const n=Pt(r);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),rf(n)?Jp(n):Gu(n).Ho()&&Wu(n,e))}function Zd(r,e){const n=Pt(r),s=Gu(n);n.D_.delete(e),s.Ho()&&nf(n,e),0===n.D_.size&&(s.Ho()?s.Zo():Dl(n)&&n.M_.set("Unknown"))}function Wu(r,e){if(r.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fn.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gu(r).u_(e)}function nf(r,e){r.x_.Oe(e),Gu(r).c_(e)}function Jp(r){r.x_=new mv({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>r.D_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),Gu(r).start(),r.M_.g_()}function rf(r){return Dl(r)&&!Gu(r).jo()&&r.D_.size>0}function Dl(r){return 0===Pt(r).C_.size}function Yd(r){r.x_=void 0}function jv(r){return sf.apply(this,arguments)}function sf(){return sf=(0,u.Z)(function*(r){r.D_.forEach((e,n)=>{Wu(r,e)})}),sf.apply(this,arguments)}function Hv(r,e){return af.apply(this,arguments)}function af(){return af=(0,u.Z)(function*(r,e){Yd(r),rf(r)?(r.M_.w_(e),Jp(r)):r.M_.set("Unknown")}),af.apply(this,arguments)}function Hb(r,e,n){return em.apply(this,arguments)}function em(){return em=(0,u.Z)(function*(r,e,n){if(r.M_.set("Online"),e instanceof pg&&2===e.state&&e.cause)try{yield(s=(0,u.Z)(function*(d,p){const T=p.cause;for(const F of p.targetIds)d.D_.has(F)&&(yield d.remoteSyncer.rejectListen(F,T),d.D_.delete(F),d.x_.removeTarget(F))}),function l(d,p){return s.apply(this,arguments)})(r,e)}catch(s){At("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Mc(r,s)}else if(e instanceof Ph?r.x_.$e(e):e instanceof fp?r.x_.Je(e):r.x_.Ge(e),!n.isEqual(Fn.min()))try{const s=yield Ud(r.localStore);n.compareTo(s)>=0&&(yield function(d,p){const T=d.x_.it(p);return T.targetChanges.forEach((F,K)=>{if(F.resumeToken.approximateByteSize()>0){const se=d.D_.get(K);se&&d.D_.set(K,se.withResumeToken(F.resumeToken,p))}}),T.targetMismatches.forEach((F,K)=>{const se=d.D_.get(F);if(!se)return;d.D_.set(F,se.withResumeToken(to.EMPTY_BYTE_STRING,se.snapshotVersion)),nf(d,F);const ye=new xl(se.target,F,K,se.sequenceNumber);Wu(d,ye)}),d.remoteSyncer.applyRemoteEvent(T)}(r,n))}catch(s){At("RemoteStore","Failed to raise snapshot:",s),yield Mc(r,s)}var s}),em.apply(this,arguments)}function Mc(r,e,n){return tm.apply(this,arguments)}function tm(){return tm=(0,u.Z)(function*(r,e,n){if(!bo(e))throw e;r.C_.add(1),yield $u(r),r.M_.set("Offline"),n||(n=()=>Ud(r.localStore)),r.asyncQueue.enqueueRetryable((0,u.Z)(function*(){At("RemoteStore","Retrying IndexedDB access"),yield n(),r.C_.delete(1),yield su(r)}))}),tm.apply(this,arguments)}function au(r,e){return e().catch(n=>Mc(r,n,e))}function Al(r){return nm.apply(this,arguments)}function nm(){return nm=(0,u.Z)(function*(r){const e=Pt(r),n=lu(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;zg(e);)try{const l=yield Kh(e.localStore,s);if(null===l){0===e.b_.length&&n.Zo();break}s=l.batchId,zv(e,l)}catch(l){yield Mc(e,l)}$g(e)&&Wg(e)}),nm.apply(this,arguments)}function zg(r){return Dl(r)&&r.b_.length<10}function zv(r,e){r.b_.push(e);const n=lu(r);n.Ho()&&n.h_&&n.P_(e.mutations)}function $g(r){return Dl(r)&&!lu(r).jo()&&r.b_.length>0}function Wg(r){lu(r).start()}function Gg(r){return lf.apply(this,arguments)}function lf(){return lf=(0,u.Z)(function*(r){lu(r).E_()}),lf.apply(this,arguments)}function im(r){return qg.apply(this,arguments)}function qg(){return qg=(0,u.Z)(function*(r){const e=lu(r);for(const n of r.b_)e.P_(n.mutations)}),qg.apply(this,arguments)}function rm(r,e,n){return cf.apply(this,arguments)}function cf(){return cf=(0,u.Z)(function*(r,e,n){const s=r.b_.shift(),l=lp.from(s,e,n);yield au(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),yield Al(r)}),cf.apply(this,arguments)}function $v(r,e){return om.apply(this,arguments)}function om(){return om=(0,u.Z)(function*(r,e){var n;e&&lu(r).h_&&(yield(n=(0,u.Z)(function*(l,d){if(up(T=d.code)&&T!==gt.ABORTED){const p=l.b_.shift();lu(l).Yo(),yield au(l,()=>l.remoteSyncer.rejectFailedWrite(p.batchId,d)),yield Al(l)}var T}),function s(l,d){return n.apply(this,arguments)})(r,e)),$g(r)&&Wg(r)}),om.apply(this,arguments)}function sm(r,e){return am.apply(this,arguments)}function am(){return am=(0,u.Z)(function*(r,e){const n=Pt(r);n.asyncQueue.verifyOperationInProgress(),At("RemoteStore","RemoteStore received new credentials");const s=Dl(n);n.C_.add(3),yield $u(n),s&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield su(n)}),am.apply(this,arguments)}function uf(r,e){return lm.apply(this,arguments)}function lm(){return lm=(0,u.Z)(function*(r,e){const n=Pt(r);e?(n.C_.delete(2),yield su(n)):e||(n.C_.add(2),yield $u(n),n.M_.set("Unknown"))}),lm.apply(this,arguments)}function Gu(r){return r.O_||(r.O_=function(n,s,l){const d=Pt(n);return d.A_(),new jb(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(r.datastore,r.asyncQueue,{ho:jv.bind(null,r),Io:Hv.bind(null,r),a_:Hb.bind(null,r)}),r.v_.push(function(){var e=(0,u.Z)(function*(n){n?(r.O_.Yo(),rf(r)?Jp(r):r.M_.set("Unknown")):(yield r.O_.stop(),Yd(r))});return function(n){return e.apply(this,arguments)}}())),r.O_}function lu(r){return r.N_||(r.N_=function(n,s,l){const d=Pt(n);return d.A_(),new Yp(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(r.datastore,r.asyncQueue,{ho:Gg.bind(null,r),Io:$v.bind(null,r),T_:im.bind(null,r),I_:rm.bind(null,r)}),r.v_.push(function(){var e=(0,u.Z)(function*(n){n?(r.N_.Yo(),yield Al(r)):(yield r.N_.stop(),r.b_.length>0&&(At("RemoteStore",`Stopping write stream with ${r.b_.length} pending writes`),r.b_=[]))});return function(n){return e.apply(this,arguments)}}())),r.N_}class df{constructor(e,n,s,l,d){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,d){const p=Date.now()+s,T=new df(e,n,p,l,d);return T.start(s),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rt(gt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cu(r,e){if(rr("AsyncQueue",`${e}: ${r}`),bo(r))return new Rt(gt.UNAVAILABLE,`${e}: ${r}`);throw r}class Hs{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Jt.comparator(n.key,s.key):(n,s)=>Jt.comparator(n.key,s.key),this.keyedMap=x(),this.sortedSet=new wr(this.comparator)}static emptySet(e){return new Hs(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new Hs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class cm{constructor(){this.B_=new wr(Jt.comparator)}track(e){const n=e.doc.key,s=this.B_.get(n);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(n):1===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ht():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Qd{constructor(e,n,s,l,d,p,T,F,K){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=T,this.excludesMetadataChanges=F,this.hasCachedResults=K}static fromInitialDocuments(e,n,s,l,d){const p=[];return n.forEach(T=>{p.push({type:0,doc:T})}),new Qd(e,n,Hs.emptySet(n),p,s,l,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lr(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class um{constructor(){this.k_=void 0,this.listeners=[]}}class Rc{constructor(){this.queries=new Js(e=>Bs(e),Lr),this.onlineState="Unknown",this.q_=new Set}}function Xd(r,e){return dm.apply(this,arguments)}function dm(){return dm=(0,u.Z)(function*(r,e){const n=Pt(r),s=e.query;let l=!1,d=n.queries.get(s);if(d||(l=!0,d=new um),l)try{d.k_=yield n.onListen(s)}catch(p){const T=cu(p,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(T)}n.queries.set(s,d),d.listeners.push(e),e.Q_(n.onlineState),d.k_&&e.K_(d.k_)&&hf(n)}),dm.apply(this,arguments)}function Kg(r,e){return hm.apply(this,arguments)}function hm(){return hm=(0,u.Z)(function*(r,e){const n=Pt(r),s=e.query;let l=!1;const d=n.queries.get(s);if(d){const p=d.listeners.indexOf(e);p>=0&&(d.listeners.splice(p,1),l=0===d.listeners.length)}if(l)return n.queries.delete(s),n.onUnlisten(s)}),hm.apply(this,arguments)}function fm(r,e){const n=Pt(r);let s=!1;for(const l of e){const p=n.queries.get(l.query);if(p){for(const T of p.listeners)T.K_(l)&&(s=!0);p.k_=l}}s&&hf(n)}function Sl(r,e,n){const s=Pt(r),l=s.queries.get(e);if(l)for(const d of l.listeners)d.onError(n);s.queries.delete(e)}function hf(r){r.q_.forEach(e=>{e.next()})}class pm{constructor(e,n,s){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Qd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Qd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class zb{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class rs{constructor(e){this.serializer=e}hs(e){return Ja(this.serializer,e)}Ps(e){return e.metadata.exists?bg(this.serializer,e.document,!1):kr.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Oo(e)}}class Wv{constructor(e,n,s){this.X_=e,this.localStore=n,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ff(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const s=Ai.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,s=new rs(this.serializer);for(const l of e)if(l.metadata.queries){const d=s.hs(l.metadata.name);for(const p of l.metadata.queries){const T=(n.get(p)||Nt()).add(d);n.set(p,T)}}return n}complete(){var e=this;return(0,u.Z)(function*(){const n=yield function Fv(r,e,n,s){return Wp.apply(this,arguments)}(e.localStore,new rs(e.serializer),e.documents,e.X_.id),s=e.ta(e.documents);for(const l of e.queries)yield kv(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function ff(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Zg{constructor(e){this.key=e}}class Yg{constructor(e){this.key=e}}class pf{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Nt(),this.mutatedKeys=Nt(),this._a=us(e),this.aa=new Hs(this._a)}get ua(){return this.ia}ca(e,n){const s=n?n.la:new cm,l=n?n.aa:this.aa;let d=n?n.mutatedKeys:this.mutatedKeys,p=l,T=!1;const F="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,K="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((se,ye)=>{const je=l.get(se),dt=Qr(this.query,ye)?ye:null,qt=!!je&&this.mutatedKeys.has(je.key),rn=!!dt&&(dt.hasLocalMutations||this.mutatedKeys.has(dt.key)&&dt.hasCommittedMutations);let on=!1;je&&dt?je.data.isEqual(dt.data)?qt!==rn&&(s.track({type:3,doc:dt}),on=!0):this.ha(je,dt)||(s.track({type:2,doc:dt}),on=!0,(F&&this._a(dt,F)>0||K&&this._a(dt,K)<0)&&(T=!0)):!je&&dt?(s.track({type:0,doc:dt}),on=!0):je&&!dt&&(s.track({type:1,doc:je}),on=!0,(F||K)&&(T=!0)),on&&(dt?(p=p.add(dt),d=rn?d.add(se):d.delete(se)):(p=p.delete(se),d=d.delete(se)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const se="F"===this.query.limitType?p.last():p.first();p=p.delete(se.key),d=d.delete(se.key),s.track({type:1,doc:se})}return{aa:p,la:s,Zi:T,mutatedKeys:d}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const l=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const d=e.la.L_();d.sort((K,se)=>function(je,dt){const qt=rn=>{switch(rn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht()}};return qt(je)-qt(dt)}(K.type,se.type)||this._a(K.doc,se.doc)),this.Pa(s);const p=n?this.Ia():[],T=0===this.oa.size&&this.current?1:0,F=T!==this.sa;return this.sa=T,0!==d.length||F?{snapshot:new Qd(this.query,e.aa,l,d,e.mutatedKeys,0===T,F,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:p}:{Ta:p}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new cm,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Nt(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return e.forEach(s=>{this.oa.has(s)||n.push(new Yg(s))}),this.oa.forEach(s=>{e.has(s)||n.push(new Zg(s))}),n}da(e){this.ia=e.ls,this.oa=Nt();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Qd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Qg{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Xg{constructor(e){this.key=e,this.Ra=!1}}class Gv{constructor(e,n,s,l,d,p){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.Va={},this.ma=new Js(T=>Bs(T),Lr),this.fa=new Map,this.ga=new Set,this.pa=new wr(Jt.comparator),this.ya=new Map,this.wa=new Lp,this.Sa={},this.ba=new Map,this.Da=Dc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Jg(r,e){return mf.apply(this,arguments)}function mf(){return mf=(0,u.Z)(function*(r,e){const n=th(r);let s,l;const d=n.ma.get(e);if(d)s=d.targetId,n.sharedClientState.addLocalQueryTarget(s),l=d.view.Aa();else{const p=yield ta(n.localStore,oi(e)),T=n.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,l=yield mm(n,e,s,"current"===T,p.resumeToken),n.isPrimaryClient&&Xp(n.remoteStore,p)}return l}),mf.apply(this,arguments)}function mm(r,e,n,s,l){return gm.apply(this,arguments)}function gm(){return gm=(0,u.Z)(function*(r,e,n,s,l){r.va=(ye,je,dt)=>{return(qt=(0,u.Z)(function*(on,Xn,si,ti){let Yn=Xn.view.ca(si);Yn.Zi&&(Yn=yield Zh(on.localStore,Xn.query,!1).then(({documents:ms})=>Xn.view.ca(ms,Yn)));const $r=ti&&ti.targetChanges.get(Xn.targetId),Ar=Xn.view.applyChanges(Yn,on.isPrimaryClient,$r);return i_(on,Xn.targetId,Ar.Ta),Ar.snapshot}),function rn(on,Xn,si,ti){return qt.apply(this,arguments)})(r,ye,je,dt);var qt};const d=yield Zh(r.localStore,e,!0),p=new pf(e,d.ls),T=p.ca(d.documents),F=Ou.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==r.onlineState,l),K=p.applyChanges(T,r.isPrimaryClient,F);i_(r,n,K.Ta);const se=new Qg(e,n,p);return r.ma.set(e,se),r.fa.has(n)?r.fa.get(n).push(e):r.fa.set(n,[e]),K.snapshot}),gm.apply(this,arguments)}function qv(r,e){return gf.apply(this,arguments)}function gf(){return gf=(0,u.Z)(function*(r,e){const n=Pt(r),s=n.ma.get(e),l=n.fa.get(s.targetId);if(l.length>1)return n.fa.set(s.targetId,l.filter(d=>!Lr(d,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield nl(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Zd(n.remoteStore,s.targetId),Ku(n,s.targetId)}).catch(zr))):(Ku(n,s.targetId),yield nl(n.localStore,s.targetId,!0))}),gf.apply(this,arguments)}function il(){return il=(0,u.Z)(function*(r,e,n){const s=nh(r);try{const l=yield function(p,T){const F=Pt(p),K=pn.now(),se=T.reduce((dt,qt)=>dt.add(qt.key),Nt());let ye,je;return F.persistence.runTransaction("Locally write mutations","readwrite",dt=>{let qt=f(),rn=Nt();return F.ss.getEntries(dt,se).next(on=>{qt=on,qt.forEach((Xn,si)=>{si.isValidDocument()||(rn=rn.add(Xn))})}).next(()=>F.localDocuments.getOverlayedDocuments(dt,qt)).next(on=>{ye=on;const Xn=[];for(const si of T){const ti=hg(si,ye.get(si.key).overlayedDocument);null!=ti&&Xn.push(new wl(si.key,ti,Du(ti.value.mapValue),xo.exists(!0)))}return F.mutationQueue.addMutationBatch(dt,K,Xn,T)}).next(on=>{je=on;const Xn=on.applyToLocalDocumentSet(ye,rn);return F.documentOverlayCache.saveOverlays(dt,on.batchId,Xn)})}).then(()=>({batchId:je.batchId,changes:W(ye)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(p,T,F){let K=p.Sa[p.currentUser.toKey()];K||(K=new wr(Jn)),K=K.insert(T,F),p.Sa[p.currentUser.toKey()]=K}(s,l.batchId,n),yield Pc(s,l.changes),yield Al(s.remoteStore)}catch(l){const d=cu(l,"Failed to persist write");n.reject(d)}}),il.apply(this,arguments)}function uu(r,e){return _m.apply(this,arguments)}function _m(){return _m=(0,u.Z)(function*(r,e){const n=Pt(r);try{const s=yield function Nv(r,e){const n=Pt(r),s=e.snapshotVersion;let l=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const p=n.ss.newChangeBuffer({trackRemovals:!0});l=n.ts;const T=[];e.targetChanges.forEach((se,ye)=>{const je=l.get(ye);if(!je)return;T.push(n.qr.removeMatchingKeys(d,se.removedDocuments,ye).next(()=>n.qr.addMatchingKeys(d,se.addedDocuments,ye)));let dt=je.withSequenceNumber(d.currentSequenceNumber);var rn,on,Xn;null!==e.targetMismatches.get(ye)?dt=dt.withResumeToken(to.EMPTY_BYTE_STRING,Fn.min()).withLastLimboFreeSnapshotVersion(Fn.min()):se.resumeToken.approximateByteSize()>0&&(dt=dt.withResumeToken(se.resumeToken,s)),l=l.insert(ye,dt),on=dt,Xn=se,(0===(rn=je).resumeToken.approximateByteSize()||on.snapshotVersion.toMicroseconds()-rn.snapshotVersion.toMicroseconds()>=3e8||Xn.addedDocuments.size+Xn.modifiedDocuments.size+Xn.removedDocuments.size>0)&&T.push(n.qr.updateTargetData(d,dt))});let F=f(),K=Nt();if(e.documentUpdates.forEach(se=>{e.resolvedLimboDocuments.has(se)&&T.push(n.persistence.referenceDelegate.updateLimboDocument(d,se))}),T.push(qh(d,p,e.documentUpdates).next(se=>{F=se.us,K=se.cs})),!s.isEqual(Fn.min())){const se=n.qr.getLastRemoteSnapshotVersion(d).next(ye=>n.qr.setTargetsMetadata(d,d.currentSequenceNumber,s));T.push(se)}return it.waitFor(T).next(()=>p.apply(d)).next(()=>n.localDocuments.getLocalViewOfDocuments(d,F,K)).next(()=>F)}).then(d=>(n.ts=l,d))}(n.localStore,e);e.targetChanges.forEach((l,d)=>{const p=n.ya.get(d);p&&(wn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?p.Ra=!0:l.modifiedDocuments.size>0?wn(p.Ra):l.removedDocuments.size>0&&(wn(p.Ra),p.Ra=!1))}),yield Pc(n,s,e)}catch(s){yield zr(s)}}),_m.apply(this,arguments)}function e_(r,e,n){const s=Pt(r);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const l=[];s.ma.forEach((d,p)=>{const T=p.view.Q_(e);T.snapshot&&l.push(T.snapshot)}),function(p,T){const F=Pt(p);F.onlineState=T;let K=!1;F.queries.forEach((se,ye)=>{for(const je of ye.listeners)je.Q_(T)&&(K=!0)}),K&&hf(F)}(s.eventManager,e),l.length&&s.Va.a_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function t_(r,e,n){return _f.apply(this,arguments)}function _f(){return _f=(0,u.Z)(function*(r,e,n){const s=Pt(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.ya.get(e),d=l&&l.key;if(d){let p=new wr(Jt.comparator);p=p.insert(d,kr.newNoDocument(d,Fn.min()));const T=Nt().add(d),F=new Pu(Fn.min(),new Map,new wr(Jn),p,T);yield uu(s,F),s.pa=s.pa.remove(d),s.ya.delete(e),r_(s)}else yield nl(s.localStore,e,!1).then(()=>Ku(s,e,n)).catch(zr)}),_f.apply(this,arguments)}function vm(r,e){return du.apply(this,arguments)}function du(){return du=(0,u.Z)(function*(r,e){const n=Pt(r),s=e.batch.batchId;try{const l=yield function zp(r,e){const n=Pt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),d=n.ss.newChangeBuffer({trackRemovals:!0});return function(T,F,K,se){const ye=K.batch,je=ye.keys();let dt=it.resolve();return je.forEach(qt=>{dt=dt.next(()=>se.getEntry(F,qt)).next(rn=>{const on=K.docVersions.get(qt);wn(null!==on),rn.version.compareTo(on)<0&&(ye.applyToRemoteDocument(rn,K),rn.isValidDocument()&&(rn.setReadTime(K.commitVersion),se.addEntry(rn)))})}),dt.next(()=>T.mutationQueue.removeMutationBatch(F,ye))}(n,s,e,d).next(()=>d.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(T){let F=Nt();for(let K=0;K<T.mutationResults.length;++K)T.mutationResults[K].transformResults.length>0&&(F=F.add(T.batch.mutations[K].key));return F}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}(n.localStore,e);Em(n,s,null),bm(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield Pc(n,l)}catch(l){yield zr(l)}}),du.apply(this,arguments)}function vf(r,e,n){return yf.apply(this,arguments)}function yf(){return yf=(0,u.Z)(function*(r,e,n){const s=Pt(r);try{const l=yield function(p,T){const F=Pt(p);return F.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let se;return F.mutationQueue.lookupMutationBatch(K,T).next(ye=>(wn(null!==ye),se=ye.keys(),F.mutationQueue.removeMutationBatch(K,ye))).next(()=>F.mutationQueue.performConsistencyCheck(K)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(K,se,T)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,se)).next(()=>F.localDocuments.getDocuments(K,se))})}(s.localStore,e);Em(s,e,n),bm(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield Pc(s,l)}catch(l){yield zr(l)}}),yf.apply(this,arguments)}function ym(){return ym=(0,u.Z)(function*(r,e){const n=Pt(r);Dl(n.remoteStore)||At("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(p){const T=Pt(p);return T.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>T.mutationQueue.getHighestUnacknowledgedBatchId(F))}(n.localStore);if(-1===s)return void e.resolve();const l=n.ba.get(s)||[];l.push(e),n.ba.set(s,l)}catch(s){const l=cu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),ym.apply(this,arguments)}function bm(r,e){(r.ba.get(e)||[]).forEach(n=>{n.resolve()}),r.ba.delete(e)}function Em(r,e,n){const s=Pt(r);let l=s.Sa[s.currentUser.toKey()];if(l){const d=l.get(e);d&&(n?d.reject(n):d.resolve(),l=l.remove(e)),s.Sa[s.currentUser.toKey()]=l}}function Ku(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.fa.get(e))r.ma.delete(s),n&&r.Va.Fa(s,n);r.fa.delete(e),r.isPrimaryClient&&r.wa.Rr(e).forEach(s=>{r.wa.containsKey(s)||Im(r,s)})}function Im(r,e){r.ga.delete(e.path.canonicalString());const n=r.pa.get(e);null!==n&&(Zd(r.remoteStore,n),r.pa=r.pa.remove(e),r.ya.delete(n),r_(r))}function i_(r,e,n){for(const s of n)s instanceof Zg?(r.wa.addReference(s.key,e),Kv(r,s)):s instanceof Yg?(At("SyncEngine","Document no longer in limbo: "+s.key),r.wa.removeReference(s.key,e),r.wa.containsKey(s.key)||Im(r,s.key)):Ht()}function Kv(r,e){const n=e.key,s=n.path.canonicalString();r.pa.get(n)||r.ga.has(s)||(At("SyncEngine","New document in limbo: "+n),r.ga.add(s),r_(r))}function r_(r){for(;r.ga.size>0&&r.pa.size<r.maxConcurrentLimboResolutions;){const e=r.ga.values().next().value;r.ga.delete(e);const n=new Jt(Ai.fromString(e)),s=r.Da.next();r.ya.set(s,new Xg(n)),r.pa=r.pa.insert(n,s),Xp(r.remoteStore,new xl(oi(Wn(n.path)),s,"TargetPurposeLimboResolution",De._e))}}function Pc(r,e,n){return bf.apply(this,arguments)}function bf(){return bf=(0,u.Z)(function*(r,e,n){const s=Pt(r),l=[],d=[],p=[];var T;s.ma.isEmpty()||(s.ma.forEach((T,F)=>{p.push(s.va(F,e,n).then(K=>{if((K||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(F.targetId,K?.fromCache?"not-current":"current"),K){l.push(K);const se=Bd.Qi(F.targetId,K);d.push(se)}}))}),yield Promise.all(p),s.Va.a_(l),yield(T=(0,u.Z)(function*(K,se){const ye=Pt(K);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",je=>it.forEach(se,dt=>it.forEach(dt.ki,qt=>ye.persistence.referenceDelegate.addReference(je,dt.targetId,qt)).next(()=>it.forEach(dt.qi,qt=>ye.persistence.referenceDelegate.removeReference(je,dt.targetId,qt)))))}catch(je){if(!bo(je))throw je;At("LocalStore","Failed to update sequence numbers: "+je)}for(const je of se){const dt=je.targetId;if(!je.fromCache){const qt=ye.ts.get(dt),on=qt.withLastLimboFreeSnapshotVersion(qt.snapshotVersion);ye.ts=ye.ts.insert(dt,on)}}}),function F(K,se){return T.apply(this,arguments)})(s.localStore,d))}),bf.apply(this,arguments)}function o_(r,e){return s_.apply(this,arguments)}function s_(){return s_=(0,u.Z)(function*(r,e){const n=Pt(r);if(!n.currentUser.isEqual(e)){At("SyncEngine","User change. New user:",e.toKey());const s=yield Sc(n.localStore,e);n.currentUser=e,(d=n).ba.forEach(T=>{T.forEach(F=>{F.reject(new Rt(gt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.ba.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Pc(n,s._s)}var d}),s_.apply(this,arguments)}function Ef(r,e){const n=Pt(r),s=n.ya.get(e);if(s&&s.Ra)return Nt().add(s.key);{let l=Nt();const d=n.fa.get(e);if(!d)return l;for(const p of d){const T=n.ma.get(p);l=l.unionWith(T.view.ua)}return l}}function a_(r,e){return If.apply(this,arguments)}function If(){return If=(0,u.Z)(function*(r,e){const n=Pt(r),s=yield Zh(n.localStore,e.query,!0),l=e.view.da(s);return n.isPrimaryClient&&i_(n,e.targetId,l.Ta),l}),If.apply(this,arguments)}function Zv(r,e){return wf.apply(this,arguments)}function wf(){return wf=(0,u.Z)(function*(r,e){const n=Pt(r);return $p(n.localStore,e).then(s=>Pc(n,s))}),wf.apply(this,arguments)}function l_(r,e,n,s){return vi.apply(this,arguments)}function vi(){return vi=(0,u.Z)(function*(r,e,n,s){const l=Pt(r),d=yield function(T,F){const K=Pt(T),se=Pt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",ye=>se.Cn(ye,F).next(je=>je?K.localDocuments.getDocuments(ye,je):it.resolve(null)))}(l.localStore,e);var F;null!==d?("pending"===n?yield Al(l.remoteStore):"acknowledged"===n||"rejected"===n?(Em(l,e,s||null),bm(l,e),F=e,Pt(Pt(l.localStore).mutationQueue).Fn(F)):Ht(),yield Pc(l,d)):At("SyncEngine","Cannot apply mutation batch with id: "+e)}),vi.apply(this,arguments)}function xf(){return xf=(0,u.Z)(function*(r,e){const n=Pt(r);if(th(n),nh(n),!0===e&&!0!==n.Ca){const s=n.sharedClientState.getAllActiveQueryTargets(),l=yield hu(n,s.toArray());n.Ca=!0,yield uf(n.remoteStore,!0);for(const d of l)Xp(n.remoteStore,d)}else if(!1===e&&!1!==n.Ca){const s=[];let l=Promise.resolve();n.fa.forEach((d,p)=>{n.sharedClientState.isLocalQueryTarget(p)?s.push(p):l=l.then(()=>(Ku(n,p),nl(n.localStore,p,!0))),Zd(n.remoteStore,p)}),yield l,yield hu(n,s),function(p){const T=Pt(p);T.ya.forEach((F,K)=>{Zd(T.remoteStore,K)}),T.wa.Vr(),T.ya=new Map,T.pa=new wr(Jt.comparator)}(n),n.Ca=!1,yield uf(n.remoteStore,!1)}}),xf.apply(this,arguments)}function hu(r,e,n){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,u.Z)(function*(r,e,n){const s=Pt(r),l=[],d=[];for(const p of e){let T;const F=s.fa.get(p);if(F&&0!==F.length){T=yield ta(s.localStore,oi(F[0]));for(const K of F){const se=s.ma.get(K),ye=yield a_(s,se);ye.snapshot&&d.push(ye.snapshot)}}else{const K=yield Bg(s.localStore,p);T=yield ta(s.localStore,K),yield mm(s,u_(K),p,!1,T.resumeToken)}l.push(T)}return s.Va.a_(d),l}),Cf.apply(this,arguments)}function u_(r){return en(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Tf(r){return n=Pt(r).localStore,Pt(Pt(n).persistence).Bi();var n}function Zu(r,e,n,s){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,u.Z)(function*(r,e,n,s){const l=Pt(r);if(l.Ca)return void At("SyncEngine","Ignoring unexpected query state notification.");const d=l.fa.get(e);if(d&&d.length>0)switch(n){case"current":case"not-current":{const p=yield $p(l.localStore,Xs(d[0])),T=Pu.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,to.EMPTY_BYTE_STRING);yield Pc(l,p,T);break}case"rejected":yield nl(l.localStore,e,!0),Ku(l,e,s);break;default:Ht()}}),Jd.apply(this,arguments)}function eh(r,e,n){return Df.apply(this,arguments)}function Df(){return Df=(0,u.Z)(function*(r,e,n){const s=th(r);if(s.Ca){for(const l of e){if(s.fa.has(l)){At("SyncEngine","Adding an already active target "+l);continue}const d=yield Bg(s.localStore,l),p=yield ta(s.localStore,d);yield mm(s,u_(d),p.targetId,!1,p.resumeToken),Xp(s.remoteStore,p)}for(const l of n)s.fa.has(l)&&(yield nl(s.localStore,l,!1).then(()=>{Zd(s.remoteStore,l),Ku(s,l)}).catch(zr))}}),Df.apply(this,arguments)}function th(r){const e=Pt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=uu.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ef.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t_.bind(null,e),e.Va.a_=fm.bind(null,e.eventManager),e.Va.Fa=Sl.bind(null,e.eventManager),e}function nh(r){const e=Pt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vf.bind(null,e),e}class Yu{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,u.Z)(function*(){n.serializer=ou(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return jp(this.persistence,new Gh,e.initialUser,this.serializer)}createPersistence(e){return new nu(Ld.jr,this.serializer)}createSharedClientState(e){return new Lv}terminate(){var e=this;return(0,u.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Cm extends Yu{constructor(e,n,s){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,s=this;return(0,u.Z)(function*(){yield n().call(s,e),yield s.xa.initialize(s,e),yield nh(s.xa.syncEngine),yield Al(s.xa.remoteStore),yield s.persistence.mi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return jp(this.persistence,new Gh,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new Dv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const s=new ce(n,this.persistence);return new q(e.asyncQueue,s)}createPersistence(e){const n=Lg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Us.withCacheSize(this.cacheSizeBytes):Us.DEFAULT;return new Wh(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,Wd(),rc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Lv}}class d_ extends Cm{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,s=this;return(0,u.Z)(function*(){yield n().call(s,e);const l=s.xa.syncEngine;s.sharedClientState instanceof jg&&(s.sharedClientState.syncEngine={Ys:l_.bind(null,l),Zs:Zu.bind(null,l),Xs:eh.bind(null,l),Bi:Tf.bind(null,l),Js:Zv.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.mi(function(){var d=(0,u.Z)(function*(p){yield function c_(r,e){return xf.apply(this,arguments)}(s.xa.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const n=Wd();if(!jg.D(n))throw new Rt(gt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Lg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jg(n,e.asyncQueue,s,e.clientId,e.initialUser)}}class Qu{initialize(e,n){var s=this;return(0,u.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>e_(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=o_.bind(null,s.syncEngine),yield uf(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Rc}createDatastore(e){const n=ou(e.databaseInfo.databaseId),s=new $d(e.databaseInfo);return new Kd(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return s=this.localStore,l=this.datastore,d=e.asyncQueue,p=n=>e_(this.syncEngine,n,0),T=Hg.D()?new Hg:new Jh,new Uv(s,l,d,p,T);var s,l,d,p,T}createSyncEngine(e,n){return function(l,d,p,T,F,K,se){const ye=new Gv(l,d,p,T,F,K);return se&&(ye.Ca=!0),ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,u.Z)(function*(s){const l=Pt(s);At("RemoteStore","RemoteStore shutting down."),l.C_.add(5),yield $u(l),l.F_.shutdown(),l.M_.set("Unknown")}),function n(s){return e.apply(this,arguments)})(this.remoteStore);var e}}function Tm(r,e=10240){let n=0;return{read:()=>(0,u.Z)(function*(){if(n<r.byteLength){const s={value:r.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})(),cancel:()=>(0,u.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Af{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Yv{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Ci,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(s=>{s&&s.Z_()?this.metadata.resolve(s.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Y_)}`))},s=>this.metadata.reject(s))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,u.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,u.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,u.Z)(function*(){const n=yield e.qa();if(null===n)return null;const s=e.La.decode(n),l=Number(s);isNaN(l)&&e.Qa(`length string (${s}) is not valid number`);const d=yield e.Ka(l);return new zb(JSON.parse(d),n.length+l)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,u.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),s})()}Ka(e){var n=this;return(0,u.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const s=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),s})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,u.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const s=new Uint8Array(e.buffer.length+n.value.length);s.set(e.buffer),s.set(n.value,e.buffer.length),e.buffer=s}return n.done})()}}class Qv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,u.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Rt(gt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,u.Z)(function*(p,T){const F=Pt(p),K=Cd(F.serializer)+"/documents",se={documents:T.map(qt=>Ec(F.serializer,qt))},ye=yield F.Co("BatchGetDocuments",K,se,T.length),je=new Map;ye.forEach(qt=>{const rn=function vv(r,e){return"found"in e?function(s,l){wn(!!l.found);const d=Ja(s,l.found.name),p=Oo(l.found.updateTime),T=l.found.createTime?Oo(l.found.createTime):Fn.min(),F=new no({mapValue:{fields:l.found.fields}});return kr.newFoundDocument(d,p,T,F)}(r,e):"missing"in e?function(s,l){wn(!!l.missing),wn(!!l.readTime);const d=Ja(s,l.missing),p=Oo(l.readTime);return kr.newNoDocument(d,p)}(r,e):Ht()}(F.serializer,qt);je.set(rn.key.toString(),rn)});const dt=[];return T.forEach(qt=>{const rn=je.get(qt.toString());wn(!!rn),dt.push(rn)}),dt}),function d(p,T){return l.apply(this,arguments)})(n.datastore,e);var l;return s.forEach(l=>n.recordVersion(l)),s})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Xl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,u.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var s;e.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,l)=>{const d=Jt.fromPath(l);e.mutations.push(new sp(d,e.precondition(d)))}),yield(s=(0,u.Z)(function*(d,p){const T=Pt(d),F=Cd(T.serializer)+"/documents",K={writes:p.map(se=>Fu(T.serializer,se))};yield T.wo("Commit",F,K)}),function l(d,p){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ht();n=Fn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new Rt(gt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Fn.min())?xo.exists(!1):xo.updateTime(n):xo.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Fn.min()))throw new Rt(gt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xo.updateTime(n)}return xo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Xv{constructor(e,n,s,l,d){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=l,this.deferred=d,this.Wa=s.maxAttempts,this.zo=new Gd(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,u.Z)(function*(){const n=new Qv(e.datastore),s=e.za(n);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(d=>{e.ja(d)}))}).catch(l=>{e.ja(l)})}))}za(e){try{const n=this.updateFunction(e);return!lt(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!up(n)}return!1}}class h_{constructor(e,n,s,l){var d=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Mn.UNAUTHENTICATED,this.clientId=pl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,u.Z)(function*(T){At("FirestoreClient","Received user=",T.uid),yield d.authCredentialListener(T),d.user=T});return function(T){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(At("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,u.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Rt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,u.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const l=cu(s,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function ih(r,e){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,u.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),At("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(function(){var l=(0,u.Z)(function*(d){s.isEqual(d)||(yield Sc(e.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Dm.apply(this,arguments)}function Am(r,e){return na.apply(this,arguments)}function na(){return na=(0,u.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const n=yield Sm(r);At("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(n,s),r.setCredentialChangeListener(l=>sm(e.remoteStore,l)),r.setAppCheckTokenChangeListener((l,d)=>sm(e.remoteStore,d)),r._onlineComponents=e}),na.apply(this,arguments)}function f_(r){return"FirebaseError"===r.name?r.code===gt.FAILED_PRECONDITION||r.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Sm(r){return p_.apply(this,arguments)}function p_(){return p_=(0,u.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){At("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ih(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!f_(n))throw n;pr("Error using user provided cache. Falling back to memory cache: "+n),yield ih(r,new Yu)}}else At("FirestoreClient","Using default OfflineComponentProvider"),yield ih(r,new Yu);return r._offlineComponents}),p_.apply(this,arguments)}function Xu(r){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,u.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(At("FirestoreClient","Using user provided OnlineComponentProvider"),yield Am(r,r._uninitializedComponentsProvider._online)):(At("FirestoreClient","Using default OnlineComponentProvider"),yield Am(r,new Qu))),r._onlineComponents}),Sf.apply(this,arguments)}function m_(r){return Sm(r).then(e=>e.persistence)}function Ju(r){return Sm(r).then(e=>e.localStore)}function g_(r){return Xu(r).then(e=>e.remoteStore)}function Mf(r){return Xu(r).then(e=>e.syncEngine)}function ed(r){return rh.apply(this,arguments)}function rh(){return rh=(0,u.Z)(function*(r){const e=yield Xu(r),n=e.eventManager;return n.onListen=Jg.bind(null,e.syncEngine),n.onUnlisten=qv.bind(null,e.syncEngine),n}),rh.apply(this,arguments)}function v_(r,e,n={}){const s=new Ci;return r.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function(d,p,T,F,K){const se=new Af({next:je=>{p.enqueueAndForget(()=>Kg(d,ye));const dt=je.docs.has(T);!dt&&je.fromCache?K.reject(new Rt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):dt&&je.fromCache&&F&&"server"===F.source?K.reject(new Rt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(je)},error:je=>K.reject(je)}),ye=new pm(Wn(T.path),se,{includeMetadataChanges:!0,J_:!0});return Xd(d,ye)}(yield ed(r),r.asyncQueue,e,n,s)})),s.promise}function rl(r,e,n={}){const s=new Ci;return r.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function(d,p,T,F,K){const se=new Af({next:je=>{p.enqueueAndForget(()=>Kg(d,ye)),je.fromCache&&"server"===F.source?K.reject(new Rt(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(je)},error:je=>K.reject(je)}),ye=new pm(T,se,{includeMetadataChanges:!0,J_:!0});return Xd(d,ye)}(yield ed(r),r.asyncQueue,e,n,s)})),s.promise}function oh(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Rf=new Map;function I_(r,e,n){if(!n)throw new Rt(gt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Rm(r,e,n,s){if(!0===e&&!0===s)throw new Rt(gt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Pm(r){if(!Jt.isDocumentKey(r))throw new Rt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Om(r){if(Jt.isDocumentKey(r))throw new Rt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function sh(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(s=r).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof r?"a function":Ht()}function $i(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Rt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sh(r);throw new Rt(gt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ml(r,e){if(e<=0)throw new Rt(gt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class w_{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Rt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Rt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=oh(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new Rt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new Rt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new Rt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ah{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Rt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Rt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Eu;switch(s.type){case"firstParty":return new ld(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Rt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Rf.get(n);s&&(At("ComponentProvider","Removing Datastore"),Rf.delete(n),s.terminate())}(this),Promise.resolve()}}function Pf(r,e,n,s={}){var l;const d=(r=$i(r,ah))._getSettings(),p=`${e}:${n}`;if("firestore.googleapis.com"!==d.host&&d.host!==p&&pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},d),{host:p,ssl:!1})),s.mockUserToken){let T,F;if("string"==typeof s.mockUserToken)T=s.mockUserToken,F=Mn.MOCK_USER;else{T=(0,fe.Sg)(s.mockUserToken,null===(l=r._app)||void 0===l?void 0:l.options.projectId);const K=s.mockUserToken.sub||s.mockUserToken.user_id;if(!K)throw new Rt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Mn(K)}r._authCredentials=new qa(new uc(T,F))}}class Ss{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class Co{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Co(this.firestore,e,this._key)}}class Rl extends Ss{constructor(e,n,s){super(e,n,Wn(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Co(this.firestore,null,new Jt(e))}withConverter(e){return new Rl(this.firestore,e,this._path)}}function Of(r,e,...n){if(r=(0,fe.m9)(r),I_("collection","path",e),r instanceof ah){const s=Ai.fromString(e,...n);return Om(s),new Rl(r,null,s)}{if(!(r instanceof Co||r instanceof Rl))throw new Rt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ai.fromString(e,...n));return Om(s),new Rl(r.firestore,null,s)}}function lh(r,e){if(r=$i(r,ah),I_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Rt(gt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ss(r,null,(s=e,new Wt(Ai.emptyPath(),s)));var s}function Nm(r,e,...n){if(r=(0,fe.m9)(r),1===arguments.length&&(e=pl.newId()),I_("doc","path",e),r instanceof ah){const s=Ai.fromString(e,...n);return Pm(s),new Co(r,null,new Jt(s))}{if(!(r instanceof Co||r instanceof Rl))throw new Rt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ai.fromString(e,...n));return Pm(s),new Co(r.firestore,r instanceof Rl?r.converter:null,new Jt(s))}}function Nf(r,e){return r=(0,fe.m9)(r),e=(0,fe.m9)(e),(r instanceof Co||r instanceof Rl)&&(e instanceof Co||e instanceof Rl)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function x_(r,e){return r=(0,fe.m9)(r),e=(0,fe.m9)(e),r instanceof Ss&&e instanceof Ss&&r.firestore===e.firestore&&Lr(r._query,e._query)&&r.converter===e.converter}class oy{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Gd(this,"async_queue_retry"),this.iu=()=>{const n=rc();n&&At("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=rc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=rc();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Ci;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,u.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!bo(n))throw n;At("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{throw this.eu=s,this.tu=!1,rr("INTERNAL UNHANDLED ERROR: ",function(p){let T=p.message||"";return p.stack&&(T=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),T}(s)),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(e,n,s){this.su(),this.ru.indexOf(e)>-1&&(n=0);const l=df.createAndSchedule(this,e,n,s,d=>this.au(d));return this.Xa.push(l),l}su(){this.eu&&Ht()}verifyOperationInProgress(){}uu(){var e=this;return(0,u.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Ff(r){return function(n,s){if("object"!=typeof n||null===n)return!1;const l=n;for(const d of["next","error","complete"])if(d in l&&"function"==typeof l[d])return!0;return!1}(r)}class C_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,s){this._progressObserver={next:e,error:n,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const sy=-1;class io extends ah{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new oy,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||D_(this),this._firestoreClient.terminate()}}function T_(r,e){const n="object"==typeof r?r:(0,$.getApp)(),s="string"==typeof r?r:e||"(default)",l=(0,$._getProvider)(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const d=(0,fe.P0)("firestore");d&&Pf(l,...d)}return l}function ro(r){return r._firestoreClient||D_(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function D_(r){var e,n,s;const l=r._freezeSettings(),d=(F=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new fd(r._databaseId,F,r._persistenceKey,(se=l).host,se.ssl,se.experimentalForceLongPolling,se.experimentalAutoDetectLongPolling,oh(se.experimentalLongPollingOptions),se.useFetchStreams));var F,se;r._firestoreClient=new h_(r._authCredentials,r._appCheckCredentials,r._queue,d),null!==(n=l.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function A_(r,e){R_(r=$i(r,io));const n=ro(r);if(n._uninitializedComponentsProvider)throw new Rt(gt.FAILED_PRECONDITION,"SDK cache is already specified.");pr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),l=new Qu;return M_(n,l,new Cm(l,s.cacheSizeBytes,e?.forceOwnership))}function S_(r){R_(r=$i(r,io));const e=ro(r);if(e._uninitializedComponentsProvider)throw new Rt(gt.FAILED_PRECONDITION,"SDK cache is already specified.");pr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=r._freezeSettings(),s=new Qu;return M_(e,s,new d_(s,n.cacheSizeBytes))}function M_(r,e,n){const s=new Ci;return r.asyncQueue.enqueue((0,u.Z)(function*(){try{yield ih(r,n),yield Am(r,e),s.resolve()}catch(l){const d=l;if(!f_(d))throw d;pr("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function ly(r){if(r._initialized&&!r._terminated)throw new Rt(gt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ci;return r._queue.enqueueAndForgetEvenWhileRestricted((0,u.Z)(function*(){try{yield(n=(0,u.Z)(function*(l){if(!Ks.D())return Promise.resolve();const d=l+"main";yield Ks.delete(d)}),function s(l){return n.apply(this,arguments)})(Lg(r._databaseId,r._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function ch(r){return function(n){const s=new Ci;return n.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function n_(r,e){return ym.apply(this,arguments)}(yield Mf(n),s)})),s.promise}(ro(r=$i(r,io)))}function cy(r){return function Jv(r){return r.asyncQueue.enqueue((0,u.Z)(function*(){const e=yield m_(r),n=yield g_(r);return e.setNetworkEnabled(!0),function(l){const d=Pt(l);return d.C_.delete(0),su(d)}(n)}))}(ro(r=$i(r,io)))}function uy(r){return function ey(r){return r.asyncQueue.enqueue((0,u.Z)(function*(){const e=yield m_(r),n=yield g_(r);return e.setNetworkEnabled(!1),(s=(0,u.Z)(function*(d){const p=Pt(d);p.C_.add(0),yield $u(p),p.M_.set("Offline")}),function l(d){return s.apply(this,arguments)})(n);var s}))}(ro(r=$i(r,io)))}function dy(r,e){const n=ro(r=$i(r,io)),s=new C_;return function iy(r,e,n,s){const l=function(p,T){let F;return F="string"==typeof p?ea().encode(p):p,se=function(se,ye){if(se instanceof Uint8Array)return Tm(se,void 0);if(se instanceof ArrayBuffer)return Tm(new Uint8Array(se),void 0);if(se instanceof ReadableStream)return se.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new Yv(se,T);var se}(n,ou(e));r.asyncQueue.enqueueAndForget((0,u.Z)(function*(){!function wm(r,e,n){const s=Pt(r);var l;(l=(0,u.Z)(function*(p,T,F){try{const K=yield T.getMetadata();if(yield function(qt,rn){const on=Pt(qt),Xn=Oo(rn.createTime);return on.persistence.runTransaction("hasNewerBundle","readonly",si=>on.Kr.getBundleMetadata(si,rn.id)).then(si=>!!si&&si.createTime.compareTo(Xn)>=0)}(p.localStore,K))return yield T.close(),F._completeWith({taskState:"Success",documentsLoaded:(qt=K).totalDocuments,bytesLoaded:qt.totalBytes,totalDocuments:qt.totalDocuments,totalBytes:qt.totalBytes}),Promise.resolve(new Set);F._updateProgress(ff(K));const se=new Wv(K,p.localStore,T.serializer);let ye=yield T.Ma();for(;ye;){const dt=yield se.ea(ye);dt&&F._updateProgress(dt),ye=yield T.Ma()}const je=yield se.complete();return yield Pc(p,je.ra,void 0),yield function(qt,rn){const on=Pt(qt);return on.persistence.runTransaction("Save bundle","readwrite",Xn=>on.Kr.saveBundleMetadata(Xn,rn))}(p.localStore,K),F._completeWith(je.progress),Promise.resolve(je.na)}catch(K){return pr("SyncEngine",`Loading bundle failed with ${K}`),F._failWith(K),Promise.resolve(new Set)}var qt}),function d(p,T,F){return l.apply(this,arguments)})(s,e,n).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield Mf(r),l,s)}))}(n,r._databaseId,e,s),s}function hy(r,e){return function y_(r,e){return r.asyncQueue.enqueue((0,u.Z)(function*(){return function(s,l){const d=Pt(s);return d.persistence.runTransaction("Get named query","readonly",p=>d.Kr.getNamedQuery(p,l))}(yield Ju(r),e)}))}(ro(r=$i(r,io)),e).then(n=>n?new Ss(r,null,n.query):null)}function R_(r){if(r._initialized||r._terminated)throw new Rt(gt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oc(to.fromBase64String(e))}catch(n){throw new Rt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oc(to.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Rt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ol{constructor(e){this._methodName=e}}class kf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Rt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Rt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jn(this._lat,e._lat)||Jn(this._long,e._long)}}const py=/^__.*__$/;class my{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new wl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xa(e,this.data,n,this.fieldTransforms)}}class P_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new wl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function O_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht()}}class Lf{constructor(e,n,s,l,d,p){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===d&&this.Pu(),this.fieldTransforms=d||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Lf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Tu({path:s,du:!1});return l.Au(e),l}Ru(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Tu({path:s,du:!1});return l.Pu(),l}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return nd(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(O_(this.Iu)&&py.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class gy{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ou(e)}pu(e,n,s,l=!1){return new Lf({Iu:e,methodName:n,gu:s,path:Ir.emptyPath(),du:!1,fu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oc(r){const e=r._freezeSettings(),n=ou(r._databaseId);return new gy(r._databaseId,!!e.ignoreUndefinedProperties,n)}function dh(r,e,n,s,l,d={}){const p=r.pu(d.merge||d.mergeFields?2:0,e,n,l);ps("Data must be an object, but it was:",p,s);const T=ol(s,p);let F,K;if(d.merge)F=new Vs(p.fieldMask),K=p.fieldTransforms;else if(d.mergeFields){const se=[];for(const ye of d.mergeFields){const je=sl(e,ye,n);if(!p.contains(je))throw new Rt(gt.INVALID_ARGUMENT,`Field '${je}' is specified in your field mask but missing from your input data.`);pu(se,je)||se.push(je)}F=new Vs(se),K=p.fieldTransforms.filter(ye=>F.covers(ye.field))}else F=null,K=p.fieldTransforms;return new my(new no(T),F,K)}class hh extends Ol{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hh}}function _y(r,e,n){return new Lf({Iu:3,gu:e.settings.gu,methodName:r._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Vf extends Ol{_toFieldTransform(e){return new Th(e.path,new El)}isEqual(e){return e instanceof Vf}}class N_ extends Ol{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=_y(this,e,!0),s=this.yu.map(d=>fu(d,n)),l=new Yl(s);return new Th(e.path,l)}isEqual(e){return this===e}}class Gb extends Ol{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=_y(this,e,!0),s=this.yu.map(d=>fu(d,n)),l=new Il(s);return new Th(e.path,l)}isEqual(e){return this===e}}class Bf extends Ol{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new Ql(e.serializer,fo(e.serializer,this.wu));return new Th(e.path,n)}isEqual(e){return this===e}}function Fm(r,e,n,s){const l=r.pu(1,e,n);ps("Data must be an object, but it was:",l,s);const d=[],p=no.empty();is(s,(F,K)=>{const se=ia(e,F,n);K=(0,fe.m9)(K);const ye=l.Ru(se);if(K instanceof hh)d.push(se);else{const je=fu(K,ye);null!=je&&(d.push(se),p.set(se,je))}});const T=new Vs(d);return new P_(p,T,l.fieldTransforms)}function km(r,e,n,s,l,d){const p=r.pu(1,e,n),T=[sl(e,s,n)],F=[l];if(d.length%2!=0)throw new Rt(gt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let je=0;je<d.length;je+=2)T.push(sl(e,d[je])),F.push(d[je+1]);const K=[],se=no.empty();for(let je=T.length-1;je>=0;--je)if(!pu(K,T[je])){const dt=T[je];let qt=F[je];qt=(0,fe.m9)(qt);const rn=p.Ru(dt);if(qt instanceof hh)K.push(dt);else{const on=fu(qt,rn);null!=on&&(K.push(dt),se.set(dt,on))}}const ye=new Vs(K);return new P_(se,ye,p.fieldTransforms)}function Uf(r,e,n,s=!1){return fu(n,r.pu(s?4:3,e))}function fu(r,e){if(td(r=(0,fe.m9)(r)))return ps("Unsupported field value:",e,r),ol(r,e);if(r instanceof Ol)return function(s,l){if(!O_(l.Iu))throw l.mu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.mu(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(l);d&&l.fieldTransforms.push(d)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(s,l){const d=[];let p=0;for(const T of s){let F=fu(T,l.Vu(p));null==F&&(F={nullValue:"NULL_VALUE"}),d.push(F),p++}return{arrayValue:{values:d}}}(r,e)}return function(s,l){if(null===(s=(0,fe.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return fo(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=pn.fromDate(s);return{timestampValue:Nu(l.serializer,d)}}if(s instanceof pn){const d=new pn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nu(l.serializer,d)}}if(s instanceof kf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oc)return{bytesValue:gg(l.serializer,s._byteString)};if(s instanceof Co){const d=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(d))throw l.mu(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Oh(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.mu(`Unsupported field value: ${sh(s)}`)}(r,e)}function ol(r,e){const n={};return ka(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(r,(s,l)=>{const d=fu(l,e.Eu(s));null!=d&&(n[s]=d)}),{mapValue:{fields:n}}}function td(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof pn||r instanceof kf||r instanceof oc||r instanceof Co||r instanceof Ol)}function ps(r,e,n){if(!td(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=sh(n);throw e.mu("an object"===s?r+" a custom object":r+" "+s)}var l}function sl(r,e,n){if((e=(0,fe.m9)(e))instanceof Pl)return e._internalPath;if("string"==typeof e)return ia(r,e);throw nd("Field path arguments must be of type string or ",r,!1,void 0,n)}const jf=new RegExp("[~\\*/\\[\\]]");function ia(r,e,n){if(e.search(jf)>=0)throw nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Pl(...e.split("."))._internalPath}catch{throw nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function nd(r,e,n,s,l){const d=s&&!s.isEmpty(),p=void 0!==l;let T=`Function ${e}() called with invalid data`;n&&(T+=" (via `toFirestore()`)"),T+=". ";let F="";return(d||p)&&(F+=" (found",d&&(F+=` in field ${s}`),p&&(F+=` in document ${l}`),F+=")"),new Rt(gt.INVALID_ARGUMENT,T+r+F)}function pu(r,e){return r.some(n=>n.isEqual(e))}class Nl{constructor(e,n,s,l,d){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Co(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new id(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class id extends Nl{data(){return super.data()}}function sc(r,e){return"string"==typeof e?ia(r,e):e instanceof Pl?e._internalPath:e._delegate._internalPath}function mu(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Rt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nc{}class Fl extends Nc{}function rd(r,e,...n){let s=[];e instanceof Nc&&s.push(e),s=s.concat(n),function(d){const p=d.filter(F=>F instanceof gu).length,T=d.filter(F=>F instanceof kl).length;if(p>1||p>0&&T>0)throw new Rt(gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class kl extends Fl{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new kl(e,n,s)}_apply(e){const n=this._parse(e);return U_(e._query,n),new Ss(e.firestore,e.converter,Yr(e._query,n))}_parse(e){const n=Oc(e.firestore);return function(d,p,T,F,K,se,ye){let je;if(K.isKeyField()){if("array-contains"===se||"array-contains-any"===se)throw new Rt(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${se}' queries on documentId().`);if("in"===se||"not-in"===se){xy(ye,se);const dt=[];for(const qt of ye)dt.push(B_(F,d,qt));je={arrayValue:{values:dt}}}else je=B_(F,d,ye)}else"in"!==se&&"not-in"!==se&&"array-contains-any"!==se||xy(ye,se),je=Uf(T,"where",ye,"in"===se||"not-in"===se);return mi.create(K,se,je)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function F_(r,e,n){const s=e,l=sc("where",r);return kl._create(l,s,n)}class gu extends Nc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gu(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:Er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(l,d){let p=l;const T=d.getFlattenedFilters();for(const F of T)U_(p,F),p=Yr(p,F)}(e._query,n),new Ss(e.firestore,e.converter,Yr(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Hf extends Fl{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Hf(e,n)}_apply(e){const n=function(l,d,p){if(null!==l.startAt)throw new Rt(gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new Rt(gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wa(d,p)}(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,function(l,d){const p=l.explicitOrderBy.concat([d]);return new Wt(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}function k_(r,e="asc"){const n=e,s=sc("orderBy",r);return Hf._create(s,n)}class fh extends Fl{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new fh(e,n,s)}_apply(e){return new Ss(e.firestore,e.converter,ho(e._query,this._limit,this._limitType))}}function L_(r){return Ml("limit",r),fh._create("limit",r,"F")}function V_(r){return Ml("limitToLast",r),fh._create("limitToLast",r,"L")}class od extends Fl{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new od(e,n,s)}_apply(e){const n=wy(e,this.type,this._docOrFields,this._inclusive);return new Ss(e.firestore,e.converter,(d=n,new Wt((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,d,l.endAt)));var l,d}}function by(...r){return od._create("startAt",r,!0)}function qb(...r){return od._create("startAfter",r,!1)}class Lm extends Fl{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Lm(e,n,s)}_apply(e){const n=wy(e,this.type,this._docOrFields,this._inclusive);return new Ss(e.firestore,e.converter,(d=n,new Wt((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,d)));var l,d}}function Ey(...r){return Lm._create("endBefore",r,!1)}function Iy(...r){return Lm._create("endAt",r,!0)}function wy(r,e,n,s){if(n[0]=(0,fe.m9)(n[0]),n[0]instanceof Nl)return function(d,p,T,F,K){if(!F)throw new Rt(gt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${T}().`);const se=[];for(const ye of Pn(d))if(ye.field.isKeyField())se.push(Ys(p,F.key));else{const je=F.data.field(ye.field);if(vc(je))throw new Rt(gt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===je){const dt=ye.field.canonicalString();throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${dt}' (used as the orderBy) does not exist.`)}se.push(je)}return new Ia(se,K)}(r._query,r.firestore._databaseId,e,n[0]._document,s);{const l=Oc(r.firestore);return function(p,T,F,K,se,ye){const je=p.explicitOrderBy;if(se.length>je.length)throw new Rt(gt.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const dt=[];for(let qt=0;qt<se.length;qt++){const rn=se[qt];if(je[qt].field.isKeyField()){if("string"!=typeof rn)throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof rn}`);if(!kn(p)&&-1!==rn.indexOf("/"))throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${rn}' contains a slash.`);const on=p.path.child(Ai.fromString(rn));if(!Jt.isDocumentKey(on))throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${on}' is not because it contains an odd number of segments.`);const Xn=new Jt(on);dt.push(Ys(T,Xn))}else{const on=Uf(F,K,rn);dt.push(on)}}return new Ia(dt,ye)}(r._query,r.firestore._databaseId,l,e,n,s)}}function B_(r,e,n){if("string"==typeof(n=(0,fe.m9)(n))){if(""===n)throw new Rt(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kn(e)&&-1!==n.indexOf("/"))throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ai.fromString(n));if(!Jt.isDocumentKey(s))throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ys(r,new Jt(s))}if(n instanceof Co)return Ys(r,n._key);throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sh(n)}.`)}function xy(r,e){if(!Array.isArray(r)||0===r.length)throw new Rt(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function U_(r,e){const n=function(l,d){for(const p of l)for(const T of p.getFlattenedFilters())if(d.indexOf(T.op)>=0)return T.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Rt(gt.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Vm{convertValue(e,n="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ht()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return is(e,(l,d)=>{s[l]=this.convertValue(d,n)}),s}convertGeoPoint(e){return new kf(Zr(e.latitude),Zr(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=gl(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=Is(e);return new pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ai.fromString(e);wn(Ip(s));const l=new Ho(s.get(1),s.get(3)),d=new Jt(s.popFirst(5));return l.isEqual(n)||rr(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}function sd(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class ph extends Vm{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Co(this.firestore,null,n)}}class _u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class al extends Nl{constructor(e,n,s,l,d,p){super(e,n,s,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(sc("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class mh extends al{data(e={}){return super.data(e)}}class vu{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new _u(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new mh(this._firestore,this._userDataWriter,s.key,s,new _u(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Rt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,d){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map(T=>({type:"added",doc:new mh(l._firestore,l._userDataWriter,T.doc.key,T.doc,new _u(l._snapshot.mutatedKeys.has(T.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:p++}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(T=>d||3!==T.type).map(T=>{const F=new mh(l._firestore,l._userDataWriter,T.doc.key,T.doc,new _u(l._snapshot.mutatedKeys.has(T.doc.key),l._snapshot.fromCache),l.query.converter);let K=-1,se=-1;return 0!==T.type&&(K=p.indexOf(T.doc.key),p=p.delete(T.doc.key)),1!==T.type&&(p=p.add(T.doc),se=p.indexOf(T.doc.key)),{type:Ty(T.type),doc:F,oldIndex:K,newIndex:se}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ty(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht()}}function Dy(r,e){return r instanceof al&&e instanceof al?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof vu&&e instanceof vu&&r._firestore===e._firestore&&x_(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function Um(r){r=$i(r,Co);const e=$i(r.firestore,io);return v_(ro(e),r._key).then(n=>Hm(e,r,n))}class ll extends Vm{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Co(this.firestore,null,n)}}function $f(r){r=$i(r,Co);const e=$i(r.firestore,io),n=ro(e),s=new ll(e);return function ty(r,e){const n=new Ci;return r.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return(s=(0,u.Z)(function*(d,p,T){try{const F=yield function(se,ye){const je=Pt(se);return je.persistence.runTransaction("read document","readonly",dt=>je.localDocuments.getDocument(dt,ye))}(d,p);F.isFoundDocument()?T.resolve(F):F.isNoDocument()?T.resolve(null):T.reject(new Rt(gt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const K=cu(F,`Failed to get document '${p} from cache`);T.reject(K)}}),function l(d,p,T){return s.apply(this,arguments)})(yield Ju(r),e,n);var s})),n.promise}(n,r._key).then(l=>new al(e,s,r._key,l,new _u(null!==l&&l.hasLocalMutations,!0),r.converter))}function Kb(r){r=$i(r,Co);const e=$i(r.firestore,io);return v_(ro(e),r._key,{source:"server"}).then(n=>Hm(e,r,n))}function Ay(r){r=$i(r,Ss);const e=$i(r.firestore,io),n=ro(e),s=new ll(e);return mu(r._query),rl(n,r._query).then(l=>new vu(e,s,r,l))}function Sy(r){r=$i(r,Ss);const e=$i(r.firestore,io),n=ro(e),s=new ll(e);return function ny(r,e){const n=new Ci;return r.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return(s=(0,u.Z)(function*(d,p,T){try{const F=yield Zh(d,p,!0),K=new pf(p,F.ls),se=K.ca(F.documents),ye=K.applyChanges(se,!1);T.resolve(ye.snapshot)}catch(F){const K=cu(F,`Failed to execute query '${p} against cache`);T.reject(K)}}),function l(d,p,T){return s.apply(this,arguments)})(yield Ju(r),e,n);var s})),n.promise}(n,r._query).then(l=>new vu(e,s,r,l))}function jm(r){r=$i(r,Ss);const e=$i(r.firestore,io),n=ro(e),s=new ll(e);return rl(n,r._query,{source:"server"}).then(l=>new vu(e,s,r,l))}function My(r,e,n){r=$i(r,Co);const s=$i(r.firestore,io),l=sd(r.converter,e,n);return yu(s,[dh(Oc(s),"setDoc",r._key,l,null!==r.converter,n).toMutation(r._key,xo.none())])}function $_(r,e,n,...s){r=$i(r,Co);const l=$i(r.firestore,io),d=Oc(l);let p;return p="string"==typeof(e=(0,fe.m9)(e))||e instanceof Pl?km(d,"updateDoc",r._key,e,n,s):Fm(d,"updateDoc",r._key,e),yu(l,[p.toMutation(r._key,xo.exists(!0))])}function Ry(r){return yu($i(r.firestore,io),[new Xl(r._key,xo.none())])}function Py(r,e){const n=$i(r.firestore,io),s=Nm(r),l=sd(r.converter,e);return yu(n,[dh(Oc(r.firestore),"addDoc",s._key,l,null!==r.converter,{}).toMutation(s._key,xo.exists(!1))]).then(()=>s)}function W_(r,...e){var n,s,l;r=(0,fe.m9)(r);let d={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||Ff(e[p])||(d=e[p],p++);const T={includeMetadataChanges:d.includeMetadataChanges};if(Ff(e[p])){const ye=e[p];e[p]=null===(n=ye.next)||void 0===n?void 0:n.bind(ye),e[p+1]=null===(s=ye.error)||void 0===s?void 0:s.bind(ye),e[p+2]=null===(l=ye.complete)||void 0===l?void 0:l.bind(ye)}let F,K,se;if(r instanceof Co)K=$i(r.firestore,io),se=Wn(r._key.path),F={next:ye=>{e[p]&&e[p](Hm(K,r,ye))},error:e[p+1],complete:e[p+2]};else{const ye=$i(r,Ss);K=$i(ye.firestore,io),se=ye._query;const je=new ll(K);F={next:dt=>{e[p]&&e[p](new vu(K,je,ye,dt))},error:e[p+1],complete:e[p+2]},mu(r._query)}return function(je,dt,qt,rn){const on=new Af(rn),Xn=new pm(dt,on,qt);return je.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return Xd(yield ed(je),Xn)})),()=>{on.Na(),je.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return Kg(yield ed(je),Xn)}))}}(ro(K),se,T,F)}function G_(r,e){return function Mm(r,e){const n=new Af(e);return r.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return l=yield ed(r),d=n,Pt(l).q_.add(d),void d.next();var l,d})),()=>{n.Na(),r.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return l=yield ed(r),d=n,void Pt(l).q_.delete(d);var l,d}))}}(ro(r=$i(r,io)),Ff(e)?e:{next:e})}function yu(r,e){return function(s,l){const d=new Ci;return s.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function qu(r,e,n){return il.apply(this,arguments)}(yield Mf(s),l,d)})),d.promise}(ro(r),e)}function Hm(r,e,n){const s=n.docs.get(e._key),l=new ll(r);return new al(r,l,e._key,s,new _u(n.hasPendingWrites,n.fromCache),e.converter)}const Wf={maxAttempts:5};class Km{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Oc(e)}set(e,n,s){this._verifyNotCommitted();const l=ac(e,this._firestore),d=sd(l.converter,n,s),p=dh(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(p.toMutation(l._key,xo.none())),this}update(e,n,s,...l){this._verifyNotCommitted();const d=ac(e,this._firestore);let p;return p="string"==typeof(n=(0,fe.m9)(n))||n instanceof Pl?km(this._dataReader,"WriteBatch.update",d._key,n,s,l):Fm(this._dataReader,"WriteBatch.update",d._key,n),this._mutations.push(p.toMutation(d._key,xo.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ac(e,this._firestore);return this._mutations=this._mutations.concat(new Xl(n._key,xo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rt(gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ac(r,e){if((r=(0,fe.m9)(r)).firestore!==e)throw new Rt(gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Uy extends class{constructor(n,s){this._firestore=n,this._transaction=s,this._dataReader=Oc(n)}get(n){const s=ac(n,this._firestore),l=new ph(this._firestore);return this._transaction.lookup([s._key]).then(d=>{if(!d||1!==d.length)return Ht();const p=d[0];if(p.isFoundDocument())return new Nl(this._firestore,l,p.key,p,s.converter);if(p.isNoDocument())return new Nl(this._firestore,l,s._key,null,s.converter);throw Ht()})}set(n,s,l){const d=ac(n,this._firestore),p=sd(d.converter,s,l),T=dh(this._dataReader,"Transaction.set",d._key,p,null!==d.converter,l);return this._transaction.set(d._key,T),this}update(n,s,l,...d){const p=ac(n,this._firestore);let T;return T="string"==typeof(s=(0,fe.m9)(s))||s instanceof Pl?km(this._dataReader,"Transaction.update",p._key,s,l,d):Fm(this._dataReader,"Transaction.update",p._key,s),this._transaction.update(p._key,T),this}delete(n){const s=ac(n,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ac(e,this._firestore),s=new ll(this._firestore);return super.get(e).then(l=>new al(this._firestore,s,n._key,l._document,new _u(!1,!1),n.converter))}}function jy(r,e,n){r=$i(r,io);const s=Object.assign(Object.assign({},Wf),n);return function(d){if(d.maxAttempts<1)throw new Rt(gt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(d,p,T){const F=new Ci;return d.asyncQueue.enqueueAndForget((0,u.Z)(function*(){const K=yield function __(r){return Xu(r).then(e=>e.datastore)}(d);new Xv(d.asyncQueue,K,T,p,F).run()})),F.promise}(ro(r),l=>e(new Uy(r,l)),s)}function K_(){return new hh("deleteField")}function Zm(){return new Vf("serverTimestamp")}function Z_(...r){return new N_("arrayUnion",r)}function Ym(...r){return new Gb("arrayRemove",r)}function Qm(r){return new Bf("increment",r)}!function(e,n=!0){lr=$.SDK_VERSION,(0,$._registerComponent)(new te.wA("firestore",(s,{instanceIdentifier:l,options:d})=>{const p=s.getProvider("app").getImmediate(),T=new io(new Go(s.getProvider("auth-internal")),new wo(s.getProvider("app-check-internal")),function(K,se){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new Rt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ho(K.options.projectId,se)}(p,l),p);return d=Object.assign({useFetchStreams:n},d),T._setSettings(d),T},"PUBLIC").setMultipleInstances(!0)),(0,$.registerVersion)(Ki,"4.3.2",e),(0,$.registerVersion)(Ki,"4.3.2","esm2017")}()},9058:(kt,Be,P)=>{P.d(Be,{BH:()=>Oe,G6:()=>vn,L:()=>Ie,LL:()=>at,P0:()=>vt,Pz:()=>Le,Sg:()=>Je,UG:()=>$t,ZB:()=>Me,ZR:()=>$e,aH:()=>me,b$:()=>Vn,eu:()=>Ye,hl:()=>Ge,jU:()=>jt,m9:()=>St,ne:()=>hn,pd:()=>mn,q4:()=>Ut,r3:()=>Un,ru:()=>ln,tV:()=>le,uI:()=>ke,vZ:()=>Ri,w1:()=>Ei,xO:()=>gi,xb:()=>Ui,z$:()=>Ze,zd:()=>sn});const H=function(oe){const L=[];let O=0;for(let N=0;N<oe.length;N++){let k=oe.charCodeAt(N);k<128?L[O++]=k:k<2048?(L[O++]=k>>6|192,L[O++]=63&k|128):55296==(64512&k)&&N+1<oe.length&&56320==(64512&oe.charCodeAt(N+1))?(k=65536+((1023&k)<<10)+(1023&oe.charCodeAt(++N)),L[O++]=k>>18|240,L[O++]=k>>12&63|128,L[O++]=k>>6&63|128,L[O++]=63&k|128):(L[O++]=k>>12|224,L[O++]=k>>6&63|128,L[O++]=63&k|128)}return L},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,L){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const O=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let k=0;k<oe.length;k+=3){const he=oe[k],Ue=k+1<oe.length,_t=Ue?oe[k+1]:0,Mt=k+2<oe.length,Lt=Mt?oe[k+2]:0;let jn=(15&_t)<<2|Lt>>6,tt=63&Lt;Mt||(tt=64,Ue||(jn=64)),N.push(O[he>>2],O[(3&he)<<4|_t>>4],O[jn],O[tt])}return N.join("")},encodeString(oe,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(oe):this.encodeByteArray(H(oe),L)},decodeString(oe,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(oe):function(oe){const L=[];let O=0,N=0;for(;O<oe.length;){const k=oe[O++];if(k<128)L[N++]=String.fromCharCode(k);else if(k>191&&k<224){const he=oe[O++];L[N++]=String.fromCharCode((31&k)<<6|63&he)}else if(k>239&&k<365){const Mt=((7&k)<<18|(63&oe[O++])<<12|(63&oe[O++])<<6|63&oe[O++])-65536;L[N++]=String.fromCharCode(55296+(Mt>>10)),L[N++]=String.fromCharCode(56320+(1023&Mt))}else{const he=oe[O++],Ue=oe[O++];L[N++]=String.fromCharCode((15&k)<<12|(63&he)<<6|63&Ue)}}return L.join("")}(this.decodeStringToByteArray(oe,L))},decodeStringToByteArray(oe,L){this.init_();const O=L?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let k=0;k<oe.length;){const he=O[oe.charAt(k++)],_t=k<oe.length?O[oe.charAt(k)]:0;++k;const Lt=k<oe.length?O[oe.charAt(k)]:64;++k;const cn=k<oe.length?O[oe.charAt(k)]:64;if(++k,null==he||null==_t||null==Lt||null==cn)throw new Te;N.push(he<<2|_t>>4),64!==Lt&&(N.push(_t<<4&240|Lt>>2),64!==cn&&N.push(Lt<<6&192|cn))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(oe){return function(oe){const L=H(oe);return Ce.encodeByteArray(L,!0)}(oe).replace(/\./g,"")},le=function(oe){try{return Ce.decodeString(oe,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function Me(oe,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return L}for(const O in L)!L.hasOwnProperty(O)||!Ke(O)||(oe[O]=Me(oe[O],L[O]));return oe}function Ke(oe){return"__proto__"!==oe}const mt=()=>{try{return function nt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const oe=process.env.__FIREBASE_DEFAULTS__;return oe?JSON.parse(oe):void 0})()||(()=>{if(typeof document>"u")return;let oe;try{oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=oe&&le(oe[1]);return L&&JSON.parse(L)})()}catch(oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${oe}`)}},Ut=oe=>{var L,O;return null===(O=null===(L=mt())||void 0===L?void 0:L.emulatorHosts)||void 0===O?void 0:O[oe]},vt=oe=>{const L=Ut(oe);if(!L)return;const O=L.lastIndexOf(":");if(O<=0||O+1===L.length)throw new Error(`Invalid host ${L} with no separate hostname and port!`);const N=parseInt(L.substring(O+1),10);return"["===L[0]?[L.substring(1,O-1),N]:[L.substring(0,O),N]},me=()=>{var oe;return null===(oe=mt())||void 0===oe?void 0:oe.config},Le=oe=>{var L;return null===(L=mt())||void 0===L?void 0:L[`_${oe}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,O)=>{this.resolve=L,this.reject=O})}wrapCallback(L){return(O,N)=>{O?this.reject(O):this.resolve(N),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(O):L(O,N))}}}function Je(oe,L){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=L||"demo-project",k=oe.iat||0,he=oe.sub||oe.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:k,exp:k+3600,auth_time:k,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(Ue)),""].join(".")}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function $t(){var oe;const L=null===(oe=mt())||void 0===oe?void 0:oe.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function jt(){return"object"==typeof self&&self.self===self}function ln(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function Vn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ei(){const oe=Ze();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function vn(){return!$t()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ge(){try{return"object"==typeof indexedDB}catch{return!1}}function Ye(){return new Promise((oe,L)=>{try{let O=!0;const N="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(N);k.onsuccess=()=>{k.result.close(),O||self.indexedDB.deleteDatabase(N),oe(!0)},k.onupgradeneeded=()=>{O=!1},k.onerror=()=>{var he;L((null===(he=k.error)||void 0===he?void 0:he.message)||"")}}catch(O){L(O)}})}class $e extends Error{constructor(L,O,N){super(O),this.code=L,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,$e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,at.prototype.create)}}class at{constructor(L,O,N){this.service=L,this.serviceName=O,this.errors=N}create(L,...O){const N=O[0]||{},k=`${this.service}/${L}`,he=this.errors[L],Ue=he?function Pe(oe,L){return oe.replace(wt,(O,N)=>{const k=L[N];return null!=k?String(k):`<${N}?>`})}(he,N):"Error";return new $e(k,`${this.serviceName}: ${Ue} (${k}).`,N)}}const wt=/\{\$([^}]+)}/g;function Un(oe,L){return Object.prototype.hasOwnProperty.call(oe,L)}function Ui(oe){for(const L in oe)if(Object.prototype.hasOwnProperty.call(oe,L))return!1;return!0}function Ri(oe,L){if(oe===L)return!0;const O=Object.keys(oe),N=Object.keys(L);for(const k of O){if(!N.includes(k))return!1;const he=oe[k],Ue=L[k];if(Qn(he)&&Qn(Ue)){if(!Ri(he,Ue))return!1}else if(he!==Ue)return!1}for(const k of N)if(!O.includes(k))return!1;return!0}function Qn(oe){return null!==oe&&"object"==typeof oe}function gi(oe){const L=[];for(const[O,N]of Object.entries(oe))Array.isArray(N)?N.forEach(k=>{L.push(encodeURIComponent(O)+"="+encodeURIComponent(k))}):L.push(encodeURIComponent(O)+"="+encodeURIComponent(N));return L.length?"&"+L.join("&"):""}function sn(oe){const L={};return oe.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[k,he]=N.split("=");L[decodeURIComponent(k)]=decodeURIComponent(he)}}),L}function mn(oe){const L=oe.indexOf("?");if(!L)return"";const O=oe.indexOf("#",L);return oe.substring(L,O>0?O:void 0)}function hn(oe,L){const O=new wi(oe,L);return O.subscribe.bind(O)}class wi{constructor(L,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then(()=>{L(this)}).catch(N=>{this.error(N)})}next(L){this.forEachObserver(O=>{O.next(L)})}error(L){this.forEachObserver(O=>{O.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,O,N){let k;if(void 0===L&&void 0===O&&void 0===N)throw new Error("Missing Observer.");k=function Tn(oe,L){if("object"!=typeof oe||null===oe)return!1;for(const O of L)if(O in oe&&"function"==typeof oe[O])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:O,complete:N},void 0===k.next&&(k.next=zn),void 0===k.error&&(k.error=zn),void 0===k.complete&&(k.complete=zn);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),he}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,L)}sendOne(L,O){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{O(this.observers[L])}catch(N){typeof console<"u"&&console.error&&console.error(N)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zn(){}function St(oe){return oe&&oe._delegate?oe._delegate:oe}},953:(kt,Be,P)=>{P.d(Be,{S:()=>de});var u=P(5879),$=P(7488),te=P(2333),H=P(6814);function fe(Ie,le){if(1&Ie){const _e=u.EpF();u.TgZ(0,"div",16)(1,"button",17),u._uU(2),u.qZA(),u.TgZ(3,"ul",18)(4,"li",19)(5,"button",20),u.NdJ("click",function(){u.CHM(_e);const Ke=u.oxw(2);return u.KtG(Ke.loguot())}),u._uU(6,"Cerrar Sesi\xf3n"),u.qZA()()()()}if(2&Ie){const _e=u.oxw(2);u.xp6(2),u.hij(" ",_e.usuario.email," ")}}function Ce(Ie,le){1&Ie&&(u.TgZ(0,"div")(1,"a",21)(2,"button",22),u._uU(3,"Iniciar Sesi\xf3n"),u.qZA()()())}function Te(Ie,le){if(1&Ie&&(u.ynx(0),u.YNc(1,fe,7,1,"div",15),u.YNc(2,Ce,4,0,"div",14),u.BQk()),2&Ie){const _e=u.oxw();u.xp6(1),u.Q6J("ngIf",_e.usuario),u.xp6(1),u.Q6J("ngIf",!_e.usuario)}}let de=(()=>{class Ie{constructor(_e,Me){this.router=_e,this.auth=Me,this.usuario=null,this.showButtons=!1,this.loadingEvent=new u.vpe,this.userEvent=new u.vpe}ngOnInit(){}loguot(){this.loadingEvent.emit(!0),setTimeout(()=>{this.auth.logout().then(_e=>{this.usuario=null,this.userEvent.emit(null),this.loadingEvent.emit(!1),this.router.navigate(["/home"]),localStorage.clear()}).catch(_e=>{})},1e3)}static#e=this.\u0275fac=function(Me){return new(Me||Ie)(u.Y36($.F0),u.Y36(te.e))};static#t=this.\u0275cmp=u.Xpm({type:Ie,selectors:[["app-navbar"]],inputs:{usuario:"usuario",showButtons:"showButtons"},outputs:{loadingEvent:"loadingEvent",userEvent:"userEvent"},decls:26,vars:1,consts:[[1,"navbar","fixed-top"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","../../../assets/logo.png","alt","",1,"logo"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-end"],[1,"dropdown"],[1,"nav-item","dropdown"],["role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],["routerLink","/alta-repartidor",1,"dropdown-item"],["routerLink","/detalle-repartidor",1,"dropdown-item"],["routerLink","/helados-abm",1,"dropdown-item"],[4,"ngIf"],["class","dropdown-center  ",4,"ngIf"],[1,"dropdown-center"],["type","button","data-bs-toggle","dropdown","aria-expanded","false ",1,"btn","btn-lg","dropdown-toggle","text-light"],[1,"dropdown-menu","w-100"],[1,"p-2"],[1,"btn","text-light","w-100","bg-danger",3,"click"],["routerLink","/login"],[1,"btn","btn-primary"]],template:function(Me,Ke){1&Me&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),u._UZ(3,"img",3),u.qZA(),u.TgZ(4,"button",4),u._UZ(5,"span",5),u.qZA(),u.TgZ(6,"div",6)(7,"div",7)(8,"li",8)(9,"a",9),u._uU(10," Repartidor "),u.qZA(),u.TgZ(11,"ul",10)(12,"li")(13,"a",11),u._uU(14,"Alta"),u.qZA()(),u.TgZ(15,"li")(16,"a",12),u._uU(17,"Detalle"),u.qZA()()()(),u.TgZ(18,"li",8)(19,"a",9),u._uU(20," Helados "),u.qZA(),u.TgZ(21,"ul",10)(22,"li")(23,"a",13),u._uU(24,"ABM"),u.qZA()()()()(),u.YNc(25,Te,3,2,"ng-container",14),u.qZA()()()),2&Me&&(u.xp6(25),u.Q6J("ngIf",Ke.showButtons))},dependencies:[H.O5],styles:["nav[_ngcontent-%COMP%]{background-color:#004373}nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{color:#49a22b!important}.logo[_ngcontent-%COMP%]{height:40px;filter:drop-shadow(5px 5px 18px #020202)}.navbar-toggler[_ngcontent-%COMP%]{color:#49a22b!important;background-color:#fff}.navbar-toggler-icon[_ngcontent-%COMP%]{color:#fff!important;background-color:#fff}.offcanvas[_ngcontent-%COMP%]{background-color:#002f50}li[_ngcontent-%COMP%]{list-style:none}.nav-link[_ngcontent-%COMP%]{color:#49a22b;font-size:1.5rem;margin:15px}.btn[_ngcontent-%COMP%]{margin:15px;text-decoration:none;background-color:#49a22b;border:1px solid #49a22b}.btn[_ngcontent-%COMP%]:hover{background-color:#377721}.dropdown-menu[_ngcontent-%COMP%]{background-color:#136199;color:#fff}.dropdown-item[_ngcontent-%COMP%]{color:#fff}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#004373}"]})}return Ie})()},7290:(kt,Be,P)=>{P.d(Be,{O:()=>H});var u=P(5879),$=P(6814);function te(fe,Ce){1&fe&&(u.TgZ(0,"div",1),u._UZ(1,"img",2),u.TgZ(2,"h4",3),u._uU(3,"On"),u.TgZ(4,"span",4),u._uU(5,"Line"),u.qZA()()())}let H=(()=>{class fe{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(de){return new(de||fe)};static#t=this.\u0275cmp=u.Xpm({type:fe,selectors:[["app-spinner"]],inputs:{showSpinner:"showSpinner"},decls:1,vars:1,consts:[["class","spinner-container position-fixed d-flex justify-content-center align-items-center",4,"ngIf"],[1,"spinner-container","position-fixed","d-flex","justify-content-center","align-items-center"],["src","../../../assets/logo.png","alt","",1,"spinner","heartbeat"],[1,"logo"],[1,"span-logo"]],template:function(de,Ie){1&de&&u.YNc(0,te,6,0,"div",0),2&de&&u.Q6J("ngIf",Ie.showSpinner)},dependencies:[$.O5],styles:[".spinner-container[_ngcontent-%COMP%]{height:100%;width:100%;z-index:10;background-color:#000000ce;display:flex;flex-direction:column}.spinner[_ngcontent-%COMP%]{height:250px}.heartbeat[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartbeat 3.5s ease-in-out infinite both}.logo[_ngcontent-%COMP%]{text-transform:uppercase;font-size:1.5rem;font-weight:800;text-decoration:none;color:#004373}.span-logo[_ngcontent-%COMP%]{color:#49a22b}@keyframes _ngcontent-%COMP%_heartbeat{0%{transform:scale(1);transform-origin:center center;animation-timing-function:ease-out}10%{transform:scale(.91);animation-timing-function:ease-in}17%{transform:scale(.98);animation-timing-function:ease-out}33%{transform:scale(.87);animation-timing-function:ease-in}45%{transform:scale(1);animation-timing-function:ease-out}}.text-focus-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_text-focus-in 1s cubic-bezier(.55,.085,.68,.53) both}@keyframes _ngcontent-%COMP%_text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]})}return fe})()},2333:(kt,Be,P)=>{P.d(Be,{e:()=>fe});var u=P(2637),$=P(752),te=P(5879),H=P(1160);let fe=(()=>{class Ce{constructor(de,Ie){this.auth=de,this.db=Ie}register(de,Ie){return(0,u.Xb)(this.auth,de,Ie)}login(de,Ie){return(0,u.e5)(this.auth,de,Ie)}confirmarMail(de){return(0,u.w$)(de.user)}logout(){return(0,u.w7)(this.auth)}getCurrentUser(){return this.auth.currentUser}saveLog(de){let Ie=new Date;const le=Ie.toLocaleDateString()+"-"+Ie.toLocaleTimeString();this.db.collection("usuarios").doc().set({email:de,fecha_ingreso:le})}updateUser(de){const Ie=(0,$.v0)();return(0,$.ck)(Ie.currentUser,de)}static#e=this.\u0275fac=function(Ie){return new(Ie||Ce)(te.LFG(u.gx),te.LFG(H.ST))};static#t=this.\u0275prov=te.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})()},9255:(kt,Be,P)=>{P.d(Be,{n:()=>H});var u=P(4643),$=P(5879),te=P(1160);let H=(()=>{class fe{constructor(Te,de){this.firestore=Te,this.angularFire=de,this.especialisteRef=(0,u.hJ)(this.firestore,"especialistas")}agregarEspecialista(Te){let de=(0,u.hJ)(this.firestore,"especialistas"),Ie=(0,u.JU)(de,Te.id);(0,u.pl)(Ie,Te).then(()=>{console.log("Documento guardado con \xe9xito en el ID del especialista:",Te.id)}).catch(le=>{console.error("Error al guardar el documento:",le)})}obtenerEspecialistas(){return this.angularFire.collection("especialistas",Te=>Te.orderBy("dni","asc")).valueChanges()}actualizarEspecialista(Te){let de=(0,u.hJ)(this.firestore,"especialistas");const Ie=(0,u.JU)(de,Te.id);(0,u.r7)(Ie,{estados:Te.estados})}static#e=this.\u0275fac=function(de){return new(de||fe)($.LFG(u.gg),$.LFG(te.ST))};static#t=this.\u0275prov=$.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},5235:(kt,Be,P)=>{P.d(Be,{d:()=>H});var u=P(4643),$=P(5879),te=P(1160);let H=(()=>{class fe{constructor(Te,de){this.firestore=Te,this.angularFire=de,this.pacienteRef=(0,u.hJ)(this.firestore,"pacientes")}agregarPaciente(Te){return(0,u.ET)(this.pacienteRef,Te)}obtenerPacientes(){return this.angularFire.collection("pacientes",Te=>Te.orderBy("dni","asc")).valueChanges()}static#e=this.\u0275fac=function(de){return new(de||fe)($.LFG(u.gg),$.LFG(te.ST))};static#t=this.\u0275prov=$.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},6208:(kt,Be,P)=>{P.d(Be,{m:()=>H});var u=P(6814),$=P(6223),te=P(5879);let H=(()=>{class fe{static#e=this.\u0275fac=function(de){return new(de||fe)};static#t=this.\u0275mod=te.oAB({type:fe});static#n=this.\u0275inj=te.cJS({imports:[$.UX,u.ez,$.u5]})}return fe})()},7551:(kt,Be,P)=>{var u=P(6593),$=P(6223),te=P(7488),H=P(5879),fe=P(953),Ce=P(7290);let Te=(()=>{class S{constructor(){this.loading=!0}ngOnInit(){setTimeout(()=>{this.loading=!1},2500)}static#e=this.\u0275fac=function(y){return new(y||S)};static#t=this.\u0275cmp=H.Xpm({type:S,selectors:[["app-bienvenida"]],decls:19,vars:3,consts:[[1,"container-web"],[3,"showButtons","usuario","loadingEvent"],[3,"showSpinner"],[1,"row"],[1,"col-12","bg-image"],["href","#",1,"header__navbar__logo"],["id","color",1,"header__navbar__logo__span--green"],[1,"col-12","container-welcome"],["routerLink","/login",1,"btn","btn-primary"],["routerLink","/registro",1,"btn","btn-primary"]],template:function(y,B){1&y&&(H.TgZ(0,"div",0)(1,"app-navbar",1),H.NdJ("loadingEvent",function(pe){return B.loading=pe}),H.qZA(),H._UZ(2,"app-spinner",2),H.TgZ(3,"div",3)(4,"div",4)(5,"a",5),H._uU(6,"On"),H.TgZ(7,"span",6),H._uU(8,"Line"),H.qZA()()(),H.TgZ(9,"div",7)(10,"h4"),H._uU(11,"Para ingresar con su cuenta presione aqu\xed"),H.qZA(),H.TgZ(12,"button",8),H._uU(13,"Entrar"),H.qZA(),H._UZ(14,"hr"),H.TgZ(15,"h4"),H._uU(16,"Para registrarse presione aqu\xed"),H.qZA(),H.TgZ(17,"button",9),H._uU(18,"Registrarse"),H.qZA()()()()),2&y&&(H.xp6(1),H.Q6J("showButtons",!0)("usuario",B.user),H.xp6(1),H.Q6J("showSpinner",B.loading))},dependencies:[te.rH,fe.S,Ce.O],styles:[".row[_ngcontent-%COMP%]{width:100vw}.bg-image[_ngcontent-%COMP%]{background-image:url(welcome_2.3c6bb67874fbf4cc.png);background-size:cover;background-position:center;background-repeat:no-repeat;height:50vh;display:flex;align-items:center;justify-content:center;color:#0f0a0a}.container-welcome[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;justify-content:center;align-items:center}hr[_ngcontent-%COMP%]{width:60vw}.btn[_ngcontent-%COMP%]{width:150px}.header__navbar__logo[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{text-transform:uppercase;font-size:3.5rem;font-weight:800;text-decoration:none;color:#0097e6;text-shadow:4px 4px 4px rgba(0,0,0,.75)}.header__navbar__logo__span--green[_ngcontent-%COMP%]{color:#b4f00a}"]})}return S})();var de=P(9255),Ie=P(6814);function le(S,g){if(1&S){const m=H.EpF();H.TgZ(0,"div",2)(1,"div",3)(2,"div",4),H._UZ(3,"img",5),H.qZA(),H.TgZ(4,"div",6)(5,"h5",7),H._uU(6),H.qZA(),H.TgZ(7,"p",8)(8,"span"),H._uU(9,"DNI:"),H.qZA(),H._uU(10),H.qZA(),H.TgZ(11,"p",8)(12,"span"),H._uU(13,"Edad:"),H.qZA(),H._uU(14),H.qZA(),H.TgZ(15,"p",8)(16,"span"),H._uU(17,"Especialidades:"),H.qZA(),H._uU(18),H.qZA(),H.TgZ(19,"p",8)(20,"span"),H._uU(21,"Email:"),H.qZA(),H._uU(22),H.qZA(),H.TgZ(23,"p",8)(24,"span"),H._uU(25,"Estado de Registro"),H.qZA()()(),H.TgZ(26,"div",9)(27,"select",10),H.NdJ("ngModelChange",function(B){const pe=H.CHM(m).$implicit;return H.KtG(pe.estados.registro=B)})("change",function(){const Q=H.CHM(m).$implicit,pe=H.oxw();return H.KtG(pe.cambiarEstado(Q))}),H.TgZ(28,"option",11),H._uU(29,"Pendiente"),H.qZA(),H.TgZ(30,"option",12),H._uU(31,"Completado"),H.qZA(),H.TgZ(32,"option",13),H._uU(33,"Rechazado"),H.qZA()()()()()}if(2&S){const m=g.$implicit;H.xp6(3),H.hYB("alt","Foto de ",m.nombre," ",m.apellido,""),H.Q6J("src",m.img_1,H.LSH),H.xp6(3),H.AsE("",m.nombre," ",m.apellido,""),H.xp6(4),H.hij(" ",m.dni,""),H.xp6(4),H.hij(" ",m.edad,""),H.xp6(4),H.hij(" ",m.especialidades.join(", "),""),H.xp6(4),H.hij(" ",m.email,""),H.xp6(5),H.Q6J("ngModel",m.estados.registro)}}let _e=(()=>{class S{constructor(m){this.especialistaService=m,this.listaEspecialistas=[],this.especialistaService.obtenerEspecialistas().subscribe(y=>{this.listaEspecialistas=y})}ngOnInit(){}cambiarEstado(m){this.especialistaService.actualizarEspecialista(m),console.log("Nuevo estado:",m.estados.registro)}static#e=this.\u0275fac=function(y){return new(y||S)(H.Y36(de.n))};static#t=this.\u0275cmp=H.Xpm({type:S,selectors:[["app-listado-especialistas"]],decls:2,vars:1,consts:[[1,"row"],["class","col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"card"],[1,"container-img"],[3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer"],["id","items",1,"form-control","select",3,"ngModel","ngModelChange","change"],["value","0"],["value","1"],["value","2"]],template:function(y,B){1&y&&(H.TgZ(0,"div",0),H.YNc(1,le,34,10,"div",1),H.qZA()),2&y&&(H.xp6(1),H.Q6J("ngForOf",B.listaEspecialistas))},dependencies:[$.YN,$.Kr,$.EJ,$.JJ,Ie.sg,$.On],styles:["img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;border:2px solid #004373;text-align:center}.card[_ngcontent-%COMP%]{background-color:#49a22b;margin:10px;box-shadow:10px 10px 5px #000000bf;-webkit-box-shadow:10px 10px 5px 0px rgba(0,0,0,.75);-moz-box-shadow:10px 10px 5px 0px rgba(0,0,0,.75)}.container-img[_ngcontent-%COMP%]{text-align:center;margin-top:10px}.card-title[_ngcontent-%COMP%]{text-align:center}.card-text[_ngcontent-%COMP%]{font-weight:200;color:#fff}span[_ngcontent-%COMP%]{font-weight:600;color:#000}.select[_ngcontent-%COMP%]{background-color:#004373;color:#fff}"]})}return S})();var Me=P(5235);function Ke(S,g){if(1&S&&(H.TgZ(0,"div",2)(1,"div",3)(2,"div",4),H._UZ(3,"img",5)(4,"img",5),H.qZA(),H.TgZ(5,"div",6)(6,"h5",7),H._uU(7),H.qZA(),H.TgZ(8,"p",8)(9,"span"),H._uU(10,"DNI:"),H.qZA(),H._uU(11),H.qZA(),H.TgZ(12,"p",8)(13,"span"),H._uU(14,"Edad:"),H.qZA(),H._uU(15),H.qZA(),H.TgZ(16,"p",8)(17,"span"),H._uU(18,"Edad:"),H.qZA(),H._uU(19),H.qZA(),H.TgZ(20,"p",8)(21,"span"),H._uU(22,"Email:"),H.qZA(),H._uU(23),H.qZA()()()()),2&S){const m=g.$implicit;H.xp6(3),H.hYB("alt","Foto de ",m.nombre," ",m.apellido,""),H.Q6J("src",m.img_1,H.LSH),H.xp6(1),H.hYB("alt","Foto de ",m.nombre," ",m.apellido,""),H.Q6J("src",m.img_2,H.LSH),H.xp6(3),H.AsE("",m.nombre," ",m.apellido,""),H.xp6(4),H.hij(" ",m.dni,""),H.xp6(4),H.hij(" ",m.edad,""),H.xp6(4),H.hij(" ",m.obrasocial,""),H.xp6(4),H.hij(" ",m.email,"")}}let nt=(()=>{class S{constructor(m){this.especialistaService=m,this.listaPacientes=[],this.especialistaService.obtenerPacientes().subscribe(y=>{this.listaPacientes=y})}ngOnInit(){}static#e=this.\u0275fac=function(y){return new(y||S)(H.Y36(Me.d))};static#t=this.\u0275cmp=H.Xpm({type:S,selectors:[["app-listado-pacientes"]],decls:2,vars:1,consts:[[1,"row"],["class","col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"card"],[1,"container-img"],[3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(y,B){1&y&&(H.TgZ(0,"div",0),H.YNc(1,Ke,24,12,"div",1),H.qZA()),2&y&&(H.xp6(1),H.Q6J("ngForOf",B.listaPacientes))},dependencies:[Ie.sg],styles:["img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;border:2px solid #004373;text-align:center}.card[_ngcontent-%COMP%]{background-color:#49a22b;margin:10px;box-shadow:10px 10px 5px #000000bf;-webkit-box-shadow:10px 10px 5px 0px rgba(0,0,0,.75);-moz-box-shadow:10px 10px 5px 0px rgba(0,0,0,.75)}.container-img[_ngcontent-%COMP%]{text-align:center;margin-top:10px}.card-title[_ngcontent-%COMP%]{text-align:center}.card-text[_ngcontent-%COMP%]{font-weight:200;color:#fff}span[_ngcontent-%COMP%]{font-weight:600;color:#000}.select[_ngcontent-%COMP%]{background-color:#004373;color:#fff}"]})}return S})();const ot=[{path:"",component:Te},{path:"bienvenida",component:Te},{path:"registro",loadChildren:()=>Promise.all([P.e(592),P.e(951)]).then(P.bind(P,951)).then(S=>S.RegistroModule)},{path:"login",loadChildren:()=>Promise.all([P.e(592),P.e(767)]).then(P.bind(P,767)).then(S=>S.LoginModule)},{path:"dashboard",component:(()=>{class S{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(y){return new(y||S)};static#t=this.\u0275cmp=H.Xpm({type:S,selectors:[["app-dashboard"]],decls:6,vars:0,consts:[[1,"container"],[1,"title"]],template:function(y,B){1&y&&(H.TgZ(0,"div",0),H._UZ(1,"app-navbar"),H.TgZ(2,"h1",1),H._uU(3,"Plantilla de Especialistas"),H.qZA(),H._UZ(4,"app-listado-especialistas")(5,"app-listado-pacientes"),H.qZA())},dependencies:[fe.S,_e,nt],styles:[".title[_ngcontent-%COMP%]{text-align:center;padding-top:70px}"]})}return S})()}];let ht=(()=>{class S{static#e=this.\u0275fac=function(y){return new(y||S)};static#t=this.\u0275mod=H.oAB({type:S});static#n=this.\u0275inj=H.cJS({imports:[te.Bz.forRoot(ot),te.Bz]})}return S})(),mt=(()=>{class S{constructor(){this.title="TPFinal_Labo_IV"}static#e=this.\u0275fac=function(y){return new(y||S)};static#t=this.\u0275cmp=H.Xpm({type:S,selectors:[["app-root"]],decls:2,vars:0,template:function(y,B){1&y&&H._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[te.lC,fe.S]})}return S})();var Ut=P(721),vt=P(2637),me=P(4643),Le=P(7217);const Oe={apiKey:"AIzaSyB0Y5utNmjLukuGlVEkhaiIPg4ckyAOK54",authDomain:"tpfinal-labo-iv.firebaseapp.com",projectId:"tpfinal-labo-iv",storageBucket:"tpfinal-labo-iv.appspot.com",messagingSenderId:"823789555983",appId:"1:823789555983:web:b87feeed406e0c721eee7a"};var Je=P(6208),Ze=P(6825);function $t(S){return new H.vHH(3e3,!1)}function Pi(S){switch(S.length){case 0:return new Ze.ZN;case 1:return S[0];default:return new Ze.ZE(S)}}function Tn(S,g,m=new Map,y=new Map){const B=[],Q=[];let pe=-1,Se=null;if(g.forEach(He=>{const ut=He.get("offset"),Wt=ut==pe,en=Wt&&Se||new Map;He.forEach((Wn,ei)=>{let kn=ei,Pn=Wn;if("offset"!==ei)switch(kn=S.normalizePropertyName(kn,B),Pn){case Ze.k1:Pn=m.get(ei);break;case Ze.l3:Pn=y.get(ei);break;default:Pn=S.normalizeStyleValue(ei,kn,Pn,B)}en.set(kn,Pn)}),Wt||Q.push(en),Se=en,pe=ut}),B.length)throw function Un(S){return new H.vHH(3502,!1)}();return Q}function zn(S,g,m,y){switch(g){case"start":S.onStart(()=>y(m&&mr(m,"start",S)));break;case"done":S.onDone(()=>y(m&&mr(m,"done",S)));break;case"destroy":S.onDestroy(()=>y(m&&mr(m,"destroy",S)))}}function mr(S,g,m){const Q=Kt(S.element,S.triggerName,S.fromState,S.toState,g||S.phaseName,m.totalTime??S.totalTime,!!m.disabled),pe=S._data;return null!=pe&&(Q._data=pe),Q}function Kt(S,g,m,y,B="",Q=0,pe){return{element:S,triggerName:g,fromState:m,toState:y,phaseName:B,totalTime:Q,disabled:!!pe}}function xi(S,g,m){let y=S.get(g);return y||S.set(g,y=m),y}function fn(S){const g=S.indexOf(":");return[S.substring(1,g),S.slice(g+1)]}const ai=(()=>typeof document>"u"?null:document.documentElement)();function di(S){const g=S.parentNode||S.host||null;return g===ai?null:g}let Sn=null,Cn=!1;function Sr(S,g){for(;g;){if(g===S)return!0;g=di(g)}return!1}function qi(S,g,m){if(m)return Array.from(S.querySelectorAll(g));const y=S.querySelector(g);return y?[y]:[]}let St=(()=>{class S{validateStyleProperty(m){return function ci(S){Sn||(Sn=function Gi(){return typeof document<"u"?document.body:null}()||{},Cn=!!Sn.style&&"WebkitAppearance"in Sn.style);let g=!0;return Sn.style&&!function ii(S){return"ebkit"==S.substring(1,6)}(S)&&(g=S in Sn.style,!g&&Cn&&(g="Webkit"+S.charAt(0).toUpperCase()+S.slice(1)in Sn.style)),g}(m)}matchesElement(m,y){return!1}containsElement(m,y){return Sr(m,y)}getParentElement(m){return di(m)}query(m,y,B){return qi(m,y,B)}computeStyle(m,y,B){return B||""}animate(m,y,B,Q,pe,Se=[],He){return new Ze.ZN(B,Q)}static#e=this.\u0275fac=function(y){return new(y||S)};static#t=this.\u0275prov=H.Yz7({token:S,factory:S.\u0275fac})}return S})(),oe=(()=>{class S{static#e=this.NOOP=new St}return S})();const L=1e3,k="ng-enter",he="ng-leave",Ue="ng-trigger",_t=".ng-trigger",Mt="ng-animating",Lt=".ng-animating";function Ft(S){if("number"==typeof S)return S;const g=S.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:cn(parseFloat(g[1]),g[2])}function cn(S,g){return"s"===g?S*L:S}function jn(S,g,m){return S.hasOwnProperty("duration")?S:function tt(S,g,m){let B,Q=0,pe="";if("string"==typeof S){const Se=S.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Se)return g.push($t()),{duration:0,delay:0,easing:""};B=cn(parseFloat(Se[1]),Se[2]);const He=Se[3];null!=He&&(Q=cn(parseFloat(He),Se[4]));const ut=Se[5];ut&&(pe=ut)}else B=S;if(!m){let Se=!1,He=g.length;B<0&&(g.push(function jt(){return new H.vHH(3100,!1)}()),Se=!0),Q<0&&(g.push(function ln(){return new H.vHH(3101,!1)}()),Se=!0),Se&&g.splice(He,0,$t())}return{duration:B,delay:Q,easing:pe}}(S,g,m)}function ie(S,g={}){return Object.keys(S).forEach(m=>{g[m]=S[m]}),g}function Ee(S){const g=new Map;return Object.keys(S).forEach(m=>{g.set(m,S[m])}),g}function st(S,g=new Map,m){if(m)for(let[y,B]of m)g.set(y,B);for(let[y,B]of S)g.set(y,B);return g}function Dt(S,g,m){g.forEach((y,B)=>{const Q=ki(B);m&&!m.has(B)&&m.set(B,S.style[Q]),S.style[Q]=y})}function zt(S,g){g.forEach((m,y)=>{const B=ki(y);S.style[B]=""})}function Bt(S){return Array.isArray(S)?1==S.length?S[0]:(0,Ze.vP)(S):S}const li=new RegExp("{{\\s*(.+?)\\s*}}","g");function hi(S){let g=[];if("string"==typeof S){let m;for(;m=li.exec(S);)g.push(m[1]);li.lastIndex=0}return g}function dr(S,g,m){const y=S.toString(),B=y.replace(li,(Q,pe)=>{let Se=g[pe];return null==Se&&(m.push(function un(S){return new H.vHH(3003,!1)}()),Se=""),Se.toString()});return B==y?S:B}function Fi(S){const g=[];let m=S.next();for(;!m.done;)g.push(m.value),m=S.next();return g}const Mr=/-+([a-z0-9])/g;function ki(S){return S.replace(Mr,(...g)=>g[1].toUpperCase())}function Hn(S,g,m){switch(g.type){case 7:return S.visitTrigger(g,m);case 0:return S.visitState(g,m);case 1:return S.visitTransition(g,m);case 2:return S.visitSequence(g,m);case 3:return S.visitGroup(g,m);case 4:return S.visitAnimate(g,m);case 5:return S.visitKeyframes(g,m);case 6:return S.visitStyle(g,m);case 8:return S.visitReference(g,m);case 9:return S.visitAnimateChild(g,m);case 10:return S.visitAnimateRef(g,m);case 11:return S.visitQuery(g,m);case 12:return S.visitStagger(g,m);default:throw function Ei(S){return new H.vHH(3004,!1)}()}}function _i(S,g){return window.getComputedStyle(S)[g]}const tr="*";function Jr(S,g){const m=[];return"string"==typeof S?S.split(/\s*,\s*/).forEach(y=>function Yo(S,g,m){if(":"==S[0]){const He=function pa(S,g){switch(S){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(m,y)=>parseFloat(y)>parseFloat(m);case":decrement":return(m,y)=>parseFloat(y)<parseFloat(m);default:return g.push(function In(S){return new H.vHH(3016,!1)}()),"* => *"}}(S,m);if("function"==typeof He)return void g.push(He);S=He}const y=S.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==y||y.length<4)return m.push(function Gn(S){return new H.vHH(3015,!1)}()),g;const B=y[1],Q=y[2],pe=y[3];g.push(Xo(B,pe));"<"==Q[0]&&!(B==tr&&pe==tr)&&g.push(Xo(pe,B))}(y,m,g)):m.push(S),m}const ko=new Set(["true","1"]),Qo=new Set(["false","0"]);function Xo(S,g){const m=ko.has(S)||Qo.has(S),y=ko.has(g)||Qo.has(g);return(B,Q)=>{let pe=S==tr||S==B,Se=g==tr||g==Q;return!pe&&m&&"boolean"==typeof B&&(pe=B?ko.has(S):Qo.has(S)),!Se&&y&&"boolean"==typeof Q&&(Se=Q?ko.has(g):Qo.has(g)),pe&&Se}}const gs=new RegExp("s*:selfs*,?","g");function _r(S,g,m,y){return new $o(S).build(g,m,y)}class $o{constructor(g){this._driver=g}build(g,m,y){const B=new Io(m);return this._resetContextStyleTimingState(B),Hn(this,Bt(g),B)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,m){let y=m.queryCount=0,B=m.depCount=0;const Q=[],pe=[];return"@"==g.name.charAt(0)&&m.errors.push(function _n(){return new H.vHH(3006,!1)}()),g.definitions.forEach(Se=>{if(this._resetContextStyleTimingState(m),0==Se.type){const He=Se,ut=He.name;ut.toString().split(/\s*,\s*/).forEach(Wt=>{He.name=Wt,Q.push(this.visitState(He,m))}),He.name=ut}else if(1==Se.type){const He=this.visitTransition(Se,m);y+=He.queryCount,B+=He.depCount,pe.push(He)}else m.errors.push(function vn(){return new H.vHH(3007,!1)}())}),{type:7,name:g.name,states:Q,transitions:pe,queryCount:y,depCount:B,options:null}}visitState(g,m){const y=this.visitStyle(g.styles,m),B=g.options&&g.options.params||null;if(y.containsDynamicStyles){const Q=new Set,pe=B||{};y.styles.forEach(Se=>{Se instanceof Map&&Se.forEach(He=>{hi(He).forEach(ut=>{pe.hasOwnProperty(ut)||Q.add(ut)})})}),Q.size&&(Fi(Q.values()),m.errors.push(function Ge(S,g){return new H.vHH(3008,!1)}()))}return{type:0,name:g.name,style:y,options:B?{params:B}:null}}visitTransition(g,m){m.queryCount=0,m.depCount=0;const y=Hn(this,Bt(g.animation),m);return{type:1,matchers:Jr(g.expr,m.errors),animation:y,queryCount:m.queryCount,depCount:m.depCount,options:po(g.options)}}visitSequence(g,m){return{type:2,steps:g.steps.map(y=>Hn(this,y,m)),options:po(g.options)}}visitGroup(g,m){const y=m.currentTime;let B=0;const Q=g.steps.map(pe=>{m.currentTime=y;const Se=Hn(this,pe,m);return B=Math.max(B,m.currentTime),Se});return m.currentTime=B,{type:3,steps:Q,options:po(g.options)}}visitAnimate(g,m){const y=function Lo(S,g){if(S.hasOwnProperty("duration"))return S;if("number"==typeof S)return eo(jn(S,g).duration,0,"");const m=S;if(m.split(/\s+/).some(Q=>"{"==Q.charAt(0)&&"{"==Q.charAt(1))){const Q=eo(0,0,"");return Q.dynamic=!0,Q.strValue=m,Q}const B=jn(m,g);return eo(B.duration,B.delay,B.easing)}(g.timings,m.errors);m.currentAnimateTimings=y;let B,Q=g.styles?g.styles:(0,Ze.oB)({});if(5==Q.type)B=this.visitKeyframes(Q,m);else{let pe=g.styles,Se=!1;if(!pe){Se=!0;const ut={};y.easing&&(ut.easing=y.easing),pe=(0,Ze.oB)(ut)}m.currentTime+=y.duration+y.delay;const He=this.visitStyle(pe,m);He.isEmptyStep=Se,B=He}return m.currentAnimateTimings=null,{type:4,timings:y,style:B,options:null}}visitStyle(g,m){const y=this._makeStyleAst(g,m);return this._validateStyleAst(y,m),y}_makeStyleAst(g,m){const y=[],B=Array.isArray(g.styles)?g.styles:[g.styles];for(let Se of B)"string"==typeof Se?Se===Ze.l3?y.push(Se):m.errors.push(new H.vHH(3002,!1)):y.push(Ee(Se));let Q=!1,pe=null;return y.forEach(Se=>{if(Se instanceof Map&&(Se.has("easing")&&(pe=Se.get("easing"),Se.delete("easing")),!Q))for(let He of Se.values())if(He.toString().indexOf("{{")>=0){Q=!0;break}}),{type:6,styles:y,easing:pe,offset:g.offset,containsDynamicStyles:Q,options:null}}_validateStyleAst(g,m){const y=m.currentAnimateTimings;let B=m.currentTime,Q=m.currentTime;y&&Q>0&&(Q-=y.duration+y.delay),g.styles.forEach(pe=>{"string"!=typeof pe&&pe.forEach((Se,He)=>{const ut=m.collectedStyles.get(m.currentQuerySelector),Wt=ut.get(He);let en=!0;Wt&&(Q!=B&&Q>=Wt.startTime&&B<=Wt.endTime&&(m.errors.push(function Xe(S,g,m,y,B){return new H.vHH(3010,!1)}()),en=!1),Q=Wt.startTime),en&&ut.set(He,{startTime:Q,endTime:B}),m.options&&function Ln(S,g,m){const y=g.params||{},B=hi(S);B.length&&B.forEach(Q=>{y.hasOwnProperty(Q)||m.push(function Vn(S){return new H.vHH(3001,!1)}())})}(Se,m.options,m.errors)})})}visitKeyframes(g,m){const y={type:5,styles:[],options:null};if(!m.currentAnimateTimings)return m.errors.push(function $e(){return new H.vHH(3011,!1)}()),y;let Q=0;const pe=[];let Se=!1,He=!1,ut=0;const Wt=g.steps.map(xr=>{const Yr=this._makeStyleAst(xr,m);let ho=null!=Yr.offset?Yr.offset:function oo(S){if("string"==typeof S)return null;let g=null;if(Array.isArray(S))S.forEach(m=>{if(m instanceof Map&&m.has("offset")){const y=m;g=parseFloat(y.get("offset")),y.delete("offset")}});else if(S instanceof Map&&S.has("offset")){const m=S;g=parseFloat(m.get("offset")),m.delete("offset")}return g}(Yr.styles),Lr=0;return null!=ho&&(Q++,Lr=Yr.offset=ho),He=He||Lr<0||Lr>1,Se=Se||Lr<ut,ut=Lr,pe.push(Lr),Yr});He&&m.errors.push(function at(){return new H.vHH(3012,!1)}()),Se&&m.errors.push(function Pe(){return new H.vHH(3200,!1)}());const en=g.steps.length;let Wn=0;Q>0&&Q<en?m.errors.push(function wt(){return new H.vHH(3202,!1)}()):0==Q&&(Wn=1/(en-1));const ei=en-1,kn=m.currentTime,Pn=m.currentAnimateTimings,oi=Pn.duration;return Wt.forEach((xr,Yr)=>{const ho=Wn>0?Yr==ei?1:Wn*Yr:pe[Yr],Lr=ho*oi;m.currentTime=kn+Pn.delay+Lr,Pn.duration=Lr,this._validateStyleAst(xr,m),xr.offset=ho,y.styles.push(xr)}),y}visitReference(g,m){return{type:8,animation:Hn(this,Bt(g.animation),m),options:po(g.options)}}visitAnimateChild(g,m){return m.depCount++,{type:9,options:po(g.options)}}visitAnimateRef(g,m){return{type:10,animation:this.visitReference(g.animation,m),options:po(g.options)}}visitQuery(g,m){const y=m.currentQuerySelector,B=g.options||{};m.queryCount++,m.currentQuery=g;const[Q,pe]=function Do(S){const g=!!S.split(/\s*,\s*/).find(m=>":self"==m);return g&&(S=S.replace(gs,"")),S=S.replace(/@\*/g,_t).replace(/@\w+/g,m=>_t+"-"+m.slice(1)).replace(/:animating/g,Lt),[S,g]}(g.selector);m.currentQuerySelector=y.length?y+" "+Q:Q,xi(m.collectedStyles,m.currentQuerySelector,new Map);const Se=Hn(this,Bt(g.animation),m);return m.currentQuery=null,m.currentQuerySelector=y,{type:11,selector:Q,limit:B.limit||0,optional:!!B.optional,includeSelf:pe,animation:Se,originalSelector:g.selector,options:po(g.options)}}visitStagger(g,m){m.currentQuery||m.errors.push(function Bn(){return new H.vHH(3013,!1)}());const y="full"===g.timings?{duration:0,delay:0,easing:"full"}:jn(g.timings,m.errors,!0);return{type:12,animation:Hn(this,Bt(g.animation),m),timings:y,options:null}}}class Io{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function po(S){return S?(S=ie(S)).params&&(S.params=function _s(S){return S?ie(S):null}(S.params)):S={},S}function eo(S,g,m){return{duration:S,delay:g,easing:m}}function so(S,g,m,y,B,Q,pe=null,Se=!1){return{type:1,element:S,keyframes:g,preStyleProps:m,postStyleProps:y,duration:B,delay:Q,totalTime:B+Q,easing:pe,subTimeline:Se}}class Zn{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,m){let y=this._map.get(g);y||this._map.set(g,y=[]),y.push(...m)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const vr=new RegExp(":enter","g"),Jo=new RegExp(":leave","g");function Br(S,g,m,y,B,Q=new Map,pe=new Map,Se,He,ut=[]){return(new Ti).buildKeyframes(S,g,m,y,B,Q,pe,Se,He,ut)}class Ti{buildKeyframes(g,m,y,B,Q,pe,Se,He,ut,Wt=[]){ut=ut||new Zn;const en=new mo(g,m,ut,B,Q,Wt,[]);en.options=He;const Wn=He.delay?Ft(He.delay):0;en.currentTimeline.delayNextStep(Wn),en.currentTimeline.setStyles([pe],null,en.errors,He),Hn(this,y,en);const ei=en.timelines.filter(kn=>kn.containsAnimation());if(ei.length&&Se.size){let kn;for(let Pn=ei.length-1;Pn>=0;Pn--){const oi=ei[Pn];if(oi.element===m){kn=oi;break}}kn&&!kn.allowOnlyTimelineStyles()&&kn.setStyles([Se],null,en.errors,He)}return ei.length?ei.map(kn=>kn.buildKeyframes()):[so(m,[],[],[],0,Wn,"",!1)]}visitTrigger(g,m){}visitState(g,m){}visitTransition(g,m){}visitAnimateChild(g,m){const y=m.subInstructions.get(m.element);if(y){const B=m.createSubContext(g.options),Q=m.currentTimeline.currentTime,pe=this._visitSubInstructions(y,B,B.options);Q!=pe&&m.transformIntoNewTimeline(pe)}m.previousNode=g}visitAnimateRef(g,m){const y=m.createSubContext(g.options);y.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],m,y),this.visitReference(g.animation,y),m.transformIntoNewTimeline(y.currentTimeline.currentTime),m.previousNode=g}_applyAnimationRefDelays(g,m,y){for(const B of g){const Q=B?.delay;if(Q){const pe="number"==typeof Q?Q:Ft(dr(Q,B?.params??{},m.errors));y.delayNextStep(pe)}}}_visitSubInstructions(g,m,y){let Q=m.currentTimeline.currentTime;const pe=null!=y.duration?Ft(y.duration):null,Se=null!=y.delay?Ft(y.delay):null;return 0!==pe&&g.forEach(He=>{const ut=m.appendInstructionToTimeline(He,pe,Se);Q=Math.max(Q,ut.duration+ut.delay)}),Q}visitReference(g,m){m.updateOptions(g.options,!0),Hn(this,g.animation,m),m.previousNode=g}visitSequence(g,m){const y=m.subContextCount;let B=m;const Q=g.options;if(Q&&(Q.params||Q.delay)&&(B=m.createSubContext(Q),B.transformIntoNewTimeline(),null!=Q.delay)){6==B.previousNode.type&&(B.currentTimeline.snapshotCurrentStyles(),B.previousNode=qr);const pe=Ft(Q.delay);B.delayNextStep(pe)}g.steps.length&&(g.steps.forEach(pe=>Hn(this,pe,B)),B.currentTimeline.applyStylesToKeyframe(),B.subContextCount>y&&B.transformIntoNewTimeline()),m.previousNode=g}visitGroup(g,m){const y=[];let B=m.currentTimeline.currentTime;const Q=g.options&&g.options.delay?Ft(g.options.delay):0;g.steps.forEach(pe=>{const Se=m.createSubContext(g.options);Q&&Se.delayNextStep(Q),Hn(this,pe,Se),B=Math.max(B,Se.currentTimeline.currentTime),y.push(Se.currentTimeline)}),y.forEach(pe=>m.currentTimeline.mergeTimelineCollectedStyles(pe)),m.transformIntoNewTimeline(B),m.previousNode=g}_visitTiming(g,m){if(g.dynamic){const y=g.strValue;return jn(m.params?dr(y,m.params,m.errors):y,m.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,m){const y=m.currentAnimateTimings=this._visitTiming(g.timings,m),B=m.currentTimeline;y.delay&&(m.incrementTime(y.delay),B.snapshotCurrentStyles());const Q=g.style;5==Q.type?this.visitKeyframes(Q,m):(m.incrementTime(y.duration),this.visitStyle(Q,m),B.applyStylesToKeyframe()),m.currentAnimateTimings=null,m.previousNode=g}visitStyle(g,m){const y=m.currentTimeline,B=m.currentAnimateTimings;!B&&y.hasCurrentStyleProperties()&&y.forwardFrame();const Q=B&&B.easing||g.easing;g.isEmptyStep?y.applyEmptyStep(Q):y.setStyles(g.styles,Q,m.errors,m.options),m.previousNode=g}visitKeyframes(g,m){const y=m.currentAnimateTimings,B=m.currentTimeline.duration,Q=y.duration,Se=m.createSubContext().currentTimeline;Se.easing=y.easing,g.styles.forEach(He=>{Se.forwardTime((He.offset||0)*Q),Se.setStyles(He.styles,He.easing,m.errors,m.options),Se.applyStylesToKeyframe()}),m.currentTimeline.mergeTimelineCollectedStyles(Se),m.transformIntoNewTimeline(B+Q),m.previousNode=g}visitQuery(g,m){const y=m.currentTimeline.currentTime,B=g.options||{},Q=B.delay?Ft(B.delay):0;Q&&(6===m.previousNode.type||0==y&&m.currentTimeline.hasCurrentStyleProperties())&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=qr);let pe=y;const Se=m.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!B.optional,m.errors);m.currentQueryTotal=Se.length;let He=null;Se.forEach((ut,Wt)=>{m.currentQueryIndex=Wt;const en=m.createSubContext(g.options,ut);Q&&en.delayNextStep(Q),ut===m.element&&(He=en.currentTimeline),Hn(this,g.animation,en),en.currentTimeline.applyStylesToKeyframe(),pe=Math.max(pe,en.currentTimeline.currentTime)}),m.currentQueryIndex=0,m.currentQueryTotal=0,m.transformIntoNewTimeline(pe),He&&(m.currentTimeline.mergeTimelineCollectedStyles(He),m.currentTimeline.snapshotCurrentStyles()),m.previousNode=g}visitStagger(g,m){const y=m.parentContext,B=m.currentTimeline,Q=g.timings,pe=Math.abs(Q.duration),Se=pe*(m.currentQueryTotal-1);let He=pe*m.currentQueryIndex;switch(Q.duration<0?"reverse":Q.easing){case"reverse":He=Se-He;break;case"full":He=y.currentStaggerTime}const Wt=m.currentTimeline;He&&Wt.delayNextStep(He);const en=Wt.currentTime;Hn(this,g.animation,m),m.previousNode=g,y.currentStaggerTime=B.currentTime-en+(B.startTime-y.currentTimeline.startTime)}}const qr={};class mo{constructor(g,m,y,B,Q,pe,Se,He){this._driver=g,this.element=m,this.subInstructions=y,this._enterClassName=B,this._leaveClassName=Q,this.errors=pe,this.timelines=Se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=He||new pi(this._driver,m,0),Se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,m){if(!g)return;const y=g;let B=this.options;null!=y.duration&&(B.duration=Ft(y.duration)),null!=y.delay&&(B.delay=Ft(y.delay));const Q=y.params;if(Q){let pe=B.params;pe||(pe=this.options.params={}),Object.keys(Q).forEach(Se=>{(!m||!pe.hasOwnProperty(Se))&&(pe[Se]=dr(Q[Se],pe,this.errors))})}}_copyOptions(){const g={};if(this.options){const m=this.options.params;if(m){const y=g.params={};Object.keys(m).forEach(B=>{y[B]=m[B]})}}return g}createSubContext(g=null,m,y){const B=m||this.element,Q=new mo(this._driver,B,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(B,y||0));return Q.previousNode=this.previousNode,Q.currentAnimateTimings=this.currentAnimateTimings,Q.options=this._copyOptions(),Q.updateOptions(g),Q.currentQueryIndex=this.currentQueryIndex,Q.currentQueryTotal=this.currentQueryTotal,Q.parentContext=this,this.subContextCount++,Q}transformIntoNewTimeline(g){return this.previousNode=qr,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,m,y){const B={duration:m??g.duration,delay:this.currentTimeline.currentTime+(y??0)+g.delay,easing:""},Q=new Zt(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,B,g.stretchStartingKeyframe);return this.timelines.push(Q),B}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,m,y,B,Q,pe){let Se=[];if(B&&Se.push(this.element),g.length>0){g=(g=g.replace(vr,"."+this._enterClassName)).replace(Jo,"."+this._leaveClassName);let ut=this._driver.query(this.element,g,1!=y);0!==y&&(ut=y<0?ut.slice(ut.length+y,ut.length):ut.slice(0,y)),Se.push(...ut)}return!Q&&0==Se.length&&pe.push(function tn(S){return new H.vHH(3014,!1)}()),Se}}class pi{constructor(g,m,y,B){this._driver=g,this.element=m,this.startTime=y,this._elementTimelineStylesLookup=B,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(m),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(m,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const m=1===this._keyframes.size&&this._pendingStyles.size;this.duration||m?(this.forwardTime(this.currentTime+g),m&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,m){return this.applyStylesToKeyframe(),new pi(this._driver,g,m||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,m){this._localTimelineStyles.set(g,m),this._globalTimelineStyles.set(g,m),this._styleSummary.set(g,{time:this.currentTime,value:m})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[m,y]of this._globalTimelineStyles)this._backFill.set(m,y||Ze.l3),this._currentKeyframe.set(m,Ze.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,m,y,B){m&&this._previousKeyframe.set("easing",m);const Q=B&&B.params||{},pe=function Vi(S,g){const m=new Map;let y;return S.forEach(B=>{if("*"===B){y=y||g.keys();for(let Q of y)m.set(Q,Ze.l3)}else st(B,m)}),m}(g,this._globalTimelineStyles);for(let[Se,He]of pe){const ut=dr(He,Q,y);this._pendingStyles.set(Se,ut),this._localTimelineStyles.has(Se)||this._backFill.set(Se,this._globalTimelineStyles.get(Se)??Ze.l3),this._updateStyle(Se,ut)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,m)=>{this._currentKeyframe.set(m,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,m)=>{this._currentKeyframe.has(m)||this._currentKeyframe.set(m,g)}))}snapshotCurrentStyles(){for(let[g,m]of this._localTimelineStyles)this._pendingStyles.set(g,m),this._updateStyle(g,m)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let m in this._currentKeyframe)g.push(m);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((m,y)=>{const B=this._styleSummary.get(y);(!B||m.time>B.time)&&this._updateStyle(y,m.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,m=new Set,y=1===this._keyframes.size&&0===this.duration;let B=[];this._keyframes.forEach((Se,He)=>{const ut=st(Se,new Map,this._backFill);ut.forEach((Wt,en)=>{Wt===Ze.k1?g.add(en):Wt===Ze.l3&&m.add(en)}),y||ut.set("offset",He/this.duration),B.push(ut)});const Q=g.size?Fi(g.values()):[],pe=m.size?Fi(m.values()):[];if(y){const Se=B[0],He=new Map(Se);Se.set("offset",0),He.set("offset",1),B=[Se,He]}return so(this.element,B,Q,pe,this.duration,this.startTime,this.easing,!1)}}class Zt extends pi{constructor(g,m,y,B,Q,pe,Se=!1){super(g,m,pe.delay),this.keyframes=y,this.preStyleProps=B,this.postStyleProps=Q,this._stretchStartingKeyframe=Se,this.timings={duration:pe.duration,delay:pe.delay,easing:pe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:m,duration:y,easing:B}=this.timings;if(this._stretchStartingKeyframe&&m){const Q=[],pe=y+m,Se=m/pe,He=st(g[0]);He.set("offset",0),Q.push(He);const ut=st(g[0]);ut.set("offset",Nn(Se)),Q.push(ut);const Wt=g.length-1;for(let en=1;en<=Wt;en++){let Wn=st(g[en]);const ei=Wn.get("offset");Wn.set("offset",Nn((m+ei*y)/pe)),Q.push(Wn)}y=pe,m=0,B="",g=Q}return so(this.element,g,this.preStyleProps,this.postStyleProps,y,m,B,!0)}}function Nn(S,g=3){const m=Math.pow(10,g-1);return Math.round(S*m)/m}class Ur{}const Tr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Di extends Ur{normalizePropertyName(g,m){return ki(g)}normalizeStyleValue(g,m,y,B){let Q="";const pe=y.toString().trim();if(Tr.has(m)&&0!==y&&"0"!==y)if("number"==typeof y)Q="px";else{const Se=y.match(/^[+-]?[\d\.]+([a-z]*)$/);Se&&0==Se[1].length&&B.push(function Qt(S,g){return new H.vHH(3005,!1)}())}return pe+Q}}function yr(S,g,m,y,B,Q,pe,Se,He,ut,Wt,en,Wn){return{type:0,element:S,triggerName:g,isRemovalTransition:B,fromState:m,fromStyles:Q,toState:y,toStyles:pe,timelines:Se,queriedElements:He,preStyleProps:ut,postStyleProps:Wt,totalTime:en,errors:Wn}}const we={};class z{constructor(g,m,y){this._triggerName=g,this.ast=m,this._stateStyles=y}match(g,m,y,B){return function J(S,g,m,y,B){return S.some(Q=>Q(g,m,y,B))}(this.ast.matchers,g,m,y,B)}buildStyles(g,m,y){let B=this._stateStyles.get("*");return void 0!==g&&(B=this._stateStyles.get(g?.toString())||B),B?B.buildStyles(m,y):new Map}build(g,m,y,B,Q,pe,Se,He,ut,Wt){const en=[],Wn=this.ast.options&&this.ast.options.params||we,kn=this.buildStyles(y,Se&&Se.params||we,en),Pn=He&&He.params||we,oi=this.buildStyles(B,Pn,en),xr=new Set,Yr=new Map,ho=new Map,Lr="void"===B,Bs={params:ve(Pn,Wn),delay:this.ast.options?.delay},Po=Wt?[]:Br(g,m,this.ast.animation,Q,pe,kn,oi,Bs,ut,en);let Qr=0;if(Po.forEach(us=>{Qr=Math.max(us.duration+us.delay,Qr)}),en.length)return yr(m,this._triggerName,y,B,Lr,kn,oi,[],[],Yr,ho,Qr,en);Po.forEach(us=>{const xa=us.element,Js=xi(Yr,xa,new Set);us.preStyleProps.forEach(f=>Js.add(f));const b=xi(ho,xa,new Set);us.postStyleProps.forEach(f=>b.add(f)),xa!==m&&xr.add(xa)});const Xs=Fi(xr.values());return yr(m,this._triggerName,y,B,Lr,kn,oi,Po,Xs,Yr,ho,Qr)}}function ve(S,g){const m=ie(g);for(const y in S)S.hasOwnProperty(y)&&null!=S[y]&&(m[y]=S[y]);return m}class Ne{constructor(g,m,y){this.styles=g,this.defaultParams=m,this.normalizer=y}buildStyles(g,m){const y=new Map,B=ie(this.defaultParams);return Object.keys(g).forEach(Q=>{const pe=g[Q];null!==pe&&(B[Q]=pe)}),this.styles.styles.forEach(Q=>{"string"!=typeof Q&&Q.forEach((pe,Se)=>{pe&&(pe=dr(pe,B,m));const He=this.normalizer.normalizePropertyName(Se,m);pe=this.normalizer.normalizeStyleValue(Se,He,pe,m),y.set(Se,pe)})}),y}}class Ot{constructor(g,m,y){this.name=g,this.ast=m,this._normalizer=y,this.transitionFactories=[],this.states=new Map,m.states.forEach(B=>{this.states.set(B.name,new Ne(B.style,B.options&&B.options.params||{},y))}),gn(this.states,"true","1"),gn(this.states,"false","0"),m.transitions.forEach(B=>{this.transitionFactories.push(new z(g,B,this.states))}),this.fallbackTransition=function Yt(S,g,m){return new z(S,{type:1,animation:{type:2,steps:[],options:null},matchers:[(pe,Se)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,m,y,B){return this.transitionFactories.find(pe=>pe.match(g,m,y,B))||null}matchStyles(g,m,y){return this.fallbackTransition.buildStyles(g,m,y)}}function gn(S,g,m){S.has(g)?S.has(m)||S.set(m,S.get(g)):S.has(m)&&S.set(g,S.get(m))}const Rn=new Zn;class ri{constructor(g,m,y){this.bodyNode=g,this._driver=m,this._normalizer=y,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,m){const y=[],Q=_r(this._driver,m,y,[]);if(y.length)throw function Mi(S){return new H.vHH(3503,!1)}();this._animations.set(g,Q)}_buildPlayer(g,m,y){const B=g.element,Q=Tn(this._normalizer,g.keyframes,m,y);return this._driver.animate(B,Q,g.duration,g.delay,g.easing,[],!0)}create(g,m,y={}){const B=[],Q=this._animations.get(g);let pe;const Se=new Map;if(Q?(pe=Br(this._driver,m,Q,k,he,new Map,new Map,y,Rn,B),pe.forEach(Wt=>{const en=xi(Se,Wt.element,new Map);Wt.postStyleProps.forEach(Wn=>en.set(Wn,null))})):(B.push(function Ui(){return new H.vHH(3300,!1)}()),pe=[]),B.length)throw function Ji(S){return new H.vHH(3504,!1)}();Se.forEach((Wt,en)=>{Wt.forEach((Wn,ei)=>{Wt.set(ei,this._driver.computeStyle(en,ei,Ze.l3))})});const ut=Pi(pe.map(Wt=>{const en=Se.get(Wt.element);return this._buildPlayer(Wt,new Map,en)}));return this._playersById.set(g,ut),ut.onDestroy(()=>this.destroy(g)),this.players.push(ut),ut}destroy(g){const m=this._getPlayer(g);m.destroy(),this._playersById.delete(g);const y=this.players.indexOf(m);y>=0&&this.players.splice(y,1)}_getPlayer(g){const m=this._playersById.get(g);if(!m)throw function Ri(S){return new H.vHH(3301,!1)}();return m}listen(g,m,y,B){const Q=Kt(m,"","","");return zn(this._getPlayer(g),y,Q,B),()=>{}}command(g,m,y,B){if("register"==y)return void this.register(g,B[0]);if("create"==y)return void this.create(g,m,B[0]||{});const Q=this._getPlayer(g);switch(y){case"play":Q.play();break;case"pause":Q.pause();break;case"reset":Q.reset();break;case"restart":Q.restart();break;case"finish":Q.finish();break;case"init":Q.init();break;case"setPosition":Q.setPosition(parseFloat(B[0]));break;case"destroy":this.destroy(g)}}}const Xi="ng-animate-queued",ar="ng-animate-disabled",ao=[],Rr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pr="__ng_removed";class Or{get params(){return this.options.params}constructor(g,m=""){this.namespaceId=m;const y=g&&g.hasOwnProperty("value");if(this.value=function Ve(S){return S??null}(y?g.value:g),y){const Q=ie(g);delete Q.value,this.options=Q}else this.options={};this.options.params||(this.options.params={})}absorbOptions(g){const m=g.params;if(m){const y=this.options.params;Object.keys(m).forEach(B=>{null==y[B]&&(y[B]=m[B])})}}}const ji="void",ys=new Or(ji);class ui{constructor(g,m,y){this.id=g,this.hostElement=m,this._engine=y,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,nr(m,this._hostClassName)}listen(g,m,y,B){if(!this._triggers.has(m))throw function Qn(S,g){return new H.vHH(3302,!1)}();if(null==y||0==y.length)throw function Ii(S){return new H.vHH(3303,!1)}();if(!function yt(S){return"start"==S||"done"==S}(y))throw function gi(S,g){return new H.vHH(3400,!1)}();const Q=xi(this._elementListeners,g,[]),pe={name:m,phase:y,callback:B};Q.push(pe);const Se=xi(this._engine.statesByElement,g,new Map);return Se.has(m)||(nr(g,Ue),nr(g,Ue+"-"+m),Se.set(m,ys)),()=>{this._engine.afterFlush(()=>{const He=Q.indexOf(pe);He>=0&&Q.splice(He,1),this._triggers.has(m)||Se.delete(m)})}}register(g,m){return!this._triggers.has(g)&&(this._triggers.set(g,m),!0)}_getTrigger(g){const m=this._triggers.get(g);if(!m)throw function sn(S){return new H.vHH(3401,!1)}();return m}trigger(g,m,y,B=!0){const Q=this._getTrigger(m),pe=new Et(this.id,m,g);let Se=this._engine.statesByElement.get(g);Se||(nr(g,Ue),nr(g,Ue+"-"+m),this._engine.statesByElement.set(g,Se=new Map));let He=Se.get(m);const ut=new Or(y,this.id);if(!(y&&y.hasOwnProperty("value"))&&He&&ut.absorbOptions(He.options),Se.set(m,ut),He||(He=ys),ut.value!==ji&&He.value===ut.value){if(!function Fe(S,g){const m=Object.keys(S),y=Object.keys(g);if(m.length!=y.length)return!1;for(let B=0;B<m.length;B++){const Q=m[B];if(!g.hasOwnProperty(Q)||S[Q]!==g[Q])return!1}return!0}(He.params,ut.params)){const Pn=[],oi=Q.matchStyles(He.value,He.params,Pn),xr=Q.matchStyles(ut.value,ut.params,Pn);Pn.length?this._engine.reportError(Pn):this._engine.afterFlush(()=>{zt(g,oi),Dt(g,xr)})}return}const Wn=xi(this._engine.playersByElement,g,[]);Wn.forEach(Pn=>{Pn.namespaceId==this.id&&Pn.triggerName==m&&Pn.queued&&Pn.destroy()});let ei=Q.matchTransition(He.value,ut.value,g,ut.params),kn=!1;if(!ei){if(!B)return;ei=Q.fallbackTransition,kn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:m,transition:ei,fromState:He,toState:ut,player:pe,isFallbackTransition:kn}),kn||(nr(g,Xi),pe.onStart(()=>{Y(g,Xi)})),pe.onDone(()=>{let Pn=this.players.indexOf(pe);Pn>=0&&this.players.splice(Pn,1);const oi=this._engine.playersByElement.get(g);if(oi){let xr=oi.indexOf(pe);xr>=0&&oi.splice(xr,1)}}),this.players.push(pe),Wn.push(pe),pe}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(m=>m.delete(g)),this._elementListeners.forEach((m,y)=>{this._elementListeners.set(y,m.filter(B=>B.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const m=this._engine.playersByElement.get(g);m&&(m.forEach(y=>y.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,m){const y=this._engine.driver.query(g,_t,!0);y.forEach(B=>{if(B[Pr])return;const Q=this._engine.fetchNamespacesByElement(B);Q.size?Q.forEach(pe=>pe.triggerLeaveAnimation(B,m,!1,!0)):this.clearElementCache(B)}),this._engine.afterFlushAnimationsDone(()=>y.forEach(B=>this.clearElementCache(B)))}triggerLeaveAnimation(g,m,y,B){const Q=this._engine.statesByElement.get(g),pe=new Map;if(Q){const Se=[];if(Q.forEach((He,ut)=>{if(pe.set(ut,He.value),this._triggers.has(ut)){const Wt=this.trigger(g,ut,ji,B);Wt&&Se.push(Wt)}}),Se.length)return this._engine.markElementAsRemoved(this.id,g,!0,m,pe),y&&Pi(Se).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const m=this._elementListeners.get(g),y=this._engine.statesByElement.get(g);if(m&&y){const B=new Set;m.forEach(Q=>{const pe=Q.name;if(B.has(pe))return;B.add(pe);const He=this._triggers.get(pe).fallbackTransition,ut=y.get(pe)||ys,Wt=new Or(ji),en=new Et(this.id,pe,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:pe,transition:He,fromState:ut,toState:Wt,player:en,isFallbackTransition:!0})})}}removeNode(g,m){const y=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,m),this.triggerLeaveAnimation(g,m,!0))return;let B=!1;if(y.totalAnimations){const Q=y.players.length?y.playersByQueriedElement.get(g):[];if(Q&&Q.length)B=!0;else{let pe=g;for(;pe=pe.parentNode;)if(y.statesByElement.get(pe)){B=!0;break}}}if(this.prepareLeaveAnimationListeners(g),B)y.markElementAsRemoved(this.id,g,!1,m);else{const Q=g[Pr];(!Q||Q===Rr)&&(y.afterFlush(()=>this.clearElementCache(g)),y.destroyInnerAnimations(g),y._onRemovalComplete(g,m))}}insertNode(g,m){nr(g,this._hostClassName)}drainQueuedTransitions(g){const m=[];return this._queue.forEach(y=>{const B=y.player;if(B.destroyed)return;const Q=y.element,pe=this._elementListeners.get(Q);pe&&pe.forEach(Se=>{if(Se.name==y.triggerName){const He=Kt(Q,y.triggerName,y.fromState.value,y.toState.value);He._data=g,zn(y.player,Se.phase,He,Se.callback)}}),B.markedForDestroy?this._engine.afterFlush(()=>{B.destroy()}):m.push(y)}),this._queue=[],m.sort((y,B)=>{const Q=y.transition.ast.depCount,pe=B.transition.ast.depCount;return 0==Q||0==pe?Q-pe:this._engine.driver.containsElement(y.element,B.element)?1:-1})}destroy(g){this.players.forEach(m=>m.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}}class hr{_onRemovalComplete(g,m){this.onRemovalComplete(g,m)}constructor(g,m,y){this.bodyNode=g,this.driver=m,this._normalizer=y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(B,Q)=>{}}get queuedPlayers(){const g=[];return this._namespaceList.forEach(m=>{m.players.forEach(y=>{y.queued&&g.push(y)})}),g}createNamespace(g,m){const y=new ui(g,m,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,m)?this._balanceNamespaceList(y,m):(this.newHostElements.set(m,y),this.collectEnterElement(m)),this._namespaceLookup[g]=y}_balanceNamespaceList(g,m){const y=this._namespaceList,B=this.namespacesByHostElement;if(y.length-1>=0){let pe=!1,Se=this.driver.getParentElement(m);for(;Se;){const He=B.get(Se);if(He){const ut=y.indexOf(He);y.splice(ut+1,0,g),pe=!0;break}Se=this.driver.getParentElement(Se)}pe||y.unshift(g)}else y.push(g);return B.set(m,g),g}register(g,m){let y=this._namespaceLookup[g];return y||(y=this.createNamespace(g,m)),y}registerTrigger(g,m,y){let B=this._namespaceLookup[g];B&&B.register(m,y)&&this.totalAnimations++}destroy(g,m){g&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const y=this._fetchNamespace(g);this.namespacesByHostElement.delete(y.hostElement);const B=this._namespaceList.indexOf(y);B>=0&&this._namespaceList.splice(B,1),y.destroy(m),delete this._namespaceLookup[g]}))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const m=new Set,y=this.statesByElement.get(g);if(y)for(let B of y.values())if(B.namespaceId){const Q=this._fetchNamespace(B.namespaceId);Q&&m.add(Q)}return m}trigger(g,m,y,B){if(qe(m)){const Q=this._fetchNamespace(g);if(Q)return Q.trigger(m,y,B),!0}return!1}insertNode(g,m,y,B){if(!qe(m))return;const Q=m[Pr];if(Q&&Q.setForRemoval){Q.setForRemoval=!1,Q.setForMove=!0;const pe=this.collectedLeaveElements.indexOf(m);pe>=0&&this.collectedLeaveElements.splice(pe,1)}if(g){const pe=this._fetchNamespace(g);pe&&pe.insertNode(m,y)}B&&this.collectEnterElement(m)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,m){m?this.disabledNodes.has(g)||(this.disabledNodes.add(g),nr(g,ar)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),Y(g,ar))}removeNode(g,m,y){if(qe(m)){const B=g?this._fetchNamespace(g):null;B?B.removeNode(m,y):this.markElementAsRemoved(g,m,!1,y);const Q=this.namespacesByHostElement.get(m);Q&&Q.id!==g&&Q.removeNode(m,y)}else this._onRemovalComplete(m,y)}markElementAsRemoved(g,m,y,B,Q){this.collectedLeaveElements.push(m),m[Pr]={namespaceId:g,setForRemoval:B,hasAnimation:y,removedBeforeQueried:!1,previousTriggersValues:Q}}listen(g,m,y,B,Q){return qe(m)?this._fetchNamespace(g).listen(m,y,B,Q):()=>{}}_buildInstruction(g,m,y,B,Q){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,y,B,g.fromState.options,g.toState.options,m,Q)}destroyInnerAnimations(g){let m=this.driver.query(g,_t,!0);m.forEach(y=>this.destroyActiveAnimationsForElement(y)),0!=this.playersByQueriedElement.size&&(m=this.driver.query(g,Lt,!0),m.forEach(y=>this.finishActiveQueriedAnimationOnElement(y)))}destroyActiveAnimationsForElement(g){const m=this.playersByElement.get(g);m&&m.forEach(y=>{y.queued?y.markedForDestroy=!0:y.destroy()})}finishActiveQueriedAnimationOnElement(g){const m=this.playersByQueriedElement.get(g);m&&m.forEach(y=>y.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return Pi(this.players).onDone(()=>g());g()})}processLeaveNode(g){const m=g[Pr];if(m&&m.setForRemoval){if(g[Pr]=Rr,m.namespaceId){this.destroyInnerAnimations(g);const y=this._fetchNamespace(m.namespaceId);y&&y.clearElementCache(g)}this._onRemovalComplete(g,m.setForRemoval)}g.classList?.contains(ar)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(g=-1){let m=[];if(this.newHostElements.size&&(this.newHostElements.forEach((y,B)=>this._balanceNamespaceList(y,B)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let y=0;y<this.collectedEnterElements.length;y++)nr(this.collectedEnterElements[y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const y=[];try{m=this._flushAnimations(y,g)}finally{for(let B=0;B<y.length;B++)y[B]()}}else for(let y=0;y<this.collectedLeaveElements.length;y++)this.processLeaveNode(this.collectedLeaveElements[y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(y=>y()),this._flushFns=[],this._whenQuietFns.length){const y=this._whenQuietFns;this._whenQuietFns=[],m.length?Pi(m).onDone(()=>{y.forEach(B=>B())}):y.forEach(B=>B())}}reportError(g){throw function mn(S){return new H.vHH(3402,!1)}()}_flushAnimations(g,m){const y=new Zn,B=[],Q=new Map,pe=[],Se=new Map,He=new Map,ut=new Map,Wt=new Set;this.disabledNodes.forEach(W=>{Wt.add(W);const ne=this.driver.query(W,".ng-animate-queued",!0);for(let Re=0;Re<ne.length;Re++)Wt.add(ne[Re])});const en=this.bodyNode,Wn=Array.from(this.statesByElement.keys()),ei=Nr(Wn,this.collectedEnterElements),kn=new Map;let Pn=0;ei.forEach((W,ne)=>{const Re=k+Pn++;kn.set(ne,Re),W.forEach(et=>nr(et,Re))});const oi=[],xr=new Set,Yr=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){const ne=this.collectedLeaveElements[W],Re=ne[Pr];Re&&Re.setForRemoval&&(oi.push(ne),xr.add(ne),Re.hasAnimation?this.driver.query(ne,".ng-star-inserted",!0).forEach(et=>xr.add(et)):Yr.add(ne))}const ho=new Map,Lr=Nr(Wn,Array.from(xr));Lr.forEach((W,ne)=>{const Re=he+Pn++;ho.set(ne,Re),W.forEach(et=>nr(et,Re))}),g.push(()=>{ei.forEach((W,ne)=>{const Re=kn.get(ne);W.forEach(et=>Y(et,Re))}),Lr.forEach((W,ne)=>{const Re=ho.get(ne);W.forEach(et=>Y(et,Re))}),oi.forEach(W=>{this.processLeaveNode(W)})});const Bs=[],Po=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(m).forEach(Re=>{const et=Re.player,Tt=Re.element;if(Bs.push(et),this.collectedEnterElements.length){const fo=Tt[Pr];if(fo&&fo.setForMove){if(fo.previousTriggersValues&&fo.previousTriggersValues.has(Re.triggerName)){const Ds=fo.previousTriggersValues.get(Re.triggerName),As=this.statesByElement.get(Re.element);if(As&&As.has(Re.triggerName)){const bl=As.get(Re.triggerName);bl.value=Ds,As.set(Re.triggerName,bl)}}return void et.destroy()}}const dn=!en||!this.driver.containsElement(en,Tt),Nt=ho.get(Tt),yi=kn.get(Tt),Oi=this._buildInstruction(Re,y,yi,Nt,dn);if(Oi.errors&&Oi.errors.length)return void Po.push(Oi);if(dn)return et.onStart(()=>zt(Tt,Oi.fromStyles)),et.onDestroy(()=>Dt(Tt,Oi.toStyles)),void B.push(et);if(Re.isFallbackTransition)return et.onStart(()=>zt(Tt,Oi.fromStyles)),et.onDestroy(()=>Dt(Tt,Oi.toStyles)),void B.push(et);const fa=[];Oi.timelines.forEach(fo=>{fo.stretchStartingKeyframe=!0,this.disabledNodes.has(fo.element)||fa.push(fo)}),Oi.timelines=fa,y.append(Tt,Oi.timelines),pe.push({instruction:Oi,player:et,element:Tt}),Oi.queriedElements.forEach(fo=>xi(Se,fo,[]).push(et)),Oi.preStyleProps.forEach((fo,Ds)=>{if(fo.size){let As=He.get(Ds);As||He.set(Ds,As=new Set),fo.forEach((bl,Zl)=>As.add(Zl))}}),Oi.postStyleProps.forEach((fo,Ds)=>{let As=ut.get(Ds);As||ut.set(Ds,As=new Set),fo.forEach((bl,Zl)=>As.add(Zl))})});if(Po.length){const W=[];Po.forEach(ne=>{W.push(function hn(S,g){return new H.vHH(3505,!1)}())}),Bs.forEach(ne=>ne.destroy()),this.reportError(W)}const Qr=new Map,Xs=new Map;pe.forEach(W=>{const ne=W.element;y.has(ne)&&(Xs.set(ne,ne),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,Qr))}),B.forEach(W=>{const ne=W.element;this._getPreviousPlayers(ne,!1,W.namespaceId,W.triggerName,null).forEach(et=>{xi(Qr,ne,[]).push(et),et.destroy()})});const us=oi.filter(W=>Dn(W,He,ut)),xa=new Map;qn(xa,this.driver,Yr,ut,Ze.l3).forEach(W=>{Dn(W,He,ut)&&us.push(W)});const b=new Map;ei.forEach((W,ne)=>{qn(b,this.driver,new Set(W),He,Ze.k1)}),us.forEach(W=>{const ne=xa.get(W),Re=b.get(W);xa.set(W,new Map([...ne?.entries()??[],...Re?.entries()??[]]))});const f=[],_=[],x={};pe.forEach(W=>{const{element:ne,player:Re,instruction:et}=W;if(y.has(ne)){if(Wt.has(ne))return Re.onDestroy(()=>Dt(ne,et.toStyles)),Re.disabled=!0,Re.overrideTotalTime(et.totalTime),void B.push(Re);let Tt=x;if(Xs.size>1){let Nt=ne;const yi=[];for(;Nt=Nt.parentNode;){const Oi=Xs.get(Nt);if(Oi){Tt=Oi;break}yi.push(Nt)}yi.forEach(Oi=>Xs.set(Oi,Tt))}const dn=this._buildAnimation(Re.namespaceId,et,Qr,Q,b,xa);if(Re.setRealPlayer(dn),Tt===x)f.push(Re);else{const Nt=this.playersByElement.get(Tt);Nt&&Nt.length&&(Re.parentPlayer=Pi(Nt)),B.push(Re)}}else zt(ne,et.fromStyles),Re.onDestroy(()=>Dt(ne,et.toStyles)),_.push(Re),Wt.has(ne)&&B.push(Re)}),_.forEach(W=>{const ne=Q.get(W.element);if(ne&&ne.length){const Re=Pi(ne);W.setRealPlayer(Re)}}),B.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<oi.length;W++){const ne=oi[W],Re=ne[Pr];if(Y(ne,he),Re&&Re.hasAnimation)continue;let et=[];if(Se.size){let dn=Se.get(ne);dn&&dn.length&&et.push(...dn);let Nt=this.driver.query(ne,Lt,!0);for(let yi=0;yi<Nt.length;yi++){let Oi=Se.get(Nt[yi]);Oi&&Oi.length&&et.push(...Oi)}}const Tt=et.filter(dn=>!dn.destroyed);Tt.length?ee(this,ne,Tt):this.processLeaveNode(ne)}return oi.length=0,f.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();const ne=this.players.indexOf(W);this.players.splice(ne,1)}),W.play()}),f}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,m,y,B,Q){let pe=[];if(m){const Se=this.playersByQueriedElement.get(g);Se&&(pe=Se)}else{const Se=this.playersByElement.get(g);if(Se){const He=!Q||Q==ji;Se.forEach(ut=>{ut.queued||!He&&ut.triggerName!=B||pe.push(ut)})}}return(y||B)&&(pe=pe.filter(Se=>!(y&&y!=Se.namespaceId||B&&B!=Se.triggerName))),pe}_beforeAnimationBuild(g,m,y){const Q=m.element,pe=m.isRemovalTransition?void 0:g,Se=m.isRemovalTransition?void 0:m.triggerName;for(const He of m.timelines){const ut=He.element,Wt=ut!==Q,en=xi(y,ut,[]);this._getPreviousPlayers(ut,Wt,pe,Se,m.toState).forEach(ei=>{const kn=ei.getRealPlayer();kn.beforeDestroy&&kn.beforeDestroy(),ei.destroy(),en.push(ei)})}zt(Q,m.fromStyles)}_buildAnimation(g,m,y,B,Q,pe){const Se=m.triggerName,He=m.element,ut=[],Wt=new Set,en=new Set,Wn=m.timelines.map(kn=>{const Pn=kn.element;Wt.add(Pn);const oi=Pn[Pr];if(oi&&oi.removedBeforeQueried)return new Ze.ZN(kn.duration,kn.delay);const xr=Pn!==He,Yr=function V(S){const g=[];return ue(S,g),g}((y.get(Pn)||ao).map(Qr=>Qr.getRealPlayer())).filter(Qr=>!!Qr.element&&Qr.element===Pn),ho=Q.get(Pn),Lr=pe.get(Pn),Bs=Tn(this._normalizer,kn.keyframes,ho,Lr),Po=this._buildPlayer(kn,Bs,Yr);if(kn.subTimeline&&B&&en.add(Pn),xr){const Qr=new Et(g,Se,Pn);Qr.setRealPlayer(Po),ut.push(Qr)}return Po});ut.forEach(kn=>{xi(this.playersByQueriedElement,kn.element,[]).push(kn),kn.onDone(()=>function We(S,g,m){let y=S.get(g);if(y){if(y.length){const B=y.indexOf(m);y.splice(B,1)}0==y.length&&S.delete(g)}return y}(this.playersByQueriedElement,kn.element,kn))}),Wt.forEach(kn=>nr(kn,Mt));const ei=Pi(Wn);return ei.onDestroy(()=>{Wt.forEach(kn=>Y(kn,Mt)),Dt(He,m.toStyles)}),en.forEach(kn=>{xi(B,kn,[]).push(ei)}),ei}_buildPlayer(g,m,y){return m.length>0?this.driver.animate(g.element,m,g.duration,g.delay,g.easing,y):new Ze.ZN(g.duration,g.delay)}}class Et{constructor(g,m,y){this.namespaceId=g,this.triggerName=m,this.element=y,this._player=new Ze.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((m,y)=>{m.forEach(B=>zn(g,y,void 0,B))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const m=this._player;m.triggerCallback&&g.onStart(()=>m.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,m){xi(this._queuedCallbacks,g,[]).push(m)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const m=this._player;m.triggerCallback&&m.triggerCallback(g)}}function qe(S){return S&&1===S.nodeType}function nn(S,g){const m=S.style.display;return S.style.display=g??"none",m}function qn(S,g,m,y,B){const Q=[];m.forEach(He=>Q.push(nn(He)));const pe=[];y.forEach((He,ut)=>{const Wt=new Map;He.forEach(en=>{const Wn=g.computeStyle(ut,en,B);Wt.set(en,Wn),(!Wn||0==Wn.length)&&(ut[Pr]=vs,pe.push(ut))}),S.set(ut,Wt)});let Se=0;return m.forEach(He=>nn(He,Q[Se++])),pe}function Nr(S,g){const m=new Map;if(S.forEach(Se=>m.set(Se,[])),0==g.length)return m;const B=new Set(g),Q=new Map;function pe(Se){if(!Se)return 1;let He=Q.get(Se);if(He)return He;const ut=Se.parentNode;return He=m.has(ut)?ut:B.has(ut)?1:pe(ut),Q.set(Se,He),He}return g.forEach(Se=>{const He=pe(Se);1!==He&&m.get(He).push(Se)}),m}function nr(S,g){S.classList?.add(g)}function Y(S,g){S.classList?.remove(g)}function ee(S,g,m){Pi(m).onDone(()=>S.processLeaveNode(g))}function ue(S,g){for(let m=0;m<S.length;m++){const y=S[m];y instanceof Ze.ZE?ue(y.players,g):g.push(y)}}function Dn(S,g,m){const y=m.get(S);if(!y)return!1;let B=g.get(S);return B?y.forEach(Q=>B.add(Q)):g.set(S,y),m.delete(S),!0}class $n{constructor(g,m,y){this.bodyNode=g,this._driver=m,this._normalizer=y,this._triggerCache={},this.onRemovalComplete=(B,Q)=>{},this._transitionEngine=new hr(g,m,y),this._timelineEngine=new ri(g,m,y),this._transitionEngine.onRemovalComplete=(B,Q)=>this.onRemovalComplete(B,Q)}registerTrigger(g,m,y,B,Q){const pe=g+"-"+B;let Se=this._triggerCache[pe];if(!Se){const He=[],Wt=_r(this._driver,Q,He,[]);if(He.length)throw function ni(S,g){return new H.vHH(3404,!1)}();Se=function ft(S,g,m){return new Ot(S,g,m)}(B,Wt,this._normalizer),this._triggerCache[pe]=Se}this._transitionEngine.registerTrigger(m,B,Se)}register(g,m){this._transitionEngine.register(g,m)}destroy(g,m){this._transitionEngine.destroy(g,m)}onInsert(g,m,y,B){this._transitionEngine.insertNode(g,m,y,B)}onRemove(g,m,y){this._transitionEngine.removeNode(g,m,y)}disableAnimations(g,m){this._transitionEngine.markElementAsDisabled(g,m)}process(g,m,y,B){if("@"==y.charAt(0)){const[Q,pe]=fn(y);this._timelineEngine.command(Q,m,pe,B)}else this._transitionEngine.trigger(g,m,y,B)}listen(g,m,y,B,Q){if("@"==y.charAt(0)){const[pe,Se]=fn(y);return this._timelineEngine.listen(pe,m,Se,Q)}return this._transitionEngine.listen(g,m,y,B,Q)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(g){this._transitionEngine.afterFlushAnimationsDone(g)}}let zs=(()=>{class S{static#e=this.initialStylesByElement=new WeakMap;constructor(m,y,B){this._element=m,this._startStyles=y,this._endStyles=B,this._state=0;let Q=S.initialStylesByElement.get(m);Q||S.initialStylesByElement.set(m,Q=new Map),this._initialStyles=Q}start(){this._state<1&&(this._startStyles&&Dt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Dt(this._element,this._initialStyles),this._endStyles&&(Dt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(S.initialStylesByElement.delete(this._element),this._startStyles&&(zt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zt(this._element,this._endStyles),this._endStyles=null),Dt(this._element,this._initialStyles),this._state=3)}}return S})();function es(S){let g=null;return S.forEach((m,y)=>{(function Ll(S){return"display"===S||"position"===S})(y)&&(g=g||new Map,g.set(y,m))}),g}class ul{constructor(g,m,y,B){this.element=g,this.keyframes=m,this.options=y,this._specialStyles=B,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=y.duration,this._delay=y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const m=[];return g.forEach(y=>{m.push(Object.fromEntries(y))}),m}_triggerWebAnimation(g,m,y){return g.animate(this._convertKeyframesToObject(m),y)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((y,B)=>{"offset"!==B&&g.set(B,this._finished?y:_i(this.element,B))}),this.currentSnapshot=g}triggerCallback(g){const m="start"===g?this._onStartFns:this._onDoneFns;m.forEach(y=>y()),m.length=0}}class ra{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,m){return!1}containsElement(g,m){return Sr(g,m)}getParentElement(g){return di(g)}query(g,m,y){return qi(g,m,y)}computeStyle(g,m,y){return window.getComputedStyle(g)[m]}animate(g,m,y,B,Q,pe=[]){const He={duration:y,delay:B,fill:0==B?"both":"forwards"};Q&&(He.easing=Q);const ut=new Map,Wt=pe.filter(ei=>ei instanceof ul);(function fi(S,g){return 0===S||0===g})(y,B)&&Wt.forEach(ei=>{ei.currentSnapshot.forEach((kn,Pn)=>ut.set(Pn,kn))});let en=function ge(S){return S.length?S[0]instanceof Map?S:S.map(g=>Ee(g)):[]}(m).map(ei=>st(ei));en=function Wr(S,g,m){if(m.size&&g.length){let y=g[0],B=[];if(m.forEach((Q,pe)=>{y.has(pe)||B.push(pe),y.set(pe,Q)}),B.length)for(let Q=1;Q<g.length;Q++){let pe=g[Q];B.forEach(Se=>pe.set(Se,_i(S,Se)))}}return g}(g,en,ut);const Wn=function Vo(S,g){let m=null,y=null;return Array.isArray(g)&&g.length?(m=es(g[0]),g.length>1&&(y=es(g[g.length-1]))):g instanceof Map&&(m=es(g)),m||y?new zs(S,m,y):null}(g,en);return new ul(g,en,He,Wn)}}let Ga=(()=>{class S extends Ze._j{constructor(m,y){super(),this._nextAnimationId=0,this._renderer=m.createRenderer(y.body,{id:"0",encapsulation:H.ifc.None,styles:[],data:{animation:[]}})}build(m){const y=this._nextAnimationId.toString();this._nextAnimationId++;const B=Array.isArray(m)?(0,Ze.vP)(m):m;return $s(this._renderer,null,y,"register",[B]),new Ta(y,this._renderer)}static#e=this.\u0275fac=function(y){return new(y||S)(H.LFG(H.FYo),H.LFG(Ie.K0))};static#t=this.\u0275prov=H.Yz7({token:S,factory:S.\u0275fac})}return S})();class Ta extends Ze.LC{constructor(g,m){super(),this._id=g,this._renderer=m}create(g,m){return new Vl(this._id,g,m||{},this._renderer)}}class Vl{constructor(g,m,y,B){this.id=g,this.element=m,this._renderer=B,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",y)}_listen(g,m){return this._renderer.listen(this.element,`@@${this.id}:${g}`,m)}_command(g,...m){return $s(this._renderer,this.element,this.id,g,m)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function $s(S,g,m,y,B){return S.setProperty(g,`@@${m}:${y}`,B)}const go="@.disabled";let _o=(()=>{class S{constructor(m,y,B){this.delegate=m,this.engine=y,this._zone=B,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,y.onRemovalComplete=(Q,pe)=>{const Se=pe?.parentNode(Q);Se&&pe.removeChild(Se,Q)}}createRenderer(m,y){const Q=this.delegate.createRenderer(m,y);if(!(m&&y&&y.data&&y.data.animation)){let Wt=this._rendererCache.get(Q);return Wt||(Wt=new Bo("",Q,this.engine,()=>this._rendererCache.delete(Q)),this._rendererCache.set(Q,Wt)),Wt}const pe=y.id,Se=y.id+"-"+this._currentId;this._currentId++,this.engine.register(Se,m);const He=Wt=>{Array.isArray(Wt)?Wt.forEach(He):this.engine.registerTrigger(pe,Se,m,Wt.name,Wt)};return y.data.animation.forEach(He),new Ms(this,Se,Q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(m,y,B){m>=0&&m<this._microtaskId?this._zone.run(()=>y(B)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Q=>{const[pe,Se]=Q;pe(Se)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([y,B]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(y){return new(y||S)(H.LFG(H.FYo),H.LFG($n),H.LFG(H.R0b))};static#t=this.\u0275prov=H.Yz7({token:S,factory:S.\u0275fac})}return S})();class Bo{constructor(g,m,y,B){this.namespaceId=g,this.delegate=m,this.engine=y,this._onDestroy=B}get data(){return this.delegate.data}destroyNode(g){this.delegate.destroyNode?.(g)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(g,m){return this.delegate.createElement(g,m)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,m){this.delegate.appendChild(g,m),this.engine.onInsert(this.namespaceId,m,g,!1)}insertBefore(g,m,y,B=!0){this.delegate.insertBefore(g,m,y),this.engine.onInsert(this.namespaceId,m,g,B)}removeChild(g,m,y){this.engine.onRemove(this.namespaceId,m,this.delegate)}selectRootElement(g,m){return this.delegate.selectRootElement(g,m)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,m,y,B){this.delegate.setAttribute(g,m,y,B)}removeAttribute(g,m,y){this.delegate.removeAttribute(g,m,y)}addClass(g,m){this.delegate.addClass(g,m)}removeClass(g,m){this.delegate.removeClass(g,m)}setStyle(g,m,y,B){this.delegate.setStyle(g,m,y,B)}removeStyle(g,m,y){this.delegate.removeStyle(g,m,y)}setProperty(g,m,y){"@"==m.charAt(0)&&m==go?this.disableAnimations(g,!!y):this.delegate.setProperty(g,m,y)}setValue(g,m){this.delegate.setValue(g,m)}listen(g,m,y){return this.delegate.listen(g,m,y)}disableAnimations(g,m){this.engine.disableAnimations(g,m)}}class Ms extends Bo{constructor(g,m,y,B,Q){super(m,y,B,Q),this.factory=g,this.namespaceId=m}setProperty(g,m,y){"@"==m.charAt(0)?"."==m.charAt(1)&&m==go?this.disableAnimations(g,y=void 0===y||!!y):this.engine.process(this.namespaceId,g,m.slice(1),y):this.delegate.setProperty(g,m,y)}listen(g,m,y){if("@"==m.charAt(0)){const B=function jr(S){switch(S){case"body":return document.body;case"document":return document;case"window":return window;default:return S}}(g);let Q=m.slice(1),pe="";return"@"!=Q.charAt(0)&&([Q,pe]=function Rs(S){const g=S.indexOf(".");return[S.substring(0,g),S.slice(g+1)]}(Q)),this.engine.listen(this.namespaceId,B,Q,pe,Se=>{this.factory.scheduleListenerCallback(Se._data||-1,y,Se)})}return this.delegate.listen(g,m,y)}}const lo=[{provide:Ze._j,useClass:Ga},{provide:Ur,useFactory:function Aa(){return new Di}},{provide:$n,useClass:(()=>{class S extends $n{constructor(m,y,B,Q){super(m.body,y,B)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(y){return new(y||S)(H.LFG(Ie.K0),H.LFG(oe),H.LFG(Ur),H.LFG(H.z2F))};static#t=this.\u0275prov=H.Yz7({token:S,factory:S.\u0275fac})}return S})()},{provide:H.FYo,useFactory:function oa(S,g,m){return new _o(S,g,m)},deps:[u.se,$n,H.R0b]}],bs=[{provide:oe,useFactory:()=>new ra},{provide:H.QbO,useValue:"BrowserAnimations"},...lo],Sa=[{provide:oe,useClass:St},{provide:H.QbO,useValue:"NoopAnimations"},...lo];let Ps=(()=>{class S{static withConfig(m){return{ngModule:S,providers:m.disableAnimations?Sa:bs}}static#e=this.\u0275fac=function(y){return new(y||S)};static#t=this.\u0275mod=H.oAB({type:S});static#n=this.\u0275inj=H.cJS({providers:bs,imports:[u.b2]})}return S})();var Hi=P(7025),Bl=P(2296);let Ws=(()=>{class S{create(m){return typeof MutationObserver>"u"?null:new MutationObserver(m)}static#e=this.\u0275fac=function(y){return new(y||S)};static#t=this.\u0275prov=H.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),sa=(()=>{class S{static#e=this.\u0275fac=function(y){return new(y||S)};static#t=this.\u0275mod=H.oAB({type:S});static#n=this.\u0275inj=H.cJS({providers:[Ws]})}return S})();var ts=P(3680);let ba=(()=>{class S{static#e=this.\u0275fac=function(y){return new(y||S)};static#t=this.\u0275mod=H.oAB({type:S});static#n=this.\u0275inj=H.cJS({imports:[ts.BQ,Ie.ez,sa,ts.BQ]})}return S})();P(2096),P(8504),P(9315),P(9397),P(7398),P(6306),P(4716),P(3020),P(6328),P(2181);let Er=(()=>{class S{static#e=this.\u0275fac=function(y){return new(y||S)};static#t=this.\u0275mod=H.oAB({type:S});static#n=this.\u0275inj=H.cJS({imports:[ts.BQ,ts.BQ]})}return S})(),vd=(()=>{class S{static#e=this.\u0275fac=function(y){return new(y||S)};static#t=this.\u0275mod=H.oAB({type:S});static#n=this.\u0275inj=H.cJS({})}return S})(),ql=(()=>{class S{static#e=this.\u0275fac=function(y){return new(y||S)};static#t=this.\u0275mod=H.oAB({type:S});static#n=this.\u0275inj=H.cJS({imports:[ts.BQ,ba,ba,vd,ts.BQ]})}return S})(),qc=(()=>{class S{static#e=this.\u0275fac=function(y){return new(y||S)};static#t=this.\u0275mod=H.oAB({type:S,bootstrap:[mt]});static#n=this.\u0275inj=H.cJS({providers:[{provide:Le.Dh,useValue:Oe}],imports:[u.b2,ht,$.UX,Hi.ZX,ba,ql,Bl.ot,Er,Je.m,(0,Ut.hX)(()=>(0,Ut.ZF)(Oe)),(0,vt.AR)(()=>(0,vt.v0)()),(0,me.Cm)(()=>(0,me.ad)()),Ps,$.u5]})}return S})();u.q6().bootstrapModule(qc).catch(S=>console.error(S))},5619:(kt,Be,P)=>{P.d(Be,{X:()=>$});var u=P(8645);class $ extends u.x{constructor(H){super(),this._value=H}get value(){return this.getValue()}_subscribe(H){const fe=super._subscribe(H);return!fe.closed&&H.next(this._value),fe}getValue(){const{hasError:H,thrownError:fe,_value:Ce}=this;if(H)throw fe;return this._throwIfClosed(),Ce}next(H){super.next(this._value=H)}}},5592:(kt,Be,P)=>{P.d(Be,{y:()=>de});var u=P(305),$=P(7394),te=P(4850),H=P(8407),fe=P(2653),Ce=P(4674),Te=P(1441);let de=(()=>{class Me{constructor(nt){nt&&(this._subscribe=nt)}lift(nt){const bt=new Me;return bt.source=this,bt.operator=nt,bt}subscribe(nt,bt,ot){const ht=function _e(Me){return Me&&Me instanceof u.Lv||function le(Me){return Me&&(0,Ce.m)(Me.next)&&(0,Ce.m)(Me.error)&&(0,Ce.m)(Me.complete)}(Me)&&(0,$.Nn)(Me)}(nt)?nt:new u.Hp(nt,bt,ot);return(0,Te.x)(()=>{const{operator:mt,source:Ut}=this;ht.add(mt?mt.call(ht,Ut):Ut?this._subscribe(ht):this._trySubscribe(ht))}),ht}_trySubscribe(nt){try{return this._subscribe(nt)}catch(bt){nt.error(bt)}}forEach(nt,bt){return new(bt=Ie(bt))((ot,ht)=>{const mt=new u.Hp({next:Ut=>{try{nt(Ut)}catch(vt){ht(vt),mt.unsubscribe()}},error:ht,complete:ot});this.subscribe(mt)})}_subscribe(nt){var bt;return null===(bt=this.source)||void 0===bt?void 0:bt.subscribe(nt)}[te.L](){return this}pipe(...nt){return(0,H.U)(nt)(this)}toPromise(nt){return new(nt=Ie(nt))((bt,ot)=>{let ht;this.subscribe(mt=>ht=mt,mt=>ot(mt),()=>bt(ht))})}}return Me.create=Ke=>new Me(Ke),Me})();function Ie(Me){var Ke;return null!==(Ke=Me??fe.config.Promise)&&void 0!==Ke?Ke:Promise}},8645:(kt,Be,P)=>{P.d(Be,{x:()=>Te});var u=P(5592),$=P(7394);const H=(0,P(2306).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=P(9039),Ce=P(1441);let Te=(()=>{class Ie extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(_e){const Me=new de(this,this);return Me.operator=_e,Me}_throwIfClosed(){if(this.closed)throw new H}next(_e){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(_e)}})}error(_e){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=_e;const{observers:Me}=this;for(;Me.length;)Me.shift().error(_e)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:_e}=this;for(;_e.length;)_e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var _e;return(null===(_e=this.observers)||void 0===_e?void 0:_e.length)>0}_trySubscribe(_e){return this._throwIfClosed(),super._trySubscribe(_e)}_subscribe(_e){return this._throwIfClosed(),this._checkFinalizedStatuses(_e),this._innerSubscribe(_e)}_innerSubscribe(_e){const{hasError:Me,isStopped:Ke,observers:nt}=this;return Me||Ke?$.Lc:(this.currentObservers=null,nt.push(_e),new $.w0(()=>{this.currentObservers=null,(0,fe.P)(nt,_e)}))}_checkFinalizedStatuses(_e){const{hasError:Me,thrownError:Ke,isStopped:nt}=this;Me?_e.error(Ke):nt&&_e.complete()}asObservable(){const _e=new u.y;return _e.source=this,_e}}return Ie.create=(le,_e)=>new de(le,_e),Ie})();class de extends Te{constructor(le,_e){super(),this.destination=le,this.source=_e}next(le){var _e,Me;null===(Me=null===(_e=this.destination)||void 0===_e?void 0:_e.next)||void 0===Me||Me.call(_e,le)}error(le){var _e,Me;null===(Me=null===(_e=this.destination)||void 0===_e?void 0:_e.error)||void 0===Me||Me.call(_e,le)}complete(){var le,_e;null===(_e=null===(le=this.destination)||void 0===le?void 0:le.complete)||void 0===_e||_e.call(le)}_subscribe(le){var _e,Me;return null!==(Me=null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(le))&&void 0!==Me?Me:$.Lc}}},305:(kt,Be,P)=>{P.d(Be,{Hp:()=>ot,Lv:()=>Me});var u=P(4674),$=P(7394),te=P(2653),H=P(3894),fe=P(2420);const Ce=Ie("C",void 0,void 0);function Ie(me,Le,Oe){return{kind:me,value:Le,error:Oe}}var le=P(7599),_e=P(1441);class Me extends $.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,$.Nn)(Le)&&Le.add(this)):this.destination=vt}static create(Le,Oe,Je){return new ot(Le,Oe,Je)}next(Le){this.isStopped?Ut(function de(me){return Ie("N",me,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?Ut(function Te(me){return Ie("E",void 0,me)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?Ut(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function nt(me,Le){return Ke.call(me,Le)}class bt{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(Le)}catch(Je){ht(Je)}}error(Le){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(Le)}catch(Je){ht(Je)}else ht(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(Oe){ht(Oe)}}}class ot extends Me{constructor(Le,Oe,Je){let Ze;if(super(),(0,u.m)(Le)||!Le)Ze={next:Le??void 0,error:Oe??void 0,complete:Je??void 0};else{let ke;this&&te.config.useDeprecatedNextContext?(ke=Object.create(Le),ke.unsubscribe=()=>this.unsubscribe(),Ze={next:Le.next&&nt(Le.next,ke),error:Le.error&&nt(Le.error,ke),complete:Le.complete&&nt(Le.complete,ke)}):Ze=Le}this.destination=new bt(Ze)}}function ht(me){te.config.useDeprecatedSynchronousErrorHandling?(0,_e.O)(me):(0,H.h)(me)}function Ut(me,Le){const{onStoppedNotification:Oe}=te.config;Oe&&le.z.setTimeout(()=>Oe(me,Le))}const vt={closed:!0,next:fe.Z,error:function mt(me){throw me},complete:fe.Z}},7394:(kt,Be,P)=>{P.d(Be,{Lc:()=>Ce,w0:()=>fe,Nn:()=>Te});var u=P(4674);const te=(0,P(2306).d)(Ie=>function(_e){Ie(this),this.message=_e?`${_e.length} errors occurred during unsubscription:\n${_e.map((Me,Ke)=>`${Ke+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_e});var H=P(9039);class fe{constructor(le){this.initialTeardown=le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let le;if(!this.closed){this.closed=!0;const{_parentage:_e}=this;if(_e)if(this._parentage=null,Array.isArray(_e))for(const nt of _e)nt.remove(this);else _e.remove(this);const{initialTeardown:Me}=this;if((0,u.m)(Me))try{Me()}catch(nt){le=nt instanceof te?nt.errors:[nt]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const nt of Ke)try{de(nt)}catch(bt){le=le??[],bt instanceof te?le=[...le,...bt.errors]:le.push(bt)}}if(le)throw new te(le)}}add(le){var _e;if(le&&le!==this)if(this.closed)de(le);else{if(le instanceof fe){if(le.closed||le._hasParent(this))return;le._addParent(this)}(this._finalizers=null!==(_e=this._finalizers)&&void 0!==_e?_e:[]).push(le)}}_hasParent(le){const{_parentage:_e}=this;return _e===le||Array.isArray(_e)&&_e.includes(le)}_addParent(le){const{_parentage:_e}=this;this._parentage=Array.isArray(_e)?(_e.push(le),_e):_e?[_e,le]:le}_removeParent(le){const{_parentage:_e}=this;_e===le?this._parentage=null:Array.isArray(_e)&&(0,H.P)(_e,le)}remove(le){const{_finalizers:_e}=this;_e&&(0,H.P)(_e,le),le instanceof fe&&le._removeParent(this)}}fe.EMPTY=(()=>{const Ie=new fe;return Ie.closed=!0,Ie})();const Ce=fe.EMPTY;function Te(Ie){return Ie instanceof fe||Ie&&"closed"in Ie&&(0,u.m)(Ie.remove)&&(0,u.m)(Ie.add)&&(0,u.m)(Ie.unsubscribe)}function de(Ie){(0,u.m)(Ie)?Ie():Ie.unsubscribe()}},2653:(kt,Be,P)=>{P.d(Be,{config:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(kt,Be,P)=>{P.d(Be,{a:()=>le});var u=P(5592),$=P(7453),te=P(2459),H=P(2737),fe=P(7400),Ce=P(9940),Te=P(2714),de=P(8251),Ie=P(7103);function le(...Ke){const nt=(0,Ce.yG)(Ke),bt=(0,Ce.jO)(Ke),{args:ot,keys:ht}=(0,$.D)(Ke);if(0===ot.length)return(0,te.D)([],nt);const mt=new u.y(function _e(Ke,nt,bt=H.y){return ot=>{Me(nt,()=>{const{length:ht}=Ke,mt=new Array(ht);let Ut=ht,vt=ht;for(let me=0;me<ht;me++)Me(nt,()=>{const Le=(0,te.D)(Ke[me],nt);let Oe=!1;Le.subscribe((0,de.x)(ot,Je=>{mt[me]=Je,Oe||(Oe=!0,vt--),vt||ot.next(bt(mt.slice()))},()=>{--Ut||ot.complete()}))},ot)},ot)}}(ot,nt,ht?Ut=>(0,Te.n)(ht,Ut):H.y));return bt?mt.pipe((0,fe.Z)(bt)):mt}function Me(Ke,nt,bt){Ke?(0,Ie.f)(bt,Ke,nt):nt()}},5211:(kt,Be,P)=>{P.d(Be,{z:()=>fe});var u=P(7537),te=P(9940),H=P(2459);function fe(...Ce){return function $(){return(0,u.J)(1)}()((0,H.D)(Ce,(0,te.yG)(Ce)))}},6232:(kt,Be,P)=>{P.d(Be,{E:()=>$});const $=new(P(5592).y)(fe=>fe.complete())},9315:(kt,Be,P)=>{P.d(Be,{D:()=>de});var u=P(5592),$=P(7453),te=P(4829),H=P(9940),fe=P(8251),Ce=P(7400),Te=P(2714);function de(...Ie){const le=(0,H.jO)(Ie),{args:_e,keys:Me}=(0,$.D)(Ie),Ke=new u.y(nt=>{const{length:bt}=_e;if(!bt)return void nt.complete();const ot=new Array(bt);let ht=bt,mt=bt;for(let Ut=0;Ut<bt;Ut++){let vt=!1;(0,te.Xf)(_e[Ut]).subscribe((0,fe.x)(nt,me=>{vt||(vt=!0,mt--),ot[Ut]=me},()=>ht--,void 0,()=>{(!ht||!vt)&&(mt||nt.next(Me?(0,Te.n)(Me,ot):ot),nt.complete())}))}});return le?Ke.pipe((0,Ce.Z)(le)):Ke}},2459:(kt,Be,P)=>{P.d(Be,{D:()=>Le});var u=P(4829),$=P(3093),te=P(5137),Ce=P(5592),de=P(4971),Ie=P(4674),le=P(7103);function Me(Oe,Je){if(!Oe)throw new Error("Iterable cannot be null");return new Ce.y(Ze=>{(0,le.f)(Ze,Je,()=>{const ke=Oe[Symbol.asyncIterator]();(0,le.f)(Ze,Je,()=>{ke.next().then($t=>{$t.done?Ze.complete():Ze.next($t.value)})},0,!0)})})}var Ke=P(8382),nt=P(4026),bt=P(4266),ot=P(3664),ht=P(5726),mt=P(9853),Ut=P(541);function Le(Oe,Je){return Je?function me(Oe,Je){if(null!=Oe){if((0,Ke.c)(Oe))return function H(Oe,Je){return(0,u.Xf)(Oe).pipe((0,te.R)(Je),(0,$.Q)(Je))}(Oe,Je);if((0,bt.z)(Oe))return function Te(Oe,Je){return new Ce.y(Ze=>{let ke=0;return Je.schedule(function(){ke===Oe.length?Ze.complete():(Ze.next(Oe[ke++]),Ze.closed||this.schedule())})})}(Oe,Je);if((0,nt.t)(Oe))return function fe(Oe,Je){return(0,u.Xf)(Oe).pipe((0,te.R)(Je),(0,$.Q)(Je))}(Oe,Je);if((0,ht.D)(Oe))return Me(Oe,Je);if((0,ot.T)(Oe))return function _e(Oe,Je){return new Ce.y(Ze=>{let ke;return(0,le.f)(Ze,Je,()=>{ke=Oe[de.h](),(0,le.f)(Ze,Je,()=>{let $t,jt;try{({value:$t,done:jt}=ke.next())}catch(ln){return void Ze.error(ln)}jt?Ze.complete():Ze.next($t)},0,!0)}),()=>(0,Ie.m)(ke?.return)&&ke.return()})}(Oe,Je);if((0,Ut.L)(Oe))return function vt(Oe,Je){return Me((0,Ut.Q)(Oe),Je)}(Oe,Je)}throw(0,mt.z)(Oe)}(Oe,Je):(0,u.Xf)(Oe)}},4829:(kt,Be,P)=>{P.d(Be,{Xf:()=>Ke});var u=P(7582),$=P(4266),te=P(4026),H=P(5592),fe=P(8382),Ce=P(5726),Te=P(9853),de=P(3664),Ie=P(541),le=P(4674),_e=P(3894),Me=P(4850);function Ke(me){if(me instanceof H.y)return me;if(null!=me){if((0,fe.c)(me))return function nt(me){return new H.y(Le=>{const Oe=me[Me.L]();if((0,le.m)(Oe.subscribe))return Oe.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(me);if((0,$.z)(me))return function bt(me){return new H.y(Le=>{for(let Oe=0;Oe<me.length&&!Le.closed;Oe++)Le.next(me[Oe]);Le.complete()})}(me);if((0,te.t)(me))return function ot(me){return new H.y(Le=>{me.then(Oe=>{Le.closed||(Le.next(Oe),Le.complete())},Oe=>Le.error(Oe)).then(null,_e.h)})}(me);if((0,Ce.D)(me))return mt(me);if((0,de.T)(me))return function ht(me){return new H.y(Le=>{for(const Oe of me)if(Le.next(Oe),Le.closed)return;Le.complete()})}(me);if((0,Ie.L)(me))return function Ut(me){return mt((0,Ie.Q)(me))}(me)}throw(0,Te.z)(me)}function mt(me){return new H.y(Le=>{(function vt(me,Le){var Oe,Je,Ze,ke;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,u.KL)(me);!(Je=yield Oe.next()).done;)if(Le.next(Je.value),Le.closed)return}catch($t){Ze={error:$t}}finally{try{Je&&!Je.done&&(ke=Oe.return)&&(yield ke.call(Oe))}finally{if(Ze)throw Ze.error}}Le.complete()})})(me,Le).catch(Oe=>Le.error(Oe))})}},3019:(kt,Be,P)=>{P.d(Be,{T:()=>Ce});var u=P(7537),$=P(4829),te=P(6232),H=P(9940),fe=P(2459);function Ce(...Te){const de=(0,H.yG)(Te),Ie=(0,H._6)(Te,1/0),le=Te;return le.length?1===le.length?(0,$.Xf)(le[0]):(0,u.J)(Ie)((0,fe.D)(le,de)):te.E}},2096:(kt,Be,P)=>{P.d(Be,{of:()=>te});var u=P(9940),$=P(2459);function te(...H){const fe=(0,u.yG)(H);return(0,$.D)(H,fe)}},8504:(kt,Be,P)=>{P.d(Be,{_:()=>te});var u=P(5592),$=P(4674);function te(H,fe){const Ce=(0,$.m)(H)?H:()=>H,Te=de=>de.error(Ce());return new u.y(fe?de=>fe.schedule(Te,0,de):Te)}},8251:(kt,Be,P)=>{P.d(Be,{x:()=>$});var u=P(305);function $(H,fe,Ce,Te,de){return new te(H,fe,Ce,Te,de)}class te extends u.Lv{constructor(fe,Ce,Te,de,Ie,le){super(fe),this.onFinalize=Ie,this.shouldUnsubscribe=le,this._next=Ce?function(_e){try{Ce(_e)}catch(Me){fe.error(Me)}}:super._next,this._error=de?function(_e){try{de(_e)}catch(Me){fe.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(_e){fe.error(_e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},6306:(kt,Be,P)=>{P.d(Be,{K:()=>H});var u=P(4829),$=P(8251),te=P(9360);function H(fe){return(0,te.e)((Ce,Te)=>{let le,de=null,Ie=!1;de=Ce.subscribe((0,$.x)(Te,void 0,void 0,_e=>{le=(0,u.Xf)(fe(_e,H(fe)(Ce))),de?(de.unsubscribe(),de=null,le.subscribe(Te)):Ie=!0})),Ie&&(de.unsubscribe(),de=null,le.subscribe(Te))})}},6328:(kt,Be,P)=>{P.d(Be,{b:()=>te});var u=P(1631),$=P(4674);function te(H,fe){return(0,$.m)(fe)?(0,u.z)(H,fe,1):(0,u.z)(H,1)}},3620:(kt,Be,P)=>{P.d(Be,{b:()=>H});var u=P(6321),$=P(9360),te=P(8251);function H(fe,Ce=u.z){return(0,$.e)((Te,de)=>{let Ie=null,le=null,_e=null;const Me=()=>{if(Ie){Ie.unsubscribe(),Ie=null;const nt=le;le=null,de.next(nt)}};function Ke(){const nt=_e+fe,bt=Ce.now();if(bt<nt)return Ie=this.schedule(void 0,nt-bt),void de.add(Ie);Me()}Te.subscribe((0,te.x)(de,nt=>{le=nt,_e=Ce.now(),Ie||(Ie=Ce.schedule(Ke,fe),de.add(Ie))},()=>{Me(),de.complete()},void 0,()=>{le=Ie=null}))})}},3572:(kt,Be,P)=>{P.d(Be,{d:()=>te});var u=P(9360),$=P(8251);function te(H){return(0,u.e)((fe,Ce)=>{let Te=!1;fe.subscribe((0,$.x)(Ce,de=>{Te=!0,Ce.next(de)},()=>{Te||Ce.next(H),Ce.complete()}))})}},3997:(kt,Be,P)=>{P.d(Be,{x:()=>H});var u=P(2737),$=P(9360),te=P(8251);function H(Ce,Te=u.y){return Ce=Ce??fe,(0,$.e)((de,Ie)=>{let le,_e=!0;de.subscribe((0,te.x)(Ie,Me=>{const Ke=Te(Me);(_e||!Ce(le,Ke))&&(_e=!1,le=Ke,Ie.next(Me))}))})}function fe(Ce,Te){return Ce===Te}},2181:(kt,Be,P)=>{P.d(Be,{h:()=>te});var u=P(9360),$=P(8251);function te(H,fe){return(0,u.e)((Ce,Te)=>{let de=0;Ce.subscribe((0,$.x)(Te,Ie=>H.call(fe,Ie,de++)&&Te.next(Ie)))})}},4716:(kt,Be,P)=>{P.d(Be,{x:()=>$});var u=P(9360);function $(te){return(0,u.e)((H,fe)=>{try{H.subscribe(fe)}finally{fe.add(te)}})}},1374:(kt,Be,P)=>{P.d(Be,{P:()=>Te});var u=P(6973),$=P(2181),te=P(8180),H=P(3572),fe=P(3026),Ce=P(2737);function Te(de,Ie){const le=arguments.length>=2;return _e=>_e.pipe(de?(0,$.h)((Me,Ke)=>de(Me,Ke,_e)):Ce.y,(0,te.q)(1),le?(0,H.d)(Ie):(0,fe.T)(()=>new u.K))}},2032:(kt,Be,P)=>{P.d(Be,{Z:()=>Te});var u=P(6973),$=P(2181),te=P(4418),H=P(3026),fe=P(3572),Ce=P(2737);function Te(de,Ie){const le=arguments.length>=2;return _e=>_e.pipe(de?(0,$.h)((Me,Ke)=>de(Me,Ke,_e)):Ce.y,(0,te.h)(1),le?(0,fe.d)(Ie):(0,H.T)(()=>new u.K))}},7398:(kt,Be,P)=>{P.d(Be,{U:()=>te});var u=P(9360),$=P(8251);function te(H,fe){return(0,u.e)((Ce,Te)=>{let de=0;Ce.subscribe((0,$.x)(Te,Ie=>{Te.next(H.call(fe,Ie,de++))}))})}},7537:(kt,Be,P)=>{P.d(Be,{J:()=>te});var u=P(1631),$=P(2737);function te(H=1/0){return(0,u.z)($.y,H)}},1631:(kt,Be,P)=>{P.d(Be,{z:()=>de});var u=P(7398),$=P(4829),te=P(9360),H=P(7103),fe=P(8251),Te=P(4674);function de(Ie,le,_e=1/0){return(0,Te.m)(le)?de((Me,Ke)=>(0,u.U)((nt,bt)=>le(Me,nt,Ke,bt))((0,$.Xf)(Ie(Me,Ke))),_e):("number"==typeof le&&(_e=le),(0,te.e)((Me,Ke)=>function Ce(Ie,le,_e,Me,Ke,nt,bt,ot){const ht=[];let mt=0,Ut=0,vt=!1;const me=()=>{vt&&!ht.length&&!mt&&le.complete()},Le=Je=>mt<Me?Oe(Je):ht.push(Je),Oe=Je=>{nt&&le.next(Je),mt++;let Ze=!1;(0,$.Xf)(_e(Je,Ut++)).subscribe((0,fe.x)(le,ke=>{Ke?.(ke),nt?Le(ke):le.next(ke)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(mt--;ht.length&&mt<Me;){const ke=ht.shift();bt?(0,H.f)(le,bt,()=>Oe(ke)):Oe(ke)}me()}catch(ke){le.error(ke)}}))};return Ie.subscribe((0,fe.x)(le,Le,()=>{vt=!0,me()})),()=>{ot?.()}}(Me,Ke,Ie,_e)))}},3093:(kt,Be,P)=>{P.d(Be,{Q:()=>H});var u=P(7103),$=P(9360),te=P(8251);function H(fe,Ce=0){return(0,$.e)((Te,de)=>{Te.subscribe((0,te.x)(de,Ie=>(0,u.f)(de,fe,()=>de.next(Ie),Ce),()=>(0,u.f)(de,fe,()=>de.complete(),Ce),Ie=>(0,u.f)(de,fe,()=>de.error(Ie),Ce)))})}},6699:(kt,Be,P)=>{P.d(Be,{R:()=>H});var u=P(9360),$=P(8251);function H(fe,Ce){return(0,u.e)(function te(fe,Ce,Te,de,Ie){return(le,_e)=>{let Me=Te,Ke=Ce,nt=0;le.subscribe((0,$.x)(_e,bt=>{const ot=nt++;Ke=Me?fe(Ke,bt,ot):(Me=!0,bt),de&&_e.next(Ke)},Ie&&(()=>{Me&&_e.next(Ke),_e.complete()})))}}(fe,Ce,arguments.length>=2,!0))}},3020:(kt,Be,P)=>{P.d(Be,{B:()=>fe});var u=P(4829),$=P(8645),te=P(305),H=P(9360);function fe(Te={}){const{connector:de=(()=>new $.x),resetOnError:Ie=!0,resetOnComplete:le=!0,resetOnRefCountZero:_e=!0}=Te;return Me=>{let Ke,nt,bt,ot=0,ht=!1,mt=!1;const Ut=()=>{nt?.unsubscribe(),nt=void 0},vt=()=>{Ut(),Ke=bt=void 0,ht=mt=!1},me=()=>{const Le=Ke;vt(),Le?.unsubscribe()};return(0,H.e)((Le,Oe)=>{ot++,!mt&&!ht&&Ut();const Je=bt=bt??de();Oe.add(()=>{ot--,0===ot&&!mt&&!ht&&(nt=Ce(me,_e))}),Je.subscribe(Oe),!Ke&&ot>0&&(Ke=new te.Hp({next:Ze=>Je.next(Ze),error:Ze=>{mt=!0,Ut(),nt=Ce(vt,Ie,Ze),Je.error(Ze)},complete:()=>{ht=!0,Ut(),nt=Ce(vt,le),Je.complete()}}),(0,u.Xf)(Le).subscribe(Ke))})(Me)}}function Ce(Te,de,...Ie){if(!0===de)return void Te();if(!1===de)return;const le=new te.Hp({next:()=>{le.unsubscribe(),Te()}});return(0,u.Xf)(de(...Ie)).subscribe(le)}},836:(kt,Be,P)=>{P.d(Be,{T:()=>$});var u=P(2181);function $(te){return(0,u.h)((H,fe)=>te<=fe)}},7921:(kt,Be,P)=>{P.d(Be,{O:()=>H});var u=P(5211),$=P(9940),te=P(9360);function H(...fe){const Ce=(0,$.yG)(fe);return(0,te.e)((Te,de)=>{(Ce?(0,u.z)(fe,Te,Ce):(0,u.z)(fe,Te)).subscribe(de)})}},5137:(kt,Be,P)=>{P.d(Be,{R:()=>$});var u=P(9360);function $(te,H=0){return(0,u.e)((fe,Ce)=>{Ce.add(te.schedule(()=>fe.subscribe(Ce),H))})}},4664:(kt,Be,P)=>{P.d(Be,{w:()=>H});var u=P(4829),$=P(9360),te=P(8251);function H(fe,Ce){return(0,$.e)((Te,de)=>{let Ie=null,le=0,_e=!1;const Me=()=>_e&&!Ie&&de.complete();Te.subscribe((0,te.x)(de,Ke=>{Ie?.unsubscribe();let nt=0;const bt=le++;(0,u.Xf)(fe(Ke,bt)).subscribe(Ie=(0,te.x)(de,ot=>de.next(Ce?Ce(Ke,ot,bt,nt++):ot),()=>{Ie=null,Me()}))},()=>{_e=!0,Me()}))})}},8180:(kt,Be,P)=>{P.d(Be,{q:()=>H});var u=P(6232),$=P(9360),te=P(8251);function H(fe){return fe<=0?()=>u.E:(0,$.e)((Ce,Te)=>{let de=0;Ce.subscribe((0,te.x)(Te,Ie=>{++de<=fe&&(Te.next(Ie),fe<=de&&Te.complete())}))})}},4418:(kt,Be,P)=>{P.d(Be,{h:()=>H});var u=P(6232),$=P(9360),te=P(8251);function H(fe){return fe<=0?()=>u.E:(0,$.e)((Ce,Te)=>{let de=[];Ce.subscribe((0,te.x)(Te,Ie=>{de.push(Ie),fe<de.length&&de.shift()},()=>{for(const Ie of de)Te.next(Ie);Te.complete()},void 0,()=>{de=null}))})}},9773:(kt,Be,P)=>{P.d(Be,{R:()=>fe});var u=P(9360),$=P(8251),te=P(4829),H=P(2420);function fe(Ce){return(0,u.e)((Te,de)=>{(0,te.Xf)(Ce).subscribe((0,$.x)(de,()=>de.complete(),H.Z)),!de.closed&&Te.subscribe(de)})}},9397:(kt,Be,P)=>{P.d(Be,{b:()=>fe});var u=P(4674),$=P(9360),te=P(8251),H=P(2737);function fe(Ce,Te,de){const Ie=(0,u.m)(Ce)||Te||de?{next:Ce,error:Te,complete:de}:Ce;return Ie?(0,$.e)((le,_e)=>{var Me;null===(Me=Ie.subscribe)||void 0===Me||Me.call(Ie);let Ke=!0;le.subscribe((0,te.x)(_e,nt=>{var bt;null===(bt=Ie.next)||void 0===bt||bt.call(Ie,nt),_e.next(nt)},()=>{var nt;Ke=!1,null===(nt=Ie.complete)||void 0===nt||nt.call(Ie),_e.complete()},nt=>{var bt;Ke=!1,null===(bt=Ie.error)||void 0===bt||bt.call(Ie,nt),_e.error(nt)},()=>{var nt,bt;Ke&&(null===(nt=Ie.unsubscribe)||void 0===nt||nt.call(Ie)),null===(bt=Ie.finalize)||void 0===bt||bt.call(Ie)}))}):H.y}},3026:(kt,Be,P)=>{P.d(Be,{T:()=>H});var u=P(6973),$=P(9360),te=P(8251);function H(Ce=fe){return(0,$.e)((Te,de)=>{let Ie=!1;Te.subscribe((0,te.x)(de,le=>{Ie=!0,de.next(le)},()=>Ie?de.complete():de.error(Ce())))})}function fe(){return new u.K}},1954:(kt,Be,P)=>{P.d(Be,{o:()=>fe});var u=P(7394);class $ extends u.w0{constructor(Te,de){super()}schedule(Te,de=0){return this}}const te={setInterval(Ce,Te,...de){const{delegate:Ie}=te;return Ie?.setInterval?Ie.setInterval(Ce,Te,...de):setInterval(Ce,Te,...de)},clearInterval(Ce){const{delegate:Te}=te;return(Te?.clearInterval||clearInterval)(Ce)},delegate:void 0};var H=P(9039);class fe extends ${constructor(Te,de){super(Te,de),this.scheduler=Te,this.work=de,this.pending=!1}schedule(Te,de=0){var Ie;if(this.closed)return this;this.state=Te;const le=this.id,_e=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(_e,le,de)),this.pending=!0,this.delay=de,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(_e,this.id,de),this}requestAsyncId(Te,de,Ie=0){return te.setInterval(Te.flush.bind(Te,this),Ie)}recycleAsyncId(Te,de,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return de;null!=de&&te.clearInterval(de)}execute(Te,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(Te,de);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,de){let le,Ie=!1;try{this.work(Te)}catch(_e){Ie=!0,le=_e||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),le}unsubscribe(){if(!this.closed){const{id:Te,scheduler:de}=this,{actions:Ie}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,H.P)(Ie,this),null!=Te&&(this.id=this.recycleAsyncId(de,Te,null)),this.delay=null,super.unsubscribe()}}}},2631:(kt,Be,P)=>{P.d(Be,{v:()=>te});var u=P(4552);class ${constructor(fe,Ce=$.now){this.schedulerActionCtor=fe,this.now=Ce}schedule(fe,Ce=0,Te){return new this.schedulerActionCtor(this,fe).schedule(Te,Ce)}}$.now=u.l.now;class te extends ${constructor(fe,Ce=$.now){super(fe,Ce),this.actions=[],this._active=!1}flush(fe){const{actions:Ce}=this;if(this._active)return void Ce.push(fe);let Te;this._active=!0;do{if(Te=fe.execute(fe.state,fe.delay))break}while(fe=Ce.shift());if(this._active=!1,Te){for(;fe=Ce.shift();)fe.unsubscribe();throw Te}}}},6321:(kt,Be,P)=>{P.d(Be,{P:()=>H,z:()=>te});var u=P(1954);const te=new(P(2631).v)(u.o),H=te},4552:(kt,Be,P)=>{P.d(Be,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},7599:(kt,Be,P)=>{P.d(Be,{z:()=>u});const u={setTimeout($,te,...H){const{delegate:fe}=u;return fe?.setTimeout?fe.setTimeout($,te,...H):setTimeout($,te,...H)},clearTimeout($){const{delegate:te}=u;return(te?.clearTimeout||clearTimeout)($)},delegate:void 0}},4971:(kt,Be,P)=>{P.d(Be,{h:()=>$});const $=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(kt,Be,P)=>{P.d(Be,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(kt,Be,P)=>{P.d(Be,{K:()=>$});const $=(0,P(2306).d)(te=>function(){te(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(kt,Be,P)=>{P.d(Be,{_6:()=>Ce,jO:()=>H,yG:()=>fe});var u=P(4674),$=P(671);function te(Te){return Te[Te.length-1]}function H(Te){return(0,u.m)(te(Te))?Te.pop():void 0}function fe(Te){return(0,$.K)(te(Te))?Te.pop():void 0}function Ce(Te,de){return"number"==typeof te(Te)?Te.pop():de}},7453:(kt,Be,P)=>{P.d(Be,{D:()=>fe});const{isArray:u}=Array,{getPrototypeOf:$,prototype:te,keys:H}=Object;function fe(Te){if(1===Te.length){const de=Te[0];if(u(de))return{args:de,keys:null};if(function Ce(Te){return Te&&"object"==typeof Te&&$(Te)===te}(de)){const Ie=H(de);return{args:Ie.map(le=>de[le]),keys:Ie}}}return{args:Te,keys:null}}},9039:(kt,Be,P)=>{function u($,te){if($){const H=$.indexOf(te);0<=H&&$.splice(H,1)}}P.d(Be,{P:()=>u})},2306:(kt,Be,P)=>{function u($){const H=$(fe=>{Error.call(fe),fe.stack=(new Error).stack});return H.prototype=Object.create(Error.prototype),H.prototype.constructor=H,H}P.d(Be,{d:()=>u})},2714:(kt,Be,P)=>{function u($,te){return $.reduce((H,fe,Ce)=>(H[fe]=te[Ce],H),{})}P.d(Be,{n:()=>u})},1441:(kt,Be,P)=>{P.d(Be,{O:()=>H,x:()=>te});var u=P(2653);let $=null;function te(fe){if(u.config.useDeprecatedSynchronousErrorHandling){const Ce=!$;if(Ce&&($={errorThrown:!1,error:null}),fe(),Ce){const{errorThrown:Te,error:de}=$;if($=null,Te)throw de}}else fe()}function H(fe){u.config.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=fe)}},7103:(kt,Be,P)=>{function u($,te,H,fe=0,Ce=!1){const Te=te.schedule(function(){H(),Ce?$.add(this.schedule(null,fe)):this.unsubscribe()},fe);if($.add(Te),!Ce)return Te}P.d(Be,{f:()=>u})},2737:(kt,Be,P)=>{function u($){return $}P.d(Be,{y:()=>u})},4266:(kt,Be,P)=>{P.d(Be,{z:()=>u});const u=$=>$&&"number"==typeof $.length&&"function"!=typeof $},5726:(kt,Be,P)=>{P.d(Be,{D:()=>$});var u=P(4674);function $(te){return Symbol.asyncIterator&&(0,u.m)(te?.[Symbol.asyncIterator])}},4674:(kt,Be,P)=>{function u($){return"function"==typeof $}P.d(Be,{m:()=>u})},8382:(kt,Be,P)=>{P.d(Be,{c:()=>te});var u=P(4850),$=P(4674);function te(H){return(0,$.m)(H[u.L])}},3664:(kt,Be,P)=>{P.d(Be,{T:()=>te});var u=P(4971),$=P(4674);function te(H){return(0,$.m)(H?.[u.h])}},4026:(kt,Be,P)=>{P.d(Be,{t:()=>$});var u=P(4674);function $(te){return(0,u.m)(te?.then)}},541:(kt,Be,P)=>{P.d(Be,{L:()=>H,Q:()=>te});var u=P(7582),$=P(4674);function te(fe){return(0,u.FC)(this,arguments,function*(){const Te=fe.getReader();try{for(;;){const{value:de,done:Ie}=yield(0,u.qq)(Te.read());if(Ie)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(de)}}finally{Te.releaseLock()}})}function H(fe){return(0,$.m)(fe?.getReader)}},671:(kt,Be,P)=>{P.d(Be,{K:()=>$});var u=P(4674);function $(te){return te&&(0,u.m)(te.schedule)}},9360:(kt,Be,P)=>{P.d(Be,{A:()=>$,e:()=>te});var u=P(4674);function $(H){return(0,u.m)(H?.lift)}function te(H){return fe=>{if($(fe))return fe.lift(function(Ce){try{return H(Ce,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(kt,Be,P)=>{P.d(Be,{Z:()=>H});var u=P(7398);const{isArray:$}=Array;function H(fe){return(0,u.U)(Ce=>function te(fe,Ce){return $(Ce)?fe(...Ce):fe(Ce)}(fe,Ce))}},2420:(kt,Be,P)=>{function u(){}P.d(Be,{Z:()=>u})},8407:(kt,Be,P)=>{P.d(Be,{U:()=>te,z:()=>$});var u=P(2737);function $(...H){return te(H)}function te(H){return 0===H.length?u.y:1===H.length?H[0]:function(Ce){return H.reduce((Te,de)=>de(Te),Ce)}}},3894:(kt,Be,P)=>{P.d(Be,{h:()=>te});var u=P(2653),$=P(7599);function te(H){$.z.setTimeout(()=>{const{onUnhandledError:fe}=u.config;if(!fe)throw H;fe(H)})}},9853:(kt,Be,P)=>{function u($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Be,{z:()=>u})},6825:(kt,Be,P)=>{P.d(Be,{LC:()=>$,SB:()=>Ie,X$:()=>H,ZE:()=>mt,ZN:()=>ht,_j:()=>u,eR:()=>_e,jt:()=>fe,k1:()=>Ut,l3:()=>te,oB:()=>de,vP:()=>Te});class u{}class ${}const te="*";function H(vt,me){return{type:7,name:vt,definitions:me,options:{}}}function fe(vt,me=null){return{type:4,styles:me,timings:vt}}function Te(vt,me=null){return{type:2,steps:vt,options:me}}function de(vt){return{type:6,styles:vt,offset:null}}function Ie(vt,me,Le){return{type:0,name:vt,styles:me,options:Le}}function _e(vt,me,Le=null){return{type:1,expr:vt,animation:me,options:Le}}class ht{constructor(me=0,Le=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=me+Le}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(me=>me()),this._onDoneFns=[])}onStart(me){this._originalOnStartFns.push(me),this._onStartFns.push(me)}onDone(me){this._originalOnDoneFns.push(me),this._onDoneFns.push(me)}onDestroy(me){this._onDestroyFns.push(me)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(me=>me()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(me=>me()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(me){this._position=this.totalTime?me*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(me){const Le="start"==me?this._onStartFns:this._onDoneFns;Le.forEach(Oe=>Oe()),Le.length=0}}class mt{constructor(me){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=me;let Le=0,Oe=0,Je=0;const Ze=this.players.length;0==Ze?queueMicrotask(()=>this._onFinish()):this.players.forEach(ke=>{ke.onDone(()=>{++Le==Ze&&this._onFinish()}),ke.onDestroy(()=>{++Oe==Ze&&this._onDestroy()}),ke.onStart(()=>{++Je==Ze&&this._onStart()})}),this.totalTime=this.players.reduce((ke,$t)=>Math.max(ke,$t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(me=>me()),this._onDoneFns=[])}init(){this.players.forEach(me=>me.init())}onStart(me){this._onStartFns.push(me)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(me=>me()),this._onStartFns=[])}onDone(me){this._onDoneFns.push(me)}onDestroy(me){this._onDestroyFns.push(me)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(me=>me.play())}pause(){this.players.forEach(me=>me.pause())}restart(){this.players.forEach(me=>me.restart())}finish(){this._onFinish(),this.players.forEach(me=>me.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(me=>me.destroy()),this._onDestroyFns.forEach(me=>me()),this._onDestroyFns=[])}reset(){this.players.forEach(me=>me.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(me){const Le=me*this.totalTime;this.players.forEach(Oe=>{const Je=Oe.totalTime?Math.min(1,Le/Oe.totalTime):1;Oe.setPosition(Je)})}getPosition(){const me=this.players.reduce((Le,Oe)=>null===Le||Oe.totalTime>Le.totalTime?Oe:Le,null);return null!=me?me.getPosition():0}beforeDestroy(){this.players.forEach(me=>{me.beforeDestroy&&me.beforeDestroy()})}triggerCallback(me){const Le="start"==me?this._onStartFns:this._onDoneFns;Le.forEach(Oe=>Oe()),Le.length=0}}const Ut="!"},2012:(kt,Be,P)=>{P.d(Be,{tE:()=>vs,qm:()=>ui,Kd:()=>Dr,X6:()=>Ne,yG:()=>ft});var u=P(6814),$=P(5879),te=P(2831),H=P(5619),fe=P(8645),Ce=P(2096),ko=P(836),Qo=P(3997),Xo=P(9773),zo=P(2495),gs=P(1088);function Ne(Et){return 0===Et.buttons||0===Et.offsetX&&0===Et.offsetY}function ft(Et){const We=Et.touches&&Et.touches[0]||Et.changedTouches&&Et.changedTouches[0];return!(!We||-1!==We.identifier||null!=We.radiusX&&1!==We.radiusX||null!=We.radiusY&&1!==We.radiusY)}const Ot=new $.OlP("cdk-input-modality-detector-options"),Yt={ignoreKeys:[18,17,224,91,16]},Rn=(0,te.i$)({passive:!0,capture:!0});let ri=(()=>{class Et{get mostRecentModality(){return this._modality.value}constructor(Ve,qe,yt,nn){this._platform=Ve,this._mostRecentTarget=null,this._modality=new H.X(null),this._lastTouchMs=0,this._onKeydown=qn=>{this._options?.ignoreKeys?.some(Nr=>Nr===qn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,te.sA)(qn))},this._onMousedown=qn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ne(qn)?"keyboard":"mouse"),this._mostRecentTarget=(0,te.sA)(qn))},this._onTouchstart=qn=>{ft(qn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,te.sA)(qn))},this._options={...Yt,...nn},this.modalityDetected=this._modality.pipe((0,ko.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Qo.x)()),Ve.isBrowser&&qe.runOutsideAngular(()=>{yt.addEventListener("keydown",this._onKeydown,Rn),yt.addEventListener("mousedown",this._onMousedown,Rn),yt.addEventListener("touchstart",this._onTouchstart,Rn)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Rn),document.removeEventListener("mousedown",this._onMousedown,Rn),document.removeEventListener("touchstart",this._onTouchstart,Rn))}static#e=this.\u0275fac=function(qe){return new(qe||Et)($.LFG(te.t4),$.LFG($.R0b),$.LFG(u.K0),$.LFG(Ot,8))};static#t=this.\u0275prov=$.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"})}return Et})();const Xi=new $.OlP("liveAnnouncerElement",{providedIn:"root",factory:function sr(){return null}}),ar=new $.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let xn=0,Dr=(()=>{class Et{constructor(Ve,qe,yt,nn){this._ngZone=qe,this._defaultOptions=nn,this._document=yt,this._liveElement=Ve||this._createLiveElement()}announce(Ve,...qe){const yt=this._defaultOptions;let nn,qn;return 1===qe.length&&"number"==typeof qe[0]?qn=qe[0]:[nn,qn]=qe,this.clear(),clearTimeout(this._previousTimeout),nn||(nn=yt&&yt.politeness?yt.politeness:"polite"),null==qn&&yt&&(qn=yt.duration),this._liveElement.setAttribute("aria-live",nn),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Nr=>this._currentResolve=Nr)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Ve,"number"==typeof qn&&(this._previousTimeout=setTimeout(()=>this.clear(),qn)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Ve="cdk-live-announcer-element",qe=this._document.getElementsByClassName(Ve),yt=this._document.createElement("div");for(let nn=0;nn<qe.length;nn++)qe[nn].remove();return yt.classList.add(Ve),yt.classList.add("cdk-visually-hidden"),yt.setAttribute("aria-atomic","true"),yt.setAttribute("aria-live","polite"),yt.id="cdk-live-announcer-"+xn++,this._document.body.appendChild(yt),yt}_exposeAnnouncerToModals(Ve){const qe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let yt=0;yt<qe.length;yt++){const nn=qe[yt],qn=nn.getAttribute("aria-owns");qn?-1===qn.indexOf(Ve)&&nn.setAttribute("aria-owns",qn+" "+Ve):nn.setAttribute("aria-owns",Ve)}}static#e=this.\u0275fac=function(qe){return new(qe||Et)($.LFG(Xi,8),$.LFG($.R0b),$.LFG(u.K0),$.LFG(ar,8))};static#t=this.\u0275prov=$.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"})}return Et})();const ao=new $.OlP("cdk-focus-monitor-default-options"),Rr=(0,te.i$)({passive:!0,capture:!0});let vs=(()=>{class Et{constructor(Ve,qe,yt,nn,qn){this._ngZone=Ve,this._platform=qe,this._inputModalityDetector=yt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new fe.x,this._rootNodeFocusAndBlurListener=Nr=>{for(let Y=(0,te.sA)(Nr);Y;Y=Y.parentElement)"focus"===Nr.type?this._onFocus(Nr,Y):this._onBlur(Nr,Y)},this._document=nn,this._detectionMode=qn?.detectionMode||0}monitor(Ve,qe=!1){const yt=(0,zo.fI)(Ve);if(!this._platform.isBrowser||1!==yt.nodeType)return(0,Ce.of)();const nn=(0,te.kV)(yt)||this._getDocument(),qn=this._elementInfo.get(yt);if(qn)return qe&&(qn.checkChildren=!0),qn.subject;const Nr={checkChildren:qe,subject:new fe.x,rootNode:nn};return this._elementInfo.set(yt,Nr),this._registerGlobalListeners(Nr),Nr.subject}stopMonitoring(Ve){const qe=(0,zo.fI)(Ve),yt=this._elementInfo.get(qe);yt&&(yt.subject.complete(),this._setClasses(qe),this._elementInfo.delete(qe),this._removeGlobalListeners(yt))}focusVia(Ve,qe,yt){const nn=(0,zo.fI)(Ve);nn===this._getDocument().activeElement?this._getClosestElementsInfo(nn).forEach(([Nr,nr])=>this._originChanged(Nr,qe,nr)):(this._setOrigin(qe),"function"==typeof nn.focus&&nn.focus(yt))}ngOnDestroy(){this._elementInfo.forEach((Ve,qe)=>this.stopMonitoring(qe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Ve){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ve)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Ve&&this._isLastInteractionFromInputLabel(Ve)?"mouse":"program"}_shouldBeAttributedToTouch(Ve){return 1===this._detectionMode||!!Ve?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Ve,qe){Ve.classList.toggle("cdk-focused",!!qe),Ve.classList.toggle("cdk-touch-focused","touch"===qe),Ve.classList.toggle("cdk-keyboard-focused","keyboard"===qe),Ve.classList.toggle("cdk-mouse-focused","mouse"===qe),Ve.classList.toggle("cdk-program-focused","program"===qe)}_setOrigin(Ve,qe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ve,this._originFromTouchInteraction="touch"===Ve&&qe,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ve,qe){const yt=this._elementInfo.get(qe),nn=(0,te.sA)(Ve);!yt||!yt.checkChildren&&qe!==nn||this._originChanged(qe,this._getFocusOrigin(nn),yt)}_onBlur(Ve,qe){const yt=this._elementInfo.get(qe);!yt||yt.checkChildren&&Ve.relatedTarget instanceof Node&&qe.contains(Ve.relatedTarget)||(this._setClasses(qe),this._emitOrigin(yt,null))}_emitOrigin(Ve,qe){Ve.subject.observers.length&&this._ngZone.run(()=>Ve.subject.next(qe))}_registerGlobalListeners(Ve){if(!this._platform.isBrowser)return;const qe=Ve.rootNode,yt=this._rootNodeFocusListenerCount.get(qe)||0;yt||this._ngZone.runOutsideAngular(()=>{qe.addEventListener("focus",this._rootNodeFocusAndBlurListener,Rr),qe.addEventListener("blur",this._rootNodeFocusAndBlurListener,Rr)}),this._rootNodeFocusListenerCount.set(qe,yt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Xo.R)(this._stopInputModalityDetector)).subscribe(nn=>{this._setOrigin(nn,!0)}))}_removeGlobalListeners(Ve){const qe=Ve.rootNode;if(this._rootNodeFocusListenerCount.has(qe)){const yt=this._rootNodeFocusListenerCount.get(qe);yt>1?this._rootNodeFocusListenerCount.set(qe,yt-1):(qe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Rr),qe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Rr),this._rootNodeFocusListenerCount.delete(qe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ve,qe,yt){this._setClasses(Ve,qe),this._emitOrigin(yt,qe),this._lastFocusOrigin=qe}_getClosestElementsInfo(Ve){const qe=[];return this._elementInfo.forEach((yt,nn)=>{(nn===Ve||yt.checkChildren&&nn.contains(Ve))&&qe.push([nn,yt])}),qe}_isLastInteractionFromInputLabel(Ve){const{_mostRecentTarget:qe,mostRecentModality:yt}=this._inputModalityDetector;if("mouse"!==yt||!qe||qe===Ve||"INPUT"!==Ve.nodeName&&"TEXTAREA"!==Ve.nodeName||Ve.disabled)return!1;const nn=Ve.labels;if(nn)for(let qn=0;qn<nn.length;qn++)if(nn[qn].contains(qe))return!0;return!1}static#e=this.\u0275fac=function(qe){return new(qe||Et)($.LFG($.R0b),$.LFG(te.t4),$.LFG(ri),$.LFG(u.K0,8),$.LFG(ao,8))};static#t=this.\u0275prov=$.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"})}return Et})();const Or="cdk-high-contrast-black-on-white",ji="cdk-high-contrast-white-on-black",ys="cdk-high-contrast-active";let ui=(()=>{class Et{constructor(Ve,qe){this._platform=Ve,this._document=qe,this._breakpointSubscription=(0,$.f3M)(gs.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Ve=this._document.createElement("div");Ve.style.backgroundColor="rgb(1,2,3)",Ve.style.position="absolute",this._document.body.appendChild(Ve);const qe=this._document.defaultView||window,yt=qe&&qe.getComputedStyle?qe.getComputedStyle(Ve):null,nn=(yt&&yt.backgroundColor||"").replace(/ /g,"");switch(Ve.remove(),nn){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ve=this._document.body.classList;Ve.remove(ys,Or,ji),this._hasCheckedHighContrastMode=!0;const qe=this.getHighContrastMode();1===qe?Ve.add(ys,Or):2===qe&&Ve.add(ys,ji)}}static#e=this.\u0275fac=function(qe){return new(qe||Et)($.LFG(te.t4),$.LFG(u.K0))};static#t=this.\u0275prov=$.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"})}return Et})()},9388:(kt,Be,P)=>{P.d(Be,{Is:()=>Te,vT:()=>Ie});var u=P(5879),$=P(6814);const te=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function H(){return(0,u.f3M)($.K0)}}),fe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Te=(()=>{class le{constructor(Me){this.value="ltr",this.change=new u.vpe,Me&&(this.value=function Ce(le){const _e=le?.toLowerCase()||"";return"auto"===_e&&typeof navigator<"u"&&navigator?.language?fe.test(navigator.language)?"rtl":"ltr":"rtl"===_e?"rtl":"ltr"}((Me.body?Me.body.dir:null)||(Me.documentElement?Me.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(Ke){return new(Ke||le)(u.LFG(te,8))};static#t=this.\u0275prov=u.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),Ie=(()=>{class le{static#e=this.\u0275fac=function(Ke){return new(Ke||le)};static#t=this.\u0275mod=u.oAB({type:le});static#n=this.\u0275inj=u.cJS({})}return le})()},2495:(kt,Be,P)=>{P.d(Be,{Eq:()=>fe,HM:()=>Ce,Ig:()=>$,fI:()=>Te});var u=P(5879);function $(Ie){return null!=Ie&&"false"!=`${Ie}`}function fe(Ie){return Array.isArray(Ie)?Ie:[Ie]}function Ce(Ie){return null==Ie?"":"string"==typeof Ie?Ie:`${Ie}px`}function Te(Ie){return Ie instanceof u.SBq?Ie.nativeElement:Ie}},1088:(kt,Be,P)=>{P.d(Be,{Yg:()=>vt,u3:()=>Le});var u=P(5879),$=P(2495),te=P(8645),H=P(2572),fe=P(5211),Ce=P(5592),Te=P(8180),de=P(836),Ie=P(3620),le=P(7398),_e=P(7921),Me=P(9773),Ke=P(2831);const bt=new Set;let ot,ht=(()=>{class Oe{constructor(Ze,ke){this._platform=Ze,this._nonce=ke,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ut}matchMedia(Ze){return(this._platform.WEBKIT||this._platform.BLINK)&&function mt(Oe,Je){if(!bt.has(Oe))try{ot||(ot=document.createElement("style"),Je&&(ot.nonce=Je),ot.setAttribute("type","text/css"),document.head.appendChild(ot)),ot.sheet&&(ot.sheet.insertRule(`@media ${Oe} {body{ }}`,0),bt.add(Oe))}catch(Ze){console.error(Ze)}}(Ze,this._nonce),this._matchMedia(Ze)}static#e=this.\u0275fac=function(ke){return new(ke||Oe)(u.LFG(Ke.t4),u.LFG(u.Ojb,8))};static#t=this.\u0275prov=u.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})();function Ut(Oe){return{matches:"all"===Oe||""===Oe,media:Oe,addListener:()=>{},removeListener:()=>{}}}let vt=(()=>{class Oe{constructor(Ze,ke){this._mediaMatcher=Ze,this._zone=ke,this._queries=new Map,this._destroySubject=new te.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Ze){return me((0,$.Eq)(Ze)).some($t=>this._registerQuery($t).mql.matches)}observe(Ze){const $t=me((0,$.Eq)(Ze)).map(ln=>this._registerQuery(ln).observable);let jt=(0,H.a)($t);return jt=(0,fe.z)(jt.pipe((0,Te.q)(1)),jt.pipe((0,de.T)(1),(0,Ie.b)(0))),jt.pipe((0,le.U)(ln=>{const Vn={matches:!1,breakpoints:{}};return ln.forEach(({matches:un,query:Ei})=>{Vn.matches=Vn.matches||un,Vn.breakpoints[Ei]=un}),Vn}))}_registerQuery(Ze){if(this._queries.has(Ze))return this._queries.get(Ze);const ke=this._mediaMatcher.matchMedia(Ze),jt={observable:new Ce.y(ln=>{const Vn=un=>this._zone.run(()=>ln.next(un));return ke.addListener(Vn),()=>{ke.removeListener(Vn)}}).pipe((0,_e.O)(ke),(0,le.U)(({matches:ln})=>({query:Ze,matches:ln})),(0,Me.R)(this._destroySubject)),mql:ke};return this._queries.set(Ze,jt),jt}static#e=this.\u0275fac=function(ke){return new(ke||Oe)(u.LFG(ht),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})();function me(Oe){return Oe.map(Je=>Je.split(",")).reduce((Je,Ze)=>Je.concat(Ze)).map(Je=>Je.trim())}const Le={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},2831:(kt,Be,P)=>{P.d(Be,{Mq:()=>nt,Oy:()=>me,i$:()=>_e,kV:()=>mt,sA:()=>vt,t4:()=>H});var u=P(5879),$=P(6814);let te;try{te=typeof Intl<"u"&&Intl.v8BreakIterator}catch{te=!1}let Ie,Ke,ot,H=(()=>{class Le{constructor(Je){this._platformId=Je,this.isBrowser=this._platformId?(0,$.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!te)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Ze){return new(Ze||Le)(u.LFG(u.Lbi))};static#t=this.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})();function _e(Le){return function le(){if(null==Ie&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ie=!0}))}finally{Ie=Ie||!1}return Ie}()?Le:!!Le.capture}function nt(){if(null==Ke){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ke=!1,Ke;if("scrollBehavior"in document.documentElement.style)Ke=!0;else{const Le=Element.prototype.scrollTo;Ke=!!Le&&!/\{\s*\[native code\]\s*\}/.test(Le.toString())}}return Ke}function mt(Le){if(function ht(){if(null==ot){const Le=typeof document<"u"?document.head:null;ot=!(!Le||!Le.createShadowRoot&&!Le.attachShadow)}return ot}()){const Oe=Le.getRootNode?Le.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Oe instanceof ShadowRoot)return Oe}return null}function vt(Le){return Le.composedPath?Le.composedPath()[0]:Le.target}function me(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6814:(kt,Be,P)=>{P.d(Be,{Do:()=>ot,EM:()=>Ot,HT:()=>H,JF:()=>ri,K0:()=>Ce,Mx:()=>Fi,NF:()=>j,O5:()=>Gr,PM:()=>J,S$:()=>Ke,V_:()=>de,Ye:()=>ht,b0:()=>bt,bD:()=>Di,ez:()=>Tr,q:()=>te,sg:()=>_i,w_:()=>fe});var u=P(5879);let $=null;function te(){return $}function H(C){$||($=C)}class fe{}const Ce=new u.OlP("DocumentToken");let Te=(()=>{class C{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||C)};static#t=this.\u0275prov=u.Yz7({token:C,factory:function(){return(0,u.f3M)(Ie)},providedIn:"platform"})}return C})();const de=new u.OlP("Location Initialized");let Ie=(()=>{class C extends Te{constructor(){super(),this._doc=(0,u.f3M)(Ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(U){const X=te().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",U,!1),()=>X.removeEventListener("popstate",U)}onHashChange(U){const X=te().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",U,!1),()=>X.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,X,Ae){this._history.pushState(U,X,Ae)}replaceState(U,X,Ae){this._history.replaceState(U,X,Ae)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||C)};static#t=this.\u0275prov=u.Yz7({token:C,factory:function(){return new C},providedIn:"platform"})}return C})();function le(C,re){if(0==C.length)return re;if(0==re.length)return C;let U=0;return C.endsWith("/")&&U++,re.startsWith("/")&&U++,2==U?C+re.substring(1):1==U?C+re:C+"/"+re}function _e(C){const re=C.match(/#|\?|$/),U=re&&re.index||C.length;return C.slice(0,U-("/"===C[U-1]?1:0))+C.slice(U)}function Me(C){return C&&"?"!==C[0]?"?"+C:C}let Ke=(()=>{class C{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||C)};static#t=this.\u0275prov=u.Yz7({token:C,factory:function(){return(0,u.f3M)(bt)},providedIn:"root"})}return C})();const nt=new u.OlP("appBaseHref");let bt=(()=>{class C extends Ke{constructor(U,X){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(Ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return le(this._baseHref,U)}path(U=!1){const X=this._platformLocation.pathname+Me(this._platformLocation.search),Ae=this._platformLocation.hash;return Ae&&U?`${X}${Ae}`:X}pushState(U,X,Ae,pt){const It=this.prepareExternalUrl(Ae+Me(pt));this._platformLocation.pushState(U,X,It)}replaceState(U,X,Ae,pt){const It=this.prepareExternalUrl(Ae+Me(pt));this._platformLocation.replaceState(U,X,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(X){return new(X||C)(u.LFG(Te),u.LFG(nt,8))};static#t=this.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),ot=(()=>{class C extends Ke{constructor(U,X){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(U){const X=le(this._baseHref,U);return X.length>0?"#"+X:X}pushState(U,X,Ae,pt){let It=this.prepareExternalUrl(Ae+Me(pt));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.pushState(U,X,It)}replaceState(U,X,Ae,pt){let It=this.prepareExternalUrl(Ae+Me(pt));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.replaceState(U,X,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(X){return new(X||C)(u.LFG(Te),u.LFG(nt,8))};static#t=this.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac})}return C})(),ht=(()=>{class C{constructor(U){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const X=this._locationStrategy.getBaseHref();this._basePath=function me(C){if(new RegExp("^(https?:)?//").test(C)){const[,U]=C.split(/\/\/[^\/]+/);return U}return C}(_e(vt(X))),this._locationStrategy.onPopState(Ae=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ae.state,type:Ae.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,X=""){return this.path()==this.normalize(U+Me(X))}normalize(U){return C.stripTrailingSlash(function Ut(C,re){if(!C||!re.startsWith(C))return re;const U=re.substring(C.length);return""===U||["/",";","?","#"].includes(U[0])?U:re}(this._basePath,vt(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,X="",Ae=null){this._locationStrategy.pushState(Ae,"",U,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Me(X)),Ae)}replaceState(U,X="",Ae=null){this._locationStrategy.replaceState(Ae,"",U,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Me(X)),Ae)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",X){this._urlChangeListeners.forEach(Ae=>Ae(U,X))}subscribe(U,X,Ae){return this._subject.subscribe({next:U,error:X,complete:Ae})}static#e=this.normalizeQueryParams=Me;static#t=this.joinWithSlash=le;static#n=this.stripTrailingSlash=_e;static#i=this.\u0275fac=function(X){return new(X||C)(u.LFG(Ke))};static#r=this.\u0275prov=u.Yz7({token:C,factory:function(){return function mt(){return new ht((0,u.LFG)(Ke))}()},providedIn:"root"})}return C})();function vt(C){return C.replace(/\/index.html$/,"")}function Fi(C,re){re=encodeURIComponent(re);for(const U of C.split(";")){const X=U.indexOf("="),[Ae,pt]=-1==X?[U,""]:[U.slice(0,X),U.slice(X+1)];if(Ae.trim()===re)return decodeURIComponent(pt)}return null}class Hn{constructor(re,U,X,Ae){this.$implicit=re,this.ngForOf=U,this.index=X,this.count=Ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _i=(()=>{class C{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,X,Ae){this._viewContainer=U,this._template=X,this._differs=Ae,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const X=this._viewContainer;U.forEachOperation((Ae,pt,It)=>{if(null==Ae.previousIndex)X.createEmbeddedView(this._template,new Hn(Ae.item,this._ngForOf,-1,-1),null===It?void 0:It);else if(null==It)X.remove(null===pt?void 0:pt);else if(null!==pt){const bn=X.get(pt);X.move(bn,It),Li(bn,Ae)}});for(let Ae=0,pt=X.length;Ae<pt;Ae++){const bn=X.get(Ae).context;bn.index=Ae,bn.count=pt,bn.ngForOf=this._ngForOf}U.forEachIdentityChange(Ae=>{Li(X.get(Ae.currentIndex),Ae)})}static ngTemplateContextGuard(U,X){return!0}static#e=this.\u0275fac=function(X){return new(X||C)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))};static#t=this.\u0275dir=u.lG2({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return C})();function Li(C,re){C.context.$implicit=re.item}let Gr=(()=>{class C{constructor(U,X){this._viewContainer=U,this._context=new Fo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){os("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){os("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,X){return!0}static#e=this.\u0275fac=function(X){return new(X||C)(u.Y36(u.s_b),u.Y36(u.Rgc))};static#t=this.\u0275dir=u.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return C})();class Fo{constructor(){this.$implicit=null,this.ngIf=null}}function os(C,re){if(re&&!re.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,u.AaK)(re)}'.`)}let Tr=(()=>{class C{static#e=this.\u0275fac=function(X){return new(X||C)};static#t=this.\u0275mod=u.oAB({type:C});static#n=this.\u0275inj=u.cJS({})}return C})();const Di="browser",yr="server";function j(C){return C===Di}function J(C){return C===yr}let Ot=(()=>{class C{static#e=this.\u0275prov=(0,u.Yz7)({token:C,providedIn:"root",factory:()=>new Yt((0,u.LFG)(Ce),window)})}return C})();class Yt{constructor(re,U){this.document=re,this.window=U,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const U=function gn(C,re){const U=C.getElementById(re)||C.getElementsByName(re)[0];if(U)return U;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const X=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let Ae=X.currentNode;for(;Ae;){const pt=Ae.shadowRoot;if(pt){const It=pt.getElementById(re)||pt.querySelector(`[name="${re}"]`);if(It)return It}Ae=X.nextNode()}}return null}(this.document,re);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const U=re.getBoundingClientRect(),X=U.left+this.window.pageXOffset,Ae=U.top+this.window.pageYOffset,pt=this.offset();this.window.scrollTo(X-pt[0],Ae-pt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ri{}},5879:(kt,Be,P)=>{P.d(Be,{$8M:()=>Ia,$WT:()=>vr,$Z:()=>Cf,AFp:()=>Gp,AaK:()=>Me,AsE:()=>Yy,BQk:()=>Wf,CHM:()=>Es,CRH:()=>OE,EJc:()=>NC,EiD:()=>kp,EpF:()=>K_,F$t:()=>$y,F4k:()=>Z_,FYo:()=>zg,FiY:()=>Qr,Gf:()=>RE,GfV:()=>Gg,Gpc:()=>bt,Gre:()=>v0,HDt:()=>tI,Hsn:()=>Wy,JOm:()=>Xl,JVY:()=>Sg,JZr:()=>vt,KtG:()=>qo,L6k:()=>Vu,LAX:()=>Bu,LFG:()=>Mt,LSH:()=>$h,Lbi:()=>ju,Lck:()=>gx,MMx:()=>sE,NdJ:()=>Ym,Ojb:()=>qp,OlP:()=>Kt,Oqu:()=>Zy,P3R:()=>kg,PXZ:()=>cT,Q6J:()=>zm,QGY:()=>Zm,QbO:()=>Xh,Qsj:()=>zv,R0b:()=>rs,RDi:()=>Cc,Rgc:()=>cg,SBq:()=>Al,Sil:()=>LC,Suo:()=>PE,TTD:()=>Mn,TgZ:()=>Wm,VuI:()=>WT,WFA:()=>Qm,X6Q:()=>_T,XFs:()=>sn,Xpm:()=>$o,Xq5:()=>N_,Xts:()=>kd,Y36:()=>hu,YKP:()=>rE,YNc:()=>W_,Yjl:()=>so,Yz7:()=>In,Z0I:()=>Un,ZZ4:()=>Rb,_Bn:()=>iE,_UZ:()=>q_,_Vd:()=>Mc,_c5:()=>OT,_uU:()=>c0,aQg:()=>Pb,c2e:()=>eI,cJS:()=>On,cg1:()=>Xy,d8E:()=>Qy,dDg:()=>oT,dqk:()=>Tn,eBb:()=>Pd,eFA:()=>dI,eJc:()=>mb,ekj:()=>qy,eoX:()=>aI,f3M:()=>Ft,g9A:()=>Yh,h0i:()=>vh,hGG:()=>NT,hYB:()=>Q_,hij:()=>J_,iGM:()=>ME,ifc:()=>Dt,ip1:()=>JE,jDz:()=>aE,kL8:()=>S0,lG2:()=>eo,lqb:()=>ta,lri:()=>oI,mCW:()=>Od,n5z:()=>Ya,oAB:()=>oo,oxw:()=>zy,pB0:()=>Mg,q3G:()=>Ac,q4F:()=>lf,qFp:()=>qT,qLn:()=>Rc,qOj:()=>Pl,qZA:()=>Gm,qzn:()=>nc,rWj:()=>sI,rg0:()=>pt,sBO:()=>vT,s_b:()=>sv,soG:()=>lv,tb:()=>Cb,tp0:()=>us,uIk:()=>nd,vHH:()=>me,vpe:()=>Sl,wAp:()=>Yf,xp6:()=>c_,ynx:()=>qm,z2F:()=>ep,z3N:()=>tl,zSh:()=>zp,zs3:()=>Hs});var u=P(8645),$=P(7394),te=P(5592),H=P(3019),fe=P(5619),Ce=P(2096),Te=P(3020),de=P(4664),Ie=P(3997);function le(t){for(let i in t)if(t[i]===le)return i;throw Error("Could not find renamed property on target object.")}function _e(t,i){for(const o in i)i.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=i[o])}function Me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ke(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const nt=le({__forward_ref__:le});function bt(t){return t.__forward_ref__=bt,t.toString=function(){return Me(this())},t}function ot(t){return ht(t)?t():t}function ht(t){return"function"==typeof t&&t.hasOwnProperty(nt)&&t.__forward_ref__===bt}function mt(t){return t&&!!t.\u0275providers}const vt="https://g.co/ng/security#xss";class me extends Error{constructor(i,o){super(function Le(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}(i,o)),this.code=i}}function Oe(t){return"string"==typeof t?t:null==t?"":String(t)}function jt(t,i){throw new me(-201,!1)}function Pe(t,i){null==t&&function wt(t,i,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${i} <=Actual]`))}(i,t,null,"!=")}function In(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function On(t){return{providers:t.providers||[],imports:t.imports||[]}}function ni(t){return Mi(t,Ri)||Mi(t,Ii)}function Un(t){return null!==ni(t)}function Mi(t,i){return t.hasOwnProperty(i)?t[i]:null}function Ji(t){return t&&(t.hasOwnProperty(Qn)||t.hasOwnProperty(gi))?t[Qn]:null}const Ri=le({\u0275prov:le}),Qn=le({\u0275inj:le}),Ii=le({ngInjectableDef:le}),gi=le({ngInjectorDef:le});var sn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(sn||{});let mn;function hn(t){const i=mn;return mn=t,i}function wi(t,i,o){const a=ni(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&sn.Optional?null:void 0!==i?i:void jt(Me(t))}const Tn=globalThis;class Kt{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=In({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qi={},gr="__NG_DI_FLAG__",St="ngTempTokenPath",L=/\n/gm,N="__source";let k;function Ue(t){const i=k;return k=t,i}function _t(t,i=sn.Default){if(void 0===k)throw new me(-203,!1);return null===k?wi(t,void 0,i):k.get(t,i&sn.Optional?null:void 0,i)}function Mt(t,i=sn.Default){return(function Xt(){return mn}()||_t)(ot(t),i)}function Ft(t,i=sn.Default){return Mt(t,cn(i))}function cn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function jn(t){const i=[];for(let o=0;o<t.length;o++){const a=ot(t[o]);if(Array.isArray(a)){if(0===a.length)throw new me(900,!1);let c,h=sn.Default;for(let v=0;v<a.length;v++){const I=a[v],D=ie(I);"number"==typeof D?-1===D?c=I.token:h|=D:c=I}i.push(Mt(c,h))}else i.push(Mt(a))}return i}function tt(t,i){return t[gr]=i,t.prototype[gr]=i,t}function ie(t){return t[gr]}function be(t){return{toString:t}.toString()}var st=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(st||{}),Dt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Dt||{});const zt={},Bt=[],Ln=le({\u0275cmp:le}),li=le({\u0275dir:le}),hi=le({\u0275pipe:le}),dr=le({\u0275mod:le}),Fi=le({\u0275fac:le}),Mr=le({__NG_ELEMENT_ID__:le}),ki=le({__NG_ENV_ID__:le});function Vr(t,i,o){let a=t.length;for(;;){const c=t.indexOf(i,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=i.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}o=c+1}}function fi(t,i,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const h=o[a++],v=o[a++],I=o[a++];t.setAttribute(i,v,I,h)}else{const h=c,v=o[++a];Hn(h)?t.setProperty(i,h,v):t.setAttribute(i,h,v),a++}}return a}function Wr(t){return 3===t||4===t||6===t}function Hn(t){return 64===t.charCodeAt(0)}function _i(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let o=-1;for(let a=0;a<i.length;a++){const c=i[a];"number"==typeof c?o=c:0===o||Li(t,o,c,null,-1===o||2===o?i[++a]:null)}}return t}function Li(t,i,o,a,c){let h=0,v=t.length;if(-1===i)v=-1;else for(;h<t.length;){const I=t[h++];if("number"==typeof I){if(I===i){v=-1;break}if(I>i){v=h-1;break}}}for(;h<t.length;){const I=t[h];if("number"==typeof I)break;if(I===o){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==v&&(t.splice(v,0,i),h=v+1),t.splice(h++,0,o),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}const No="ng-template";function Gr(t,i,o){let a=0,c=!0;for(;a<t.length;){let h=t[a++];if("string"==typeof h&&c){const v=t[a++];if(o&&"class"===h&&-1!==Vr(v.toLowerCase(),i,0))return!0}else{if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function Fo(t){return 4===t.type&&t.value!==No}function os(t,i,o){return i===(4!==t.type||o?t.value:No)}function ss(t,i,o){let a=4;const c=t.attrs||[],h=function ko(t){for(let i=0;i<t.length;i++)if(Wr(t[i]))return i;return t.length}(c);let v=!1;for(let I=0;I<i.length;I++){const D=i[I];if("number"!=typeof D){if(!v)if(4&a){if(a=2|1&a,""!==D&&!os(t,D,o)||""===D&&1===i.length){if(tr(a))return!1;v=!0}}else{const G=8&a?D:i[++I];if(8&a&&null!==t.attrs){if(!Gr(t.attrs,G,o)){if(tr(a))return!1;v=!0}continue}const xe=Jr(8&a?"class":D,c,Fo(t),o);if(-1===xe){if(tr(a))return!1;v=!0;continue}if(""!==G){let ze;ze=xe>h?"":c[xe+1].toLowerCase();const rt=8&a?ze:null;if(rt&&-1!==Vr(rt,G,0)||2&a&&G!==ze){if(tr(a))return!1;v=!0}}}}else{if(!v&&!tr(a)&&!tr(D))return!1;if(v&&tr(D))continue;v=!1,a=D|1&a}}return tr(a)||v}function tr(t){return 0==(1&t)}function Jr(t,i,o,a){if(null===i)return-1;let c=0;if(a||!o){let h=!1;for(;c<i.length;){const v=i[c];if(v===t)return c;if(3===v||6===v)h=!0;else{if(1===v||2===v){let I=i[++c];for(;"string"==typeof I;)I=i[++c];continue}if(4===v)break;if(0===v){c+=4;continue}}c+=h?1:2}return-1}return function Qo(t,i){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===i)return o;o++}return-1}(i,t)}function Yo(t,i,o=!1){for(let a=0;a<i.length;a++)if(ss(t,i[a],o))return!0;return!1}function Xo(t,i){e:for(let o=0;o<i.length;o++){const a=i[o];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function zo(t,i){return t?":not("+i.trim()+")":i}function gs(t){let i=t[0],o=1,a=2,c="",h=!1;for(;o<t.length;){let v=t[o];if("string"==typeof v)if(2&a){const I=t[++o];c+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&a?c+="."+v:4&a&&(c+=" "+v);else""!==c&&!tr(v)&&(i+=zo(h,c),c=""),a=v,h=h||!tr(a);o++}return""!==c&&(i+=zo(h,c)),i}function $o(t){return be(()=>{const i=Jo(t),o={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===st.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Dt.Emulated,styles:t.styles||Bt,_:null,schemas:t.schemas||null,tView:null,id:""};Br(o);const a=t.dependencies;return o.directiveDefs=Ti(a,!1),o.pipeDefs=Ti(a,!0),o.id=function mo(t){let i=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)i=Math.imul(31,i)+c.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(o),o})}function _s(t){return Zn(t)||or(t)}function Io(t){return null!==t}function oo(t){return be(()=>({type:t.type,bootstrap:t.bootstrap||Bt,declarations:t.declarations||Bt,imports:t.imports||Bt,exports:t.exports||Bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function po(t,i){if(null==t)return zt;const o={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=a,i&&(i[c]=h)}return o}function eo(t){return be(()=>{const i=Jo(t);return Br(i),i})}function so(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Zn(t){return t[Ln]||null}function or(t){return t[li]||null}function Yi(t){return t[hi]||null}function vr(t){const i=Zn(t)||or(t)||Yi(t);return null!==i&&i.standalone}function Qi(t,i){const o=t[dr]||null;if(!o&&!0===i)throw new Error(`Type ${Me(t)} does not have '\u0275mod' property.`);return o}function Jo(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||zt,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:po(t.inputs,i),outputs:po(t.outputs)}}function Br(t){t.features?.forEach(i=>i(t))}function Ti(t,i){if(!t)return null;const o=i?Yi:_s;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(Io)}const pi=0,Zt=1,Nn=2,Vi=3,Cr=4,Ur=5,er=6,Tr=7,Di=8,yr=9,we=10,z=11,j=12,J=13,ve=14,Ne=15,ft=16,Ot=17,Yt=18,gn=19,Rn=20,ri=21,Xi=22,sr=23,ar=24,xn=25,Ao=1,ao=2,Rr=7,Pr=9,ji=11;function ui(t){return Array.isArray(t)&&"object"==typeof t[Ao]}function hr(t){return Array.isArray(t)&&!0===t[Ao]}function Et(t){return 0!=(4&t.flags)}function We(t){return t.componentOffset>-1}function Ve(t){return 1==(1&t.flags)}function qe(t){return!!t.template}function yt(t){return 0!=(512&t[Nn])}function go(t,i){return t.hasOwnProperty(Fi)?t[Fi]:null}let jr=null,Rs=!1;function vo(t){const i=jr;return jr=t,i}const Aa={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function lo(t){if(!jo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ma(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ps(t){t.dirty=!0,function bs(t){if(void 0===t.liveConsumerNode)return;const i=Rs;Rs=!0;try{for(const o of t.liveConsumerNode)o.dirty||Ps(o)}finally{Rs=i}}(t),t.consumerMarkedDirty?.(t)}function dl(t){return t&&(t.nextProducerIndex=0),vo(t)}function Uo(t,i){if(vo(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(jo(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Ws(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ma(t){ga(t);for(let i=0;i<t.producerNode.length;i++){const o=t.producerNode[i],a=t.producerLastReadVersion[i];if(a!==o.version||(lo(o),a!==o.version))return!0}return!1}function Hi(t){if(ga(t),jo(t))for(let i=0;i<t.producerNode.length;i++)Ws(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ws(t,i){if(function sa(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ga(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Ws(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[i],c=t.liveConsumerNode[i];ga(c),c.producerIndexOfThis[a]=i}}function jo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ga(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let _a=null;function pt(t){const i=vo(null);try{return t()}finally{vo(i)}}const bn=()=>{},ir=(()=>({...Aa,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:bn}))();class Ki{constructor(i,o,a){this.previousValue=i,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Mn(){return lr}function lr(t){return t.type.prototype.ngOnChanges&&(t.setInput=fr),Bi}function Bi(){const t=At(this),i=t?.current;if(i){const o=t.previous;if(o===zt)t.previous=i;else for(let a in i)o[a]=i[a];t.current=null,this.ngOnChanges(i)}}function fr(t,i,o,a){const c=this.declaredInputs[o],h=At(t)||function rr(t,i){return t[Ns]=i}(t,{previous:zt,current:null}),v=h.current||(h.current={}),I=h.previous,D=I[c];v[c]=new Ki(D&&D.currentValue,i,I===zt),t[a]=i}Mn.ngInherit=!0;const Ns="__ngSimpleChanges__";function At(t){return t[Ns]||null}const Ht=function(t,i,o){};function Pt(t){for(;Array.isArray(t);)t=t[pi];return t}function Rt(t,i){return Pt(i[t])}function Ci(t,i){return Pt(i[t.index])}function Eu(t,i){return t.data[i]}function Go(t,i){const o=i[t];return ui(o)?o:o[pi]}function wo(t,i){return null==i?null:t[i]}function hc(t){t[Ot]=0}function cd(t){1024&t[Nn]||(t[Nn]|=1024,Jn(t,1))}function pl(t){1024&t[Nn]&&(t[Nn]&=-1025,Jn(t,-1))}function Jn(t,i){let o=t[Vi];if(null===o)return;o[Ur]+=i;let a=o;for(o=o[Vi];null!==o&&(1===i&&1===a[Ur]||-1===i&&0===a[Ur]);)o[Ur]+=i,a=o,o=o[Vi]}const pn={lFrame:la(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Jt(){return pn.bindingsEnabled}function Hr(){return null!==pn.skipHydrationRootTNode}function Ct(){return pn.lFrame.lView}function Si(){return pn.lFrame.tView}function Es(t){return pn.lFrame.contextLView=t,t[Di]}function qo(t){return pn.lFrame.contextLView=null,t}function co(){let t=Ra();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ra(){return pn.lFrame.currentTNode}function zr(t,i){const o=pn.lFrame;o.currentTNode=t,o.isParent=i}function qs(){return pn.lFrame.isParent}function it(){pn.lFrame.isParent=!1}function M(){return pn.lFrame.bindingIndex++}function E(t){const i=pn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,o}function ce(t,i){const o=pn.lFrame;o.bindingIndex=o.bindingRootIndex=t,lt(i)}function lt(t){pn.lFrame.currentDirectiveIndex=t}function ct(t){const i=pn.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}function an(){return pn.lFrame.currentQueryIndex}function An(t){pn.lFrame.currentQueryIndex=t}function Fr(t){const i=t[Zt];return 2===i.type?i.declTNode:1===i.type?t[er]:null}function Ni(t,i,o){if(o&sn.SkipSelf){let c=i,h=t;for(;!(c=c.parent,null!==c||o&sn.Host||(c=Fr(h),null===c||(h=h[ve],10&c.type))););if(null===c)return!1;i=c,t=h}const a=pn.lFrame=Ls();return a.currentTNode=i,a.lView=t,!0}function uo(t){const i=Ls(),o=t[Zt];pn.lFrame=i,i.currentTNode=o.firstChild,i.lView=t,i.tView=o,i.contextLView=t,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Ls(){const t=pn.lFrame,i=null===t?null:t.child;return null===i?la(t):i}function la(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function Pa(){const t=pn.lFrame;return pn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Oa=Pa;function jl(){const t=Pa();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ns(){return pn.lFrame.selectedIndex}function ca(t){pn.lFrame.selectedIndex=t}function Kr(){const t=pn.lFrame;return Eu(t.tView,t.selectedIndex)}let hd=!0;function Hl(){return hd}function ua(t){hd=t}function gc(t,i){for(let o=i.directiveStart,a=i.directiveEnd;o<a;o++){const h=t.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:D,ngAfterViewChecked:G,ngOnDestroy:ae}=h;v&&(t.contentHooks??=[]).push(-o,v),I&&((t.contentHooks??=[]).push(o,I),(t.contentCheckHooks??=[]).push(o,I)),D&&(t.viewHooks??=[]).push(-o,D),G&&((t.viewHooks??=[]).push(o,G),(t.viewCheckHooks??=[]).push(o,G)),null!=ae&&(t.destroyHooks??=[]).push(o,ae)}}function Na(t,i,o){$l(t,i,3,o)}function zl(t,i,o,a){(3&t[Nn])===o&&$l(t,i,o,a)}function Fa(t,i){let o=t[Nn];(3&o)===i&&(o&=8191,o+=1,t[Nn]=o)}function $l(t,i,o,a){const h=a??-1,v=i.length-1;let I=0;for(let D=void 0!==a?65535&t[Ot]:0;D<v;D++)if("number"==typeof i[D+1]){if(I=i[D],null!=a&&I>=a)break}else i[D]<0&&(t[Ot]+=65536),(I<h||-1==h)&&(Hc(t,o,i,D),t[Ot]=(4294901760&t[Ot])+D+2),D++}function Mo(t,i){Ht(4,t,i);const o=vo(null);try{i.call(t)}finally{vo(o),Ht(5,t,i)}}function Hc(t,i,o,a){const c=o[a]<0,h=o[a+1],I=t[c?-o[a]:o[a]];c?t[Nn]>>13<t[Ot]>>16&&(3&t[Nn])===i&&(t[Nn]+=8192,Mo(I,h)):Mo(I,h)}const is=-1;class ka{constructor(i,o,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Zs(t){return t!==is}function to(t){return 32767&t}function Is(t,i){let o=function _c(t){return t>>16}(t),a=i;for(;o>0;)a=a[ve],o--;return a}let Zr=!0;function ws(t){const i=Zr;return Zr=t,i}const gl=255,Wl=5;let fd=0;const Ho={};function _l(t,i){const o=Cs(t,i);if(-1!==o)return o;const a=i[Zt];a.firstCreatePass&&(t.injectorIndex=i.length,xs(a.data,t),xs(i,null),xs(a.blueprint,null));const c=Ba(t,i),h=t.injectorIndex;if(Zs(c)){const v=to(c),I=Is(c,i),D=I[Zt].data;for(let G=0;G<8;G++)i[h+G]=I[v+G]|D[v+G]}return i[h+8]=c,h}function xs(t,i){t.push(0,0,0,0,0,0,0,0,i)}function Cs(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function Ba(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,c=i;for(;null!==c;){if(a=kr(c),null===a)return is;if(o++,c=c[ve],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return is}function ha(t,i,o){!function Va(t,i,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Mr)&&(a=o[Mr]),null==a&&(a=o[Mr]=fd++);const c=a&gl;i.data[t+(c>>Wl)]|=1<<c}(t,i,o)}function Ka(t,i,o){if(o&sn.Optional||void 0!==t)return t;jt()}function $c(t,i,o,a){if(o&sn.Optional&&void 0===a&&(a=null),!(o&(sn.Self|sn.Host))){const c=t[yr],h=hn(void 0);try{return c?c.get(i,a,o&sn.Optional):wi(i,a,o&sn.Optional)}finally{hn(h)}}return Ka(a,0,o)}function vl(t,i,o,a=sn.Default,c){if(null!==t){if(2048&i[Nn]&&!(a&sn.Self)){const v=function Du(t,i,o,a,c){let h=t,v=i;for(;null!==h&&null!==v&&2048&v[Nn]&&!(512&v[Nn]);){const I=Ys(h,v,o,a|sn.Self,Ho);if(I!==Ho)return I;let D=h.parent;if(!D){const G=v[Rn];if(G){const ae=G.get(o,Ho,a);if(ae!==Ho)return ae}D=kr(v),v=v[ve]}h=D}return c}(t,i,o,a,Ho);if(v!==Ho)return v}const h=Ys(t,i,o,a,Ho);if(h!==Ho)return h}return $c(i,o,a,c)}function Ys(t,i,o,a,c){const h=function Wc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(Mr)?t[Mr]:void 0;return"number"==typeof i?i>=0?i&gl:pd:i}(o);if("function"==typeof h){if(!Ni(i,t,a))return a&sn.Host?Ka(c,0,a):$c(i,o,a,c);try{let v;if(v=h(a),null!=v||a&sn.Optional)return v;jt()}finally{Oa()}}else if("number"==typeof h){let v=null,I=Cs(t,i),D=is,G=a&sn.Host?i[Ne][er]:null;for((-1===I||a&sn.SkipSelf)&&(D=-1===I?Ba(t,i):i[I+8],D!==is&&Za(a,!1)?(v=i[Zt],I=to(D),i=Is(D,i)):I=-1);-1!==I;){const ae=i[Zt];if(Ua(h,I,ae.data)){const xe=Gl(I,i,o,v,a,G);if(xe!==Ho)return xe}D=i[I+8],D!==is&&Za(a,i[Zt].data[I+8]===G)&&Ua(h,I,i)?(v=ae,I=to(D),i=Is(D,i)):I=-1}}return c}function Gl(t,i,o,a,c,h){const v=i[Zt],I=v.data[t+8],ae=cs(I,v,o,null==a?We(I)&&Zr:a!=v&&0!=(3&I.type),c&sn.Host&&h===I);return null!==ae?Qs(i,v,ae,I):Ho}function cs(t,i,o,a,c){const h=t.providerIndexes,v=i.data,I=1048575&h,D=t.directiveStart,ae=h>>20,ze=c?I+ae:t.directiveEnd;for(let rt=a?I:I+ae;rt<ze;rt++){const xt=v[rt];if(rt<D&&o===xt||rt>=D&&xt.type===o)return rt}if(c){const rt=v[D];if(rt&&qe(rt)&&rt.type===o)return D}return null}function Qs(t,i,o,a){let c=t[o];const h=i.data;if(function wr(t){return t instanceof ka}(c)){const v=c;v.resolving&&function Ze(t,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new me(-200,`Circular dependency in DI detected for ${t}${o}`)}(function Je(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Oe(t)}(h[o]));const I=ws(v.canSeeViewProviders);v.resolving=!0;const G=v.injectImpl?hn(v.injectImpl):null;Ni(t,a,sn.Default);try{c=t[o]=v.factory(void 0,h,t,a),i.firstCreatePass&&o>=a.directiveStart&&function mc(t,i,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(a){const v=lr(i);(o.preOrderHooks??=[]).push(t,v),(o.preOrderCheckHooks??=[]).push(t,v)}c&&(o.preOrderHooks??=[]).push(0-t,c),h&&((o.preOrderHooks??=[]).push(t,h),(o.preOrderCheckHooks??=[]).push(t,h))}(o,h[o],i)}finally{null!==G&&hn(G),ws(I),v.resolving=!1,Oa()}}return c}function Ua(t,i,o){return!!(o[i+(t>>Wl)]&1<<t)}function Za(t,i){return!(t&sn.Self||t&sn.Host&&i)}class Ko{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,a){return vl(this._tNode,this._lView,i,cn(a),o)}}function pd(){return new Ko(co(),Ct())}function Ya(t){return be(()=>{const i=t.prototype.constructor,o=i[Fi]||no(i),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const h=c[Fi]||no(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function no(t){return ht(t)?()=>{const i=no(ot(t));return i&&i()}:go(t)}function kr(t){const i=t[Zt],o=i.type;return 2===o?i.declTNode:1===o?t[er]:null}function Ia(t){return function yc(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const o=t.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const h=o[c];if(Wr(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(h===i)return o[c+1];c+=2}}}return null}(co(),t)}const Qa="__parameters__";function mi(t,i,o){return be(()=>{const a=function Gc(t){return function(...o){if(t){const a=t(...o);for(const c in a)this[c]=a[c]}}}(i);function c(...h){if(this instanceof c)return a.apply(this,h),this;const v=new c(...h);return I.annotation=v,I;function I(D,G,ae){const xe=D.hasOwnProperty(Qa)?D[Qa]:Object.defineProperty(D,Qa,{value:[]})[Qa];for(;xe.length<=ae;)xe.push(null);return(xe[ae]=xe[ae]||[]).push(v),D}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function g(t,i){t.forEach(o=>Array.isArray(o)?g(o,i):i(o))}function m(t,i,o){i>=t.length?t.push(o):t.splice(i,0,o)}function y(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function B(t,i){const o=[];for(let a=0;a<t;a++)o.push(i);return o}function ut(t,i,o){let a=en(t,i);return a>=0?t[1|a]=o:(a=~a,function Se(t,i,o,a){let c=t.length;if(c==i)t.push(o,a);else if(1===c)t.push(a,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>i;)t[c]=t[c-2],c--;t[i]=o,t[i+1]=a}}(t,a,i,o)),a}function Wt(t,i){const o=en(t,i);if(o>=0)return t[1|o]}function en(t,i){return function ei(t,i,o){let a=0,c=t.length>>o;for(;c!==a;){const h=a+(c-a>>1),v=t[h<<o];if(i===v)return h<<o;v>i?c=h:a=h+1}return~(c<<o)}(t,i,1)}const Qr=tt(mi("Optional"),8),us=tt(mi("SkipSelf"),4);function Ed(t){return 128==(128&t.flags)}var Xl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xl||{});const sp=/^>|^->|<!--|-->|--!>|<!-$/g,ap=/(<|>)/g,lp="\u200b$1\u200b";const cp=new Map;let pv=0;const Rh="__ngContext__";function ds(t,i){ui(i)?(t[Rh]=i[gn],function ur(t){cp.set(t[gn],t)}(i)):t[Rh]=i}let gp;function _p(t,i){return gp(t,i)}function Kc(t){const i=t[Vi];return hr(i)?i[Vi]:i}function _g(t){return Oh(t[j])}function Oo(t){return Oh(t[Cr])}function Oh(t){for(;null!==t&&!hr(t);)t=t[Cr];return t}function Zc(t,i,o,a,c){if(null!=a){let h,v=!1;hr(a)?h=a:ui(a)&&(v=!0,a=a[pi]);const I=Pt(a);0===t&&null!==o?null==c?Ig(i,o,I):Yc(i,o,I,c||null,!0):1===t&&null!==o?Yc(i,o,I,c||null,!0):2===t?function xc(t,i,o){const a=Dd(t,i);a&&function Ic(t,i,o,a){t.removeChild(i,o,a)}(t,a,i,o)}(i,I,v):3===t&&i.destroyNode(I),null!=h&&function Ev(t,i,o,a,c){const h=o[Rr];h!==Pt(o)&&Zc(i,t,a,h,c);for(let I=ji;I<o.length;I++){const D=o[I];Xc(D[Zt],D,t,i,a,h)}}(i,t,h,o,c)}}function wd(t,i){return t.createComment(function Sh(t){return t.replace(sp,i=>i.replace(ap,lp))}(i))}function xd(t,i,o){return t.createElement(i,o)}function Fu(t,i){const o=t[Pr],a=o.indexOf(i);pl(i),o.splice(a,1)}function ku(t,i){if(t.length<=ji)return;const o=ji+i,a=t[o];if(a){const c=a[ft];null!==c&&c!==t&&Fu(c,a),i>0&&(t[o-1][Cr]=a[Cr]);const h=y(t,ji+i);!function Cd(t,i){Xc(t,i,i[z],2,null,null),i[pi]=null,i[er]=null}(a[Zt],a);const v=h[Yt];null!==v&&v.detachView(h[Zt]),a[Vi]=null,a[Cr]=null,a[Nn]&=-129}return a}function vp(t,i){if(!(256&i[Nn])){const o=i[z];i[sr]&&Hi(i[sr]),i[ar]&&Hi(i[ar]),o.destroyNode&&Xc(t,i,o,3,null,null),function bg(t){let i=t[j];if(!i)return Nh(t[Zt],t);for(;i;){let o=null;if(ui(i))o=i[j];else{const a=i[ji];a&&(o=a)}if(!o){for(;i&&!i[Cr]&&i!==t;)ui(i)&&Nh(i[Zt],i),i=i[Vi];null===i&&(i=t),ui(i)&&Nh(i[Zt],i),o=i&&i[Cr]}i=o}}(i)}}function Nh(t,i){if(!(256&i[Nn])){i[Nn]&=-129,i[Nn]|=256,function Eg(t,i){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const c=i[o[a]];if(!(c instanceof ka)){const h=o[a+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const I=c[h[v]],D=h[v+1];Ht(4,I,D);try{D.call(I)}finally{Ht(5,I,D)}}else{Ht(4,c,h);try{h.call(c)}finally{Ht(5,c,h)}}}}}(t,i),function yp(t,i){const o=t.cleanup,a=i[Tr];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const v=o[h+3];v>=0?a[v]():a[-v].unsubscribe(),h+=2}else o[h].call(a[o[h+1]]);null!==a&&(i[Tr]=null);const c=i[ri];if(null!==c){i[ri]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(t,i),1===i[Zt].type&&i[z].destroy();const o=i[ft];if(null!==o&&hr(i[Vi])){o!==i[Vi]&&Fu(o,i);const a=i[Yt];null!==a&&a.detachView(t)}!function fg(t){cp.delete(t[gn])}(i)}}function bp(t,i,o){return function Ep(t,i,o){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return o[pi];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=t.data[a.directiveStart+c];if(h===Dt.None||h===Dt.Emulated)return null}return Ci(a,o)}}(t,i.parent,o)}function Yc(t,i,o,a,c){t.insertBefore(i,o,a,c)}function Ig(t,i,o){t.appendChild(i,o)}function wg(t,i,o,a,c){null!==a?Yc(t,i,o,a,c):Ig(t,i,o)}function Dd(t,i){return t.parentNode(i)}function Ip(t,i,o){return wp(t,i,o)}let xp,Cl,tc,Rd,wp=function xl(t,i,o){return 40&t.type?Ci(t,o):null};function Qc(t,i,o,a){const c=bp(t,a,i),h=i[z],I=Ip(a.parent||i[er],a,i);if(null!=c)if(Array.isArray(o))for(let D=0;D<o.length;D++)wg(h,c,o[D],I,!1);else wg(h,c,o,I,!1);void 0!==xp&&xp(h,a,i,o,c)}function el(t,i){if(null!==i){const o=i.type;if(3&o)return Ci(i,t);if(4&o)return ec(-1,t[i.index]);if(8&o){const a=i.child;if(null!==a)return el(t,a);{const c=t[i.index];return hr(c)?ec(-1,c):Pt(c)}}if(32&o)return _p(i,t)()||Pt(t[i.index]);{const a=wc(t,i);return null!==a?Array.isArray(a)?a[0]:el(Kc(t[Ne]),a):el(t,i.next)}}return null}function wc(t,i){return null!==i?t[Ne][er].projection[i.projection]:null}function ec(t,i){const o=ji+t+1;if(o<i.length){const a=i[o],c=a[Zt].firstChild;if(null!==c)return el(a,c)}return i[Rr]}function Ad(t,i,o,a,c,h,v){for(;null!=o;){const I=a[o.index],D=o.type;if(v&&0===i&&(I&&ds(Pt(I),a),o.flags|=2),32!=(32&o.flags))if(8&D)Ad(t,i,o.child,a,c,h,!1),Zc(i,t,c,I,h);else if(32&D){const G=_p(o,a);let ae;for(;ae=G();)Zc(i,t,c,ae,h);Zc(i,t,c,I,h)}else 16&D?Dp(t,i,a,o,c,h):Zc(i,t,c,I,h);o=v?o.projectionNext:o.next}}function Xc(t,i,o,a,c,h){Ad(o,a,t.firstChild,i,c,h,!1)}function Dp(t,i,o,a,c,h){const v=o[Ne],D=v[er].projection[a.projection];if(Array.isArray(D))for(let G=0;G<D.length;G++)Zc(i,t,c,D[G],h);else{let G=D;const ae=v[Vi];Ed(a)&&(G.flags|=128),Ad(t,i,G,ae,c,h,!0)}}function Sd(t,i,o){""===o?t.removeAttribute(i,"class"):t.setAttribute(i,"class",o)}function Lu(t,i,o){const{mergedAttrs:a,classes:c,styles:h}=o;null!==a&&fi(t,i,a),null!==c&&Sd(t,i,c),null!==h&&function Tg(t,i,o){t.setAttribute(i,"style",o)}(t,i,h)}function Jc(t){return function Ap(){if(void 0===Cl&&(Cl=null,Tn.trustedTypes))try{Cl=Tn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cl}()?.createHTML(t)||t}function Cc(t){tc=t}function Lh(t){return function Fh(){if(void 0===Rd&&(Rd=null,Tn.trustedTypes))try{Rd=Tn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rd}()?.createScriptURL(t)||t}class Tc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vt})`}}class Sp extends Tc{getTypeName(){return"HTML"}}class Mp extends Tc{getTypeName(){return"Style"}}class Ag extends Tc{getTypeName(){return"Script"}}class Vh extends Tc{getTypeName(){return"URL"}}class xv extends Tc{getTypeName(){return"ResourceURL"}}function tl(t){return t instanceof Tc?t.changingThisBreaksApplicationSecurity:t}function nc(t,i){const o=function Cv(t){return t instanceof Tc&&t.getTypeName()||null}(t);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${vt})`)}return o===i}function Sg(t){return new Sp(t)}function Vu(t){return new Mp(t)}function Pd(t){return new Ag(t)}function Bu(t){return new Vh(t)}function Mg(t){return new xv(t)}class Us{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Jc(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class Rg{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=Jc(i),o}}const Uh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Od(t){return(t=String(t)).match(Uh)?t:"unsafe:"+t}function js(t){const i={};for(const o of t.split(","))i[o]=!0;return i}function Tl(...t){const i={};for(const o of t)for(const a in o)o.hasOwnProperty(a)&&(i[a]=!0);return i}const Pp=js("area,br,col,hr,img,wbr"),Dc=js("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pg=js("rp,rt"),jh=Tl(Pp,Tl(Dc,js("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tl(Pg,js("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tl(Pg,Dc)),Op=js("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Np=Tl(Op,js("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),js("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Av=js("script,style,template");class Hh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!jh.hasOwnProperty(o))return this.sanitizedSomething=!0,!Av.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=i.attributes;for(let c=0;c<a.length;c++){const h=a.item(c),v=h.name,I=v.toLowerCase();if(!Np.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let D=h.value;Op[I]&&(D=Od(D)),this.buf.push(" ",v,'="',Fp(D),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();jh.hasOwnProperty(o)&&!Pp.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Fp(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Og=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sv=/([^\#-~ |!])/g;function Fp(t){return t.replace(/&/g,"&amp;").replace(Og,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Sv,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zh;function kp(t,i){let o=null;try{zh=zh||function Rp(t){const i=new Rg(t);return function Bh(){try{return!!(new window.DOMParser).parseFromString(Jc(""),"text/html")}catch{return!1}}()?new Us(i):i}(t);let a=i?String(i):"";o=zh.getInertBodyElement(a);let c=5,h=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=h,h=o.innerHTML,o=zh.getInertBodyElement(a)}while(a!==h);return Jc((new Hh).sanitizeChildren(ic(o)||o))}finally{if(o){const a=ic(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function ic(t){return"content"in t&&function Fd(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ac=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ac||{});function $h(t){const i=nu();return i?i.sanitize(Ac.URL,t)||"":nc(t,"URL")?tl(t):Od(Oe(t))}function Fg(t){const i=nu();if(i)return Lh(i.sanitize(Ac.RESOURCE_URL,t)||"");if(nc(t,"ResourceURL"))return Lh(tl(t));throw new me(904,!1)}function kg(t,i,o){return function Pv(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?Fg:$h}(i,o)(t)}function nu(){const t=Ct();return t&&t[we].sanitizer}const kd=new Kt("ENVIRONMENT_INITIALIZER"),Ld=new Kt("INJECTOR",-1),Vd=new Kt("INJECTOR_DEF_TYPES");class Vp{get(i,o=qi){if(o===qi){const a=new Error(`NullInjectorError: No provider for ${Me(i)}!`);throw a.name="NullInjectorError",a}return o}}function Up(...t){return{\u0275providers:Wh(0,t),\u0275fromNgModule:!0}}function Wh(t,...i){const o=[],a=new Set;let c;const h=v=>{o.push(v)};return g(i,v=>{const I=v;iu(I,h,[],a)&&(c||=[],c.push(I))}),void 0!==c&&Uu(c,h),o}function Uu(t,i){for(let o=0;o<t.length;o++){const{ngModule:a,providers:c}=t[o];Bd(c,h=>{i(h,a)})}}function iu(t,i,o,a){if(!(t=ot(t)))return!1;let c=null,h=Ji(t);const v=!h&&Zn(t);if(h||v){if(v&&!v.standalone)return!1;c=t}else{const D=t.ngModule;if(h=Ji(D),!h)return!1;c=D}const I=a.has(c);if(v){if(I)return!1;if(a.add(c),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const G of D)iu(G,i,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!I){let G;a.add(c);try{g(h.imports,ae=>{iu(ae,i,o,a)&&(G||=[],G.push(ae))})}finally{}void 0!==G&&Uu(G,i)}if(!I){const G=go(c)||(()=>new c);i({provide:c,useFactory:G,deps:Bt},c),i({provide:Vd,useValue:c,multi:!0},c),i({provide:kd,useValue:()=>Mt(c),multi:!0},c)}const D=h.providers;if(null!=D&&!I){const G=t;Bd(D,ae=>{i(ae,G)})}}}return c!==t&&void 0!==t.providers}function Bd(t,i){for(let o of t)mt(o)&&(o=o.\u0275providers),Array.isArray(o)?Bd(o,i):i(o)}const Ov=le({provide:String,useValue:le});function Gh(t){return null!==t&&"object"==typeof t&&Ov in t}function Sc(t){return"function"==typeof t}const zp=new Kt("Set Injector scope."),Ud={},Nv={};let qh;function Kh(){return void 0===qh&&(qh=new Vp),qh}class ta{}class nl extends ta{get destroyed(){return this._destroyed}constructor(i,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hd(i,v=>this.processProvider(v)),this.records.set(Ld,ru(void 0,this)),c.has("environment")&&this.records.set(ta,ru(void 0,this));const h=this.records.get(zp);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Vd.multi,Bt,sn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const o=Ue(this),a=hn(void 0);try{return i()}finally{Ue(o),hn(a)}}get(i,o=qi,a=sn.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(ki))return i[ki](this);a=cn(a);const h=Ue(this),v=hn(void 0);try{if(!(a&sn.SkipSelf)){let D=this.records.get(i);if(void 0===D){const G=function kv(t){return"function"==typeof t||"object"==typeof t&&t instanceof Kt}(i)&&ni(i);D=G&&this.injectableDefInScope(G)?ru(jd(i),Ud):null,this.records.set(i,D)}if(null!=D)return this.hydrate(i,D)}return(a&sn.Self?Kh():this.parent).get(i,o=a&sn.Optional&&o===qi?null:o)}catch(I){if("NullInjectorError"===I.name){if((I[St]=I[St]||[]).unshift(Me(i)),h)throw I;return function Ee(t,i,o,a){const c=t[St];throw i[N]&&c.unshift(i[N]),t.message=function ge(t,i,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Me(i);if(Array.isArray(i))c=i.map(Me).join(" -> ");else if("object"==typeof i){let h=[];for(let v in i)if(i.hasOwnProperty(v)){let I=i[v];h.push(v+":"+("string"==typeof I?JSON.stringify(I):Me(I)))}c=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${t.replace(L,"\n  ")}`}("\n"+t.message,c,o,a),t.ngTokenPath=c,t[St]=null,t}(I,i,"R3InjectorError",this.source)}throw I}finally{hn(v),Ue(h)}}resolveInjectorInitializers(){const i=Ue(this),o=hn(void 0);try{const c=this.get(kd.multi,Bt,sn.Self);for(const h of c)h()}finally{Ue(i),hn(o)}}toString(){const i=[],o=this.records;for(const a of o.keys())i.push(Me(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(i){let o=Sc(i=ot(i))?i:ot(i&&i.provide);const a=function Bg(t){return Gh(t)?ru(void 0,t.useValue):ru($p(t),Ud)}(i);if(Sc(i)||!0!==i.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=ru(void 0,Ud,!0),c.factory=()=>jn(c.multi),this.records.set(o,c)),o=i,c.multi.push(i)}this.records.set(o,a)}hydrate(i,o){return o.value===Ud&&(o.value=Nv,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Wp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ot(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(i){const o=this._onDestroyHooks.indexOf(i);-1!==o&&this._onDestroyHooks.splice(o,1)}}function jd(t){const i=ni(t),o=null!==i?i.factory:go(t);if(null!==o)return o;if(t instanceof Kt)throw new me(204,!1);if(t instanceof Function)return function Zh(t){const i=t.length;if(i>0)throw B(i,"?"),new me(204,!1);const o=function Ui(t){return t&&(t[Ri]||t[Ii])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new me(204,!1)}function $p(t,i,o){let a;if(Sc(t)){const c=ot(t);return go(c)||jd(c)}if(Gh(t))a=()=>ot(t.useValue);else if(function jp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...jn(t.deps||[]));else if(function Vg(t){return!(!t||!t.useExisting)}(t))a=()=>Mt(ot(t.useExisting));else{const c=ot(t&&(t.useClass||t.provide));if(!function Fv(t){return!!t.deps}(t))return go(c)||jd(c);a=()=>new c(...jn(t.deps))}return a}function ru(t,i,o=!1){return{factory:t,value:i,multi:o?[]:void 0}}function Hd(t,i){for(const o of t)Array.isArray(o)?Hd(o,i):o&&mt(o)?Hd(o.\u0275providers,i):i(o)}const Gp=new Kt("AppId",{providedIn:"root",factory:()=>Ug}),Ug="ng",Yh=new Kt("Platform Initializer"),ju=new Kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xh=new Kt("AnimationModuleType"),qp=new Kt("CSP nonce",{providedIn:"root",factory:()=>function eu(){if(void 0!==tc)return tc;if(typeof document<"u")return document;throw new me(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ef=(t,i,o)=>null;function su(t,i,o=!1){return ef(t,i,o)}class jv{}class sf{}class em{resolveComponentFactory(i){throw function Hv(t){const i=Error(`No component factory found for ${Me(t)}.`);return i.ngComponent=t,i}(i)}}let Mc=(()=>{class t{static#e=this.NULL=new em}return t})();function tm(){return au(co(),Ct())}function au(t,i){return new Al(Ci(t,i))}let Al=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=tm}return t})();function nm(t){return t instanceof Al?t.nativeElement:t}class zg{}let zv=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function $g(){const t=Ct(),o=Go(co().index,t);return(ui(o)?o:t)[z]}()}return t})(),Wg=(()=>{class t{static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:()=>null})}return t})();class Gg{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const lf=new Gg("16.2.11"),im={};function df(t,i=null,o=null,a){const c=cu(t,i,o,a);return c.resolveInjectorInitializers(),c}function cu(t,i=null,o=null,a,c=new Set){const h=[o||Bt,Up(t)];return a=a||("object"==typeof t?void 0:Me(t)),new nl(h,i||Kh(),a||null,c)}let Hs=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=qi;static#t=this.NULL=new Vp;static create(o,a){if(Array.isArray(o))return df({name:""},a,o,"");{const c=o.name??"";return df({name:c},o.parent,o.providers,c)}}static#n=this.\u0275prov=In({token:t,providedIn:"any",factory:()=>Mt(Ld)});static#i=this.__NG_ELEMENT_ID__=-1}return t})();function um(t){return t.ngOriginalError}class Rc{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&um(i);for(;o&&um(o);)o=um(o);return o||null}}function fm(t){return i=>{setTimeout(t,void 0,i)}}const Sl=class hm extends u.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,a){let c=i,h=o||(()=>null),v=a;if(i&&"object"==typeof i){const D=i;c=D.next?.bind(D),h=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(h=fm(h),c&&(c=fm(c)),v&&(v=fm(v)));const I=super.subscribe({next:c,error:h,complete:v});return i instanceof $.w0&&i.add(I),I}};function hf(...t){}class rs{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sl(!1),this.onMicrotaskEmpty=new Sl(!1),this.onStable=new Sl(!1),this.onError=new Sl(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function pm(){const t="function"==typeof Tn.requestAnimationFrame;let i=Tn[t?"requestAnimationFrame":"setTimeout"],o=Tn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Yg(t){const i=()=>{!function Zg(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Tn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pf(t),t.isCheckStableRunning=!0,ff(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,h,v,I)=>{if(function mm(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(I))return o.invokeTask(c,h,v,I);try{return Qg(t),o.invokeTask(c,h,v,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&i(),Xg(t)}},onInvoke:(o,a,c,h,v,I,D)=>{try{return Qg(t),o.invoke(c,h,v,I,D)}finally{t.shouldCoalesceRunChangeDetection&&i(),Xg(t)}},onHasTask:(o,a,c,h)=>{o.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,pf(t),ff(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,c,h)=>(o.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rs.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(rs.isInAngularZone())throw new me(909,!1)}run(i,o,a){return this._inner.run(i,o,a)}runTask(i,o,a,c){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+c,i,Wv,hf,hf);try{return h.runTask(v,o,a)}finally{h.cancelTask(v)}}runGuarded(i,o,a){return this._inner.runGuarded(i,o,a)}runOutsideAngular(i){return this._outer.run(i)}}const Wv={};function ff(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Qg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xg(t){t._nesting--,ff(t)}class Gv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sl,this.onMicrotaskEmpty=new Sl,this.onStable=new Sl,this.onError=new Sl}run(i,o,a){return i.apply(o,a)}runGuarded(i,o,a){return i.apply(o,a)}runOutsideAngular(i){return i()}runTask(i,o,a,c){return i.apply(o,a)}}const Jg=new Kt("",{providedIn:"root",factory:mf});function mf(){const t=Ft(rs);let i=!0;const o=new te.y(c=>{i=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(i),c.complete()})}),a=new te.y(c=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{rs.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(i=!0,c.next(!0))})})});const v=t.onUnstable.subscribe(()=>{rs.assertInAngularZone(),i&&(i=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),v.unsubscribe()}});return(0,H.T)(o,a.pipe((0,Te.B)()))}function il(t){return t instanceof Function?t():t}let vm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:()=>new t})}return t})();function du(t){for(;t;){t[Nn]|=64;const i=Kc(t);if(yt(t)&&!i)return t;t=i}return null}const n_=new Kt("",{providedIn:"root",factory:()=>!1});let Ef=null;function a_(t,i){return t[i]??l_()}function If(t,i){const o=l_();o.producerNode?.length&&(t[i]=Ef,o.lView=t,Ef=wf())}const Zv={...Aa,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{du(t.lView)},lView:null};function wf(){return Object.create(Zv)}function l_(){return Ef??=wf(),Ef}const vi={};function c_(t){xf(Si(),Ct(),ns()+t,!1)}function xf(t,i,o,a){if(!a)if(3==(3&i[Nn])){const h=t.preOrderCheckHooks;null!==h&&Na(i,h,o)}else{const h=t.preOrderHooks;null!==h&&zl(i,h,0,o)}ca(o)}function hu(t,i=sn.Default){const o=Ct();return null===o?Mt(t,i):vl(co(),o,ot(t),i)}function Cf(){throw new Error("invalid")}function Tf(t,i,o,a,c,h,v,I,D,G,ae){const xe=i.blueprint.slice();return xe[pi]=c,xe[Nn]=140|a,(null!==G||t&&2048&t[Nn])&&(xe[Nn]|=2048),hc(xe),xe[Vi]=xe[ve]=t,xe[Di]=o,xe[we]=v||t&&t[we],xe[z]=I||t&&t[z],xe[yr]=D||t&&t[yr]||null,xe[er]=h,xe[gn]=function Zo(){return pv++}(),xe[Xi]=ae,xe[Rn]=G,xe[Ne]=2==i.type?t[Ne]:xe,xe}function Zu(t,i,o,a,c){let h=t.data[i];if(null===h)h=function Jd(t,i,o,a,c){const h=Ra(),v=qs(),D=t.data[i]=function Xv(t,i,o,a,c,h){let v=i?i.injectorIndex:-1,I=0;return Hr()&&(I|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,o,i,a,c);return null===t.firstChild&&(t.firstChild=D),null!==h&&(v?null==h.child&&null!==D.parent&&(h.child=D):null===h.next&&(h.next=D,D.prev=h)),D}(t,i,o,a,c),function R(){return pn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=a,h.attrs=c;const v=function Ea(){const t=pn.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return zr(h,!0),h}function eh(t,i,o,a){if(0===o)return-1;const c=i.length;for(let h=0;h<o;h++)i.push(a),t.blueprint.push(a),t.data.push(null);return c}function Df(t,i,o,a,c){const h=a_(i,sr),v=ns(),I=2&a;try{ca(-1),I&&i.length>xn&&xf(t,i,xn,!1),Ht(I?2:0,c);const G=I?h:null,ae=dl(G);try{null!==G&&(G.dirty=!1),o(a,c)}finally{Uo(G,ae)}}finally{I&&null===i[sr]&&If(i,sr),ca(v),Ht(I?3:1,c)}}function th(t,i,o){if(Et(i)){const a=vo(null);try{const h=i.directiveEnd;for(let v=i.directiveStart;v<h;v++){const I=t.data[v];I.contentQueries&&I.contentQueries(1,o[v],v)}}finally{vo(a)}}}function nh(t,i,o){Jt()&&(function g_(t,i,o,a){const c=o.directiveStart,h=o.directiveEnd;We(o)&&function ny(t,i,o){const a=Ci(i,t),c=Yu(o);let v=16;o.signals?v=4096:o.onPush&&(v=64);const I=oh(t,Tf(t,c,null,v,a,i,null,t[we].rendererFactory.createRenderer(a,o),null,null,null));t[i.index]=I}(i,o,t.data[c+o.componentOffset]),t.firstCreatePass||_l(o,i),ds(a,i);const v=o.initialInputs;for(let I=c;I<h;I++){const D=t.data[I],G=Qs(i,t,I,o);ds(G,i),null!==v&&iy(0,I-c,G,D,0,v),qe(D)&&(Go(o.index,i)[Di]=Qs(i,t,I,o))}}(t,i,o,Ci(o,i)),64==(64&o.flags)&&Mf(t,i,o))}function wm(t,i,o=Ci){const a=i.localNames;if(null!==a){let c=i.index+1;for(let h=0;h<a.length;h+=2){const v=a[h+1],I=-1===v?o(i,t):t[v];t[c++]=I}}}function Yu(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=xm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function xm(t,i,o,a,c,h,v,I,D,G,ae){const xe=xn+a,ze=xe+c,rt=function Cm(t,i){const o=[];for(let a=0;a<i;a++)o.push(a<t?null:vi);return o}(xe,ze),xt="function"==typeof G?G():G;return rt[Zt]={type:t,blueprint:rt,template:o,queries:null,viewQuery:I,declTNode:i,data:rt.slice().fill(null,xe),bindingStartIndex:xe,expandoStartIndex:ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:xt,incompleteFirstPass:!1,ssrId:ae}}let Tm=t=>null;function h_(t,i,o,a){for(let c in t)if(t.hasOwnProperty(c)){o=null===o?{}:o;const h=t[c];null===a?ih(o,i,c,h):a.hasOwnProperty(c)&&ih(o,i,a[c],h)}return o}function ih(t,i,o,a){t.hasOwnProperty(o)?t[o].push(i,a):t[o]=[i,a]}function na(t,i,o,a,c,h,v,I){const D=Ci(i,o);let ae,G=i.inputs;!I&&null!=G&&(ae=G[a])?($i(t,o,ae,a,c),We(i)&&function f_(t,i){const o=Go(i,t);16&o[Nn]||(o[Nn]|=64)}(o,i.index)):3&i.type&&(a=function Am(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=v?v(c,i.value||"",a):c,h.setProperty(D,a,c))}function Xu(t,i,o,a){if(Jt()){const c=null===a?null:{"":-1},h=function ed(t,i){const o=t.directiveRegistry;let a=null,c=null;if(o)for(let h=0;h<o.length;h++){const v=o[h];if(Yo(i,v.selectors,!1))if(a||(a=[]),qe(v))if(null!==v.findHostDirectiveDefs){const I=[];c=c||new Map,v.findHostDirectiveDefs(v,I,c),a.unshift(...I,v),rh(t,i,I.length)}else a.unshift(v),rh(t,i,0);else c=c||new Map,v.findHostDirectiveDefs?.(v,a,c),a.push(v)}return null===a?null:[a,c]}(t,o);let v,I;null===h?v=I=null:[v,I]=h,null!==v&&Sf(t,i,o,v,c,I),c&&function Jv(t,i,o){if(i){const a=t.localNames=[];for(let c=0;c<i.length;c+=2){const h=o[i[c+1]];if(null==h)throw new me(-301,!1);a.push(i[c],h)}}}(o,a,c)}o.mergedAttrs=_i(o.mergedAttrs,o.attrs)}function Sf(t,i,o,a,c,h){for(let G=0;G<a.length;G++)ha(_l(o,i),t,a[G].type);!function ty(t,i,o){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+o,t.providerIndexes=i}(o,t.data.length,a.length);for(let G=0;G<a.length;G++){const ae=a[G];ae.providersResolver&&ae.providersResolver(ae)}let v=!1,I=!1,D=eh(t,i,a.length,null);for(let G=0;G<a.length;G++){const ae=a[G];o.mergedAttrs=_i(o.mergedAttrs,ae.hostAttrs),v_(t,o,i,D,ae),ey(D,ae,c),null!==ae.contentQueries&&(o.flags|=4),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(o.flags|=64);const xe=ae.type.prototype;!v&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),v=!0),!I&&(xe.ngOnChanges||xe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),I=!0),D++}!function Dm(t,i,o){const c=i.directiveEnd,h=t.data,v=i.attrs,I=[];let D=null,G=null;for(let ae=i.directiveStart;ae<c;ae++){const xe=h[ae],ze=o?o.get(xe):null,xt=ze?ze.outputs:null;D=h_(xe.inputs,ae,D,ze?ze.inputs:null),G=h_(xe.outputs,ae,G,xt);const Gt=null===D||null===v||Fo(i)?null:ry(D,ae,v);I.push(Gt)}null!==D&&(D.hasOwnProperty("class")&&(i.flags|=8),D.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=I,i.inputs=D,i.outputs=G}(t,o,h)}function Mf(t,i,o){const a=o.directiveStart,c=o.directiveEnd,h=o.index,v=function De(){return pn.lFrame.currentDirectiveIndex}();try{ca(h);for(let I=a;I<c;I++){const D=t.data[I],G=i[I];lt(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&__(D,G)}}finally{ca(-1),lt(v)}}function __(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function rh(t,i,o){i.componentOffset=o,(t.components??=[]).push(i.index)}function ey(t,i,o){if(o){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)o[i.exportAs[a]]=t;qe(i)&&(o[""]=t)}}function v_(t,i,o,a,c){t.data[a]=c;const h=c.factory||(c.factory=go(c.type)),v=new ka(h,qe(c),hu);t.blueprint[a]=v,o[a]=v,function m_(t,i,o,a,c){const h=c.hostBindings;if(h){let v=t.hostBindingOpCodes;null===v&&(v=t.hostBindingOpCodes=[]);const I=~i.index;(function Ju(t){let i=t.length;for(;i>0;){const o=t[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=I&&v.push(I),v.push(o,a,h)}}(t,i,a,eh(t,o,c.hostVars,vi),c)}function rl(t,i,o,a,c,h){const v=Ci(t,i);!function Mm(t,i,o,a,c,h,v){if(null==h)t.removeAttribute(i,c,o);else{const I=null==v?Oe(h):v(h,a||"",c);t.setAttribute(i,c,I,o)}}(i[z],v,h,t.value,o,a,c)}function iy(t,i,o,a,c,h){const v=h[i];if(null!==v)for(let I=0;I<v.length;)y_(a,o,v[I++],v[I++],v[I++])}function y_(t,i,o,a,c){const h=vo(null);try{const v=t.inputTransforms;null!==v&&v.hasOwnProperty(a)&&(c=v[a].call(i,c)),null!==t.setInput?t.setInput(i,c,o,a):i[a]=c}finally{vo(h)}}function ry(t,i,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const v=t[h];for(let I=0;I<v.length;I+=2)if(v[I]===i){a.push(h,v[I+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function b_(t,i,o,a){return[t,!0,!1,i,null,0,a,o,null,null,null]}function E_(t,i){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const h=o[a+1];if(-1!==h){const v=t.data[h];An(o[a]),v.contentQueries(2,i[h],h)}}}function oh(t,i){return t[j]?t[J][Cr]=i:t[j]=i,t[J]=i,i}function Rf(t,i,o){An(0);const a=vo(null);try{i(t,o)}finally{vo(a)}}function Rm(t){return t[Tr]||(t[Tr]=[])}function Pm(t){return t.cleanup||(t.cleanup=[])}function Om(t,i,o){return(null===t||qe(t))&&(o=function gt(t){for(;Array.isArray(t);){if("object"==typeof t[Ao])return t;t=t[pi]}return null}(o[i.index])),o[z]}function sh(t,i){const o=t[yr],a=o?o.get(Rc,null):null;a&&a.handleError(i)}function $i(t,i,o,a,c){for(let h=0;h<o.length;){const v=o[h++],I=o[h++];y_(t.data[v],i[v],a,I,c)}}function Ml(t,i,o){const a=Rt(i,t);!function Ja(t,i,o){t.setValue(i,o)}(t[z],a,o)}function w_(t,i){const o=Go(i,t),a=o[Zt];!function ah(t,i){for(let o=i.length;o<t.blueprint.length;o++)i.push(t.blueprint[o])}(a,o);const c=o[pi];null!==c&&null===o[Xi]&&(o[Xi]=su(c,o[yr])),Pf(a,o,o[Di])}function Pf(t,i,o){uo(i);try{const a=t.viewQuery;null!==a&&Rf(1,a,o);const c=t.template;null!==c&&Df(t,i,c,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&E_(t,i),t.staticViewQueries&&Rf(2,t.viewQuery,o);const h=t.components;null!==h&&function Ss(t,i){for(let o=0;o<i.length;o++)w_(t,i[o])}(i,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{i[Nn]&=-5,jl()}}let Co=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,c){const h=typeof Zone>"u"?null:Zone.current,v=function It(t,i,o){const a=Object.create(ir);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=i;const c=v=>{a.cleanupFn=v};return a.ref={notify:()=>Ps(a),run:()=>{if(a.dirty=!1,a.hasRun&&!ma(a))return;a.hasRun=!0;const v=dl(a);try{a.cleanupFn(),a.cleanupFn=bn,a.fn(c)}finally{Uo(a,v)}},cleanup:()=>a.cleanupFn()},a.ref}(o,G=>{this.all.has(G)&&this.queue.set(G,h)},c);let I;this.all.add(v),v.notify();const D=()=>{v.cleanup(),I?.(),this.all.delete(v),this.queue.delete(v)};return I=a?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:()=>new t})}return t})();function Of(t,i,o){let a=o?t.styles:null,c=o?t.classes:null,h=0;if(null!==i)for(let v=0;v<i.length;v++){const I=i[v];"number"==typeof I?h=I:1==h?c=Ke(c,I):2==h&&(a=Ke(a,I+": "+i[++v]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=c:t.classesWithoutHost=c}function lh(t,i,o,a,c=!1){for(;null!==o;){const h=i[o.index];null!==h&&a.push(Pt(h)),hr(h)&&Nm(h,a);const v=o.type;if(8&v)lh(t,i,o.child,a);else if(32&v){const I=_p(o,i);let D;for(;D=I();)a.push(D)}else if(16&v){const I=wc(i,o);if(Array.isArray(I))a.push(...I);else{const D=Kc(i[Ne]);lh(D[Zt],D,I,a,!0)}}o=c?o.projectionNext:o.next}return a}function Nm(t,i){for(let o=ji;o<t.length;o++){const a=t[o],c=a[Zt].firstChild;null!==c&&lh(a[Zt],a,c,i)}t[Rr]!==t[pi]&&i.push(t[Rr])}function Nf(t,i,o,a=!0){const c=i[we],h=c.rendererFactory,v=c.afterRenderEventManager;h.begin?.(),v?.begin();try{Ff(t,i,t.template,o)}catch(D){throw a&&sh(i,D),D}finally{h.end?.(),c.effectManager?.flush(),v?.end()}}function Ff(t,i,o,a){const c=i[Nn];if(256!=(256&c)){i[we].effectManager?.flush(),uo(i);try{hc(i),function w(t){return pn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Df(t,i,o,2,a);const v=3==(3&c);if(v){const G=t.preOrderCheckHooks;null!==G&&Na(i,G,null)}else{const G=t.preOrderHooks;null!==G&&zl(i,G,0,null),Fa(i,0)}if(function sy(t){for(let i=_g(t);null!==i;i=Oo(i)){if(!i[ao])continue;const o=i[Pr];for(let a=0;a<o.length;a++){cd(o[a])}}}(i),C_(i,2),null!==t.contentQueries&&E_(t,i),v){const G=t.contentCheckHooks;null!==G&&Na(i,G)}else{const G=t.contentHooks;null!==G&&zl(i,G,1),Fa(i,1)}!function u_(t,i){const o=t.hostBindingOpCodes;if(null===o)return;const a=a_(i,ar);try{for(let c=0;c<o.length;c++){const h=o[c];if(h<0)ca(~h);else{const v=h,I=o[++c],D=o[++c];ce(I,v),a.dirty=!1;const G=dl(a);try{D(2,i[v])}finally{Uo(a,G)}}}}finally{null===i[ar]&&If(i,ar),ca(-1)}}(t,i);const I=t.components;null!==I&&T_(i,I,0);const D=t.viewQuery;if(null!==D&&Rf(2,D,a),v){const G=t.viewCheckHooks;null!==G&&Na(i,G)}else{const G=t.viewHooks;null!==G&&zl(i,G,2),Fa(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[Nn]&=-73,pl(i)}finally{jl()}}}function C_(t,i){for(let o=_g(t);null!==o;o=Oo(o))for(let a=ji;a<o.length;a++)ay(o[a],i)}function io(t,i,o){ay(Go(i,t),o)}function ay(t,i){if(!function ld(t){return 128==(128&t[Nn])}(t))return;const o=t[Zt],a=t[Nn];if(80&a&&0===i||1024&a||2===i)Ff(o,t,o.template,t[Di]);else if(t[Ur]>0){C_(t,1);const c=o.components;null!==c&&T_(t,c,1)}}function T_(t,i,o){for(let a=0;a<i.length;a++)io(t,i[a],o)}class ro{get rootNodes(){const i=this._lView,o=i[Zt];return lh(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Di]}set context(i){this._lView[Di]=i}get destroyed(){return 256==(256&this._lView[Nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Vi];if(hr(i)){const o=i[8],a=o?o.indexOf(this):-1;a>-1&&(ku(i,a),y(o,a))}this._attachedToViewContainer=!1}vp(this._lView[Zt],this._lView)}onDestroy(i){!function ya(t,i){if(256==(256&t[Nn]))throw new me(911,!1);null===t[ri]&&(t[ri]=[]),t[ri].push(i)}(this._lView,i)}markForCheck(){du(this._cdRefInjectingView||this._lView)}detach(){this._lView[Nn]&=-129}reattach(){this._lView[Nn]|=128}detectChanges(){Nf(this._lView[Zt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yg(t,i){Xc(t,i,i[z],2,null,null)}(this._lView[Zt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=i}}class D_ extends ro{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Nf(i[Zt],i,i[Di],!1)}checkNoChanges(){}get context(){return null}}class A_ extends Mc{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Zn(i);return new ch(o,this.ngModule)}}function S_(t){const i=[];for(let o in t)t.hasOwnProperty(o)&&i.push({propName:t[o],templateName:o});return i}class ly{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,a){a=cn(a);const c=this.injector.get(i,im,a);return c!==im||o===im?c:this.parentInjector.get(i,o,a)}}class ch extends sf{get inputs(){const i=this.componentDef,o=i.inputTransforms,a=S_(i.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return S_(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function _r(t){return t.map(gs).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,a,c){let h=(c=c||this.ngModule)instanceof ta?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const v=h?new ly(i,h):i,I=v.get(zg,null);if(null===I)throw new me(407,!1);const xe={rendererFactory:I,sanitizer:v.get(Wg,null),effectManager:v.get(Co,null),afterRenderEventManager:v.get(vm,null)},ze=I.createRenderer(null,this.componentDef),rt=this.componentDef.selectors[0][0]||"div",xt=a?function d_(t,i,o,a){const h=a.get(n_,!1)||o===Dt.ShadowDom,v=t.selectRootElement(i,h);return function Qu(t){Tm(t)}(v),v}(ze,a,this.componentDef.encapsulation,v):xd(ze,rt,function M_(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(rt)),Kn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Vt=null;null!==xt&&(Vt=su(xt,v,!0));const bi=xm(0,null,null,1,0,null,null,null,null,null,null),Zi=Tf(null,bi,null,Kn,null,null,xe,ze,v,null,Vt);let Xr,Wa;uo(Zi);try{const bu=this.componentDef;let tp,Nb=null;bu.findHostDirectiveDefs?(tp=[],Nb=new Map,bu.findHostDirectiveDefs(bu,tp,Nb),tp.push(bu)):tp=[bu];const KT=function uy(t,i){const o=t[Zt],a=xn;return t[a]=i,Zu(o,a,2,"#host",null)}(Zi,xt),ZT=function $b(t,i,o,a,c,h,v){const I=c[Zt];!function dy(t,i,o,a){for(const c of t)i.mergedAttrs=_i(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(Of(i,i.mergedAttrs,!0),null!==o&&Lu(a,o,i))}(a,t,i,v);let D=null;null!==i&&(D=su(i,c[yr]));const G=h.rendererFactory.createRenderer(i,o);let ae=16;o.signals?ae=4096:o.onPush&&(ae=64);const xe=Tf(c,Yu(o),null,ae,c[t.index],t,h,G,null,null,D);return I.firstCreatePass&&rh(I,t,a.length-1),oh(c,xe),c[t.index]=xe}(KT,xt,bu,tp,Zi,xe,ze);Wa=Eu(bi,xn),xt&&function R_(t,i,o,a){if(a)fi(t,o,["ng-version",lf.full]);else{const{attrs:c,classes:h}=function To(t){const i=[],o=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&i.push(h,t[++a]):8===c&&o.push(h);else{if(!tr(c))break;c=h}a++}return{attrs:i,classes:o}}(i.selectors[0]);c&&fi(t,o,c),h&&h.length>0&&Sd(t,o,h.join(" "))}}(ze,bu,xt,a),void 0!==o&&function uh(t,i,o){const a=t.projection=[];for(let c=0;c<i.length;c++){const h=o[c];a.push(null!=h?Array.from(h):null)}}(Wa,this.ngContentSelectors,o),Xr=function hy(t,i,o,a,c,h){const v=co(),I=c[Zt],D=Ci(v,c);Sf(I,c,v,o,null,a);for(let ae=0;ae<o.length;ae++)ds(Qs(c,I,v.directiveStart+ae,v),c);Mf(I,c,v),D&&ds(D,c);const G=Qs(c,I,v.directiveStart+v.componentOffset,v);if(t[Di]=c[Di]=G,null!==h)for(const ae of h)ae(G,i);return th(I,v,t),G}(ZT,bu,tp,Nb,Zi,[fy]),Pf(bi,Zi,null)}finally{jl()}return new cy(this.componentType,Xr,au(Wa,Zi),Zi,Wa)}}class cy extends jv{constructor(i,o,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new D_(c),this.componentType=i}setInput(i,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),o))return;const h=this._rootLView;$i(h[Zt],h,c,i,o),this.previousInputValues.set(i,o),du(Go(this._tNode.index,h))}}get injector(){return new Ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function fy(){const t=co();gc(Ct()[Zt],t)}function Pl(t){let i=function oc(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;i;){let c;if(qe(t))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new me(903,!1);c=i.\u0275dir}if(c){if(o){a.push(c);const v=t;v.inputs=Ol(t.inputs),v.inputTransforms=Ol(t.inputTransforms),v.declaredInputs=Ol(t.declaredInputs),v.outputs=Ol(t.outputs);const I=c.hostBindings;I&&my(t,I);const D=c.viewQuery,G=c.contentQueries;if(D&&kf(t,D),G&&py(t,G),_e(t.inputs,c.inputs),_e(t.declaredInputs,c.declaredInputs),_e(t.outputs,c.outputs),null!==c.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),_e(v.inputTransforms,c.inputTransforms)),qe(c)&&c.data.animation){const ae=t.data;ae.animation=(ae.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let v=0;v<h.length;v++){const I=h[v];I&&I.ngInherit&&I(t),I===Pl&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Wb(t){let i=0,o=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=i+=c.hostVars,c.hostAttrs=_i(c.hostAttrs,o=_i(o,c.hostAttrs))}}(a)}function Ol(t){return t===zt?{}:t===Bt?[]:t}function kf(t,i){const o=t.viewQuery;t.viewQuery=o?(a,c)=>{i(a,c),o(a,c)}:i}function py(t,i){const o=t.contentQueries;t.contentQueries=o?(a,c,h)=>{i(a,c,h),o(a,c,h)}:i}function my(t,i){const o=t.hostBindings;t.hostBindings=o?(a,c)=>{i(a,c),o(a,c)}:i}function N_(t){const i=t.inputConfig,o={};for(const a in i)if(i.hasOwnProperty(a)){const c=i[a];Array.isArray(c)&&c[2]&&(o[a]=c[2])}t.inputTransforms=o}function Bf(t){return!!Uf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Uf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ps(t,i,o){return!Object.is(t[i],o)&&(t[i]=o,!0)}function nd(t,i,o,a){const c=Ct();return ps(c,M(),i)&&(Si(),rl(Kr(),c,t,i,o,a)),nd}function Nl(t,i,o,a){return ps(t,M(),o)?i+Oe(o)+a:vi}function id(t,i,o,a,c,h){const I=function sl(t,i,o,a){const c=ps(t,i,o);return ps(t,i+1,a)||c}(t,function bo(){return pn.lFrame.bindingIndex}(),o,c);return E(2),I?i+Oe(o)+a+Oe(c)+h:vi}function W_(t,i,o,a,c,h,v,I){const D=Ct(),G=Si(),ae=t+xn,xe=G.firstCreatePass?function Py(t,i,o,a,c,h,v,I,D){const G=i.consts,ae=Zu(i,t,4,v||null,wo(G,I));Xu(i,o,ae,wo(G,D)),gc(i,ae);const xe=ae.tView=xm(2,ae,a,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,G,null);return null!==i.queries&&(i.queries.template(i,ae),xe.queries=i.queries.embeddedTView(ae)),ae}(ae,G,D,i,o,a,c,h,v):G.data[ae];zr(xe,!1);const ze=G_(G,D,xe,t);Hl()&&Qc(G,D,ze,xe),ds(ze,D),oh(D,D[ae]=b_(ze,D,ze,xe)),Ve(xe)&&nh(G,D,xe),null!=v&&wm(D,xe,I)}let G_=function yu(t,i,o,a){return ua(!0),i[z].createComment("")};function zm(t,i,o){const a=Ct();return ps(a,M(),i)&&na(Si(),Kr(),a,t,i,a[z],o,!1),zm}function $m(t,i,o,a,c){const v=c?"class":"style";$i(t,o,i.inputs[v],v,a)}function Wm(t,i,o,a){const c=Ct(),h=Si(),v=xn+t,I=c[z],D=h.firstCreatePass?function Fy(t,i,o,a,c,h){const v=i.consts,D=Zu(i,t,2,a,wo(v,c));return Xu(i,o,D,wo(v,h)),null!==D.attrs&&Of(D,D.attrs,!1),null!==D.mergedAttrs&&Of(D,D.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,D),D}(v,h,c,i,o,a):h.data[v],G=ky(h,c,D,I,i,t);c[v]=G;const ae=Ve(D);return zr(D,!0),Lu(I,G,D),32!=(32&D.flags)&&Hl()&&Qc(h,c,G,D),0===function Ai(){return pn.lFrame.elementDepthCount}()&&ds(G,c),function ml(){pn.lFrame.elementDepthCount++}(),ae&&(nh(h,c,D),th(h,D,c)),null!==a&&wm(c,D),Wm}function Gm(){let t=co();qs()?it():(t=t.parent,zr(t,!1));const i=t;(function pc(t){return pn.skipHydrationRootTNode===t})(i)&&function Bc(){pn.skipHydrationRootTNode=null}(),function Ir(){pn.lFrame.elementDepthCount--}();const o=Si();return o.firstCreatePass&&(gc(o,t),Et(t)&&o.queries.elementEnd(t)),null!=i.classesWithoutHost&&function Tu(t){return 0!=(8&t.flags)}(i)&&$m(o,i,Ct(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function La(t){return 0!=(16&t.flags)}(i)&&$m(o,i,Ct(),i.stylesWithoutHost,!1),Gm}function q_(t,i,o,a){return Wm(t,i,o,a),Gm(),q_}let ky=(t,i,o,a,c,h)=>(ua(!0),xd(a,c,function jc(){return pn.lFrame.currentNamespace}()));function qm(t,i,o){const a=Ct(),c=Si(),h=t+xn,v=c.firstCreatePass?function By(t,i,o,a,c){const h=i.consts,v=wo(h,a),I=Zu(i,t,8,"ng-container",v);return null!==v&&Of(I,v,!0),Xu(i,o,I,wo(h,c)),null!==i.queries&&i.queries.elementStart(i,I),I}(h,c,a,i,o):c.data[h];zr(v,!0);const I=ac(c,a,v,t);return a[h]=I,Hl()&&Qc(c,a,I,v),ds(I,a),Ve(v)&&(nh(c,a,v),th(c,v,a)),null!=o&&wm(a,v),qm}function Wf(){let t=co();const i=Si();return qs()?it():(t=t.parent,zr(t,!1)),i.firstCreatePass&&(gc(i,t),Et(t)&&i.queries.elementEnd(t)),Wf}let ac=(t,i,o,a)=>(ua(!0),wd(i[z],""));function K_(){return Ct()}function Zm(t){return!!t&&"function"==typeof t.then}function Z_(t){return!!t&&"function"==typeof t.subscribe}function Ym(t,i,o,a){const c=Ct(),h=Si(),v=co();return Hy(h,c,c[z],v,t,i,a),Ym}function Qm(t,i){const o=co(),a=Ct(),c=Si();return Hy(c,a,Om(ct(c.data),o,a),o,t,i),Qm}function Hy(t,i,o,a,c,h,v){const I=Ve(a),G=t.firstCreatePass&&Pm(t),ae=i[Di],xe=Rm(i);let ze=!0;if(3&a.type||v){const Gt=Ci(a,i),yn=v?v(Gt):Gt,Kn=xe.length,Vt=v?Zi=>v(Pt(Zi[a.index])):a.index;let bi=null;if(!v&&I&&(bi=function Yb(t,i,o,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const v=c[h];if(v===o&&c[h+1]===a){const I=i[Tr],D=c[h+2];return I.length>D?I[D]:null}"string"==typeof v&&(h+=2)}return null}(t,i,c,a.index)),null!==bi)(bi.__ngLastListenerFn__||bi).__ngNextListenerFn__=h,bi.__ngLastListenerFn__=h,ze=!1;else{h=Y_(a,i,ae,h,!1);const Zi=o.listen(yn,c,h);xe.push(h,Zi),G&&G.push(c,Vt,Kn,Kn+1)}}else h=Y_(a,i,ae,h,!1);const rt=a.outputs;let xt;if(ze&&null!==rt&&(xt=rt[c])){const Gt=xt.length;if(Gt)for(let yn=0;yn<Gt;yn+=2){const Xr=i[xt[yn]][xt[yn+1]].subscribe(h),Wa=xe.length;xe.push(h,Xr),G&&G.push(c,a.index,Wa,-(Wa+1))}}}function Xm(t,i,o,a){try{return Ht(6,i,o),!1!==o(a)}catch(c){return sh(t,c),!1}finally{Ht(7,i,o)}}function Y_(t,i,o,a,c){return function h(v){if(v===Function)return a;du(t.componentOffset>-1?Go(t.index,i):i);let D=Xm(i,o,a,v),G=h.__ngNextListenerFn__;for(;G;)D=Xm(i,o,G,v)&&D,G=G.__ngNextListenerFn__;return c&&!1===D&&v.preventDefault(),D}}function zy(t=1){return function ud(t){return(pn.lFrame.contextLView=function dd(t,i){for(;t>0;)i=i[ve],t--;return i}(t,pn.lFrame.contextLView))[Di]}(t)}function Qb(t,i){let o=null;const a=function pa(t){const i=t.attrs;if(null!=i){const o=i.indexOf(5);if(!(1&o))return i[o+1]}return null}(t);for(let c=0;c<i.length;c++){const h=i[c];if("*"!==h){if(null===a?Yo(t,h,!0):Xo(a,h))return c}else o=c}return o}function $y(t){const i=Ct()[Ne][er];if(!i.projection){const a=i.projection=B(t?t.length:1,null),c=a.slice();let h=i.child;for(;null!==h;){const v=t?Qb(h,t):0;null!==v&&(c[v]?c[v].projectionNext=h:a[v]=h,c[v]=h),h=h.next}}}function Wy(t,i=0,o){const a=Ct(),c=Si(),h=Zu(c,xn+t,16,null,o||null);null===h.projection&&(h.projection=i),it(),(!a[Xi]||Hr())&&32!=(32&h.flags)&&function xg(t,i,o){Dp(i[z],0,i,o,bp(t,o,i),Ip(o.parent||i[er],o,i))}(c,a,h)}function Q_(t,i,o,a,c,h,v){const I=Ct(),D=id(I,i,o,a,c,h);return D!==vi&&na(Si(),Kr(),I,t,D,I[z],v,!1),Q_}function d(t,i){return t<<17|i<<2}function p(t){return t>>17&32767}function K(t){return 2|t}function se(t){return(131068&t)>>2}function ye(t,i){return-131069&t|i<<2}function dt(t){return 1|t}function si(t,i,o,a,c){const h=t[o+1],v=null===i;let I=a?p(h):se(h),D=!1;for(;0!==I&&(!1===D||v);){const ae=t[I+1];ti(t[I],i)&&(D=!0,t[I+1]=a?dt(ae):K(ae)),I=a?p(ae):se(ae)}D&&(t[o+1]=a?K(h):dt(h))}function ti(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&en(t,i)>=0}const Yn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $r(t){return t.substring(Yn.key,Yn.keyEnd)}function cl(t,i){const o=Yn.textEnd;return o===i?-1:(i=Yn.keyEnd=function LI(t,i,o){for(;i<o&&t.charCodeAt(i)>32;)i++;return i}(t,Yn.key=i,o),Kf(t,i,o))}function Kf(t,i,o){for(;i<o&&t.charCodeAt(i)<=32;)i++;return i}function qy(t,i){return function lc(t,i,o,a){const c=Ct(),h=Si(),v=E(2);h.firstUpdatePass&&r0(h,t,v,a),i!==vi&&ps(c,v,i)&&s0(h,h.data[ns()],c,c[z],t,c[v+1]=function ZI(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=Me(tl(t)))),t}(i,o),a,v)}(t,i,null,!0),qy}function kc(t,i){for(let o=function ms(t){return function Xb(t){Yn.key=0,Yn.keyEnd=0,Yn.value=0,Yn.valueEnd=0,Yn.textEnd=t.length}(t),cl(t,Kf(t,0,Yn.textEnd))}(i);o>=0;o=cl(i,o))ut(t,$r(i),!0)}function n0(t,i){return i>=t.expandoStartIndex}function r0(t,i,o,a){const c=t.data;if(null===c[o+1]){const h=c[ns()],v=n0(t,o);l0(h,a)&&null===i&&!v&&(i=!1),i=function HI(t,i,o,a){const c=ct(t);let h=a?i.residualClasses:i.residualStyles;if(null===c)0===(a?i.classBindings:i.styleBindings)&&(o=tg(o=Ky(null,t,i,o,a),i.attrs,a),h=null);else{const v=i.directiveStylingLast;if(-1===v||t[v]!==c)if(o=Ky(c,t,i,o,a),null===h){let D=function zI(t,i,o){const a=o?i.classBindings:i.styleBindings;if(0!==se(a))return t[p(a)]}(t,i,a);void 0!==D&&Array.isArray(D)&&(D=Ky(null,t,i,D[1],a),D=tg(D,i.attrs,a),function $I(t,i,o,a){t[p(o?i.classBindings:i.styleBindings)]=a}(t,i,a,D))}else h=function WI(t,i,o){let a;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)a=tg(a,t[h].hostAttrs,o);return tg(a,i.attrs,o)}(t,i,a)}return void 0!==h&&(a?i.residualClasses=h:i.residualStyles=h),o}(c,h,i,a),function on(t,i,o,a,c,h){let v=h?i.classBindings:i.styleBindings,I=p(v),D=se(v);t[a]=o;let ae,G=!1;if(Array.isArray(o)?(ae=o[1],(null===ae||en(o,ae)>0)&&(G=!0)):ae=o,c)if(0!==D){const ze=p(t[I+1]);t[a+1]=d(ze,I),0!==ze&&(t[ze+1]=ye(t[ze+1],a)),t[I+1]=function F(t,i){return 131071&t|i<<17}(t[I+1],a)}else t[a+1]=d(I,0),0!==I&&(t[I+1]=ye(t[I+1],a)),I=a;else t[a+1]=d(D,0),0===I?I=a:t[D+1]=ye(t[D+1],a),D=a;G&&(t[a+1]=K(t[a+1])),si(t,ae,a,!0),si(t,ae,a,!1),function Xn(t,i,o,a,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof i&&en(h,i)>=0&&(o[a+1]=dt(o[a+1]))}(i,ae,t,a,h),v=d(I,D),h?i.classBindings=v:i.styleBindings=v}(c,h,i,o,v,a)}}function Ky(t,i,o,a,c){let h=null;const v=o.directiveEnd;let I=o.directiveStylingLast;for(-1===I?I=o.directiveStart:I++;I<v&&(h=i[I],a=tg(a,h.hostAttrs,c),h!==t);)I++;return null!==t&&(o.directiveStylingLast=I),a}function tg(t,i,o){const a=o?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const v=i[h];"number"==typeof v?c=v:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ut(t,v,!!o||i[++h]))}return void 0===t?null:t}function s0(t,i,o,a,c,h,v,I){if(!(3&i.type))return;const D=t.data,G=D[I+1],ae=function je(t){return 1==(1&t)}(G)?a0(D,i,o,c,se(G),v):void 0;X_(ae)||(X_(h)||function T(t){return 2==(2&t)}(G)&&(h=a0(D,null,o,c,I,v)),function Cg(t,i,o,a,c){if(i)c?t.addClass(o,a):t.removeClass(o,a);else{let h=-1===a.indexOf("-")?void 0:Xl.DashCase;null==c?t.removeStyle(o,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Xl.Important),t.setStyle(o,a,c,h))}}(a,v,Rt(ns(),o),c,h))}function a0(t,i,o,a,c,h){const v=null===i;let I;for(;c>0;){const D=t[c],G=Array.isArray(D),ae=G?D[1]:D,xe=null===ae;let ze=o[c+1];ze===vi&&(ze=xe?Bt:void 0);let rt=xe?Wt(ze,a):ae===a?ze:void 0;if(G&&!X_(rt)&&(rt=Wt(D,a)),X_(rt)&&(I=rt,v))return I;const xt=t[c+1];c=v?p(xt):se(xt)}if(null!==i){let D=h?i.residualClasses:i.residualStyles;null!=D&&(I=Wt(D,a))}return I}function X_(t){return void 0!==t}function l0(t,i){return 0!=(t.flags&(i?8:16))}function c0(t,i=""){const o=Ct(),a=Si(),c=t+xn,h=a.firstCreatePass?Zu(a,c,1,i,null):a.data[c],v=u0(a,o,h,i,t);o[c]=v,Hl()&&Qc(a,o,v,h),zr(h,!1)}let u0=(t,i,o,a,c)=>(ua(!0),function Ec(t,i){return t.createText(i)}(i[z],a));function Zy(t){return J_("",t,""),Zy}function J_(t,i,o){const a=Ct(),c=Nl(a,t,i,o);return c!==vi&&Ml(a,ns(),c),J_}function Yy(t,i,o,a,c){const h=Ct(),v=id(h,t,i,o,a,c);return v!==vi&&Ml(h,ns(),v),Yy}function v0(t,i,o){!function cc(t,i,o,a){const c=Si(),h=E(2);c.firstUpdatePass&&r0(c,null,h,a);const v=Ct();if(o!==vi&&ps(v,h,o)){const I=c.data[ns()];if(l0(I,a)&&!n0(c,h)){let D=a?I.classesWithoutHost:I.stylesWithoutHost;null!==D&&(o=Ke(D,o||"")),$m(c,I,v,o,a)}else!function KI(t,i,o,a,c,h,v,I){c===vi&&(c=Bt);let D=0,G=0,ae=0<c.length?c[0]:null,xe=0<h.length?h[0]:null;for(;null!==ae||null!==xe;){const ze=D<c.length?c[D+1]:void 0,rt=G<h.length?h[G+1]:void 0;let Gt,xt=null;ae===xe?(D+=2,G+=2,ze!==rt&&(xt=xe,Gt=rt)):null===xe||null!==ae&&ae<xe?(D+=2,xt=ae):(G+=2,xt=xe,Gt=rt),null!==xt&&s0(t,i,o,a,xt,Gt,v,I),ae=D<c.length?c[D]:null,xe=G<h.length?h[G]:null}}(c,I,v,v[z],v[h+1],v[h+1]=function GI(t,i,o){if(null==o||""===o)return Bt;const a=[],c=tl(o);if(Array.isArray(c))for(let h=0;h<c.length;h++)t(a,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&t(a,h,c[h]);else"string"==typeof c&&i(a,c);return a}(t,i,o),a,h)}}(ut,kc,Nl(Ct(),t,i,o),!0)}function Qy(t,i,o){const a=Ct();if(ps(a,M(),i)){const h=Si(),v=Kr();na(h,v,a,t,i,Om(ct(h.data),v,a),o,!0)}return Qy}const _h=void 0;var gw=["en",[["a","p"],["AM","PM"],_h],[["AM","PM"],_h,_h],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_h,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_h,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_h,"{1} 'at' {0}",_h],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mw(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Zf={};function Xy(t){const i=function _w(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=M0(i);if(o)return o;const a=i.split("-")[0];if(o=M0(a),o)return o;if("en"===a)return gw;throw new me(701,!1)}function S0(t){return Xy(t)[Yf.PluralCase]}function M0(t){return t in Zf||(Zf[t]=Tn.ng&&Tn.ng.common&&Tn.ng.common.locales&&Tn.ng.common.locales[t]),Zf[t]}var Yf=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Yf||{});const Qf="en-US";let R0=Qf;function tb(t,i,o,a,c){if(t=ot(t),Array.isArray(t))for(let h=0;h<t.length;h++)tb(t[h],i,o,a,c);else{const h=Si(),v=Ct(),I=co();let D=Sc(t)?t:ot(t.provide);const G=$p(t),ae=1048575&I.providerIndexes,xe=I.directiveStart,ze=I.providerIndexes>>20;if(Sc(t)||!t.multi){const rt=new ka(G,c,hu),xt=ib(D,i,c?ae:ae+ze,xe);-1===xt?(ha(_l(I,v),h,D),nb(h,t,i.length),i.push(D),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(rt),v.push(rt)):(o[xt]=rt,v[xt]=rt)}else{const rt=ib(D,i,ae+ze,xe),xt=ib(D,i,ae,ae+ze),yn=xt>=0&&o[xt];if(c&&!yn||!c&&!(rt>=0&&o[rt])){ha(_l(I,v),h,D);const Kn=function mx(t,i,o,a,c){const h=new ka(t,o,hu);return h.multi=[],h.index=i,h.componentProviders=0,nE(h,c,a&&!o),h}(c?px:fx,o.length,c,a,G);!c&&yn&&(o[xt].providerFactory=Kn),nb(h,t,i.length,0),i.push(D),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(Kn),v.push(Kn)}else nb(h,t,rt>-1?rt:xt,nE(o[c?xt:rt],G,!c&&a));!c&&a&&yn&&o[xt].componentProviders++}}}function nb(t,i,o,a){const c=Sc(i),h=function Hp(t){return!!t.useClass}(i);if(c||h){const D=(h?ot(i.useClass):i).prototype.ngOnDestroy;if(D){const G=t.destroyHooks||(t.destroyHooks=[]);if(!c&&i.multi){const ae=G.indexOf(o);-1===ae?G.push(o,[a,D]):G[ae+1].push(a,D)}else G.push(o,D)}}}function nE(t,i,o){return o&&t.componentProviders++,t.multi.push(i)-1}function ib(t,i,o,a){for(let c=o;c<a;c++)if(i[c]===t)return c;return-1}function fx(t,i,o,a){return rb(this.multi,[])}function px(t,i,o,a){const c=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=Qs(o,o[Zt],this.providerFactory.index,a);h=I.slice(0,v),rb(c,h);for(let D=v;D<I.length;D++)h.push(I[D])}else h=[],rb(c,h);return h}function rb(t,i){for(let o=0;o<t.length;o++)i.push((0,t[o])());return i}function iE(t,i=[]){return o=>{o.providersResolver=(a,c)=>function hx(t,i,o){const a=Si();if(a.firstCreatePass){const c=qe(t);tb(o,a.data,a.blueprint,c,!0),tb(i,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,i)}}class vh{}class rE{}function gx(t,i){return new ob(t,i??null,[])}class ob extends vh{constructor(i,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new A_(this);const c=Qi(i);this._bootstrapComponents=il(c.bootstrap),this._r3Injector=cu(i,o,[{provide:vh,useValue:this},{provide:Mc,useValue:this.componentFactoryResolver},...a],Me(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class sb extends rE{constructor(i){super(),this.moduleType=i}create(i){return new ob(this.moduleType,i,[])}}class oE extends vh{constructor(i){super(),this.componentFactoryResolver=new A_(this),this.instance=null;const o=new nl([...i.providers,{provide:vh,useValue:this},{provide:Mc,useValue:this.componentFactoryResolver}],i.parent||Kh(),i.debugName,new Set(["environment"]));this.injector=o,i.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function sE(t,i,o=null){return new oE({providers:t,parent:i,debugName:o,runEnvironmentInitializers:!0}).injector}let vx=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=Wh(0,o.type),c=a.length>0?sE([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,c)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=In({token:t,providedIn:"environment",factory:()=>new t(Mt(ta))})}return t})();function aE(t){t.getStandaloneInjector=i=>i.get(vx).getOrCreateStandaloneInjector(t)}function $x(){return this._results[Symbol.iterator]()}class lb{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Sl)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=lb.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=$x)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const a=this;a.dirty=!1;const c=function S(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function qc(t,i,o){if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=i[a];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Gx(t,i,o,a=!0){const c=i[Zt];if(function vv(t,i,o,a){const c=ji+a,h=o.length;a>0&&(o[c-1][Cr]=i),a<h-ji?(i[Cr]=o[c],m(o,ji+a,i)):(o.push(i),i[Cr]=null),i[Vi]=o;const v=i[ft];null!==v&&o!==v&&function yv(t,i){const o=t[Pr];i[Ne]!==i[Vi][Vi][Ne]&&(t[ao]=!0),null===o?t[Pr]=[i]:o.push(i)}(v,i);const I=i[Yt];null!==I&&I.insertView(t),i[Nn]|=128}(c,i,t,o),a){const h=ec(o,t),v=i[z],I=Dd(v,t[Rr]);null!==I&&function vg(t,i,o,a,c,h){a[pi]=c,a[er]=i,Xc(t,a,o,1,c,h)}(c,t[er],v,i,I,h)}}let cg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Zx}return t})();const qx=cg,Kx=class extends qx{constructor(i,o,a){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,o){return this.createEmbeddedViewImpl(i,o)}createEmbeddedViewImpl(i,o,a){const c=function Wx(t,i,o,a){const c=i.tView,I=Tf(t,c,o,4096&t[Nn]?4096:16,null,i,null,null,null,a?.injector??null,a?.hydrationInfo??null);I[ft]=t[i.index];const G=t[Yt];return null!==G&&(I[Yt]=G.createEmbeddedView(c)),Pf(c,I,o),I}(this._declarationLView,this._declarationTContainer,i,{injector:o,hydrationInfo:a});return new ro(c)}};function Zx(){return rv(co(),Ct())}function rv(t,i){return 4&t.type?new Kx(i,t,au(t,i)):null}let sv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=tC}return t})();function tC(){return CE(co(),Ct())}const nC=sv,wE=class extends nC{constructor(i,o,a){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=a}get element(){return au(this._hostTNode,this._hostLView)}get injector(){return new Ko(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ba(this._hostTNode,this._hostLView);if(Zs(i)){const o=Is(i,this._hostLView),a=to(i);return new Ko(o[Zt].data[a+8],o)}return new Ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=xE(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-ji}createEmbeddedView(i,o,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const I=i.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(I,c,false),I}createComponent(i,o,a,c,h){const v=i&&!function ql(t){return"function"==typeof t}(i);let I;if(v)I=o;else{const Gt=o||{};I=Gt.index,a=Gt.injector,c=Gt.projectableNodes,h=Gt.environmentInjector||Gt.ngModuleRef}const D=v?i:new ch(Zn(i)),G=a||this.parentInjector;if(!h&&null==D.ngModule){const yn=(v?G:this.parentInjector).get(ta,null);yn&&(h=yn)}Zn(D.componentType??{});const rt=D.create(G,c,null,h);return this.insertImpl(rt.hostView,I,false),rt}insert(i,o){return this.insertImpl(i,o,!1)}insertImpl(i,o,a){const c=i._lView;if(function dc(t){return hr(t[Vi])}(c)){const D=this.indexOf(i);if(-1!==D)this.detach(D);else{const G=c[Vi],ae=new wE(G,G[er],G[Vi]);ae.detach(ae.indexOf(i))}}const v=this._adjustIndex(o),I=this._lContainer;return Gx(I,c,v,!a),i.attachToViewContainerRef(),m(cb(I),v,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=xE(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),a=ku(this._lContainer,o);a&&(y(cb(this._lContainer),o),vp(a[Zt],a))}detach(i){const o=this._adjustIndex(i,-1),a=ku(this._lContainer,o);return a&&null!=y(cb(this._lContainer),o)?new ro(a):null}_adjustIndex(i,o=0){return i??this.length+o}};function xE(t){return t[8]}function cb(t){return t[8]||(t[8]=[])}function CE(t,i){let o;const a=i[t.index];return hr(a)?o=a:(o=b_(a,i,null,t),i[t.index]=o,oh(i,o)),TE(o,i,t,a),new wE(o,t,i)}let TE=function DE(t,i,o,a){if(t[Rr])return;let c;c=8&o.type?Pt(a):function iC(t,i){const o=t[z],a=o.createComment(""),c=Ci(i,t);return Yc(o,Dd(o,c),a,function bv(t,i){return t.nextSibling(i)}(o,c),!1),a}(i,o),t[Rr]=c};class ub{constructor(i){this.queryList=i,this.matches=null}clone(){return new ub(this.queryList)}setDirty(){this.queryList.setDirty()}}class db{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const a=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let h=0;h<a;h++){const v=o.getByIndex(h);c.push(this.queries[v.indexInDeclarationView].clone())}return new db(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==kE(i,o).matches&&this.queries[o].setDirty()}}class AE{constructor(i,o,a=null){this.predicate=i,this.flags=o,this.read=a}}class hb{constructor(i=[]){this.queries=i}elementStart(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(i,c);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new hb(o):null}template(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class fb{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new fb(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(i,o,sC(o,h)),this.matchTNodeWithReadOption(i,o,cs(o,i,h,!1,!1))}else a===cg?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,cs(o,i,a,!1,!1))}matchTNodeWithReadOption(i,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Al||c===sv||c===cg&&4&o.type)this.addMatch(o.index,-2);else{const h=cs(o,i,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function sC(t,i){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===i)return o[a+1];return null}function lC(t,i,o,a){return-1===o?function aC(t,i){return 11&t.type?au(t,i):4&t.type?rv(t,i):null}(i,t):-2===o?function cC(t,i,o){return o===Al?au(i,t):o===cg?rv(i,t):o===sv?CE(i,t):void 0}(t,i,a):Qs(t,t[Zt],o,i)}function SE(t,i,o,a){const c=i[Yt].queries[a];if(null===c.matches){const h=t.data,v=o.matches,I=[];for(let D=0;D<v.length;D+=2){const G=v[D];I.push(G<0?null:lC(i,h[G],v[D+1],o.metadata.read))}c.matches=I}return c.matches}function pb(t,i,o,a){const c=t.queries.getByIndex(o),h=c.matches;if(null!==h){const v=SE(t,i,c,o);for(let I=0;I<h.length;I+=2){const D=h[I];if(D>0)a.push(v[I/2]);else{const G=h[I+1],ae=i[-D];for(let xe=ji;xe<ae.length;xe++){const ze=ae[xe];ze[ft]===ze[Vi]&&pb(ze[Zt],ze,G,a)}if(null!==ae[Pr]){const xe=ae[Pr];for(let ze=0;ze<xe.length;ze++){const rt=xe[ze];pb(rt[Zt],rt,G,a)}}}}}return a}function ME(t){const i=Ct(),o=Si(),a=an();An(a+1);const c=kE(o,a);if(t.dirty&&function Iu(t){return 4==(4&t[Nn])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?pb(o,i,a,[]):SE(o,i,c,a);t.reset(h,nm),t.notifyOnChanges()}return!0}return!1}function RE(t,i,o){const a=Si();a.firstCreatePass&&(FE(a,new AE(t,i,o),-1),2==(2&i)&&(a.staticViewQueries=!0)),NE(a,Ct(),i)}function PE(t,i,o,a){const c=Si();if(c.firstCreatePass){const h=co();FE(c,new AE(i,o,a),h.index),function dC(t,i){const o=t.contentQueries||(t.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,i)}(c,t),2==(2&o)&&(c.staticContentQueries=!0)}NE(c,Ct(),o)}function OE(){return function uC(t,i){return t[Yt].queries[i].queryList}(Ct(),an())}function NE(t,i,o){const a=new lb(4==(4&o));(function Qv(t,i,o,a){const c=Rm(i);c.push(o),t.firstCreatePass&&Pm(t).push(a,c.length-1)})(t,i,a,a.destroy),null===i[Yt]&&(i[Yt]=new db),i[Yt].queries.push(new ub(a))}function FE(t,i,o){null===t.queries&&(t.queries=new hb),t.queries.track(new fb(i,o))}function kE(t,i){return t.queries.getByIndex(i)}function mb(t){return!!Qi(t)}const JE=new Kt("Application Initializer");let bb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=Ft(JE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const c of this.appInits){const h=c();if(Zm(h))o.push(h);else if(Z_(h)){const v=new Promise((I,D)=>{h.subscribe({complete:I,error:D})});o.push(v)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(c=>{this.reject(c)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eI=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const lv=new Kt("LocaleId",{providedIn:"root",factory:()=>Ft(lv,sn.Optional|sn.SkipSelf)||function OC(){return typeof $localize<"u"&&$localize.locale||Qf}()}),NC=new Kt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let tI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fe.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class kC{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let LC=(()=>{class t{compileModuleSync(o){return new sb(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),h=il(Qi(o).declarations).reduce((v,I)=>{const D=Zn(I);return D&&v.push(new ch(D)),v},[]);return new kC(a,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const oI=new Kt(""),sI=new Kt("");let wb,oT=(()=>{class t{constructor(o,a,c){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wb||(function sT(t){wb=t}(c),c.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==h),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(Mt(rs),Mt(aI),Mt(sI))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),aI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return wb?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ad=null;const lI=new Kt("AllowMultipleToken"),xb=new Kt("PlatformDestroyListeners"),Cb=new Kt("appBootstrapListener");class cT{constructor(i,o){this.name=i,this.token=o}}function dI(t,i,o=[]){const a=`Platform: ${i}`,c=new Kt(a);return(h=[])=>{let v=Tb();if(!v||v.injector.get(lI,!1)){const I=[...o,...h,{provide:c,useValue:!0}];t?t(I):function uT(t){if(ad&&!ad.get(lI,!1))throw new me(400,!1);(function cI(){!function aa(t){_a=t}(()=>{throw new me(600,!1)})})(),ad=t;const i=t.get(fI);(function uI(t){t.get(Yh,null)?.forEach(o=>o())})(t)}(function hI(t=[],i){return Hs.create({name:i,providers:[{provide:zp,useValue:"platform"},{provide:xb,useValue:new Set([()=>ad=null])},...t]})}(I,a))}return function hT(t){const i=Tb();if(!i)throw new me(401,!1);return i}()}}function Tb(){return ad?.get(fI)??null}let fI=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const c=function fT(t="zone.js",i){return"noop"===t?new Gv:"zone.js"===t?new rs(i):t}(a?.ngZone,function pI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const h=function _x(t,i,o){return new ob(t,i,o)}(o.moduleType,this.injector,function yI(t){return[{provide:rs,useFactory:t},{provide:kd,multi:!0,useFactory:()=>{const i=Ft(mT,{optional:!0});return()=>i.initialize()}},{provide:vI,useFactory:pT},{provide:Jg,useFactory:mf}]}(()=>c)),v=h.injector.get(Rc,null);return c.runOutsideAngular(()=>{const I=c.onError.subscribe({next:D=>{v.handleError(D)}});h.onDestroy(()=>{uv(this._modules,h),I.unsubscribe()})}),function mI(t,i,o){try{const a=o();return Zm(a)?a.catch(c=>{throw i.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw i.runOutsideAngular(()=>t.handleError(a)),a}}(v,c,()=>{const I=h.injector.get(bb);return I.runInitializers(),I.donePromise.then(()=>(function P0(t){Pe(t,"Expected localeId to be defined"),"string"==typeof t&&(R0=t.toLowerCase().replace(/_/g,"-"))}(h.injector.get(lv,Qf)||Qf),this._moduleDoBootstrap(h),h))})})}bootstrapModule(o,a=[]){const c=gI({},a);return function aT(t,i,o){const a=new sb(o);return Promise.resolve(a)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const a=o.injector.get(ep);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new me(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(xb,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(Mt(Hs))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function gI(t,i){return Array.isArray(i)?i.reduce(gI,t):{...t,...i}}let ep=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ft(vI),this.zoneIsStable=Ft(Jg),this.componentTypes=[],this.components=[],this.isStable=Ft(tI).hasPendingTasks.pipe((0,de.w)(o=>o?(0,Ce.of)(!1):this.zoneIsStable),(0,Ie.x)(),(0,Te.B)()),this._injector=Ft(ta)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const c=o instanceof sf;if(!this._injector.get(bb).done)throw!c&&vr(o),new me(405,!1);let v;v=c?o:this._injector.get(Mc).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const I=function lT(t){return t.isBoundToModule}(v)?void 0:this._injector.get(vh),G=v.create(Hs.NULL,[],a||v.selector,I),ae=G.location.nativeElement,xe=G.injector.get(oI,null);return xe?.registerApplication(ae),G.onDestroy(()=>{this.detachView(G.hostView),uv(this.components,G),xe?.unregisterApplication(ae)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;uv(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(Cb,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>uv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new me(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uv(t,i){const o=t.indexOf(i);o>-1&&t.splice(o,1)}const vI=new Kt("",{providedIn:"root",factory:()=>Ft(Rc).handleError.bind(void 0)});function pT(){const t=Ft(rs),i=Ft(Rc);return o=>t.runOutsideAngular(()=>i.handleError(o))}let mT=(()=>{class t{constructor(){this.zone=Ft(rs),this.applicationRef=Ft(ep)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _T(){return!1}let vT=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=yT}return t})();function yT(t){return function bT(t,i,o){if(We(t)&&!o){const a=Go(t.index,i);return new ro(a,a)}return 47&t.type?new ro(i[Ne],i):null}(co(),Ct(),16==(16&t))}class wI{constructor(){}supports(i){return Bf(i)}create(i){return new TT(i)}}const CT=(t,i)=>i;class TT{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||CT}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,a=this._removalsHead,c=0,h=null;for(;o||a;){const v=!a||o&&o.currentIndex<CI(a,c,h)?o:a,I=CI(v,c,h),D=v.currentIndex;if(v===a)c--,a=a._nextRemoved;else if(o=o._next,null==v.previousIndex)c++;else{h||(h=[]);const G=I-c,ae=D-c;if(G!=ae){for(let ze=0;ze<G;ze++){const rt=ze<h.length?h[ze]:h[ze]=0,xt=rt+ze;ae<=xt&&xt<G&&(h[ze]=rt+1)}h[v.previousIndex]=ae-G}}I!==D&&i(v,I,D)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Bf(i))throw new me(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,v,o=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let I=0;I<this.length;I++)h=i[I],v=this._trackByFn(I,h),null!==o&&Object.is(o.trackById,v)?(a&&(o=this._verifyReinsertion(o,h,v,I)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,v,I),a=!0),o=o._next}else c=0,function km(t,i){if(Array.isArray(t))for(let o=0;o<t.length;o++)i(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)i(a.value)}}(i,I=>{v=this._trackByFn(c,I),null!==o&&Object.is(o.trackById,v)?(a&&(o=this._verifyReinsertion(o,I,v,c)),Object.is(o.item,I)||this._addIdentityChange(o,I)):(o=this._mismatch(o,I,v,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,a,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,c)):i=this._addAfter(new DT(o,a),h,c),i}_verifyReinsertion(i,o,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,o,a),this._addToMoves(i,a),i}_moveAfter(i,o,a){return this._unlink(i),this._insertAfter(i,o,a),this._addToMoves(i,a),i}_addAfter(i,o,a){return this._insertAfter(i,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,a){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new xI),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,a=i._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xI),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class DT{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AT{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const o=i._prevDup,a=i._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class xI{constructor(){this.map=new Map}put(i){const o=i.trackById;let a=this.map.get(o);a||(a=new AT,this.map.set(o,a)),a.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CI(t,i,o){const a=t.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+i+c}class TI{constructor(){}supports(i){return i instanceof Map||Uf(i)}create(){return new ST}}class ST{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Uf(i)))throw new me(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const a=i._prev;return o._next=i,o._prev=a,i._prev=o,a&&(a._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const h=c._prev,v=c._next;return h&&(h._next=v),v&&(v._prev=h),c._next=null,c._prev=null,c}const a=new MT(i);return this._records.set(i,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(a=>o(i[a],a))}}class MT{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DI(){return new Rb([new wI])}let Rb=(()=>{class t{static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:DI});constructor(o){this.factories=o}static create(o,a){if(null!=a){const c=a.factories.slice();o=o.concat(c)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||DI()),deps:[[t,new us,new Qr]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(null!=a)return a;throw new me(901,!1)}}return t})();function AI(){return new Pb([new TI])}let Pb=(()=>{class t{static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:AI});constructor(o){this.factories=o}static create(o,a){if(a){const c=a.factories.slice();o=o.concat(c)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||AI()),deps:[[t,new us,new Qr]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(a)return a;throw new me(901,!1)}}return t})();const OT=dI(null,"core",[]);let NT=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||t)(Mt(ep))};static#t=this.\u0275mod=oo({type:t});static#n=this.\u0275inj=On({})}return t})();function WT(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function qT(t){const i=Zn(t);if(!i)return null;const o=new ch(i);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},721:(kt,Be,P)=>{P.d(Be,{Ot:()=>H,ZF:()=>ht,hX:()=>Ke,z6:()=>fe});var u=P(3182),$=P(5879),te=P(1920);class H{constructor(Le){return Le}}class fe{constructor(){return(0,u.C6)()}}const de=new $.OlP("angularfire2._apps"),Ie={provide:H,useFactory:function Te(me){return me&&1===me.length?me[0]:new H((0,u.Mq)())},deps:[[new $.FiY,de]]},le={provide:fe,deps:[[new $.FiY,de]]};function _e(me){return(Le,Oe)=>{const Je=Le.runOutsideAngular(()=>me(Oe));return new H(Je)}}let Me=(()=>{class me{constructor(Oe){(0,u.KN)("angularfire",te.q4.full,"core"),(0,u.KN)("angularfire",te.q4.full,"app"),(0,u.KN)("angular",$.q4F.full,Oe.toString())}static \u0275fac=function(Je){return new(Je||me)($.LFG($.Lbi))};static \u0275mod=$.oAB({type:me});static \u0275inj=$.cJS({providers:[Ie,le]})}return me})();function Ke(me,...Le){return{ngModule:Me,providers:[{provide:de,useFactory:_e(me),multi:!0,deps:[$.R0b,$.zs3,te.HU,...Le]}]}}const ht=(0,te.u3)(u.ZF,!0)},2637:(kt,Be,P)=>{P.d(Be,{AR:()=>ot,Xb:()=>Ze,dh:()=>de,e5:()=>Ii,gx:()=>Te,v0:()=>ln,w$:()=>ni,w7:()=>hn});var u=P(1920),$=P(5879),te=P(721),H=P(3182),fe=P(752);class Te{constructor(Sn){return Sn}}class de{constructor(){return(0,u.vb)("auth")}}const le=new $.OlP("angularfire2.auth-instances");function Me(ii){return(Sn,Cn)=>{const ci=Sn.runOutsideAngular(()=>ii(Cn));return new Te(ci)}}const Ke={provide:de,deps:[[new $.FiY,le]]},nt={provide:Te,useFactory:function _e(ii,Sn){const Cn=(0,u.JM)("auth",ii,Sn);return Cn&&new Te(Cn)},deps:[[new $.FiY,le],te.Ot]};let bt=(()=>{class ii{constructor(){(0,H.KN)("angularfire",u.q4.full,"auth")}static \u0275fac=function(ci){return new(ci||ii)};static \u0275mod=$.oAB({type:ii});static \u0275inj=$.cJS({providers:[nt,Ke]})}return ii})();function ot(ii,...Sn){return{ngModule:bt,providers:[{provide:le,useFactory:Me(ii),multi:!0,deps:[$.R0b,$.zs3,u.HU,te.z6,[new $.FiY,u.Rf],...Sn]}]}}const Ze=(0,u.u3)(fe.Xb,!0),ln=(0,u.u3)(fe.v0,!0),ni=(0,u.u3)(fe.w$,!0),Ii=(0,u.u3)(fe.e5,!0),hn=(0,u.u3)(fe.w7,!0)},1160:(kt,Be,P)=>{P.d(Be,{ST:()=>cn});var u=P(6814),$=P(5879),te=P(1920),H=P(7217),Ce=(P(6365),P(8645)),Te=P(2096),de=P(5592),Ie=P(2459),le=P(3019),_e=P(3093),Me=P(4664),Ke=P(7398),nt=P(4552);class bt extends Ce.x{constructor(ie=1/0,Ee=1/0,ge=nt.l){super(),this._bufferSize=ie,this._windowTime=Ee,this._timestampProvider=ge,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ee===1/0,this._bufferSize=Math.max(1,ie),this._windowTime=Math.max(1,Ee)}next(ie){const{isStopped:Ee,_buffer:ge,_infiniteTimeWindow:be,_timestampProvider:st,_windowTime:Dt}=this;Ee||(ge.push(ie),!be&&ge.push(st.now()+Dt)),this._trimBuffer(),super.next(ie)}_subscribe(ie){this._throwIfClosed(),this._trimBuffer();const Ee=this._innerSubscribe(ie),{_infiniteTimeWindow:ge,_buffer:be}=this,st=be.slice();for(let Dt=0;Dt<st.length&&!ie.closed;Dt+=ge?1:2)ie.next(st[Dt]);return this._checkFinalizedStatuses(ie),Ee}_trimBuffer(){const{_bufferSize:ie,_timestampProvider:Ee,_buffer:ge,_infiniteTimeWindow:be}=this,st=(be?1:2)*ie;if(ie<1/0&&st<ge.length&&ge.splice(0,ge.length-st),!be){const Dt=Ee.now();let zt=0;for(let Bt=1;Bt<ge.length&&ge[Bt]<=Dt;Bt+=2)zt=Bt;zt&&ge.splice(0,zt+1)}}}var ot=P(3020);function ht(tt,ie,Ee){let ge,be=!1;return tt&&"object"==typeof tt?({bufferSize:ge=1/0,windowTime:ie=1/0,refCount:be=!1,scheduler:Ee}=tt):ge=tt??1/0,(0,ot.B)({connector:()=>new bt(ge,ie,Ee),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:be})}var mt=P(1374),Ut=P(4674);function vt(tt,ie){return(0,Ut.m)(ie)?(0,Me.w)(()=>tt,ie):(0,Me.w)(()=>tt)}var me=P(5137),Le=P(2181);P(7142);const Ze=new $.OlP("angularfire2.auth.use-emulator"),ke=new $.OlP("angularfire2.auth.settings"),$t=new $.OlP("angularfire2.auth.tenant-id"),jt=new $.OlP("angularfire2.auth.langugage-code"),ln=new $.OlP("angularfire2.auth.use-device-language"),Vn=new $.OlP("angularfire.auth.persistence"),un=(tt,ie,Ee,ge,be,st,Dt,zt)=>(0,H.cc)(`${tt.name}.auth`,"AngularFireAuth",tt.name,()=>{const Bt=ie.runOutsideAngular(()=>tt.auth());if(Ee&&Bt.useEmulator(...Ee),ge&&(Bt.tenantId=ge),Bt.languageCode=be,st&&Bt.useDeviceLanguage(),Dt)for(const[Ln,li]of Object.entries(Dt))Bt.settings[Ln]=li;return zt&&Bt.setPersistence(zt),Bt},[Ee,ge,be,st,Dt,zt]);let Ei=(()=>{class tt{authState;idToken;user;idTokenResult;credential;constructor(Ee,ge,be,st,Dt,zt,Bt,Ln,li,hi,dr,Fi){const Mr=new Ce.x,ki=(0,Te.of)(void 0).pipe((0,_e.Q)(Dt.outsideAngular),(0,Me.w)(()=>st.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,6365)))),(0,Ke.U)(()=>(0,H.on)(Ee,st,ge)),(0,Ke.U)(Vr=>un(Vr,st,zt,Ln,li,hi,Bt,dr)),ht({bufferSize:1,refCount:!1}));if((0,u.PM)(be))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Te.of)(null);else{ki.pipe((0,mt.P)()).subscribe();const Vr=ki.pipe((0,Me.w)(Hn=>Hn.getRedirectResult().then(_i=>_i,()=>null)),te.iC,ht({bufferSize:1,refCount:!1})),fi=ki.pipe((0,Me.w)(Hn=>new de.y(_i=>({unsubscribe:st.runOutsideAngular(()=>Hn.onAuthStateChanged(Li=>_i.next(Li),Li=>_i.error(Li),()=>_i.complete()))})))),Wr=ki.pipe((0,Me.w)(Hn=>new de.y(_i=>({unsubscribe:st.runOutsideAngular(()=>Hn.onIdTokenChanged(Li=>_i.next(Li),Li=>_i.error(Li),()=>_i.complete()))}))));this.authState=Vr.pipe(vt(fi),(0,me.R)(Dt.outsideAngular),(0,_e.Q)(Dt.insideAngular)),this.user=Vr.pipe(vt(Wr),(0,me.R)(Dt.outsideAngular),(0,_e.Q)(Dt.insideAngular)),this.idToken=this.user.pipe((0,Me.w)(Hn=>Hn?(0,Ie.D)(Hn.getIdToken()):(0,Te.of)(null))),this.idTokenResult=this.user.pipe((0,Me.w)(Hn=>Hn?(0,Ie.D)(Hn.getIdTokenResult()):(0,Te.of)(null))),this.credential=(0,le.T)(Vr,Mr,this.authState.pipe((0,Le.h)(Hn=>!Hn))).pipe((0,Ke.U)(Hn=>Hn?.user?Hn:null),(0,me.R)(Dt.outsideAngular),(0,_e.Q)(Dt.insideAngular))}return(0,H.pX)(this,ki,st,{spy:{apply:(Vr,fi,Wr)=>{(Vr.startsWith("signIn")||Vr.startsWith("createUser"))&&Wr.then(Hn=>Mr.next(Hn))}}})}static \u0275fac=function(ge){return new(ge||tt)($.LFG(H.Dh),$.LFG(H.xv,8),$.LFG($.Lbi),$.LFG($.R0b),$.LFG(te.HU),$.LFG(Ze,8),$.LFG(ke,8),$.LFG($t,8),$.LFG(jt,8),$.LFG(ln,8),$.LFG(Vn,8),$.LFG(te.Rf,8))};static \u0275prov=$.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"any"})}return tt})();var _n=P(6321),vn=P(7921),Ge=P(9360),Ye=P(8251);function Qe(){return(0,Ge.e)((tt,ie)=>{let Ee,ge=!1;tt.subscribe((0,Ye.x)(ie,be=>{const st=Ee;Ee=be,ge&&ie.next([st,be]),ge=!0}))})}var Xe=P(6699),$e=P(3997),at=P(3106),Pe=P(5776),wt=P(9058),Bn=P(4537);function In(tt,ie){if(void 0===ie)return{merge:!1};if(void 0!==ie.mergeFields&&void 0!==ie.merge)throw new Pe.WA("invalid-argument",`Invalid options passed to function ${tt}(): You cannot specify both "merge" and "mergeFields".`);return ie}function En(){if(typeof Uint8Array>"u")throw new Pe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function On(){if(!(0,Pe.Me)())throw new Pe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ni{constructor(ie){this._delegate=ie}static fromBase64String(ie){return On(),new ni(Pe.Jj.fromBase64String(ie))}static fromUint8Array(ie){return En(),new ni(Pe.Jj.fromUint8Array(ie))}toBase64(){return On(),this._delegate.toBase64()}toUint8Array(){return En(),this._delegate.toUint8Array()}isEqual(ie){return this._delegate.isEqual(ie._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Un(tt){return function Mi(tt,ie){if("object"!=typeof tt||null===tt)return!1;const Ee=tt;for(const ge of ie)if(ge in Ee&&"function"==typeof Ee[ge])return!0;return!1}(tt,["next","error","complete"])}class Ui{enableIndexedDbPersistence(ie,Ee){return(0,Pe.ST)(ie._delegate,{forceOwnership:Ee})}enableMultiTabIndexedDbPersistence(ie){return(0,Pe.fH)(ie._delegate)}clearIndexedDbPersistence(ie){return(0,Pe.Fc)(ie._delegate)}}class Ji{constructor(ie,Ee,ge){this._delegate=Ee,this._persistenceProvider=ge,this.INTERNAL={delete:()=>this.terminate()},ie instanceof Pe.l7||(this._appCompat=ie)}get _databaseId(){return this._delegate._databaseId}settings(ie){const Ee=this._delegate._getSettings();!ie.merge&&Ee.host!==ie.host&&(0,Pe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ie.merge&&delete(ie=Object.assign(Object.assign({},Ee),ie)).merge,this._delegate._setSettings(ie)}useEmulator(ie,Ee,ge={}){(0,Pe.at)(this._delegate,ie,Ee,ge)}enableNetwork(){return(0,Pe.Ix)(this._delegate)}disableNetwork(){return(0,Pe.TF)(this._delegate)}enablePersistence(ie){let Ee=!1,ge=!1;return ie&&(Ee=!!ie.synchronizeTabs,ge=!!ie.experimentalForceOwningTab,(0,Pe.Wi)("synchronizeTabs",Ee,"experimentalForceOwningTab",ge)),Ee?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ge)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Pe.Mx)(this._delegate)}onSnapshotsInSync(ie){return(0,Pe.sc)(this._delegate,ie)}get app(){if(!this._appCompat)throw new Pe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ie){try{return new xi(this,(0,Pe.hJ)(this._delegate,ie))}catch(Ee){throw Xt(Ee,"collection()","Firestore.collection()")}}doc(ie){try{return new mn(this,(0,Pe.JU)(this._delegate,ie))}catch(Ee){throw Xt(Ee,"doc()","Firestore.doc()")}}collectionGroup(ie){try{return new zn(this,(0,Pe.B$)(this._delegate,ie))}catch(Ee){throw Xt(Ee,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ie){return(0,Pe.i3)(this._delegate,Ee=>ie(new Ii(this,Ee)))}batch(){return(0,Pe.qY)(this._delegate),new gi(new Pe.PU(this._delegate,ie=>(0,Pe.GL)(this._delegate,ie)))}loadBundle(ie){return(0,Pe.Pb)(this._delegate,ie)}namedQuery(ie){return(0,Pe.L$)(this._delegate,ie).then(Ee=>Ee?new zn(this,Ee):null)}}class Ri extends Pe.u7{constructor(ie){super(),this.firestore=ie}convertBytes(ie){return new ni(new Pe.Jj(ie))}convertReference(ie){const Ee=this.convertDocumentKey(ie,this.firestore._databaseId);return mn.forKey(Ee,this.firestore,null)}}class Ii{constructor(ie,Ee){this._firestore=ie,this._delegate=Ee,this._userDataWriter=new Ri(ie)}get(ie){const Ee=fn(ie);return this._delegate.get(Ee).then(ge=>new Pi(this._firestore,new Pe.xU(this._firestore._delegate,this._userDataWriter,ge._key,ge._document,ge.metadata,Ee.converter)))}set(ie,Ee,ge){const be=fn(ie);return ge?(In("Transaction.set",ge),this._delegate.set(be,Ee,ge)):this._delegate.set(be,Ee),this}update(ie,Ee,ge,...be){const st=fn(ie);return 2===arguments.length?this._delegate.update(st,Ee):this._delegate.update(st,Ee,ge,...be),this}delete(ie){const Ee=fn(ie);return this._delegate.delete(Ee),this}}class gi{constructor(ie){this._delegate=ie}set(ie,Ee,ge){const be=fn(ie);return ge?(In("WriteBatch.set",ge),this._delegate.set(be,Ee,ge)):this._delegate.set(be,Ee),this}update(ie,Ee,ge,...be){const st=fn(ie);return 2===arguments.length?this._delegate.update(st,Ee):this._delegate.update(st,Ee,ge,...be),this}delete(ie){const Ee=fn(ie);return this._delegate.delete(Ee),this}commit(){return this._delegate.commit()}}class sn{constructor(ie,Ee,ge){this._firestore=ie,this._userDataWriter=Ee,this._delegate=ge}fromFirestore(ie,Ee){const ge=new Pe.$q(this._firestore._delegate,this._userDataWriter,ie._key,ie._document,ie.metadata,null);return this._delegate.fromFirestore(new Tn(this._firestore,ge),Ee??{})}toFirestore(ie,Ee){return Ee?this._delegate.toFirestore(ie,Ee):this._delegate.toFirestore(ie)}static getInstance(ie,Ee){const ge=sn.INSTANCES;let be=ge.get(ie);be||(be=new WeakMap,ge.set(ie,be));let st=be.get(Ee);return st||(st=new sn(ie,new Ri(ie),Ee),be.set(Ee,st)),st}}sn.INSTANCES=new WeakMap;class mn{constructor(ie,Ee){this.firestore=ie,this._delegate=Ee,this._userDataWriter=new Ri(ie)}static forPath(ie,Ee,ge){if(ie.length%2!=0)throw new Pe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ie.canonicalString()} has ${ie.length}`);return new mn(Ee,new Pe.my(Ee._delegate,ge,new Pe.Ky(ie)))}static forKey(ie,Ee,ge){return new mn(Ee,new Pe.my(Ee._delegate,ge,ie))}get id(){return this._delegate.id}get parent(){return new xi(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ie){try{return new xi(this.firestore,(0,Pe.hJ)(this._delegate,ie))}catch(Ee){throw Xt(Ee,"collection()","DocumentReference.collection()")}}isEqual(ie){return(ie=(0,wt.m9)(ie))instanceof Pe.my&&(0,Pe.Eo)(this._delegate,ie)}set(ie,Ee){Ee=In("DocumentReference.set",Ee);try{return Ee?(0,Pe.pl)(this._delegate,ie,Ee):(0,Pe.pl)(this._delegate,ie)}catch(ge){throw Xt(ge,"setDoc()","DocumentReference.set()")}}update(ie,Ee,...ge){try{return 1===arguments.length?(0,Pe.r7)(this._delegate,ie):(0,Pe.r7)(this._delegate,ie,Ee,...ge)}catch(be){throw Xt(be,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Pe.oe)(this._delegate)}onSnapshot(...ie){const Ee=hn(ie),ge=wi(ie,be=>new Pi(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,be._key,be._document,be.metadata,this._delegate.converter)));return(0,Pe.cf)(this._delegate,Ee,ge)}get(ie){let Ee;return Ee="cache"===ie?.source?(0,Pe.kl)(this._delegate):"server"===ie?.source?(0,Pe.Xk)(this._delegate):(0,Pe.QT)(this._delegate),Ee.then(ge=>new Pi(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,ge._key,ge._document,ge.metadata,this._delegate.converter)))}withConverter(ie){return new mn(this.firestore,this._delegate.withConverter(ie?sn.getInstance(this.firestore,ie):null))}}function Xt(tt,ie,Ee){return tt.message=tt.message.replace(ie,Ee),tt}function hn(tt){for(const ie of tt)if("object"==typeof ie&&!Un(ie))return ie;return{}}function wi(tt,ie){var Ee,ge;let be;return be=Un(tt[0])?tt[0]:Un(tt[1])?tt[1]:"function"==typeof tt[0]?{next:tt[0],error:tt[1],complete:tt[2]}:{next:tt[1],error:tt[2],complete:tt[3]},{next:st=>{be.next&&be.next(ie(st))},error:null===(Ee=be.error)||void 0===Ee?void 0:Ee.bind(be),complete:null===(ge=be.complete)||void 0===ge?void 0:ge.bind(be)}}class Pi{constructor(ie,Ee){this._firestore=ie,this._delegate=Ee}get ref(){return new mn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ie){return this._delegate.data(ie)}get(ie,Ee){return this._delegate.get(ie,Ee)}isEqual(ie){return(0,Pe.qK)(this._delegate,ie._delegate)}}class Tn extends Pi{data(ie){const Ee=this._delegate.data(ie);return(0,Pe.K9)(void 0!==Ee,"Document in a QueryDocumentSnapshot should exist"),Ee}}class zn{constructor(ie,Ee){this.firestore=ie,this._delegate=Ee,this._userDataWriter=new Ri(ie)}where(ie,Ee,ge){try{return new zn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.ar)(ie,Ee,ge)))}catch(be){throw Xt(be,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ie,Ee){try{return new zn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Xo)(ie,Ee)))}catch(ge){throw Xt(ge,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ie){try{return new zn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.b9)(ie)))}catch(Ee){throw Xt(Ee,"limit()","Query.limit()")}}limitToLast(ie){try{return new zn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.vh)(ie)))}catch(Ee){throw Xt(Ee,"limitToLast()","Query.limitToLast()")}}startAt(...ie){try{return new zn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.e0)(...ie)))}catch(Ee){throw Xt(Ee,"startAt()","Query.startAt()")}}startAfter(...ie){try{return new zn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.TQ)(...ie)))}catch(Ee){throw Xt(Ee,"startAfter()","Query.startAfter()")}}endBefore(...ie){try{return new zn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Lx)(...ie)))}catch(Ee){throw Xt(Ee,"endBefore()","Query.endBefore()")}}endAt(...ie){try{return new zn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Wu)(...ie)))}catch(Ee){throw Xt(Ee,"endAt()","Query.endAt()")}}isEqual(ie){return(0,Pe.iE)(this._delegate,ie._delegate)}get(ie){let Ee;return Ee="cache"===ie?.source?(0,Pe.UQ)(this._delegate):"server"===ie?.source?(0,Pe.zN)(this._delegate):(0,Pe.PL)(this._delegate),Ee.then(ge=>new Kt(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,ge._snapshot)))}onSnapshot(...ie){const Ee=hn(ie),ge=wi(ie,be=>new Kt(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,be._snapshot)));return(0,Pe.cf)(this._delegate,Ee,ge)}withConverter(ie){return new zn(this.firestore,this._delegate.withConverter(ie?sn.getInstance(this.firestore,ie):null))}}class mr{constructor(ie,Ee){this._firestore=ie,this._delegate=Ee}get type(){return this._delegate.type}get doc(){return new Tn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Kt{constructor(ie,Ee){this._firestore=ie,this._delegate=Ee}get query(){return new zn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ie=>new Tn(this._firestore,ie))}docChanges(ie){return this._delegate.docChanges(ie).map(Ee=>new mr(this._firestore,Ee))}forEach(ie,Ee){this._delegate.forEach(ge=>{ie.call(Ee,new Tn(this._firestore,ge))})}isEqual(ie){return(0,Pe.qK)(this._delegate,ie._delegate)}}class xi extends zn{constructor(ie,Ee){super(ie,Ee),this.firestore=ie,this._delegate=Ee}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ie=this._delegate.parent;return ie?new mn(this.firestore,ie):null}doc(ie){try{return new mn(this.firestore,void 0===ie?(0,Pe.JU)(this._delegate):(0,Pe.JU)(this._delegate,ie))}catch(Ee){throw Xt(Ee,"doc()","CollectionReference.doc()")}}add(ie){return(0,Pe.ET)(this._delegate,ie).then(Ee=>new mn(this.firestore,Ee))}isEqual(ie){return(0,Pe.Eo)(this._delegate,ie._delegate)}withConverter(ie){return new xi(this.firestore,this._delegate.withConverter(ie?sn.getInstance(this.firestore,ie):null))}}function fn(tt){return(0,Pe.Cf)(tt,Pe.my)}class ai{constructor(...ie){this._delegate=new Pe.Lz(...ie)}static documentId(){return new ai(Pe.Xb.keyField().canonicalString())}isEqual(ie){return(ie=(0,wt.m9)(ie))instanceof Pe.Lz&&this._delegate._internalPath.isEqual(ie._internalPath)}}class di{constructor(ie){this._delegate=ie}static serverTimestamp(){const ie=(0,Pe.Bt)();return ie._methodName="FieldValue.serverTimestamp",new di(ie)}static delete(){const ie=(0,Pe.AK)();return ie._methodName="FieldValue.delete",new di(ie)}static arrayUnion(...ie){const Ee=(0,Pe.vr)(...ie);return Ee._methodName="FieldValue.arrayUnion",new di(Ee)}static arrayRemove(...ie){const Ee=(0,Pe.Ab)(...ie);return Ee._methodName="FieldValue.arrayRemove",new di(Ee)}static increment(ie){const Ee=(0,Pe.nP)(ie);return Ee._methodName="FieldValue.increment",new di(Ee)}isEqual(ie){return this._delegate.isEqual(ie._delegate)}}const ii={Firestore:Ji,GeoPoint:Pe.F8,Timestamp:Pe.EK,Blob:ni,Transaction:Ii,WriteBatch:gi,DocumentReference:mn,DocumentSnapshot:Pi,Query:zn,QueryDocumentSnapshot:Tn,QuerySnapshot:Kt,CollectionReference:xi,FieldPath:ai,FieldValue:di,setLogLevel:function Qn(tt){(0,Pe.Ub)(tt)},CACHE_SIZE_UNLIMITED:Pe.IX};function Wi(tt,ie){return function ci(tt,ie=_n.z){return new de.y(Ee=>{let ge;return null!=ie?ie.schedule(()=>{ge=tt.onSnapshot({includeMetadataChanges:!0},Ee)}):ge=tt.onSnapshot({includeMetadataChanges:!0},Ee),()=>{ge?.()}})}(tt,ie)}function Sr(tt,ie){return Wi(tt,ie).pipe((0,Ke.U)(Ee=>({payload:Ee,type:"query"})))}!function Cn(tt){(function Sn(tt,ie){tt.INTERNAL.registerComponent(new Bn.wA("firestore-compat",Ee=>{const ge=Ee.getProvider("app-compat").getImmediate(),be=Ee.getProvider("firestore").getImmediate();return ie(ge,be)},"PUBLIC").setServiceProps(Object.assign({},ii)))})(tt,(ie,Ee)=>new Ji(ie,Ee,new Ui)),tt.registerVersion("@firebase/firestore-compat","0.3.21")}(at.Z);class qi{ref;afs;constructor(ie,Ee){this.ref=ie,this.afs=Ee}set(ie,Ee){return this.ref.set(ie,Ee)}update(ie){return this.ref.update(ie)}delete(){return this.ref.delete()}collection(ie,Ee){const ge=this.ref.collection(ie),{ref:be,query:st}=Ft(ge,Ee);return new k(be,st,this.afs)}snapshotChanges(){return function Gi(tt,ie){return Wi(tt,ie).pipe((0,vn.O)(void 0),Qe(),(0,Ke.U)(Ee=>{const[ge,be]=Ee;return be.exists?ge?.exists?{payload:be,type:"modified"}:{payload:be,type:"added"}:{payload:be,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(ie={}){return this.snapshotChanges().pipe((0,Ke.U)(({payload:Ee})=>ie.idField?{...Ee.data(),[ie.idField]:Ee.id}:Ee.data()))}get(ie){return(0,Ie.D)(this.ref.get(ie)).pipe(te.iC)}}function gr(tt,ie){return Sr(tt,ie).pipe((0,vn.O)(void 0),Qe(),(0,Ke.U)(Ee=>{const[ge,be]=Ee,st=be.payload.docChanges(),Dt=st.map(zt=>({type:zt.type,payload:zt}));return ge&&JSON.stringify(ge.payload.metadata)!==JSON.stringify(be.payload.metadata)&&be.payload.docs.forEach((zt,Bt)=>{const Ln=st.find(hi=>hi.doc.ref.isEqual(zt.ref)),li=ge?.payload.docs.find(hi=>hi.ref.isEqual(zt.ref));Ln&&JSON.stringify(Ln.doc.metadata)===JSON.stringify(zt.metadata)||!Ln&&li&&JSON.stringify(li.metadata)===JSON.stringify(zt.metadata)||Dt.push({type:"modified",payload:{oldIndex:Bt,newIndex:Bt,type:"modified",doc:zt}})}),Dt}))}function St(tt,ie,Ee){return gr(tt,Ee).pipe((0,Xe.R)((ge,be)=>function oe(tt,ie,Ee){return ie.forEach(ge=>{Ee.indexOf(ge.type)>-1&&(tt=function O(tt,ie){switch(ie.type){case"added":if(!tt[ie.newIndex]||!tt[ie.newIndex].doc.ref.isEqual(ie.doc.ref))return L(tt,ie.newIndex,0,ie);break;case"modified":if(null==tt[ie.oldIndex]||tt[ie.oldIndex].doc.ref.isEqual(ie.doc.ref)){if(ie.oldIndex!==ie.newIndex){const Ee=tt.slice();return Ee.splice(ie.oldIndex,1),Ee.splice(ie.newIndex,0,ie),Ee}return L(tt,ie.newIndex,1,ie)}break;case"removed":if(tt[ie.oldIndex]&&tt[ie.oldIndex].doc.ref.isEqual(ie.doc.ref))return L(tt,ie.oldIndex,1)}return tt}(tt,ge))}),tt}(ge,be.map(st=>st.payload),ie),[]),(0,$e.x)(),(0,Ke.U)(ge=>ge.map(be=>({type:be.type,payload:be}))))}function L(tt,ie,Ee,...ge){const be=tt.slice();return be.splice(ie,Ee,...ge),be}function N(tt){return(!tt||0===tt.length)&&(tt=["added","removed","modified"]),tt}class k{ref;query;afs;constructor(ie,Ee,ge){this.ref=ie,this.query=Ee,this.afs=ge}stateChanges(ie){let Ee=gr(this.query,this.afs.schedulers.outsideAngular);return ie&&ie.length>0&&(Ee=Ee.pipe((0,Ke.U)(ge=>ge.filter(be=>ie.indexOf(be.type)>-1)))),Ee.pipe((0,vn.O)(void 0),Qe(),(0,Le.h)(([ge,be])=>be.length>0||!ge),(0,Ke.U)(([,ge])=>ge),te.iC)}auditTrail(ie){return this.stateChanges(ie).pipe((0,Xe.R)((Ee,ge)=>[...Ee,...ge],[]))}snapshotChanges(ie){const Ee=N(ie);return St(this.query,Ee,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(ie={}){return Sr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(Ee=>Ee.payload.docs.map(ge=>ie.idField?{...ge.data(),[ie.idField]:ge.id}:ge.data())),te.iC)}get(ie){return(0,Ie.D)(this.query.get(ie)).pipe(te.iC)}add(ie){return this.ref.add(ie)}doc(ie){return new qi(this.ref.doc(ie),this.afs)}}class he{query;afs;constructor(ie,Ee){this.query=ie,this.afs=Ee}stateChanges(ie){return ie&&0!==ie.length?gr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(Ee=>Ee.filter(ge=>ie.indexOf(ge.type)>-1)),(0,Le.h)(Ee=>Ee.length>0),te.iC):gr(this.query,this.afs.schedulers.outsideAngular).pipe(te.iC)}auditTrail(ie){return this.stateChanges(ie).pipe((0,Xe.R)((Ee,ge)=>[...Ee,...ge],[]))}snapshotChanges(ie){const Ee=N(ie);return St(this.query,Ee,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(ie={}){return Sr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(ge=>ge.payload.docs.map(be=>ie.idField?{[ie.idField]:be.id,...be.data()}:be.data())),te.iC)}get(ie){return(0,Ie.D)(this.query.get(ie)).pipe(te.iC)}}const Ue=new $.OlP("angularfire2.enableFirestorePersistence"),_t=new $.OlP("angularfire2.firestore.persistenceSettings"),Mt=new $.OlP("angularfire2.firestore.settings"),Lt=new $.OlP("angularfire2.firestore.use-emulator");function Ft(tt,ie=(Ee=>Ee)){return{query:ie(tt),ref:tt}}let cn=(()=>{class tt{schedulers;firestore;persistenceEnabled$;constructor(Ee,ge,be,st,Dt,zt,Bt,Ln,li,hi,dr,Fi,Mr,ki,Vr,fi,Wr){this.schedulers=Bt;const Hn=(0,H.on)(Ee,zt,ge),_i=li;hi&&un(Hn,zt,dr,Mr,ki,Vr,Fi,fi),[this.firestore,this.persistenceEnabled$]=(0,H.cc)(`${Hn.name}.firestore`,"AngularFirestore",Hn.name,()=>{const Li=zt.runOutsideAngular(()=>Hn.firestore());if(st&&Li.settings(st),_i&&Li.useEmulator(..._i),be&&!(0,u.PM)(Dt)){const No=()=>{try{return(0,Ie.D)(Li.enablePersistence(Ln||void 0).then(()=>!0,()=>!1))}catch(Gr){return typeof console<"u"&&console.warn(Gr),(0,Te.of)(!1)}};return[Li,zt.runOutsideAngular(No)]}return[Li,(0,Te.of)(!1)]},[st,_i,be])}collection(Ee,ge){let be;be="string"==typeof Ee?this.firestore.collection(Ee):Ee;const{ref:st,query:Dt}=Ft(be,ge),zt=this.schedulers.ngZone.run(()=>st);return new k(zt,Dt,this)}collectionGroup(Ee,ge){const be=ge||(Dt=>Dt),st=this.firestore.collectionGroup(Ee);return new he(be(st),this)}doc(Ee){let ge;ge="string"==typeof Ee?this.firestore.doc(Ee):Ee;const be=this.schedulers.ngZone.run(()=>ge);return new qi(be,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(ge){return new(ge||tt)($.LFG(H.Dh),$.LFG(H.xv,8),$.LFG(Ue,8),$.LFG(Mt,8),$.LFG($.Lbi),$.LFG($.R0b),$.LFG(te.HU),$.LFG(_t,8),$.LFG(Lt,8),$.LFG(Ei,8),$.LFG(Ze,8),$.LFG(ke,8),$.LFG($t,8),$.LFG(jt,8),$.LFG(ln,8),$.LFG(Vn,8),$.LFG(te.Rf,8))};static \u0275prov=$.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"any"})}return tt})()},7217:(kt,Be,P)=>{P.d(Be,{Dh:()=>Te,GT:()=>fe,cc:()=>Ke,on:()=>Ie,pX:()=>H,xv:()=>de});var u=P(5879),$=P(7142);const te=["ngOnDestroy"],H=(ht,mt,Ut,vt={})=>new Proxy(ht,{get:(me,Le)=>Ut.runOutsideAngular(()=>{if(ht[Le])return vt?.spy?.get&&vt.spy.get(Le,ht[Le]),ht[Le];if(te.indexOf(Le)>-1)return()=>{};const Oe=mt.toPromise().then(Je=>{const Ze=Je?.[Le];return"function"==typeof Ze?Ze.bind(Je):Ze?.then?Ze.then(ke=>Ut.run(()=>ke)):Ut.run(()=>Ze)});return new Proxy(()=>{},{get:(Je,Ze)=>Oe[Ze],apply:(Je,Ze,ke)=>Oe.then($t=>{const jt=$t?.(...ke);return vt?.spy?.apply&&vt.spy.apply(Le,ke,jt),jt})})})}),fe=(ht,mt)=>{mt.forEach(Ut=>{Object.getOwnPropertyNames(Ut.prototype||Ut).forEach(vt=>{Object.defineProperty(ht.prototype,vt,Object.getOwnPropertyDescriptor(Ut.prototype||Ut,vt))})})};class Ce{constructor(mt){return mt}}const Te=new u.OlP("angularfire2.app.options"),de=new u.OlP("angularfire2.app.name");function Ie(ht,mt,Ut){const me="object"==typeof Ut&&Ut||{};me.name=me.name||"string"==typeof Ut&&Ut||"[DEFAULT]";const Oe=$.Z.apps.filter(Je=>Je&&Je.name===me.name)[0]||mt.runOutsideAngular(()=>$.Z.initializeApp(ht,me));try{if(JSON.stringify(ht)!==JSON.stringify(Oe.options)){const Je=!!module.hot;le("error",`${Oe.name} Firebase App already initialized with different options${Je?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ce(Oe)}const le=(ht,...mt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ht](...mt)};function Ke(ht,mt,Ut,vt,me){const[,Le,Oe]=globalThis.\u0275AngularfireInstanceCache.find(Je=>Je[0]===ht)||[];if(Le)return function nt(ht,mt){try{return ht.toString()===mt.toString()}catch{return ht===mt}}(me,Oe)||(ot("error",`${mt} was already initialized on the ${Ut} Firebase App with different settings.${bt?" You may need to reload as Firebase is not HMR aware.":""}`),ot("warn",{is:me,was:Oe})),Le;{const Je=vt();return globalThis.\u0275AngularfireInstanceCache.push([ht,Je,me]),Je}}const bt=typeof module<"u"&&!!module.hot,ot=(ht,...mt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ht](...mt)};globalThis.\u0275AngularfireInstanceCache||=[]},4643:(kt,Be,P)=>{P.d(Be,{gg:()=>Te,ET:()=>ln,hJ:()=>Ye,JU:()=>Gn,ad:()=>hn,Cm:()=>ht,pl:()=>O,r7:()=>Ft});var u=P(1920),$=P(5879),te=P(721),H=P(2637),fe=P(3182),Ce=P(5776);class Te{constructor(Ee){return Ee}}const de="firestore",_e=new $.OlP("angularfire2.firestore-instances");function Ke(ie){return(Ee,ge)=>{const be=Ee.runOutsideAngular(()=>ie(ge));return new Te(be)}}const nt={provide:class Ie{constructor(){return(0,u.vb)(de)}},deps:[[new $.FiY,_e]]},bt={provide:Te,useFactory:function Me(ie,Ee){const ge=(0,u.JM)(de,ie,Ee);return ge&&new Te(ge)},deps:[[new $.FiY,_e],te.Ot]};let ot=(()=>{class ie{constructor(){(0,fe.KN)("angularfire",u.q4.full,"fst")}static \u0275fac=function(be){return new(be||ie)};static \u0275mod=$.oAB({type:ie});static \u0275inj=$.cJS({providers:[bt,nt]})}return ie})();function ht(ie,...Ee){return{ngModule:ot,providers:[{provide:_e,useFactory:Ke(ie),multi:!0,deps:[$.R0b,$.zs3,u.HU,te.z6,[new $.FiY,H.dh],[new $.FiY,u.Rf],...Ee]}]}}const ln=(0,u.u3)(Ce.ET,!0),Ye=(0,u.u3)(Ce.hJ,!0),Gn=(0,u.u3)(Ce.JU,!0),hn=(0,u.u3)(Ce.ad,!0),O=(0,u.u3)(Ce.pl,!0),Ft=(0,u.u3)(Ce.r7,!0)},1920:(kt,Be,P)=>{P.d(Be,{q4:()=>nt,iC:()=>ln,fc:()=>$t,HU:()=>Oe,Rf:()=>mt,vb:()=>ht,JM:()=>ot,u3:()=>Ei});var u=P(5879),$=P(3182),te=P(1954),fe=P(2631);const Te=new class Ce extends fe.v{}(class H extends te.o{constructor(_n,vn){super(_n,vn),this.scheduler=_n,this.work=vn}schedule(_n,vn=0){return vn>0?super.schedule(_n,vn):(this.delay=vn,this.state=_n,this.scheduler.flush(this),this)}execute(_n,vn){return vn>0||this.closed?super.execute(_n,vn):this._execute(_n,vn)}requestAsyncId(_n,vn,Ge=0){return null!=Ge&&Ge>0||null==Ge&&this.delay>0?super.requestAsyncId(_n,vn,Ge):(_n.flush(this),0)}});var Ie=P(6321),le=P(5592),_e=P(9397),Me=P(3093),Ke=P(5137);const nt=new u.GfV("ANGULARFIRE2_VERSION");function ot(Qt,_n,vn){if(_n){if(1===_n.length)return _n[0];const Qe=_n.filter(Xe=>Xe.app===vn);if(1===Qe.length)return Qe[0]}return vn.container.getProvider(Qt).getImmediate({optional:!0})}const ht=(Qt,_n)=>{const vn=_n?[_n]:(0,$.C6)(),Ge=[];return vn.forEach(Ye=>{Ye.container.getProvider(Qt).instances.forEach(Xe=>{Ge.includes(Xe)||Ge.push(Xe)})}),Ge};class mt{constructor(){return ht(Ut)}}const Ut="app-check";function vt(){}class me{zone;delegate;constructor(_n,vn=Te){this.zone=_n,this.delegate=vn}now(){return this.delegate.now()}schedule(_n,vn,Ge){const Ye=this.zone;return this.delegate.schedule(function(Xe){Ye.runGuarded(()=>{_n.apply(this,[Xe])})},vn,Ge)}}class Le{zone;task=null;constructor(_n){this.zone=_n}call(_n,vn){const Ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vt,{},vt,vt)),vn.pipe((0,_e.b)({next:Ge,complete:Ge,error:Ge})).subscribe(_n).add(Ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Oe=(()=>{class Qt{ngZone;outsideAngular;insideAngular;constructor(vn){this.ngZone=vn,this.outsideAngular=vn.runOutsideAngular(()=>new me(Zone.current)),this.insideAngular=vn.run(()=>new me(Zone.current,Ie.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Ge){return new(Ge||Qt)(u.LFG(u.R0b))};static \u0275prov=u.Yz7({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})();function Je(){const Qt=globalThis.\u0275AngularFireScheduler;if(!Qt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Qt}function ke(Qt){return Je().ngZone.run(()=>Qt())}function $t(Qt){return Qt.pipe((0,Me.Q)(Je().outsideAngular))}function ln(Qt){return function Vn(Qt){return function(vn){return(vn=vn.lift(new Le(Qt.ngZone))).pipe((0,Ke.R)(Qt.outsideAngular),(0,Me.Q)(Qt.insideAngular))}}(Je())(Qt)}const un=(Qt,_n)=>function(){const Ge=arguments;return _n&&setTimeout(()=>{"scheduled"===_n.state&&_n.invoke()},10),ke(()=>Qt.apply(void 0,Ge))},Ei=(Qt,_n)=>function(){let vn;const Ge=arguments;for(let Qe=0;Qe<arguments.length;Qe++)"function"==typeof Ge[Qe]&&(_n&&(vn||=ke(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vt,{},vt,vt))),Ge[Qe]=un(Ge[Qe],vn));const Ye=function Ze(Qt){return Je().ngZone.runOutsideAngular(()=>Qt())}(()=>Qt.apply(this,Ge));if(!_n){if(Ye instanceof le.y){const Qe=Je();return Ye.pipe((0,Ke.R)(Qe.outsideAngular),(0,Me.Q)(Qe.insideAngular))}return ke(()=>Ye)}return Ye instanceof le.y?Ye.pipe(ln):Ye instanceof Promise?ke(()=>new Promise((Qe,Xe)=>Ye.then($e=>ke(()=>Qe($e)),$e=>ke(()=>Xe($e))))):"function"==typeof Ye&&vn?function(){return setTimeout(()=>{vn&&"scheduled"===vn.state&&vn.invoke()},10),Ye.apply(this,arguments)}:ke(()=>Ye)}},6223:(kt,Be,P)=>{P.d(Be,{EJ:()=>Ur,Fj:()=>nt,JJ:()=>Ui,JL:()=>Ji,Kr:()=>j,NI:()=>Fo,On:()=>_r,UX:()=>nr,YN:()=>er,_Y:()=>To,cw:()=>L,kI:()=>vt,sg:()=>Qi,u:()=>Zt,u5:()=>Nr});var u=P(5879),$=P(6814),te=P(2459),H=P(9315),fe=P(7398);let Ce=(()=>{class Y{constructor(V,ue){this._renderer=V,this._elementRef=ue,this.onChange=Fe=>{},this.onTouched=()=>{}}setProperty(V,ue){this._renderer.setProperty(this._elementRef.nativeElement,V,ue)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}static#e=this.\u0275fac=function(ue){return new(ue||Y)(u.Y36(u.Qsj),u.Y36(u.SBq))};static#t=this.\u0275dir=u.lG2({type:Y})}return Y})(),Te=(()=>{class Y extends Ce{static#e=this.\u0275fac=function(){let V;return function(Fe){return(V||(V=u.n5z(Y)))(Fe||Y)}}();static#t=this.\u0275dir=u.lG2({type:Y,features:[u.qOj]})}return Y})();const de=new u.OlP("NgValueAccessor"),_e={provide:de,useExisting:(0,u.Gpc)(()=>nt),multi:!0},Ke=new u.OlP("CompositionEventMode");let nt=(()=>{class Y extends Ce{constructor(V,ue,Fe){super(V,ue),this._compositionMode=Fe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Me(){const Y=(0,$.q)()?(0,$.q)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}static#e=this.\u0275fac=function(ue){return new(ue||Y)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Ke,8))};static#t=this.\u0275dir=u.lG2({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ue,Fe){1&ue&&u.NdJ("input",function($n){return Fe._handleInput($n.target.value)})("blur",function(){return Fe.onTouched()})("compositionstart",function(){return Fe._compositionStart()})("compositionend",function($n){return Fe._compositionEnd($n.target.value)})},features:[u._Bn([_e]),u.qOj]})}return Y})();function bt(Y){return null==Y||("string"==typeof Y||Array.isArray(Y))&&0===Y.length}function ot(Y){return null!=Y&&"number"==typeof Y.length}const ht=new u.OlP("NgValidators"),mt=new u.OlP("NgAsyncValidators"),Ut=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vt{static min(ee){return function me(Y){return ee=>{if(bt(ee.value)||bt(Y))return null;const V=parseFloat(ee.value);return!isNaN(V)&&V<Y?{min:{min:Y,actual:ee.value}}:null}}(ee)}static max(ee){return function Le(Y){return ee=>{if(bt(ee.value)||bt(Y))return null;const V=parseFloat(ee.value);return!isNaN(V)&&V>Y?{max:{max:Y,actual:ee.value}}:null}}(ee)}static required(ee){return function Oe(Y){return bt(Y.value)?{required:!0}:null}(ee)}static requiredTrue(ee){return function Je(Y){return!0===Y.value?null:{required:!0}}(ee)}static email(ee){return function Ze(Y){return bt(Y.value)||Ut.test(Y.value)?null:{email:!0}}(ee)}static minLength(ee){return function ke(Y){return ee=>bt(ee.value)||!ot(ee.value)?null:ee.value.length<Y?{minlength:{requiredLength:Y,actualLength:ee.value.length}}:null}(ee)}static maxLength(ee){return function $t(Y){return ee=>ot(ee.value)&&ee.value.length>Y?{maxlength:{requiredLength:Y,actualLength:ee.value.length}}:null}(ee)}static pattern(ee){return function jt(Y){if(!Y)return ln;let ee,V;return"string"==typeof Y?(V="","^"!==Y.charAt(0)&&(V+="^"),V+=Y,"$"!==Y.charAt(Y.length-1)&&(V+="$"),ee=new RegExp(V)):(V=Y.toString(),ee=Y),ue=>{if(bt(ue.value))return null;const Fe=ue.value;return ee.test(Fe)?null:{pattern:{requiredPattern:V,actualValue:Fe}}}}(ee)}static nullValidator(ee){return null}static compose(ee){return Ge(ee)}static composeAsync(ee){return Qe(ee)}}function ln(Y){return null}function Vn(Y){return null!=Y}function un(Y){return(0,u.QGY)(Y)?(0,te.D)(Y):Y}function Ei(Y){let ee={};return Y.forEach(V=>{ee=null!=V?{...ee,...V}:ee}),0===Object.keys(ee).length?null:ee}function Qt(Y,ee){return ee.map(V=>V(Y))}function vn(Y){return Y.map(ee=>function _n(Y){return!Y.validate}(ee)?ee:V=>ee.validate(V))}function Ge(Y){if(!Y)return null;const ee=Y.filter(Vn);return 0==ee.length?null:function(V){return Ei(Qt(V,ee))}}function Ye(Y){return null!=Y?Ge(vn(Y)):null}function Qe(Y){if(!Y)return null;const ee=Y.filter(Vn);return 0==ee.length?null:function(V){const ue=Qt(V,ee).map(un);return(0,H.D)(ue).pipe((0,fe.U)(Ei))}}function Xe(Y){return null!=Y?Qe(vn(Y)):null}function $e(Y,ee){return null===Y?[ee]:Array.isArray(Y)?[...Y,ee]:[Y,ee]}function at(Y){return Y._rawValidators}function Pe(Y){return Y._rawAsyncValidators}function wt(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function Bn(Y,ee){return Array.isArray(Y)?Y.includes(ee):Y===ee}function tn(Y,ee){const V=wt(ee);return wt(Y).forEach(Fe=>{Bn(V,Fe)||V.push(Fe)}),V}function Gn(Y,ee){return wt(ee).filter(V=>!Bn(Y,V))}class In{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=Ye(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=Xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,V){return!!this.control&&this.control.hasError(ee,V)}getError(ee,V){return this.control?this.control.getError(ee,V):null}}class En extends In{get formDirective(){return null}get path(){return null}}class On extends In{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ni{constructor(ee){this._cd=ee}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ui=(()=>{class Y extends ni{constructor(V){super(V)}static#e=this.\u0275fac=function(ue){return new(ue||Y)(u.Y36(On,2))};static#t=this.\u0275dir=u.lG2({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ue,Fe){2&ue&&u.ekj("ng-untouched",Fe.isUntouched)("ng-touched",Fe.isTouched)("ng-pristine",Fe.isPristine)("ng-dirty",Fe.isDirty)("ng-valid",Fe.isValid)("ng-invalid",Fe.isInvalid)("ng-pending",Fe.isPending)},features:[u.qOj]})}return Y})(),Ji=(()=>{class Y extends ni{constructor(V){super(V)}static#e=this.\u0275fac=function(ue){return new(ue||Y)(u.Y36(En,10))};static#t=this.\u0275dir=u.lG2({type:Y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ue,Fe){2&ue&&u.ekj("ng-untouched",Fe.isUntouched)("ng-touched",Fe.isTouched)("ng-pristine",Fe.isPristine)("ng-dirty",Fe.isDirty)("ng-valid",Fe.isValid)("ng-invalid",Fe.isInvalid)("ng-pending",Fe.isPending)("ng-submitted",Fe.isSubmitted)},features:[u.qOj]})}return Y})();const di="VALID",ii="INVALID",Sn="PENDING",Cn="DISABLED";function ci(Y){return(qi(Y)?Y.validators:Y)||null}function Gi(Y,ee){return(qi(ee)?ee.asyncValidators:Y)||null}function qi(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}class oe{constructor(ee,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ee),this._assignAsyncValidators(V)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get valid(){return this.status===di}get invalid(){return this.status===ii}get pending(){return this.status==Sn}get disabled(){return this.status===Cn}get enabled(){return this.status!==Cn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(tn(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(tn(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators(Gn(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators(Gn(ee,this._rawAsyncValidators))}hasValidator(ee){return Bn(this._rawValidators,ee)}hasAsyncValidator(ee){return Bn(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){this.touched=!0,this._parent&&!ee.onlySelf&&this._parent.markAsTouched(ee)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ee=>ee.markAllAsTouched())}markAsUntouched(ee={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}markAsDirty(ee={}){this.pristine=!1,this._parent&&!ee.onlySelf&&this._parent.markAsDirty(ee)}markAsPristine(ee={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}markAsPending(ee={}){this.status=Sn,!1!==ee.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ee.onlySelf&&this._parent.markAsPending(ee)}disable(ee={}){const V=this._parentMarkedDirty(ee.onlySelf);this.status=Cn,this.errors=null,this._forEachChild(ue=>{ue.disable({...ee,onlySelf:!0})}),this._updateValue(),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ee,skipPristineCheck:V}),this._onDisabledChange.forEach(ue=>ue(!0))}enable(ee={}){const V=this._parentMarkedDirty(ee.onlySelf);this.status=di,this._forEachChild(ue=>{ue.enable({...ee,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors({...ee,skipPristineCheck:V}),this._onDisabledChange.forEach(ue=>ue(!1))}_updateAncestors(ee){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===di||this.status===Sn)&&this._runAsyncValidator(ee.emitEvent)),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity(ee)}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cn:di}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee){if(this.asyncValidator){this.status=Sn,this._hasOwnPendingAsyncValidator=!0;const V=un(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(ue=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ue,{emitEvent:ee})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ee,V={}){this.errors=ee,this._updateControlsErrors(!1!==V.emitEvent)}get(ee){let V=ee;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((ue,Fe)=>ue&&ue._find(Fe),this)}getError(ee,V){const ue=V?this.get(V):this;return ue&&ue.errors?ue.errors[ee]:null}hasError(ee,V){return!!this.getError(ee,V)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ee)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Cn:this.errors?ii:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sn)?Sn:this._anyControlsHaveStatus(ii)?ii:di}_anyControlsHaveStatus(ee){return this._anyControls(V=>V.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}_updateTouched(ee={}){this.touched=this._anyControlsTouched(),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){qi(ee)&&null!=ee.updateOn&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){return!ee&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=function Wi(Y){return Array.isArray(Y)?Ye(Y):Y||null}(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=function Sr(Y){return Array.isArray(Y)?Xe(Y):Y||null}(this._rawAsyncValidators)}}class L extends oe{constructor(ee,V,ue){super(ci(V),Gi(ue,V)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ee,V){return this.controls[ee]?this.controls[ee]:(this.controls[ee]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(ee,V,ue={}){this.registerControl(ee,V),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}removeControl(ee,V={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(ee,V,ue={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],V&&this.registerControl(ee,V),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}contains(ee){return this.controls.hasOwnProperty(ee)&&this.controls[ee].enabled}setValue(ee,V={}){(function St(Y,ee,V){Y._forEachChild((ue,Fe)=>{if(void 0===V[Fe])throw new u.vHH(1002,"")})})(this,0,ee),Object.keys(ee).forEach(ue=>{(function gr(Y,ee,V){const ue=Y.controls;if(!(ee?Object.keys(ue):ue).length)throw new u.vHH(1e3,"");if(!ue[V])throw new u.vHH(1001,"")})(this,!0,ue),this.controls[ue].setValue(ee[ue],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(ee,V={}){null!=ee&&(Object.keys(ee).forEach(ue=>{const Fe=this.controls[ue];Fe&&Fe.patchValue(ee[ue],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(ee={},V={}){this._forEachChild((ue,Fe)=>{ue.reset(ee?ee[Fe]:null,{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(ee,V,ue)=>(ee[ue]=V.getRawValue(),ee))}_syncPendingControls(){let ee=this._reduceChildren(!1,(V,ue)=>!!ue._syncPendingControls()||V);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){Object.keys(this.controls).forEach(V=>{const ue=this.controls[V];ue&&ee(ue,V)})}_setUpControls(){this._forEachChild(ee=>{ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ee){for(const[V,ue]of Object.entries(this.controls))if(this.contains(V)&&ee(ue))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,ue,Fe)=>((ue.enabled||this.disabled)&&(V[Fe]=ue.value),V))}_reduceChildren(ee,V){let ue=ee;return this._forEachChild((Fe,Dn)=>{ue=V(ue,Fe,Dn)}),ue}_allControlsDisabled(){for(const ee of Object.keys(this.controls))if(this.controls[ee].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ee){return this.controls.hasOwnProperty(ee)?this.controls[ee]:null}}const Ue=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>_t}),_t="always";function Mt(Y,ee){return[...ee.path,Y]}function Lt(Y,ee,V=_t){tt(Y,ee),ee.valueAccessor.writeValue(Y.value),(Y.disabled||"always"===V)&&ee.valueAccessor.setDisabledState?.(Y.disabled),function Ee(Y,ee){ee.valueAccessor.registerOnChange(V=>{Y._pendingValue=V,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&be(Y,ee)})}(Y,ee),function st(Y,ee){const V=(ue,Fe)=>{ee.valueAccessor.writeValue(ue),Fe&&ee.viewToModelUpdate(ue)};Y.registerOnChange(V),ee._registerOnDestroy(()=>{Y._unregisterOnChange(V)})}(Y,ee),function ge(Y,ee){ee.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&be(Y,ee),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,ee),function jn(Y,ee){if(ee.valueAccessor.setDisabledState){const V=ue=>{ee.valueAccessor.setDisabledState(ue)};Y.registerOnDisabledChange(V),ee._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(V)})}}(Y,ee)}function Ft(Y,ee,V=!0){const ue=()=>{};ee.valueAccessor&&(ee.valueAccessor.registerOnChange(ue),ee.valueAccessor.registerOnTouched(ue)),ie(Y,ee),Y&&(ee._invokeOnDestroyCallbacks(),Y._registerOnCollectionChange(()=>{}))}function cn(Y,ee){Y.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(ee)})}function tt(Y,ee){const V=at(Y);null!==ee.validator?Y.setValidators($e(V,ee.validator)):"function"==typeof V&&Y.setValidators([V]);const ue=Pe(Y);null!==ee.asyncValidator?Y.setAsyncValidators($e(ue,ee.asyncValidator)):"function"==typeof ue&&Y.setAsyncValidators([ue]);const Fe=()=>Y.updateValueAndValidity();cn(ee._rawValidators,Fe),cn(ee._rawAsyncValidators,Fe)}function ie(Y,ee){let V=!1;if(null!==Y){if(null!==ee.validator){const Fe=at(Y);if(Array.isArray(Fe)&&Fe.length>0){const Dn=Fe.filter($n=>$n!==ee.validator);Dn.length!==Fe.length&&(V=!0,Y.setValidators(Dn))}}if(null!==ee.asyncValidator){const Fe=Pe(Y);if(Array.isArray(Fe)&&Fe.length>0){const Dn=Fe.filter($n=>$n!==ee.asyncValidator);Dn.length!==Fe.length&&(V=!0,Y.setAsyncValidators(Dn))}}}const ue=()=>{};return cn(ee._rawValidators,ue),cn(ee._rawAsyncValidators,ue),V}function be(Y,ee){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function Fi(Y,ee){if(!Y.hasOwnProperty("model"))return!1;const V=Y.model;return!!V.isFirstChange()||!Object.is(ee,V.currentValue)}function Vr(Y,ee){if(!ee)return null;let V,ue,Fe;return Array.isArray(ee),ee.forEach(Dn=>{Dn.constructor===nt?V=Dn:function Mr(Y){return Object.getPrototypeOf(Y.constructor)===Te}(Dn)?ue=Dn:Fe=Dn}),Fe||ue||V||null}function No(Y,ee){const V=Y.indexOf(ee);V>-1&&Y.splice(V,1)}function Gr(Y){return"object"==typeof Y&&null!==Y&&2===Object.keys(Y).length&&"value"in Y&&"disabled"in Y}const Fo=class extends oe{constructor(ee=null,V,ue){super(ci(V),Gi(ue,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ee),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qi(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=Gr(ee)?ee.value:ee)}setValue(ee,V={}){this.value=this._pendingValue=ee,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(ue=>ue(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(ee,V={}){this.setValue(ee,V)}reset(ee=this.defaultValue,V={}){this._applyFormState(ee),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){No(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){No(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ee){Gr(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}},zo={provide:On,useExisting:(0,u.Gpc)(()=>_r)},gs=(()=>Promise.resolve())();let _r=(()=>{class Y extends On{constructor(V,ue,Fe,Dn,$n,Vo){super(),this._changeDetectorRef=$n,this.callSetDisabledState=Vo,this.control=new Fo,this._registered=!1,this.name="",this.update=new u.vpe,this._parent=V,this._setValidators(ue),this._setAsyncValidators(Fe),this.valueAccessor=Vr(0,Dn)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const ue=V.name.previousValue;this.formDirective.removeControl({name:ue,path:this._getPath(ue)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),Fi(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){gs.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const ue=V.isDisabled.currentValue,Fe=0!==ue&&(0,u.VuI)(ue);gs.then(()=>{Fe&&!this.control.disabled?this.control.disable():!Fe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?Mt(V,this._parent):[V]}static#e=this.\u0275fac=function(ue){return new(ue||Y)(u.Y36(En,9),u.Y36(ht,10),u.Y36(mt,10),u.Y36(de,10),u.Y36(u.sBO,8),u.Y36(Ue,8))};static#t=this.\u0275dir=u.lG2({type:Y,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([zo]),u.qOj,u.TTD]})}return Y})(),To=(()=>{class Y{static#e=this.\u0275fac=function(ue){return new(ue||Y)};static#t=this.\u0275dir=u.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Y})(),oo=(()=>{class Y{static#e=this.\u0275fac=function(ue){return new(ue||Y)};static#t=this.\u0275mod=u.oAB({type:Y});static#n=this.\u0275inj=u.cJS({})}return Y})();const Zn=new u.OlP("NgModelWithFormControlWarning"),vr={provide:En,useExisting:(0,u.Gpc)(()=>Qi)};let Qi=(()=>{class Y extends En{constructor(V,ue,Fe){super(),this.callSetDisabledState=Fe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(V),this._setAsyncValidators(ue)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ie(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const ue=this.form.get(V.path);return Lt(ue,V,this.callSetDisabledState),ue.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),ue}getControl(V){return this.form.get(V.path)}removeControl(V){Ft(V.control||null,V,!1),function fi(Y,ee){const V=Y.indexOf(ee);V>-1&&Y.splice(V,1)}(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,ue){this.form.get(V.path).setValue(ue)}onSubmit(V){return this.submitted=!0,function ki(Y,ee){Y._syncPendingControls(),ee.forEach(V=>{const ue=V.control;"submit"===ue.updateOn&&ue._pendingChange&&(V.viewToModelUpdate(ue._pendingValue),ue._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const ue=V.control,Fe=this.form.get(V.path);ue!==Fe&&(Ft(ue||null,V),(Y=>Y instanceof Fo)(Fe)&&(Lt(Fe,V,this.callSetDisabledState),V.control=Fe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const ue=this.form.get(V.path);(function Dt(Y,ee){tt(Y,ee)})(ue,V),ue.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const ue=this.form.get(V.path);ue&&function zt(Y,ee){return ie(Y,ee)}(ue,V)&&ue.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tt(this.form,this),this._oldForm&&ie(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ue){return new(ue||Y)(u.Y36(ht,10),u.Y36(mt,10),u.Y36(Ue,8))};static#t=this.\u0275dir=u.lG2({type:Y,selectors:[["","formGroup",""]],hostBindings:function(ue,Fe){1&ue&&u.NdJ("submit",function($n){return Fe.onSubmit($n)})("reset",function(){return Fe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([vr]),u.qOj,u.TTD]})}return Y})();const pi={provide:On,useExisting:(0,u.Gpc)(()=>Zt)};let Zt=(()=>{class Y extends On{set isDisabled(V){}static#e=this._ngModelWarningSentOnce=!1;constructor(V,ue,Fe,Dn,$n){super(),this._ngModelWarningConfig=$n,this._added=!1,this.name=null,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(ue),this._setAsyncValidators(Fe),this.valueAccessor=Vr(0,Dn)}ngOnChanges(V){this._added||this._setUpControl(),Fi(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return Mt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ue){return new(ue||Y)(u.Y36(En,13),u.Y36(ht,10),u.Y36(mt,10),u.Y36(de,10),u.Y36(Zn,8))};static#n=this.\u0275dir=u.lG2({type:Y,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([pi]),u.qOj,u.TTD]})}return Y})();const Nn={provide:de,useExisting:(0,u.Gpc)(()=>Ur),multi:!0};function Vi(Y,ee){return null==Y?`${ee}`:(ee&&"object"==typeof ee&&(ee="Object"),`${Y}: ${ee}`.slice(0,50))}let Ur=(()=>{class Y extends Te{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){this.value=V;const Fe=Vi(this._getOptionId(V),V);this.setProperty("value",Fe)}registerOnChange(V){this.onChange=ue=>{this.value=this._getOptionValue(ue),V(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(V){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue),V))return ue;return null}_getOptionValue(V){const ue=function Cr(Y){return Y.split(":")[0]}(V);return this._optionMap.has(ue)?this._optionMap.get(ue):V}static#e=this.\u0275fac=function(){let V;return function(Fe){return(V||(V=u.n5z(Y)))(Fe||Y)}}();static#t=this.\u0275dir=u.lG2({type:Y,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ue,Fe){1&ue&&u.NdJ("change",function($n){return Fe.onChange($n.target.value)})("blur",function(){return Fe.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Nn]),u.qOj]})}return Y})(),er=(()=>{class Y{constructor(V,ue,Fe){this._element=V,this._renderer=ue,this._select=Fe,this._select&&(this.id=this._select._registerOption())}set ngValue(V){null!=this._select&&(this._select._optionMap.set(this.id,V),this._setElementValue(Vi(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._setElementValue(V),this._select&&this._select.writeValue(this._select.value)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ue){return new(ue||Y)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Ur,9))};static#t=this.\u0275dir=u.lG2({type:Y,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Y})();const Tr={provide:de,useExisting:(0,u.Gpc)(()=>z),multi:!0};function Di(Y,ee){return null==Y?`${ee}`:("string"==typeof ee&&(ee=`'${ee}'`),ee&&"object"==typeof ee&&(ee="Object"),`${Y}: ${ee}`.slice(0,50))}let z=(()=>{class Y extends Te{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){let ue;if(this.value=V,Array.isArray(V)){const Fe=V.map(Dn=>this._getOptionId(Dn));ue=(Dn,$n)=>{Dn._setSelected(Fe.indexOf($n.toString())>-1)}}else ue=(Fe,Dn)=>{Fe._setSelected(!1)};this._optionMap.forEach(ue)}registerOnChange(V){this.onChange=ue=>{const Fe=[],Dn=ue.selectedOptions;if(void 0!==Dn){const $n=Dn;for(let Vo=0;Vo<$n.length;Vo++){const es=this._getOptionValue($n[Vo].value);Fe.push(es)}}else{const $n=ue.options;for(let Vo=0;Vo<$n.length;Vo++){const zs=$n[Vo];if(zs.selected){const es=this._getOptionValue(zs.value);Fe.push(es)}}}this.value=Fe,V(Fe)}}_registerOption(V){const ue=(this._idCounter++).toString();return this._optionMap.set(ue,V),ue}_getOptionId(V){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue)._value,V))return ue;return null}_getOptionValue(V){const ue=function yr(Y){return Y.split(":")[0]}(V);return this._optionMap.has(ue)?this._optionMap.get(ue)._value:V}static#e=this.\u0275fac=function(){let V;return function(Fe){return(V||(V=u.n5z(Y)))(Fe||Y)}}();static#t=this.\u0275dir=u.lG2({type:Y,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ue,Fe){1&ue&&u.NdJ("change",function($n){return Fe.onChange($n.target)})("blur",function(){return Fe.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Tr]),u.qOj]})}return Y})(),j=(()=>{class Y{constructor(V,ue,Fe){this._element=V,this._renderer=ue,this._select=Fe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(V){null!=this._select&&(this._value=V,this._setElementValue(Di(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._select?(this._value=V,this._setElementValue(Di(this.id,V)),this._select.writeValue(this._select.value)):this._setElementValue(V)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}_setSelected(V){this._renderer.setProperty(this._element.nativeElement,"selected",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ue){return new(ue||Y)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(z,9))};static#t=this.\u0275dir=u.lG2({type:Y,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Y})(),ui=(()=>{class Y{static#e=this.\u0275fac=function(ue){return new(ue||Y)};static#t=this.\u0275mod=u.oAB({type:Y});static#n=this.\u0275inj=u.cJS({imports:[oo]})}return Y})(),Nr=(()=>{class Y{static withConfig(V){return{ngModule:Y,providers:[{provide:Ue,useValue:V.callSetDisabledState??_t}]}}static#e=this.\u0275fac=function(ue){return new(ue||Y)};static#t=this.\u0275mod=u.oAB({type:Y});static#n=this.\u0275inj=u.cJS({imports:[ui]})}return Y})(),nr=(()=>{class Y{static withConfig(V){return{ngModule:Y,providers:[{provide:Zn,useValue:V.warnOnNgModelWithFormControl??"always"},{provide:Ue,useValue:V.callSetDisabledState??_t}]}}static#e=this.\u0275fac=function(ue){return new(ue||Y)};static#t=this.\u0275mod=u.oAB({type:Y});static#n=this.\u0275inj=u.cJS({imports:[ui]})}return Y})()},2296:(kt,Be,P)=>{P.d(Be,{lW:()=>Ze,ot:()=>Ye});var u=P(2831),$=P(5879),te=P(2012),H=P(2495),fe=P(3680);const Ce=["mat-button",""],Te=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],de=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Ut=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],vt=(0,fe.pj)((0,fe.Id)((0,fe.Kr)(class{constructor(Qe){this._elementRef=Qe}})));let me=(()=>{class Qe extends vt{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple($e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,$e)}get disableRipple(){return this._disableRipple}set disableRipple($e){this._disableRipple=(0,H.Ig)($e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled($e){this._disabled=(0,H.Ig)($e),this._updateRippleDisabled()}constructor($e,at,Pe,wt){super($e),this._platform=at,this._ngZone=Pe,this._animationMode=wt,this._focusMonitor=(0,$.f3M)(te.tE),this._rippleLoader=(0,$.f3M)(fe.Fq),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const Bn=$e.nativeElement.classList;for(const tn of Ut)this._hasHostAttributes(tn.selector)&&tn.mdcClasses.forEach(Gn=>{Bn.add(Gn)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus($e="program",at){$e?this._focusMonitor.focusVia(this._elementRef.nativeElement,$e,at):this._elementRef.nativeElement.focus(at)}_hasHostAttributes(...$e){return $e.some(at=>this._elementRef.nativeElement.hasAttribute(at))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(at){$.$Z()};static#t=this.\u0275dir=$.lG2({type:Qe,features:[$.qOj]})}return Qe})(),Ze=(()=>{class Qe extends me{constructor($e,at,Pe,wt){super($e,at,Pe,wt)}static#e=this.\u0275fac=function(at){return new(at||Qe)($.Y36($.SBq),$.Y36(u.t4),$.Y36($.R0b),$.Y36($.QbO,8))};static#t=this.\u0275cmp=$.Xpm({type:Qe,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(at,Pe){2&at&&($.uIk("disabled",Pe.disabled||null),$.ekj("_mat-animation-noopable","NoopAnimations"===Pe._animationMode)("mat-unthemed",!Pe.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[$.qOj],attrs:Ce,ngContentSelectors:de,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(at,Pe){1&at&&($.F$t(Te),$._UZ(0,"span",0),$.Hsn(1),$.TgZ(2,"span",1),$.Hsn(3,1),$.qZA(),$.Hsn(4,2),$._UZ(5,"span",2)(6,"span",3)),2&at&&$.ekj("mdc-button__ripple",!Pe._isFab)("mdc-fab__ripple",Pe._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Qe})(),Ye=(()=>{class Qe{static#e=this.\u0275fac=function(at){return new(at||Qe)};static#t=this.\u0275mod=$.oAB({type:Qe});static#n=this.\u0275inj=$.cJS({imports:[fe.BQ,fe.si,fe.BQ]})}return Qe})()},3680:(kt,Be,P)=>{P.d(Be,{BQ:()=>me,Fq:()=>gr,si:()=>sn,pj:()=>ke,Kr:()=>$t,Id:()=>Ze});var u=P(5879),$=P(2012),te=P(9388),fe=P(6814),Ce=P(2831),Te=P(2495);const vt=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ut(){return!0}});let me=(()=>{class St{constructor(L,O,N){this._sanityChecks=O,this._document=N,this._hasDoneGlobalChecks=!1,L._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(L){return!(0,Ce.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[L])}static#e=this.\u0275fac=function(O){return new(O||St)(u.LFG($.qm),u.LFG(vt,8),u.LFG(fe.K0))};static#t=this.\u0275mod=u.oAB({type:St});static#n=this.\u0275inj=u.cJS({imports:[te.vT,te.vT]})}return St})();function Ze(St){return class extends St{get disabled(){return this._disabled}set disabled(oe){this._disabled=(0,Te.Ig)(oe)}constructor(...oe){super(...oe),this._disabled=!1}}}function ke(St,oe){return class extends St{get color(){return this._color}set color(L){const O=L||this.defaultColor;O!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),O&&this._elementRef.nativeElement.classList.add(`mat-${O}`),this._color=O)}constructor(...L){super(...L),this.defaultColor=oe,this.color=oe}}}function $t(St){return class extends St{get disableRipple(){return this._disableRipple}set disableRipple(oe){this._disableRipple=(0,Te.Ig)(oe)}constructor(...oe){super(...oe),this._disableRipple=!1}}}class In{constructor(oe,L,O,N=!1){this._renderer=oe,this.element=L,this.config=O,this._animationForciblyDisabledThroughCss=N,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const En=(0,Ce.i$)({passive:!0,capture:!0});class On{constructor(){this._events=new Map,this._delegateEventHandler=oe=>{const L=(0,Ce.sA)(oe);L&&this._events.get(oe.type)?.forEach((O,N)=>{(N===L||N.contains(L))&&O.forEach(k=>k.handleEvent(oe))})}}addHandler(oe,L,O,N){const k=this._events.get(L);if(k){const he=k.get(O);he?he.add(N):k.set(O,new Set([N]))}else this._events.set(L,new Map([[O,new Set([N])]])),oe.runOutsideAngular(()=>{document.addEventListener(L,this._delegateEventHandler,En)})}removeHandler(oe,L,O){const N=this._events.get(oe);if(!N)return;const k=N.get(L);k&&(k.delete(O),0===k.size&&N.delete(L),0===N.size&&(this._events.delete(oe),document.removeEventListener(oe,this._delegateEventHandler,En)))}}const ni={enterDuration:225,exitDuration:150},Mi=(0,Ce.i$)({passive:!0,capture:!0}),Ui=["mousedown","touchstart"],Ji=["mouseup","mouseleave","touchend","touchcancel"];class Ri{static#e=this._eventManager=new On;constructor(oe,L,O,N){this._target=oe,this._ngZone=L,this._platform=N,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,N.isBrowser&&(this._containerElement=(0,Te.fI)(O))}fadeInRipple(oe,L,O={}){const N=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),k={...ni,...O.animation};O.centered&&(oe=N.left+N.width/2,L=N.top+N.height/2);const he=O.radius||function Qn(St,oe,L){const O=Math.max(Math.abs(St-L.left),Math.abs(St-L.right)),N=Math.max(Math.abs(oe-L.top),Math.abs(oe-L.bottom));return Math.sqrt(O*O+N*N)}(oe,L,N),Ue=oe-N.left,_t=L-N.top,Mt=k.enterDuration,Lt=document.createElement("div");Lt.classList.add("mat-ripple-element"),Lt.style.left=Ue-he+"px",Lt.style.top=_t-he+"px",Lt.style.height=2*he+"px",Lt.style.width=2*he+"px",null!=O.color&&(Lt.style.backgroundColor=O.color),Lt.style.transitionDuration=`${Mt}ms`,this._containerElement.appendChild(Lt);const Ft=window.getComputedStyle(Lt),jn=Ft.transitionDuration,tt="none"===Ft.transitionProperty||"0s"===jn||"0s, 0s"===jn||0===N.width&&0===N.height,ie=new In(this,Lt,O,tt);Lt.style.transform="scale3d(1, 1, 1)",ie.state=0,O.persistent||(this._mostRecentTransientRipple=ie);let Ee=null;return!tt&&(Mt||k.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ge=()=>this._finishRippleTransition(ie),be=()=>this._destroyRipple(ie);Lt.addEventListener("transitionend",ge),Lt.addEventListener("transitioncancel",be),Ee={onTransitionEnd:ge,onTransitionCancel:be}}),this._activeRipples.set(ie,Ee),(tt||!Mt)&&this._finishRippleTransition(ie),ie}fadeOutRipple(oe){if(2===oe.state||3===oe.state)return;const L=oe.element,O={...ni,...oe.config.animation};L.style.transitionDuration=`${O.exitDuration}ms`,L.style.opacity="0",oe.state=2,(oe._animationForciblyDisabledThroughCss||!O.exitDuration)&&this._finishRippleTransition(oe)}fadeOutAll(){this._getActiveRipples().forEach(oe=>oe.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(oe=>{oe.config.persistent||oe.fadeOut()})}setupTriggerEvents(oe){const L=(0,Te.fI)(oe);!this._platform.isBrowser||!L||L===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=L,Ui.forEach(O=>{Ri._eventManager.addHandler(this._ngZone,O,L,this)}))}handleEvent(oe){"mousedown"===oe.type?this._onMousedown(oe):"touchstart"===oe.type?this._onTouchStart(oe):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ji.forEach(L=>{this._triggerElement.addEventListener(L,this,Mi)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(oe){0===oe.state?this._startFadeOutTransition(oe):2===oe.state&&this._destroyRipple(oe)}_startFadeOutTransition(oe){const L=oe===this._mostRecentTransientRipple,{persistent:O}=oe.config;oe.state=1,!O&&(!L||!this._isPointerDown)&&oe.fadeOut()}_destroyRipple(oe){const L=this._activeRipples.get(oe)??null;this._activeRipples.delete(oe),this._activeRipples.size||(this._containerRect=null),oe===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),oe.state=3,null!==L&&(oe.element.removeEventListener("transitionend",L.onTransitionEnd),oe.element.removeEventListener("transitioncancel",L.onTransitionCancel)),oe.element.remove()}_onMousedown(oe){const L=(0,$.X6)(oe),O=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!L&&!O&&(this._isPointerDown=!0,this.fadeInRipple(oe.clientX,oe.clientY,this._target.rippleConfig))}_onTouchStart(oe){if(!this._target.rippleDisabled&&!(0,$.yG)(oe)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const L=oe.changedTouches;if(L)for(let O=0;O<L.length;O++)this.fadeInRipple(L[O].clientX,L[O].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(oe=>{!oe.config.persistent&&(1===oe.state||oe.config.terminateOnPointerUp&&0===oe.state)&&oe.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const oe=this._triggerElement;oe&&(Ui.forEach(L=>Ri._eventManager.removeHandler(L,oe,this)),this._pointerUpEventsRegistered&&Ji.forEach(L=>oe.removeEventListener(L,this,Mi)))}}const Ii=new u.OlP("mat-ripple-global-options");let gi=(()=>{class St{get disabled(){return this._disabled}set disabled(L){L&&this.fadeOutAllNonPersistent(),this._disabled=L,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(L){this._trigger=L,this._setupTriggerEventsIfEnabled()}constructor(L,O,N,k,he){this._elementRef=L,this._animationMode=he,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=k||{},this._rippleRenderer=new Ri(this,O,L,N)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(L,O=0,N){return"number"==typeof L?this._rippleRenderer.fadeInRipple(L,O,{...this.rippleConfig,...N}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...L})}static#e=this.\u0275fac=function(O){return new(O||St)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Ce.t4),u.Y36(Ii,8),u.Y36(u.QbO,8))};static#t=this.\u0275dir=u.lG2({type:St,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(O,N){2&O&&u.ekj("mat-ripple-unbounded",N.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return St})(),sn=(()=>{class St{static#e=this.\u0275fac=function(O){return new(O||St)};static#t=this.\u0275mod=u.oAB({type:St});static#n=this.\u0275inj=u.cJS({imports:[me,me]})}return St})();const Cn={capture:!0},ci=["focus","click","mouseenter","touchstart"],Wi="mat-ripple-loader-uninitialized",Gi="mat-ripple-loader-class-name",Sr="mat-ripple-loader-centered",qi="mat-ripple-loader-disabled";let gr=(()=>{class St{constructor(){this._document=(0,u.f3M)(fe.K0,{optional:!0}),this._animationMode=(0,u.f3M)(u.QbO,{optional:!0}),this._globalRippleOptions=(0,u.f3M)(Ii,{optional:!0}),this._platform=(0,u.f3M)(Ce.t4),this._ngZone=(0,u.f3M)(u.R0b),this._onInteraction=L=>{if(!(L.target instanceof HTMLElement))return;const N=L.target.closest(`[${Wi}]`);N&&this.createRipple(N)},this._ngZone.runOutsideAngular(()=>{for(const L of ci)this._document?.addEventListener(L,this._onInteraction,Cn)})}ngOnDestroy(){for(const L of ci)this._document?.removeEventListener(L,this._onInteraction,Cn)}configureRipple(L,O){L.setAttribute(Wi,""),(O.className||!L.hasAttribute(Gi))&&L.setAttribute(Gi,O.className||""),O.centered&&L.setAttribute(Sr,""),O.disabled&&L.setAttribute(qi,"")}getRipple(L){return L.matRipple?L.matRipple:this.createRipple(L)}setDisabled(L,O){const N=L.matRipple;N?N.disabled=O:O?L.setAttribute(qi,""):L.removeAttribute(qi)}createRipple(L){if(!this._document)return;L.querySelector(".mat-ripple")?.remove();const O=this._document.createElement("span");O.classList.add("mat-ripple",L.getAttribute(Gi)),L.append(O);const N=new gi(new u.SBq(O),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return N._isInitialized=!0,N.trigger=L,N.centered=L.hasAttribute(Sr),N.disabled=L.hasAttribute(qi),this.attachRipple(L,N),N}attachRipple(L,O){L.removeAttribute(Wi),L.matRipple=O}static#e=this.\u0275fac=function(O){return new(O||St)};static#t=this.\u0275prov=u.Yz7({token:St,factory:St.\u0275fac,providedIn:"root"})}return St})()},7025:(kt,Be,P)=>{P.d(Be,{ux:()=>yr,ZX:()=>Ur});var u=P(5879),$=P(8645),te=P(6814),H=P(2296),fe=P(6825);class Me{attach(z){return this._attachedHost=z,z.attach(this)}detach(){let z=this._attachedHost;null!=z&&(this._attachedHost=null,z.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(z){this._attachedHost=z}}class Ke extends Me{constructor(z,j,J,ve,Ne){super(),this.component=z,this.viewContainerRef=j,this.injector=J,this.componentFactoryResolver=ve,this.projectableNodes=Ne}}class nt extends Me{constructor(z,j,J,ve){super(),this.templateRef=z,this.viewContainerRef=j,this.context=J,this.injector=ve}get origin(){return this.templateRef.elementRef}attach(z,j=this.context){return this.context=j,super.attach(z)}detach(){return this.context=void 0,super.detach()}}class bt extends Me{constructor(z){super(),this.element=z instanceof u.SBq?z.nativeElement:z}}class ot{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(z){return z instanceof Ke?(this._attachedPortal=z,this.attachComponentPortal(z)):z instanceof nt?(this._attachedPortal=z,this.attachTemplatePortal(z)):this.attachDomPortal&&z instanceof bt?(this._attachedPortal=z,this.attachDomPortal(z)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(z){this._disposeFn=z}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class mt extends ot{constructor(z,j,J,ve,Ne){super(),this.outletElement=z,this._componentFactoryResolver=j,this._appRef=J,this._defaultInjector=ve,this.attachDomPortal=ft=>{const Ot=ft.element,Yt=this._document.createComment("dom-portal");Ot.parentNode.insertBefore(Yt,Ot),this.outletElement.appendChild(Ot),this._attachedPortal=ft,super.setDisposeFn(()=>{Yt.parentNode&&Yt.parentNode.replaceChild(Ot,Yt)})},this._document=Ne}attachComponentPortal(z){const J=(z.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(z.component);let ve;return z.viewContainerRef?(ve=z.viewContainerRef.createComponent(J,z.viewContainerRef.length,z.injector||z.viewContainerRef.injector,z.projectableNodes||void 0),this.setDisposeFn(()=>ve.destroy())):(ve=J.create(z.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(ve.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ve.hostView),ve.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ve)),this._attachedPortal=z,ve}attachTemplatePortal(z){let j=z.viewContainerRef,J=j.createEmbeddedView(z.templateRef,z.context,{injector:z.injector});return J.rootNodes.forEach(ve=>this.outletElement.appendChild(ve)),J.detectChanges(),this.setDisposeFn(()=>{let ve=j.indexOf(J);-1!==ve&&j.remove(ve)}),this._attachedPortal=z,J}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(z){return z.hostView.rootNodes[0]}}let Le=(()=>{class we extends ot{constructor(j,J,ve){super(),this._componentFactoryResolver=j,this._viewContainerRef=J,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=Ne=>{const ft=Ne.element,Ot=this._document.createComment("dom-portal");Ne.setAttachedHost(this),ft.parentNode.insertBefore(Ot,ft),this._getRootNode().appendChild(ft),this._attachedPortal=Ne,super.setDisposeFn(()=>{Ot.parentNode&&Ot.parentNode.replaceChild(ft,Ot)})},this._document=ve}get portal(){return this._attachedPortal}set portal(j){this.hasAttached()&&!j&&!this._isInitialized||(this.hasAttached()&&super.detach(),j&&super.attach(j),this._attachedPortal=j||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(j){j.setAttachedHost(this);const J=null!=j.viewContainerRef?j.viewContainerRef:this._viewContainerRef,Ne=(j.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(j.component),ft=J.createComponent(Ne,J.length,j.injector||J.injector,j.projectableNodes||void 0);return J!==this._viewContainerRef&&this._getRootNode().appendChild(ft.hostView.rootNodes[0]),super.setDisposeFn(()=>ft.destroy()),this._attachedPortal=j,this._attachedRef=ft,this.attached.emit(ft),ft}attachTemplatePortal(j){j.setAttachedHost(this);const J=this._viewContainerRef.createEmbeddedView(j.templateRef,j.context,{injector:j.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=j,this._attachedRef=J,this.attached.emit(J),J}_getRootNode(){const j=this._viewContainerRef.element.nativeElement;return j.nodeType===j.ELEMENT_NODE?j:j.parentNode}static#e=this.\u0275fac=function(J){return new(J||we)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(te.K0))};static#t=this.\u0275dir=u.lG2({type:we,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]})}return we})(),Je=(()=>{class we{static#e=this.\u0275fac=function(J){return new(J||we)};static#t=this.\u0275mod=u.oAB({type:we});static#n=this.\u0275inj=u.cJS({})}return we})();var ke=P(2831),$t=P(8180),jt=P(9773),ln=P(2012),Vn=P(1088),un=P(2495),Ei=P(2096),Qt=P(5592),_n=P(4829),vn=P(1631),Ge=P(4266),Ye=P(4674),Qe=P(7400);const Xe=["addListener","removeListener"],$e=["addEventListener","removeEventListener"],at=["on","off"];function Pe(we,z,j,J){if((0,Ye.m)(j)&&(J=j,j=void 0),J)return Pe(we,z,j).pipe((0,Qe.Z)(J));const[ve,Ne]=function Gn(we){return(0,Ye.m)(we.addEventListener)&&(0,Ye.m)(we.removeEventListener)}(we)?$e.map(ft=>Ot=>we[ft](z,Ot,j)):function Bn(we){return(0,Ye.m)(we.addListener)&&(0,Ye.m)(we.removeListener)}(we)?Xe.map(wt(we,z)):function tn(we){return(0,Ye.m)(we.on)&&(0,Ye.m)(we.off)}(we)?at.map(wt(we,z)):[];if(!ve&&(0,Ge.z)(we))return(0,vn.z)(ft=>Pe(ft,z,j))((0,_n.Xf)(we));if(!ve)throw new TypeError("Invalid event target");return new Qt.y(ft=>{const Ot=(...Yt)=>ft.next(1<Yt.length?Yt:Yt[0]);return ve(Ot),()=>Ne(Ot)})}function wt(we,z){return j=>J=>we[j](z,J)}var In=P(1954),En=P(7394);const On={schedule(we){let z=requestAnimationFrame,j=cancelAnimationFrame;const{delegate:J}=On;J&&(z=J.requestAnimationFrame,j=J.cancelAnimationFrame);const ve=z(Ne=>{j=void 0,we(Ne)});return new En.w0(()=>j?.(ve))},requestAnimationFrame(...we){const{delegate:z}=On;return(z?.requestAnimationFrame||requestAnimationFrame)(...we)},cancelAnimationFrame(...we){const{delegate:z}=On;return(z?.cancelAnimationFrame||cancelAnimationFrame)(...we)},delegate:void 0};var Un=P(2631);new class Mi extends Un.v{flush(z){this._active=!0;const j=this._scheduled;this._scheduled=void 0;const{actions:J}=this;let ve;z=z||J.shift();do{if(ve=z.execute(z.state,z.delay))break}while((z=J[0])&&z.id===j&&J.shift());if(this._active=!1,ve){for(;(z=J[0])&&z.id===j&&J.shift();)z.unsubscribe();throw ve}}}(class ni extends In.o{constructor(z,j){super(z,j),this.scheduler=z,this.work=j}requestAsyncId(z,j,J=0){return null!==J&&J>0?super.requestAsyncId(z,j,J):(z.actions.push(this),z._scheduled||(z._scheduled=On.requestAnimationFrame(()=>z.flush(void 0))))}recycleAsyncId(z,j,J=0){var ve;if(null!=J?J>0:this.delay>0)return super.recycleAsyncId(z,j,J);const{actions:Ne}=z;null!=j&&(null===(ve=Ne[Ne.length-1])||void 0===ve?void 0:ve.id)!==j&&(On.cancelAnimationFrame(j),z._scheduled=void 0)}});let Qn,Ri=1;const Ii={};function gi(we){return we in Ii&&(delete Ii[we],!0)}const sn={setImmediate(we){const z=Ri++;return Ii[z]=!0,Qn||(Qn=Promise.resolve()),Qn.then(()=>gi(z)&&we()),z},clearImmediate(we){gi(we)}},{setImmediate:Xt,clearImmediate:hn}=sn,wi={setImmediate(...we){const{delegate:z}=wi;return(z?.setImmediate||Xt)(...we)},clearImmediate(we){const{delegate:z}=wi;return(z?.clearImmediate||hn)(we)},delegate:void 0};new class Tn extends Un.v{flush(z){this._active=!0;const j=this._scheduled;this._scheduled=void 0;const{actions:J}=this;let ve;z=z||J.shift();do{if(ve=z.execute(z.state,z.delay))break}while((z=J[0])&&z.id===j&&J.shift());if(this._active=!1,ve){for(;(z=J[0])&&z.id===j&&J.shift();)z.unsubscribe();throw ve}}}(class Pi extends In.o{constructor(z,j){super(z,j),this.scheduler=z,this.work=j}requestAsyncId(z,j,J=0){return null!==J&&J>0?super.requestAsyncId(z,j,J):(z.actions.push(this),z._scheduled||(z._scheduled=wi.setImmediate(z.flush.bind(z,void 0))))}recycleAsyncId(z,j,J=0){var ve;if(null!=J?J>0:this.delay>0)return super.recycleAsyncId(z,j,J);const{actions:Ne}=z;null!=j&&(null===(ve=Ne[Ne.length-1])||void 0===ve?void 0:ve.id)!==j&&(wi.clearImmediate(j),z._scheduled===j&&(z._scheduled=void 0))}});var Kt=P(6321),xi=P(9360),fn=P(8251),di=P(671);function Cn(we,z=Kt.z){return function ai(we){return(0,xi.e)((z,j)=>{let J=!1,ve=null,Ne=null,ft=!1;const Ot=()=>{if(Ne?.unsubscribe(),Ne=null,J){J=!1;const gn=ve;ve=null,j.next(gn)}ft&&j.complete()},Yt=()=>{Ne=null,ft&&j.complete()};z.subscribe((0,fn.x)(j,gn=>{J=!0,ve=gn,Ne||(0,_n.Xf)(we(gn)).subscribe(Ne=(0,fn.x)(j,Ot,Yt))},()=>{ft=!0,(!J||!Ne||Ne.closed)&&j.complete()}))})}(()=>function Sn(we=0,z,j=Kt.P){let J=-1;return null!=z&&((0,di.K)(z)?j=z:J=z),new Qt.y(ve=>{let Ne=function ii(we){return we instanceof Date&&!isNaN(we)}(we)?+we-j.now():we;Ne<0&&(Ne=0);let ft=0;return j.schedule(function(){ve.closed||(ve.next(ft++),0<=J?this.schedule(void 0,J):ve.complete())},Ne)})}(we,z))}var ci=P(2181),Wi=P(9388);let O=(()=>{class we{constructor(j,J,ve){this._ngZone=j,this._platform=J,this._scrolled=new $.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ve}register(j){this.scrollContainers.has(j)||this.scrollContainers.set(j,j.elementScrolled().subscribe(()=>this._scrolled.next(j)))}deregister(j){const J=this.scrollContainers.get(j);J&&(J.unsubscribe(),this.scrollContainers.delete(j))}scrolled(j=20){return this._platform.isBrowser?new Qt.y(J=>{this._globalSubscription||this._addGlobalListener();const ve=j>0?this._scrolled.pipe(Cn(j)).subscribe(J):this._scrolled.subscribe(J);return this._scrolledCount++,()=>{ve.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ei.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((j,J)=>this.deregister(J)),this._scrolled.complete()}ancestorScrolled(j,J){const ve=this.getAncestorScrollContainers(j);return this.scrolled(J).pipe((0,ci.h)(Ne=>!Ne||ve.indexOf(Ne)>-1))}getAncestorScrollContainers(j){const J=[];return this.scrollContainers.forEach((ve,Ne)=>{this._scrollableContainsElement(Ne,j)&&J.push(Ne)}),J}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(j,J){let ve=(0,un.fI)(J),Ne=j.getElementRef().nativeElement;do{if(ve==Ne)return!0}while(ve=ve.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Pe(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(J){return new(J||we)(u.LFG(u.R0b),u.LFG(ke.t4),u.LFG(te.K0,8))};static#t=this.\u0275prov=u.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})(),he=(()=>{class we{constructor(j,J,ve){this._platform=j,this._change=new $.x,this._changeListener=Ne=>{this._change.next(Ne)},this._document=ve,J.runOutsideAngular(()=>{if(j.isBrowser){const Ne=this._getWindow();Ne.addEventListener("resize",this._changeListener),Ne.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const j=this._getWindow();j.removeEventListener("resize",this._changeListener),j.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const j={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),j}getViewportRect(){const j=this.getViewportScrollPosition(),{width:J,height:ve}=this.getViewportSize();return{top:j.top,left:j.left,bottom:j.top+ve,right:j.left+J,height:ve,width:J}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const j=this._document,J=this._getWindow(),ve=j.documentElement,Ne=ve.getBoundingClientRect();return{top:-Ne.top||j.body.scrollTop||J.scrollY||ve.scrollTop||0,left:-Ne.left||j.body.scrollLeft||J.scrollX||ve.scrollLeft||0}}change(j=20){return j>0?this._change.pipe(Cn(j)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const j=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:j.innerWidth,height:j.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(J){return new(J||we)(u.LFG(ke.t4),u.LFG(u.R0b),u.LFG(te.K0,8))};static#t=this.\u0275prov=u.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})(),Ee=(()=>{class we{static#e=this.\u0275fac=function(J){return new(J||we)};static#t=this.\u0275mod=u.oAB({type:we});static#n=this.\u0275inj=u.cJS({})}return we})(),ge=(()=>{class we{static#e=this.\u0275fac=function(J){return new(J||we)};static#t=this.\u0275mod=u.oAB({type:we});static#n=this.\u0275inj=u.cJS({imports:[Wi.vT,Ee,Wi.vT,Ee]})}return we})();var be=P(3019);const st=(0,ke.Mq)();class Dt{constructor(z,j){this._viewportRuler=z,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=j}attach(){}enable(){if(this._canBeEnabled()){const z=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=z.style.left||"",this._previousHTMLStyles.top=z.style.top||"",z.style.left=(0,un.HM)(-this._previousScrollPosition.left),z.style.top=(0,un.HM)(-this._previousScrollPosition.top),z.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const z=this._document.documentElement,J=z.style,ve=this._document.body.style,Ne=J.scrollBehavior||"",ft=ve.scrollBehavior||"";this._isEnabled=!1,J.left=this._previousHTMLStyles.left,J.top=this._previousHTMLStyles.top,z.classList.remove("cdk-global-scrollblock"),st&&(J.scrollBehavior=ve.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),st&&(J.scrollBehavior=Ne,ve.scrollBehavior=ft)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const j=this._document.body,J=this._viewportRuler.getViewportSize();return j.scrollHeight>J.height||j.scrollWidth>J.width}}class Bt{constructor(z,j,J,ve){this._scrollDispatcher=z,this._ngZone=j,this._viewportRuler=J,this._config=ve,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(z){this._overlayRef=z}enable(){if(this._scrollSubscription)return;const z=this._scrollDispatcher.scrolled(0).pipe((0,ci.h)(j=>!j||!this._overlayRef.overlayElement.contains(j.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=z.subscribe(()=>{const j=this._viewportRuler.getViewportScrollPosition().top;Math.abs(j-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=z.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ln{enable(){}disable(){}attach(){}}function li(we,z){return z.some(j=>we.bottom<j.top||we.top>j.bottom||we.right<j.left||we.left>j.right)}function hi(we,z){return z.some(j=>we.top<j.top||we.bottom>j.bottom||we.left<j.left||we.right>j.right)}class dr{constructor(z,j,J,ve){this._scrollDispatcher=z,this._viewportRuler=j,this._ngZone=J,this._config=ve,this._scrollSubscription=null}attach(z){this._overlayRef=z}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const j=this._overlayRef.overlayElement.getBoundingClientRect(),{width:J,height:ve}=this._viewportRuler.getViewportSize();li(j,[{width:J,height:ve,bottom:ve,right:J,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Fi=(()=>{class we{constructor(j,J,ve,Ne){this._scrollDispatcher=j,this._viewportRuler=J,this._ngZone=ve,this.noop=()=>new Ln,this.close=ft=>new Bt(this._scrollDispatcher,this._ngZone,this._viewportRuler,ft),this.block=()=>new Dt(this._viewportRuler,this._document),this.reposition=ft=>new dr(this._scrollDispatcher,this._viewportRuler,this._ngZone,ft),this._document=Ne}static#e=this.\u0275fac=function(J){return new(J||we)(u.LFG(O),u.LFG(he),u.LFG(u.R0b),u.LFG(te.K0))};static#t=this.\u0275prov=u.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();class Mr{constructor(z){if(this.scrollStrategy=new Ln,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,z){const j=Object.keys(z);for(const J of j)void 0!==z[J]&&(this[J]=z[J])}}}class fi{constructor(z,j){this.connectionPair=z,this.scrollableViewProperties=j}}let _i=(()=>{class we{constructor(j){this._attachedOverlays=[],this._document=j}ngOnDestroy(){this.detach()}add(j){this.remove(j),this._attachedOverlays.push(j)}remove(j){const J=this._attachedOverlays.indexOf(j);J>-1&&this._attachedOverlays.splice(J,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(J){return new(J||we)(u.LFG(te.K0))};static#t=this.\u0275prov=u.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})(),Li=(()=>{class we extends _i{constructor(j,J){super(j),this._ngZone=J,this._keydownListener=ve=>{const Ne=this._attachedOverlays;for(let ft=Ne.length-1;ft>-1;ft--)if(Ne[ft]._keydownEvents.observers.length>0){const Ot=Ne[ft]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ot.next(ve)):Ot.next(ve);break}}}add(j){super.add(j),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(J){return new(J||we)(u.LFG(te.K0),u.LFG(u.R0b,8))};static#t=this.\u0275prov=u.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})(),No=(()=>{class we extends _i{constructor(j,J,ve){super(j),this._platform=J,this._ngZone=ve,this._cursorStyleIsSet=!1,this._pointerDownListener=Ne=>{this._pointerDownEventTarget=(0,ke.sA)(Ne)},this._clickListener=Ne=>{const ft=(0,ke.sA)(Ne),Ot="click"===Ne.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ft;this._pointerDownEventTarget=null;const Yt=this._attachedOverlays.slice();for(let gn=Yt.length-1;gn>-1;gn--){const Rn=Yt[gn];if(Rn._outsidePointerEvents.observers.length<1||!Rn.hasAttached())continue;if(Rn.overlayElement.contains(ft)||Rn.overlayElement.contains(Ot))break;const ri=Rn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ri.next(Ne)):ri.next(Ne)}}}add(j){if(super.add(j),!this._isAttached){const J=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(J)):this._addEventListeners(J),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=J.style.cursor,J.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const j=this._document.body;j.removeEventListener("pointerdown",this._pointerDownListener,!0),j.removeEventListener("click",this._clickListener,!0),j.removeEventListener("auxclick",this._clickListener,!0),j.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(j.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(j){j.addEventListener("pointerdown",this._pointerDownListener,!0),j.addEventListener("click",this._clickListener,!0),j.addEventListener("auxclick",this._clickListener,!0),j.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(J){return new(J||we)(u.LFG(te.K0),u.LFG(ke.t4),u.LFG(u.R0b,8))};static#t=this.\u0275prov=u.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})(),Gr=(()=>{class we{constructor(j,J){this._platform=J,this._document=j}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const j="cdk-overlay-container";if(this._platform.isBrowser||(0,ke.Oy)()){const ve=this._document.querySelectorAll(`.${j}[platform="server"], .${j}[platform="test"]`);for(let Ne=0;Ne<ve.length;Ne++)ve[Ne].remove()}const J=this._document.createElement("div");J.classList.add(j),(0,ke.Oy)()?J.setAttribute("platform","test"):this._platform.isBrowser||J.setAttribute("platform","server"),this._document.body.appendChild(J),this._containerElement=J}static#e=this.\u0275fac=function(J){return new(J||we)(u.LFG(te.K0),u.LFG(ke.t4))};static#t=this.\u0275prov=u.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();class Fo{constructor(z,j,J,ve,Ne,ft,Ot,Yt,gn,Rn=!1){this._portalOutlet=z,this._host=j,this._pane=J,this._config=ve,this._ngZone=Ne,this._keyboardDispatcher=ft,this._document=Ot,this._location=Yt,this._outsideClickDispatcher=gn,this._animationsDisabled=Rn,this._backdropElement=null,this._backdropClick=new $.x,this._attachments=new $.x,this._detachments=new $.x,this._locationChanges=En.w0.EMPTY,this._backdropClickHandler=ri=>this._backdropClick.next(ri),this._backdropTransitionendHandler=ri=>{this._disposeBackdrop(ri.target)},this._keydownEvents=new $.x,this._outsidePointerEvents=new $.x,ve.scrollStrategy&&(this._scrollStrategy=ve.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ve.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(z){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const j=this._portalOutlet.attach(z);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,$t.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof j?.onDestroy&&j.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),j}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const z=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),z}dispose(){const z=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,z&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(z){z!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=z,this.hasAttached()&&(z.attach(this),this.updatePosition()))}updateSize(z){this._config={...this._config,...z},this._updateElementSize()}setDirection(z){this._config={...this._config,direction:z},this._updateElementDirection()}addPanelClass(z){this._pane&&this._toggleClasses(this._pane,z,!0)}removePanelClass(z){this._pane&&this._toggleClasses(this._pane,z,!1)}getDirection(){const z=this._config.direction;return z?"string"==typeof z?z:z.value:"ltr"}updateScrollStrategy(z){z!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=z,this.hasAttached()&&(z.attach(this),z.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const z=this._pane.style;z.width=(0,un.HM)(this._config.width),z.height=(0,un.HM)(this._config.height),z.minWidth=(0,un.HM)(this._config.minWidth),z.minHeight=(0,un.HM)(this._config.minHeight),z.maxWidth=(0,un.HM)(this._config.maxWidth),z.maxHeight=(0,un.HM)(this._config.maxHeight)}_togglePointerEvents(z){this._pane.style.pointerEvents=z?"":"none"}_attachBackdrop(){const z="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(z)})}):this._backdropElement.classList.add(z)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const z=this._backdropElement;if(z){if(this._animationsDisabled)return void this._disposeBackdrop(z);z.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{z.addEventListener("transitionend",this._backdropTransitionendHandler)}),z.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(z)},500))}}_toggleClasses(z,j,J){const ve=(0,un.Eq)(j||[]).filter(Ne=>!!Ne);ve.length&&(J?z.classList.add(...ve):z.classList.remove(...ve))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const z=this._ngZone.onStable.pipe((0,jt.R)((0,be.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),z.unsubscribe())})})}_disposeScrollStrategy(){const z=this._scrollStrategy;z&&(z.disable(),z.detach&&z.detach())}_disposeBackdrop(z){z&&(z.removeEventListener("click",this._backdropClickHandler),z.removeEventListener("transitionend",this._backdropTransitionendHandler),z.remove(),this._backdropElement===z&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const os="cdk-overlay-connected-position-bounding-box",ss=/([A-Za-z%]+)$/;class tr{get positions(){return this._preferredPositions}constructor(z,j,J,ve,Ne){this._viewportRuler=j,this._document=J,this._platform=ve,this._overlayContainer=Ne,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new $.x,this._resizeSubscription=En.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(z)}attach(z){this._validatePositions(),z.hostElement.classList.add(os),this._overlayRef=z,this._boundingBox=z.hostElement,this._pane=z.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const z=this._originRect,j=this._overlayRect,J=this._viewportRect,ve=this._containerRect,Ne=[];let ft;for(let Ot of this._preferredPositions){let Yt=this._getOriginPoint(z,ve,Ot),gn=this._getOverlayPoint(Yt,j,Ot),Rn=this._getOverlayFit(gn,j,J,Ot);if(Rn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ot,Yt);this._canFitWithFlexibleDimensions(Rn,gn,J)?Ne.push({position:Ot,origin:Yt,overlayRect:j,boundingBoxRect:this._calculateBoundingBoxRect(Yt,Ot)}):(!ft||ft.overlayFit.visibleArea<Rn.visibleArea)&&(ft={overlayFit:Rn,overlayPoint:gn,originPoint:Yt,position:Ot,overlayRect:j})}if(Ne.length){let Ot=null,Yt=-1;for(const gn of Ne){const Rn=gn.boundingBoxRect.width*gn.boundingBoxRect.height*(gn.position.weight||1);Rn>Yt&&(Yt=Rn,Ot=gn)}return this._isPushed=!1,void this._applyPosition(Ot.position,Ot.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ft.position,ft.originPoint);this._applyPosition(ft.position,ft.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Jr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(os),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const z=this._lastPosition;if(z){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const j=this._getOriginPoint(this._originRect,this._containerRect,z);this._applyPosition(z,j)}else this.apply()}withScrollableContainers(z){return this._scrollables=z,this}withPositions(z){return this._preferredPositions=z,-1===z.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(z){return this._viewportMargin=z,this}withFlexibleDimensions(z=!0){return this._hasFlexibleDimensions=z,this}withGrowAfterOpen(z=!0){return this._growAfterOpen=z,this}withPush(z=!0){return this._canPush=z,this}withLockedPosition(z=!0){return this._positionLocked=z,this}setOrigin(z){return this._origin=z,this}withDefaultOffsetX(z){return this._offsetX=z,this}withDefaultOffsetY(z){return this._offsetY=z,this}withTransformOriginOn(z){return this._transformOriginSelector=z,this}_getOriginPoint(z,j,J){let ve,Ne;if("center"==J.originX)ve=z.left+z.width/2;else{const ft=this._isRtl()?z.right:z.left,Ot=this._isRtl()?z.left:z.right;ve="start"==J.originX?ft:Ot}return j.left<0&&(ve-=j.left),Ne="center"==J.originY?z.top+z.height/2:"top"==J.originY?z.top:z.bottom,j.top<0&&(Ne-=j.top),{x:ve,y:Ne}}_getOverlayPoint(z,j,J){let ve,Ne;return ve="center"==J.overlayX?-j.width/2:"start"===J.overlayX?this._isRtl()?-j.width:0:this._isRtl()?0:-j.width,Ne="center"==J.overlayY?-j.height/2:"top"==J.overlayY?0:-j.height,{x:z.x+ve,y:z.y+Ne}}_getOverlayFit(z,j,J,ve){const Ne=pa(j);let{x:ft,y:Ot}=z,Yt=this._getOffset(ve,"x"),gn=this._getOffset(ve,"y");Yt&&(ft+=Yt),gn&&(Ot+=gn);let Xi=0-Ot,sr=Ot+Ne.height-J.height,ar=this._subtractOverflows(Ne.width,0-ft,ft+Ne.width-J.width),xn=this._subtractOverflows(Ne.height,Xi,sr),Dr=ar*xn;return{visibleArea:Dr,isCompletelyWithinViewport:Ne.width*Ne.height===Dr,fitsInViewportVertically:xn===Ne.height,fitsInViewportHorizontally:ar==Ne.width}}_canFitWithFlexibleDimensions(z,j,J){if(this._hasFlexibleDimensions){const ve=J.bottom-j.y,Ne=J.right-j.x,ft=Yo(this._overlayRef.getConfig().minHeight),Ot=Yo(this._overlayRef.getConfig().minWidth);return(z.fitsInViewportVertically||null!=ft&&ft<=ve)&&(z.fitsInViewportHorizontally||null!=Ot&&Ot<=Ne)}return!1}_pushOverlayOnScreen(z,j,J){if(this._previousPushAmount&&this._positionLocked)return{x:z.x+this._previousPushAmount.x,y:z.y+this._previousPushAmount.y};const ve=pa(j),Ne=this._viewportRect,ft=Math.max(z.x+ve.width-Ne.width,0),Ot=Math.max(z.y+ve.height-Ne.height,0),Yt=Math.max(Ne.top-J.top-z.y,0),gn=Math.max(Ne.left-J.left-z.x,0);let Rn=0,ri=0;return Rn=ve.width<=Ne.width?gn||-ft:z.x<this._viewportMargin?Ne.left-J.left-z.x:0,ri=ve.height<=Ne.height?Yt||-Ot:z.y<this._viewportMargin?Ne.top-J.top-z.y:0,this._previousPushAmount={x:Rn,y:ri},{x:z.x+Rn,y:z.y+ri}}_applyPosition(z,j){if(this._setTransformOrigin(z),this._setOverlayElementStyles(j,z),this._setBoundingBoxStyles(j,z),z.panelClass&&this._addPanelClasses(z.panelClass),this._lastPosition=z,this._positionChanges.observers.length){const J=this._getScrollVisibility(),ve=new fi(z,J);this._positionChanges.next(ve)}this._isInitialRender=!1}_setTransformOrigin(z){if(!this._transformOriginSelector)return;const j=this._boundingBox.querySelectorAll(this._transformOriginSelector);let J,ve=z.overlayY;J="center"===z.overlayX?"center":this._isRtl()?"start"===z.overlayX?"right":"left":"start"===z.overlayX?"left":"right";for(let Ne=0;Ne<j.length;Ne++)j[Ne].style.transformOrigin=`${J} ${ve}`}_calculateBoundingBoxRect(z,j){const J=this._viewportRect,ve=this._isRtl();let Ne,ft,Ot,Rn,ri,Xi;if("top"===j.overlayY)ft=z.y,Ne=J.height-ft+this._viewportMargin;else if("bottom"===j.overlayY)Ot=J.height-z.y+2*this._viewportMargin,Ne=J.height-Ot+this._viewportMargin;else{const sr=Math.min(J.bottom-z.y+J.top,z.y),ar=this._lastBoundingBoxSize.height;Ne=2*sr,ft=z.y-sr,Ne>ar&&!this._isInitialRender&&!this._growAfterOpen&&(ft=z.y-ar/2)}if("end"===j.overlayX&&!ve||"start"===j.overlayX&&ve)Xi=J.width-z.x+this._viewportMargin,Rn=z.x-this._viewportMargin;else if("start"===j.overlayX&&!ve||"end"===j.overlayX&&ve)ri=z.x,Rn=J.right-z.x;else{const sr=Math.min(J.right-z.x+J.left,z.x),ar=this._lastBoundingBoxSize.width;Rn=2*sr,ri=z.x-sr,Rn>ar&&!this._isInitialRender&&!this._growAfterOpen&&(ri=z.x-ar/2)}return{top:ft,left:ri,bottom:Ot,right:Xi,width:Rn,height:Ne}}_setBoundingBoxStyles(z,j){const J=this._calculateBoundingBoxRect(z,j);!this._isInitialRender&&!this._growAfterOpen&&(J.height=Math.min(J.height,this._lastBoundingBoxSize.height),J.width=Math.min(J.width,this._lastBoundingBoxSize.width));const ve={};if(this._hasExactPosition())ve.top=ve.left="0",ve.bottom=ve.right=ve.maxHeight=ve.maxWidth="",ve.width=ve.height="100%";else{const Ne=this._overlayRef.getConfig().maxHeight,ft=this._overlayRef.getConfig().maxWidth;ve.height=(0,un.HM)(J.height),ve.top=(0,un.HM)(J.top),ve.bottom=(0,un.HM)(J.bottom),ve.width=(0,un.HM)(J.width),ve.left=(0,un.HM)(J.left),ve.right=(0,un.HM)(J.right),ve.alignItems="center"===j.overlayX?"center":"end"===j.overlayX?"flex-end":"flex-start",ve.justifyContent="center"===j.overlayY?"center":"bottom"===j.overlayY?"flex-end":"flex-start",Ne&&(ve.maxHeight=(0,un.HM)(Ne)),ft&&(ve.maxWidth=(0,un.HM)(ft))}this._lastBoundingBoxSize=J,Jr(this._boundingBox.style,ve)}_resetBoundingBoxStyles(){Jr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Jr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(z,j){const J={},ve=this._hasExactPosition(),Ne=this._hasFlexibleDimensions,ft=this._overlayRef.getConfig();if(ve){const Rn=this._viewportRuler.getViewportScrollPosition();Jr(J,this._getExactOverlayY(j,z,Rn)),Jr(J,this._getExactOverlayX(j,z,Rn))}else J.position="static";let Ot="",Yt=this._getOffset(j,"x"),gn=this._getOffset(j,"y");Yt&&(Ot+=`translateX(${Yt}px) `),gn&&(Ot+=`translateY(${gn}px)`),J.transform=Ot.trim(),ft.maxHeight&&(ve?J.maxHeight=(0,un.HM)(ft.maxHeight):Ne&&(J.maxHeight="")),ft.maxWidth&&(ve?J.maxWidth=(0,un.HM)(ft.maxWidth):Ne&&(J.maxWidth="")),Jr(this._pane.style,J)}_getExactOverlayY(z,j,J){let ve={top:"",bottom:""},Ne=this._getOverlayPoint(j,this._overlayRect,z);return this._isPushed&&(Ne=this._pushOverlayOnScreen(Ne,this._overlayRect,J)),"bottom"===z.overlayY?ve.bottom=this._document.documentElement.clientHeight-(Ne.y+this._overlayRect.height)+"px":ve.top=(0,un.HM)(Ne.y),ve}_getExactOverlayX(z,j,J){let ft,ve={left:"",right:""},Ne=this._getOverlayPoint(j,this._overlayRect,z);return this._isPushed&&(Ne=this._pushOverlayOnScreen(Ne,this._overlayRect,J)),ft=this._isRtl()?"end"===z.overlayX?"left":"right":"end"===z.overlayX?"right":"left","right"===ft?ve.right=this._document.documentElement.clientWidth-(Ne.x+this._overlayRect.width)+"px":ve.left=(0,un.HM)(Ne.x),ve}_getScrollVisibility(){const z=this._getOriginRect(),j=this._pane.getBoundingClientRect(),J=this._scrollables.map(ve=>ve.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:hi(z,J),isOriginOutsideView:li(z,J),isOverlayClipped:hi(j,J),isOverlayOutsideView:li(j,J)}}_subtractOverflows(z,...j){return j.reduce((J,ve)=>J-Math.max(ve,0),z)}_getNarrowedViewportRect(){const z=this._document.documentElement.clientWidth,j=this._document.documentElement.clientHeight,J=this._viewportRuler.getViewportScrollPosition();return{top:J.top+this._viewportMargin,left:J.left+this._viewportMargin,right:J.left+z-this._viewportMargin,bottom:J.top+j-this._viewportMargin,width:z-2*this._viewportMargin,height:j-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(z,j){return"x"===j?null==z.offsetX?this._offsetX:z.offsetX:null==z.offsetY?this._offsetY:z.offsetY}_validatePositions(){}_addPanelClasses(z){this._pane&&(0,un.Eq)(z).forEach(j=>{""!==j&&-1===this._appliedPanelClasses.indexOf(j)&&(this._appliedPanelClasses.push(j),this._pane.classList.add(j))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(z=>{this._pane.classList.remove(z)}),this._appliedPanelClasses=[])}_getOriginRect(){const z=this._origin;if(z instanceof u.SBq)return z.nativeElement.getBoundingClientRect();if(z instanceof Element)return z.getBoundingClientRect();const j=z.width||0,J=z.height||0;return{top:z.y,bottom:z.y+J,left:z.x,right:z.x+j,height:J,width:j}}}function Jr(we,z){for(let j in z)z.hasOwnProperty(j)&&(we[j]=z[j]);return we}function Yo(we){if("number"!=typeof we&&null!=we){const[z,j]=we.split(ss);return j&&"px"!==j?null:parseFloat(z)}return we||null}function pa(we){return{top:Math.floor(we.top),right:Math.floor(we.right),bottom:Math.floor(we.bottom),left:Math.floor(we.left),width:Math.floor(we.width),height:Math.floor(we.height)}}const Xo="cdk-global-overlay-wrapper";class zo{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(z){const j=z.getConfig();this._overlayRef=z,this._width&&!j.width&&z.updateSize({width:this._width}),this._height&&!j.height&&z.updateSize({height:this._height}),z.hostElement.classList.add(Xo),this._isDisposed=!1}top(z=""){return this._bottomOffset="",this._topOffset=z,this._alignItems="flex-start",this}left(z=""){return this._xOffset=z,this._xPosition="left",this}bottom(z=""){return this._topOffset="",this._bottomOffset=z,this._alignItems="flex-end",this}right(z=""){return this._xOffset=z,this._xPosition="right",this}start(z=""){return this._xOffset=z,this._xPosition="start",this}end(z=""){return this._xOffset=z,this._xPosition="end",this}width(z=""){return this._overlayRef?this._overlayRef.updateSize({width:z}):this._width=z,this}height(z=""){return this._overlayRef?this._overlayRef.updateSize({height:z}):this._height=z,this}centerHorizontally(z=""){return this.left(z),this._xPosition="center",this}centerVertically(z=""){return this.top(z),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const z=this._overlayRef.overlayElement.style,j=this._overlayRef.hostElement.style,J=this._overlayRef.getConfig(),{width:ve,height:Ne,maxWidth:ft,maxHeight:Ot}=J,Yt=!("100%"!==ve&&"100vw"!==ve||ft&&"100%"!==ft&&"100vw"!==ft),gn=!("100%"!==Ne&&"100vh"!==Ne||Ot&&"100%"!==Ot&&"100vh"!==Ot),Rn=this._xPosition,ri=this._xOffset,Xi="rtl"===this._overlayRef.getConfig().direction;let sr="",ar="",xn="";Yt?xn="flex-start":"center"===Rn?(xn="center",Xi?ar=ri:sr=ri):Xi?"left"===Rn||"end"===Rn?(xn="flex-end",sr=ri):("right"===Rn||"start"===Rn)&&(xn="flex-start",ar=ri):"left"===Rn||"start"===Rn?(xn="flex-start",sr=ri):("right"===Rn||"end"===Rn)&&(xn="flex-end",ar=ri),z.position=this._cssPosition,z.marginLeft=Yt?"0":sr,z.marginTop=gn?"0":this._topOffset,z.marginBottom=this._bottomOffset,z.marginRight=Yt?"0":ar,j.justifyContent=xn,j.alignItems=gn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const z=this._overlayRef.overlayElement.style,j=this._overlayRef.hostElement,J=j.style;j.classList.remove(Xo),J.justifyContent=J.alignItems=z.marginTop=z.marginBottom=z.marginLeft=z.marginRight=z.position="",this._overlayRef=null,this._isDisposed=!0}}let gs=(()=>{class we{constructor(j,J,ve,Ne){this._viewportRuler=j,this._document=J,this._platform=ve,this._overlayContainer=Ne}global(){return new zo}flexibleConnectedTo(j){return new tr(j,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(J){return new(J||we)(u.LFG(he),u.LFG(te.K0),u.LFG(ke.t4),u.LFG(Gr))};static#t=this.\u0275prov=u.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})(),_r=0,To=(()=>{class we{constructor(j,J,ve,Ne,ft,Ot,Yt,gn,Rn,ri,Xi,sr){this.scrollStrategies=j,this._overlayContainer=J,this._componentFactoryResolver=ve,this._positionBuilder=Ne,this._keyboardDispatcher=ft,this._injector=Ot,this._ngZone=Yt,this._document=gn,this._directionality=Rn,this._location=ri,this._outsideClickDispatcher=Xi,this._animationsModuleType=sr}create(j){const J=this._createHostElement(),ve=this._createPaneElement(J),Ne=this._createPortalOutlet(ve),ft=new Mr(j);return ft.direction=ft.direction||this._directionality.value,new Fo(Ne,J,ve,ft,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(j){const J=this._document.createElement("div");return J.id="cdk-overlay-"+_r++,J.classList.add("cdk-overlay-pane"),j.appendChild(J),J}_createHostElement(){const j=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(j),j}_createPortalOutlet(j){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new mt(j,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(J){return new(J||we)(u.LFG(Fi),u.LFG(Gr),u.LFG(u._Vd),u.LFG(gs),u.LFG(Li),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(te.K0),u.LFG(Wi.Is),u.LFG(te.Ye),u.LFG(No),u.LFG(u.QbO,8))};static#t=this.\u0275prov=u.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();const Lo={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[To],useFactory:function oo(we){return()=>we.scrollStrategies.reposition()}};let po=(()=>{class we{static#e=this.\u0275fac=function(J){return new(J||we)};static#t=this.\u0275mod=u.oAB({type:we});static#n=this.\u0275inj=u.cJS({providers:[To,Lo],imports:[Wi.vT,Je,ge,ge]})}return we})();var so=P(3680);function Zn(we,z){if(1&we){const j=u.EpF();u.TgZ(0,"div",2)(1,"button",3),u.NdJ("click",function(){u.CHM(j);const ve=u.oxw();return u.KtG(ve.action())}),u._uU(2),u.qZA()()}if(2&we){const j=u.oxw();u.xp6(2),u.hij(" ",j.data.action," ")}}const or=["label"];function Yi(we,z){}const vr=Math.pow(2,31)-1;class Qi{constructor(z,j){this._overlayRef=j,this._afterDismissed=new $.x,this._afterOpened=new $.x,this._onAction=new $.x,this._dismissedByAction=!1,this.containerInstance=z,z._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(z){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(z,vr))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Jo=new u.OlP("MatSnackBarData");class Br{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Ti=(()=>{class we{static#e=this.\u0275fac=function(J){return new(J||we)};static#t=this.\u0275dir=u.lG2({type:we,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return we})(),qr=(()=>{class we{static#e=this.\u0275fac=function(J){return new(J||we)};static#t=this.\u0275dir=u.lG2({type:we,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return we})(),mo=(()=>{class we{static#e=this.\u0275fac=function(J){return new(J||we)};static#t=this.\u0275dir=u.lG2({type:we,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return we})(),pi=(()=>{class we{constructor(j,J){this.snackBarRef=j,this.data=J}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(J){return new(J||we)(u.Y36(Qi),u.Y36(Jo))};static#t=this.\u0275cmp=u.Xpm({type:we,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(J,ve){1&J&&(u.TgZ(0,"div",0),u._uU(1),u.qZA(),u.YNc(2,Zn,3,1,"div",1)),2&J&&(u.xp6(1),u.hij(" ",ve.data.message,"\n"),u.xp6(1),u.Q6J("ngIf",ve.hasAction))},dependencies:[te.O5,H.lW,Ti,qr,mo],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return we})();const Zt={snackBarState:(0,fe.X$)("state",[(0,fe.SB)("void, hidden",(0,fe.oB)({transform:"scale(0.8)",opacity:0})),(0,fe.SB)("visible",(0,fe.oB)({transform:"scale(1)",opacity:1})),(0,fe.eR)("* => visible",(0,fe.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,fe.eR)("* => void, * => hidden",(0,fe.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,fe.oB)({opacity:0})))])};let Nn=0,Vi=(()=>{class we extends ot{constructor(j,J,ve,Ne,ft){super(),this._ngZone=j,this._elementRef=J,this._changeDetectorRef=ve,this._platform=Ne,this.snackBarConfig=ft,this._document=(0,u.f3M)(te.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new $.x,this._onExit=new $.x,this._onEnter=new $.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Nn++,this.attachDomPortal=Ot=>{this._assertNotAttached();const Yt=this._portalOutlet.attachDomPortal(Ot);return this._afterPortalAttached(),Yt},this._live="assertive"!==ft.politeness||ft.announcementMessage?"off"===ft.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(j){this._assertNotAttached();const J=this._portalOutlet.attachComponentPortal(j);return this._afterPortalAttached(),J}attachTemplatePortal(j){this._assertNotAttached();const J=this._portalOutlet.attachTemplatePortal(j);return this._afterPortalAttached(),J}onAnimationEnd(j){const{fromState:J,toState:ve}=j;if(("void"===ve&&"void"!==J||"hidden"===ve)&&this._completeExit(),"visible"===ve){const Ne=this._onEnter;this._ngZone.run(()=>{Ne.next(),Ne.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,$t.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const j=this._elementRef.nativeElement,J=this.snackBarConfig.panelClass;J&&(Array.isArray(J)?J.forEach(ve=>j.classList.add(ve)):j.classList.add(J)),this._exposeToModals()}_exposeToModals(){const j=this._liveElementId,J=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ve=0;ve<J.length;ve++){const Ne=J[ve],ft=Ne.getAttribute("aria-owns");this._trackedModals.add(Ne),ft?-1===ft.indexOf(j)&&Ne.setAttribute("aria-owns",ft+" "+j):Ne.setAttribute("aria-owns",j)}}_clearFromModals(){this._trackedModals.forEach(j=>{const J=j.getAttribute("aria-owns");if(J){const ve=J.replace(this._liveElementId,"").trim();ve.length>0?j.setAttribute("aria-owns",ve):j.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const j=this._elementRef.nativeElement.querySelector("[aria-hidden]"),J=this._elementRef.nativeElement.querySelector("[aria-live]");if(j&&J){let ve=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&j.contains(document.activeElement)&&(ve=document.activeElement),j.removeAttribute("aria-hidden"),J.appendChild(j),ve?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(J){return new(J||we)(u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(ke.t4),u.Y36(Br))};static#t=this.\u0275dir=u.lG2({type:we,viewQuery:function(J,ve){if(1&J&&u.Gf(Le,7),2&J){let Ne;u.iGM(Ne=u.CRH())&&(ve._portalOutlet=Ne.first)}},features:[u.qOj]})}return we})(),Cr=(()=>{class we extends Vi{_afterPortalAttached(){super._afterPortalAttached();const j=this._label.nativeElement,J="mdc-snackbar__label";j.classList.toggle(J,!j.querySelector(`.${J}`))}static#e=this.\u0275fac=function(){let j;return function(ve){return(j||(j=u.n5z(we)))(ve||we)}}();static#t=this.\u0275cmp=u.Xpm({type:we,selectors:[["mat-snack-bar-container"]],viewQuery:function(J,ve){if(1&J&&u.Gf(or,7),2&J){let Ne;u.iGM(Ne=u.CRH())&&(ve._label=Ne.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(J,ve){1&J&&u.WFA("@state.done",function(ft){return ve.onAnimationEnd(ft)}),2&J&&u.d8E("@state",ve._animationState)},features:[u.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(J,ve){1&J&&(u.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),u.YNc(4,Yi,0,0,"ng-template",4),u.qZA(),u._UZ(5,"div"),u.qZA()()),2&J&&(u.xp6(5),u.uIk("aria-live",ve._live)("role",ve._role)("id",ve._liveElementId))},dependencies:[Le],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Zt.snackBarState]}})}return we})(),Ur=(()=>{class we{static#e=this.\u0275fac=function(J){return new(J||we)};static#t=this.\u0275mod=u.oAB({type:we});static#n=this.\u0275inj=u.cJS({imports:[po,Je,te.ez,H.ot,so.BQ,so.BQ]})}return we})();const Tr=new u.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function er(){return new Br}});let Di=(()=>{class we{get _openedSnackBarRef(){const j=this._parentSnackBar;return j?j._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(j){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=j:this._snackBarRefAtThisLevel=j}constructor(j,J,ve,Ne,ft,Ot){this._overlay=j,this._live=J,this._injector=ve,this._breakpointObserver=Ne,this._parentSnackBar=ft,this._defaultConfig=Ot,this._snackBarRefAtThisLevel=null}openFromComponent(j,J){return this._attach(j,J)}openFromTemplate(j,J){return this._attach(j,J)}open(j,J="",ve){const Ne={...this._defaultConfig,...ve};return Ne.data={message:j,action:J},Ne.announcementMessage===j&&(Ne.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Ne)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(j,J){const Ne=u.zs3.create({parent:J&&J.viewContainerRef&&J.viewContainerRef.injector||this._injector,providers:[{provide:Br,useValue:J}]}),ft=new Ke(this.snackBarContainerComponent,J.viewContainerRef,Ne),Ot=j.attach(ft);return Ot.instance.snackBarConfig=J,Ot.instance}_attach(j,J){const ve={...new Br,...this._defaultConfig,...J},Ne=this._createOverlay(ve),ft=this._attachSnackBarContainer(Ne,ve),Ot=new Qi(ft,Ne);if(j instanceof u.Rgc){const Yt=new nt(j,null,{$implicit:ve.data,snackBarRef:Ot});Ot.instance=ft.attachTemplatePortal(Yt)}else{const Yt=this._createInjector(ve,Ot),gn=new Ke(j,void 0,Yt),Rn=ft.attachComponentPortal(gn);Ot.instance=Rn.instance}return this._breakpointObserver.observe(Vn.u3.HandsetPortrait).pipe((0,jt.R)(Ne.detachments())).subscribe(Yt=>{Ne.overlayElement.classList.toggle(this.handsetCssClass,Yt.matches)}),ve.announcementMessage&&ft._onAnnounce.subscribe(()=>{this._live.announce(ve.announcementMessage,ve.politeness)}),this._animateSnackBar(Ot,ve),this._openedSnackBarRef=Ot,this._openedSnackBarRef}_animateSnackBar(j,J){j.afterDismissed().subscribe(()=>{this._openedSnackBarRef==j&&(this._openedSnackBarRef=null),J.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{j.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):j.containerInstance.enter(),J.duration&&J.duration>0&&j.afterOpened().subscribe(()=>j._dismissAfter(J.duration))}_createOverlay(j){const J=new Mr;J.direction=j.direction;let ve=this._overlay.position().global();const Ne="rtl"===j.direction,ft="left"===j.horizontalPosition||"start"===j.horizontalPosition&&!Ne||"end"===j.horizontalPosition&&Ne,Ot=!ft&&"center"!==j.horizontalPosition;return ft?ve.left("0"):Ot?ve.right("0"):ve.centerHorizontally(),"top"===j.verticalPosition?ve.top("0"):ve.bottom("0"),J.positionStrategy=ve,this._overlay.create(J)}_createInjector(j,J){return u.zs3.create({parent:j&&j.viewContainerRef&&j.viewContainerRef.injector||this._injector,providers:[{provide:Qi,useValue:J},{provide:Jo,useValue:j.data}]})}static#e=this.\u0275fac=function(J){return new(J||we)(u.LFG(To),u.LFG(ln.Kd),u.LFG(u.zs3),u.LFG(Vn.Yg),u.LFG(we,12),u.LFG(Tr))};static#t=this.\u0275prov=u.Yz7({token:we,factory:we.\u0275fac})}return we})(),yr=(()=>{class we extends Di{constructor(j,J,ve,Ne,ft,Ot){super(j,J,ve,Ne,ft,Ot),this.simpleSnackBarComponent=pi,this.snackBarContainerComponent=Cr,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(J){return new(J||we)(u.LFG(To),u.LFG(ln.Kd),u.LFG(u.zs3),u.LFG(Vn.Yg),u.LFG(we,12),u.LFG(Tr))};static#t=this.\u0275prov=u.Yz7({token:we,factory:we.\u0275fac,providedIn:Ur})}return we})()},6593:(kt,Be,P)=>{P.d(Be,{Dx:()=>Qn,H7:()=>ii,b2:()=>Un,q6:()=>In,se:()=>ke});var u=P(5879),$=P(6814);class te extends $.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class H extends te{static makeCurrent(){(0,$.HT)(new H)}onAndCancel(O,N,k){return O.addEventListener(N,k),()=>{O.removeEventListener(N,k)}}dispatchEvent(O,N){O.dispatchEvent(N)}remove(O){O.parentNode&&O.parentNode.removeChild(O)}createElement(O,N){return(N=N||this.getDefaultDocument()).createElement(O)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(O){return O.nodeType===Node.ELEMENT_NODE}isShadowRoot(O){return O instanceof DocumentFragment}getGlobalEventTarget(O,N){return"window"===N?window:"document"===N?O:"body"===N?O.body:null}getBaseHref(O){const N=function Ce(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==N?null:function de(L){Te=Te||document.createElement("a"),Te.setAttribute("href",L);const O=Te.pathname;return"/"===O.charAt(0)?O:`/${O}`}(N)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(O){return(0,$.Mx)(document.cookie,O)}}let Te,fe=null,le=(()=>{class L{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(k){return new(k||L)};static#t=this.\u0275prov=u.Yz7({token:L,factory:L.\u0275fac})}return L})();const _e=new u.OlP("EventManagerPlugins");let Me=(()=>{class L{constructor(N,k){this._zone=k,this._eventNameToPlugin=new Map,N.forEach(he=>{he.manager=this}),this._plugins=N.slice().reverse()}addEventListener(N,k,he){return this._findPluginFor(k).addEventListener(N,k,he)}getZone(){return this._zone}_findPluginFor(N){let k=this._eventNameToPlugin.get(N);if(k)return k;if(k=this._plugins.find(Ue=>Ue.supports(N)),!k)throw new u.vHH(5101,!1);return this._eventNameToPlugin.set(N,k),k}static#e=this.\u0275fac=function(k){return new(k||L)(u.LFG(_e),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:L,factory:L.\u0275fac})}return L})();class Ke{constructor(O){this._doc=O}}const nt="ng-app-id";let bt=(()=>{class L{constructor(N,k,he,Ue={}){this.doc=N,this.appId=k,this.nonce=he,this.platformId=Ue,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,$.PM)(Ue),this.resetHostNodes()}addStyles(N){for(const k of N)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(N){for(const k of N)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const N=this.styleNodesInDOM;N&&(N.forEach(k=>k.remove()),N.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(N){this.hostNodes.add(N);for(const k of this.getAllStyles())this.addStyleToHost(N,k)}removeHost(N){this.hostNodes.delete(N)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(N){for(const k of this.hostNodes)this.addStyleToHost(k,N)}onStyleRemoved(N){const k=this.styleRef;k.get(N)?.elements?.forEach(he=>he.remove()),k.delete(N)}collectServerRenderedStyles(){const N=this.doc.head?.querySelectorAll(`style[${nt}="${this.appId}"]`);if(N?.length){const k=new Map;return N.forEach(he=>{null!=he.textContent&&k.set(he.textContent,he)}),k}return null}changeUsageCount(N,k){const he=this.styleRef;if(he.has(N)){const Ue=he.get(N);return Ue.usage+=k,Ue.usage}return he.set(N,{usage:k,elements:[]}),k}getStyleElement(N,k){const he=this.styleNodesInDOM,Ue=he?.get(k);if(Ue?.parentNode===N)return he.delete(k),Ue.removeAttribute(nt),Ue;{const _t=this.doc.createElement("style");return this.nonce&&_t.setAttribute("nonce",this.nonce),_t.textContent=k,this.platformIsServer&&_t.setAttribute(nt,this.appId),_t}}addStyleToHost(N,k){const he=this.getStyleElement(N,k);N.appendChild(he);const Ue=this.styleRef,_t=Ue.get(k)?.elements;_t?_t.push(he):Ue.set(k,{elements:[he],usage:1})}resetHostNodes(){const N=this.hostNodes;N.clear(),N.add(this.doc.head)}static#e=this.\u0275fac=function(k){return new(k||L)(u.LFG($.K0),u.LFG(u.AFp),u.LFG(u.Ojb,8),u.LFG(u.Lbi))};static#t=this.\u0275prov=u.Yz7({token:L,factory:L.\u0275fac})}return L})();const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ht=/%COMP%/g,Le=new u.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ze(L,O){return O.map(N=>N.replace(ht,L))}let ke=(()=>{class L{constructor(N,k,he,Ue,_t,Mt,Lt,Ft=null){this.eventManager=N,this.sharedStylesHost=k,this.appId=he,this.removeStylesOnCompDestroy=Ue,this.doc=_t,this.platformId=Mt,this.ngZone=Lt,this.nonce=Ft,this.rendererByCompId=new Map,this.platformIsServer=(0,$.PM)(Mt),this.defaultRenderer=new $t(N,_t,Lt,this.platformIsServer)}createRenderer(N,k){if(!N||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===u.ifc.ShadowDom&&(k={...k,encapsulation:u.ifc.Emulated});const he=this.getOrCreateRenderer(N,k);return he instanceof Qt?he.applyToHost(N):he instanceof Ei&&he.applyStyles(),he}getOrCreateRenderer(N,k){const he=this.rendererByCompId;let Ue=he.get(k.id);if(!Ue){const _t=this.doc,Mt=this.ngZone,Lt=this.eventManager,Ft=this.sharedStylesHost,cn=this.removeStylesOnCompDestroy,jn=this.platformIsServer;switch(k.encapsulation){case u.ifc.Emulated:Ue=new Qt(Lt,Ft,k,this.appId,cn,_t,Mt,jn);break;case u.ifc.ShadowDom:return new un(Lt,Ft,N,k,_t,Mt,this.nonce,jn);default:Ue=new Ei(Lt,Ft,k,cn,_t,Mt,jn)}he.set(k.id,Ue)}return Ue}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(k){return new(k||L)(u.LFG(Me),u.LFG(bt),u.LFG(u.AFp),u.LFG(Le),u.LFG($.K0),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(u.Ojb))};static#t=this.\u0275prov=u.Yz7({token:L,factory:L.\u0275fac})}return L})();class $t{constructor(O,N,k,he){this.eventManager=O,this.doc=N,this.ngZone=k,this.platformIsServer=he,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(O,N){return N?this.doc.createElementNS(ot[N]||N,O):this.doc.createElement(O)}createComment(O){return this.doc.createComment(O)}createText(O){return this.doc.createTextNode(O)}appendChild(O,N){(Vn(O)?O.content:O).appendChild(N)}insertBefore(O,N,k){O&&(Vn(O)?O.content:O).insertBefore(N,k)}removeChild(O,N){O&&O.removeChild(N)}selectRootElement(O,N){let k="string"==typeof O?this.doc.querySelector(O):O;if(!k)throw new u.vHH(-5104,!1);return N||(k.textContent=""),k}parentNode(O){return O.parentNode}nextSibling(O){return O.nextSibling}setAttribute(O,N,k,he){if(he){N=he+":"+N;const Ue=ot[he];Ue?O.setAttributeNS(Ue,N,k):O.setAttribute(N,k)}else O.setAttribute(N,k)}removeAttribute(O,N,k){if(k){const he=ot[k];he?O.removeAttributeNS(he,N):O.removeAttribute(`${k}:${N}`)}else O.removeAttribute(N)}addClass(O,N){O.classList.add(N)}removeClass(O,N){O.classList.remove(N)}setStyle(O,N,k,he){he&(u.JOm.DashCase|u.JOm.Important)?O.style.setProperty(N,k,he&u.JOm.Important?"important":""):O.style[N]=k}removeStyle(O,N,k){k&u.JOm.DashCase?O.style.removeProperty(N):O.style[N]=""}setProperty(O,N,k){O[N]=k}setValue(O,N){O.nodeValue=N}listen(O,N,k){if("string"==typeof O&&!(O=(0,$.q)().getGlobalEventTarget(this.doc,O)))throw new Error(`Unsupported event target ${O} for event ${N}`);return this.eventManager.addEventListener(O,N,this.decoratePreventDefault(k))}decoratePreventDefault(O){return N=>{if("__ngUnwrap__"===N)return O;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>O(N)):O(N))&&N.preventDefault()}}}function Vn(L){return"TEMPLATE"===L.tagName&&void 0!==L.content}class un extends $t{constructor(O,N,k,he,Ue,_t,Mt,Lt){super(O,Ue,_t,Lt),this.sharedStylesHost=N,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ft=Ze(he.id,he.styles);for(const cn of Ft){const jn=document.createElement("style");Mt&&jn.setAttribute("nonce",Mt),jn.textContent=cn,this.shadowRoot.appendChild(jn)}}nodeOrShadowRoot(O){return O===this.hostEl?this.shadowRoot:O}appendChild(O,N){return super.appendChild(this.nodeOrShadowRoot(O),N)}insertBefore(O,N,k){return super.insertBefore(this.nodeOrShadowRoot(O),N,k)}removeChild(O,N){return super.removeChild(this.nodeOrShadowRoot(O),N)}parentNode(O){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(O)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ei extends $t{constructor(O,N,k,he,Ue,_t,Mt,Lt){super(O,Ue,_t,Mt),this.sharedStylesHost=N,this.removeStylesOnCompDestroy=he,this.styles=Lt?Ze(Lt,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Qt extends Ei{constructor(O,N,k,he,Ue,_t,Mt,Lt){const Ft=he+"-"+k.id;super(O,N,k,Ue,_t,Mt,Lt,Ft),this.contentAttr=function Oe(L){return"_ngcontent-%COMP%".replace(ht,L)}(Ft),this.hostAttr=function Je(L){return"_nghost-%COMP%".replace(ht,L)}(Ft)}applyToHost(O){this.applyStyles(),this.setAttribute(O,this.hostAttr,"")}createElement(O,N){const k=super.createElement(O,N);return super.setAttribute(k,this.contentAttr,""),k}}let _n=(()=>{class L extends Ke{constructor(N){super(N)}supports(N){return!0}addEventListener(N,k,he){return N.addEventListener(k,he,!1),()=>this.removeEventListener(N,k,he)}removeEventListener(N,k,he){return N.removeEventListener(k,he)}static#e=this.\u0275fac=function(k){return new(k||L)(u.LFG($.K0))};static#t=this.\u0275prov=u.Yz7({token:L,factory:L.\u0275fac})}return L})();const vn=["alt","control","meta","shift"],Ge={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ye={alt:L=>L.altKey,control:L=>L.ctrlKey,meta:L=>L.metaKey,shift:L=>L.shiftKey};let Qe=(()=>{class L extends Ke{constructor(N){super(N)}supports(N){return null!=L.parseEventName(N)}addEventListener(N,k,he){const Ue=L.parseEventName(k),_t=L.eventCallback(Ue.fullKey,he,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,$.q)().onAndCancel(N,Ue.domEventName,_t))}static parseEventName(N){const k=N.toLowerCase().split("."),he=k.shift();if(0===k.length||"keydown"!==he&&"keyup"!==he)return null;const Ue=L._normalizeKey(k.pop());let _t="",Mt=k.indexOf("code");if(Mt>-1&&(k.splice(Mt,1),_t="code."),vn.forEach(Ft=>{const cn=k.indexOf(Ft);cn>-1&&(k.splice(cn,1),_t+=Ft+".")}),_t+=Ue,0!=k.length||0===Ue.length)return null;const Lt={};return Lt.domEventName=he,Lt.fullKey=_t,Lt}static matchEventFullKeyCode(N,k){let he=Ge[N.key]||N.key,Ue="";return k.indexOf("code.")>-1&&(he=N.code,Ue="code."),!(null==he||!he)&&(he=he.toLowerCase()," "===he?he="space":"."===he&&(he="dot"),vn.forEach(_t=>{_t!==he&&(0,Ye[_t])(N)&&(Ue+=_t+".")}),Ue+=he,Ue===k)}static eventCallback(N,k,he){return Ue=>{L.matchEventFullKeyCode(Ue,N)&&he.runGuarded(()=>k(Ue))}}static _normalizeKey(N){return"esc"===N?"escape":N}static#e=this.\u0275fac=function(k){return new(k||L)(u.LFG($.K0))};static#t=this.\u0275prov=u.Yz7({token:L,factory:L.\u0275fac})}return L})();const In=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:$.bD},{provide:u.g9A,useValue:function wt(){H.makeCurrent()},multi:!0},{provide:$.K0,useFactory:function tn(){return(0,u.RDi)(document),document},deps:[]}]),En=new u.OlP(""),On=[{provide:u.rWj,useClass:class Ie{addToWindow(O){u.dqk.getAngularTestability=(k,he=!0)=>{const Ue=O.findTestabilityInTree(k,he);if(null==Ue)throw new u.vHH(5103,!1);return Ue},u.dqk.getAllAngularTestabilities=()=>O.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>O.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(k=>{const he=u.dqk.getAllAngularTestabilities();let Ue=he.length,_t=!1;const Mt=function(Lt){_t=_t||Lt,Ue--,0==Ue&&k(_t)};he.forEach(Lt=>{Lt.whenStable(Mt)})})}findTestabilityInTree(O,N,k){return null==N?null:O.getTestability(N)??(k?(0,$.q)().isShadowRoot(N)?this.findTestabilityInTree(O,N.host,!0):this.findTestabilityInTree(O,N.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],ni=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Bn(){return new u.qLn},deps:[]},{provide:_e,useClass:_n,multi:!0,deps:[$.K0,u.R0b,u.Lbi]},{provide:_e,useClass:Qe,multi:!0,deps:[$.K0]},ke,bt,Me,{provide:u.FYo,useExisting:ke},{provide:$.JF,useClass:le,deps:[]},[]];let Un=(()=>{class L{constructor(N){}static withServerTransition(N){return{ngModule:L,providers:[{provide:u.AFp,useValue:N.appId}]}}static#e=this.\u0275fac=function(k){return new(k||L)(u.LFG(En,12))};static#t=this.\u0275mod=u.oAB({type:L});static#n=this.\u0275inj=u.cJS({providers:[...ni,...On],imports:[$.ez,u.hGG]})}return L})(),Qn=(()=>{class L{constructor(N){this._doc=N}getTitle(){return this._doc.title}setTitle(N){this._doc.title=N||""}static#e=this.\u0275fac=function(k){return new(k||L)(u.LFG($.K0))};static#t=this.\u0275prov=u.Yz7({token:L,factory:function(k){let he=null;return he=k?new k:function Ri(){return new Qn((0,u.LFG)($.K0))}(),he},providedIn:"root"})}return L})();typeof window<"u"&&window;let ii=(()=>{class L{static#e=this.\u0275fac=function(k){return new(k||L)};static#t=this.\u0275prov=u.Yz7({token:L,factory:function(k){let he=null;return he=k?new(k||L):u.LFG(Cn),he},providedIn:"root"})}return L})(),Cn=(()=>{class L extends ii{constructor(N){super(),this._doc=N}sanitize(N,k){if(null==k)return null;switch(N){case u.q3G.NONE:return k;case u.q3G.HTML:return(0,u.qzn)(k,"HTML")?(0,u.z3N)(k):(0,u.EiD)(this._doc,String(k)).toString();case u.q3G.STYLE:return(0,u.qzn)(k,"Style")?(0,u.z3N)(k):k;case u.q3G.SCRIPT:if((0,u.qzn)(k,"Script"))return(0,u.z3N)(k);throw new u.vHH(5200,!1);case u.q3G.URL:return(0,u.qzn)(k,"URL")?(0,u.z3N)(k):(0,u.mCW)(String(k));case u.q3G.RESOURCE_URL:if((0,u.qzn)(k,"ResourceURL"))return(0,u.z3N)(k);throw new u.vHH(5201,!1);default:throw new u.vHH(5202,!1)}}bypassSecurityTrustHtml(N){return(0,u.JVY)(N)}bypassSecurityTrustStyle(N){return(0,u.L6k)(N)}bypassSecurityTrustScript(N){return(0,u.eBb)(N)}bypassSecurityTrustUrl(N){return(0,u.LAX)(N)}bypassSecurityTrustResourceUrl(N){return(0,u.pB0)(N)}static#e=this.\u0275fac=function(k){return new(k||L)(u.LFG($.K0))};static#t=this.\u0275prov=u.Yz7({token:L,factory:function(k){let he=null;return he=k?new k:function Sn(L){return new Cn(L.get($.K0))}(u.LFG(u.zs3)),he},providedIn:"root"})}return L})()},7488:(kt,Be,P)=>{P.d(Be,{F0:()=>Ht,rH:()=>Pt,Bz:()=>Si,lC:()=>Nn});var u=P(5879),$=P(5592),te=P(4674),fe=P(2459),Ce=P(2096),Te=P(5619),de=P(2572),Ie=P(6973),le=P(5211),_e=P(4829);function Me(w){return new $.y(M=>{(0,_e.Xf)(w()).subscribe(M)})}var Ke=P(8407),nt=P(8504),bt=P(6232),ot=P(7394),ht=P(9360),mt=P(8251);function Ut(){return(0,ht.e)((w,M)=>{let E=null;w._refCount++;const R=(0,mt.x)(M,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(E=null);const q=w._connection,ce=E;E=null,q&&(!ce||q===ce)&&q.unsubscribe(),M.unsubscribe()});w.subscribe(R),R.closed||(E=w.connect())})}class vt extends $.y{constructor(M,E){super(),this.source=M,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,ht.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,M?.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new ot.w0;const E=this.getSubject();M.add(this.source.subscribe((0,mt.x)(E,void 0,()=>{this._teardown(),E.complete()},R=>{this._teardown(),E.error(R)},()=>this._teardown()))),M.closed&&(this._connection=null,M=ot.w0.EMPTY)}return M}refCount(){return Ut()(this)}}var me=P(8645),Le=P(6814),Oe=P(7398),Je=P(4664),Ze=P(8180),ke=P(7921),$t=P(2181),jt=P(1631),ln=P(1374),Vn=P(6328),un=P(9397),Ei=P(6306),Qt=P(6699),_n=P(3572),vn=P(2032),Ge=P(4418),Qe=P(4716),Xe=P(9773),$e=P(7537),at=P(6593);const Pe="primary",wt=Symbol("RouteTitle");class Bn{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const E=this.params[M];return Array.isArray(E)?E[0]:E}return null}getAll(M){if(this.has(M)){const E=this.params[M];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function tn(w){return new Bn(w)}function Gn(w,M,E){const R=E.path.split("/");if(R.length>w.length||"full"===E.pathMatch&&(M.hasChildren()||R.length<w.length))return null;const q={};for(let ce=0;ce<R.length;ce++){const De=R[ce],lt=w[ce];if(De.startsWith(":"))q[De.substring(1)]=lt;else if(De!==lt.path)return null}return{consumed:w.slice(0,R.length),posParams:q}}function En(w,M){const E=w?Object.keys(w):void 0,R=M?Object.keys(M):void 0;if(!E||!R||E.length!=R.length)return!1;let q;for(let ce=0;ce<E.length;ce++)if(q=E[ce],!On(w[q],M[q]))return!1;return!0}function On(w,M){if(Array.isArray(w)&&Array.isArray(M)){if(w.length!==M.length)return!1;const E=[...w].sort(),R=[...M].sort();return E.every((q,ce)=>R[ce]===q)}return w===M}function ni(w){return w.length>0?w[w.length-1]:null}function Un(w){return function H(w){return!!w&&(w instanceof $.y||(0,te.m)(w.lift)&&(0,te.m)(w.subscribe))}(w)?w:(0,u.QGY)(w)?(0,fe.D)(Promise.resolve(w)):(0,Ce.of)(w)}const Mi={exact:function Qn(w,M,E){if(!Tn(w.segments,M.segments)||!mn(w.segments,M.segments,E)||w.numberOfChildren!==M.numberOfChildren)return!1;for(const R in M.children)if(!w.children[R]||!Qn(w.children[R],M.children[R],E))return!1;return!0},subset:gi},Ui={exact:function Ri(w,M){return En(w,M)},subset:function Ii(w,M){return Object.keys(M).length<=Object.keys(w).length&&Object.keys(M).every(E=>On(w[E],M[E]))},ignored:()=>!0};function Ji(w,M,E){return Mi[E.paths](w.root,M.root,E.matrixParams)&&Ui[E.queryParams](w.queryParams,M.queryParams)&&!("exact"===E.fragment&&w.fragment!==M.fragment)}function gi(w,M,E){return sn(w,M,M.segments,E)}function sn(w,M,E,R){if(w.segments.length>E.length){const q=w.segments.slice(0,E.length);return!(!Tn(q,E)||M.hasChildren()||!mn(q,E,R))}if(w.segments.length===E.length){if(!Tn(w.segments,E)||!mn(w.segments,E,R))return!1;for(const q in M.children)if(!w.children[q]||!gi(w.children[q],M.children[q],R))return!1;return!0}{const q=E.slice(0,w.segments.length),ce=E.slice(w.segments.length);return!!(Tn(w.segments,q)&&mn(w.segments,q,R)&&w.children[Pe])&&sn(w.children[Pe],M,ce,R)}}function mn(w,M,E){return M.every((R,q)=>Ui[E](w[q].parameters,R.parameters))}class Xt{constructor(M=new hn([],{}),E={},R=null){this.root=M,this.queryParams=E,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return xi.serialize(this)}}class hn{constructor(M,E){this.segments=M,this.children=E,this.parent=null,Object.values(E).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fn(this)}}class wi{constructor(M,E){this.path=M,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=tn(this.parameters)),this._parameterMap}toString(){return Gi(this)}}function Tn(w,M){return w.length===M.length&&w.every((E,R)=>E.path===M[R].path)}let mr=(()=>{class w{static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:function(){return new Kt},providedIn:"root"})}return w})();class Kt{parse(M){const E=new Ue(M);return new Xt(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(M){const E=`/${ai(M.root,!0)}`,R=function qi(w){const M=Object.keys(w).map(E=>{const R=w[E];return Array.isArray(R)?R.map(q=>`${ii(E)}=${ii(q)}`).join("&"):`${ii(E)}=${ii(R)}`}).filter(E=>!!E);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${E}${R}${"string"==typeof M.fragment?`#${function Sn(w){return encodeURI(w)}(M.fragment)}`:""}`}}const xi=new Kt;function fn(w){return w.segments.map(M=>Gi(M)).join("/")}function ai(w,M){if(!w.hasChildren())return fn(w);if(M){const E=w.children[Pe]?ai(w.children[Pe],!1):"",R=[];return Object.entries(w.children).forEach(([q,ce])=>{q!==Pe&&R.push(`${q}:${ai(ce,!1)}`)}),R.length>0?`${E}(${R.join("//")})`:E}{const E=function zn(w,M){let E=[];return Object.entries(w.children).forEach(([R,q])=>{R===Pe&&(E=E.concat(M(q,R)))}),Object.entries(w.children).forEach(([R,q])=>{R!==Pe&&(E=E.concat(M(q,R)))}),E}(w,(R,q)=>q===Pe?[ai(w.children[Pe],!1)]:[`${q}:${ai(R,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Pe]?`${fn(w)}/${E[0]}`:`${fn(w)}/(${E.join("//")})`}}function di(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ii(w){return di(w).replace(/%3B/gi,";")}function Cn(w){return di(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ci(w){return decodeURIComponent(w)}function Wi(w){return ci(w.replace(/\+/g,"%20"))}function Gi(w){return`${Cn(w.path)}${function Sr(w){return Object.keys(w).map(M=>`;${Cn(M)}=${Cn(w[M])}`).join("")}(w.parameters)}`}const gr=/^[^\/()?;#]+/;function St(w){const M=w.match(gr);return M?M[0]:""}const oe=/^[^\/()?;=#]+/,O=/^[^=?&#]+/,k=/^[^&#]+/;class Ue{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hn([],{}):new hn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(M.length>0||Object.keys(E).length>0)&&(R[Pe]=new hn(M,E)),R}parseSegment(){const M=St(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(M),new wi(ci(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const E=function L(w){const M=w.match(oe);return M?M[0]:""}(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const q=St(this.remaining);q&&(R=q,this.capture(R))}M[ci(E)]=ci(R)}parseQueryParam(M){const E=function N(w){const M=w.match(O);return M?M[0]:""}(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const De=function he(w){const M=w.match(k);return M?M[0]:""}(this.remaining);De&&(R=De,this.capture(R))}const q=Wi(E),ce=Wi(R);if(M.hasOwnProperty(q)){let De=M[q];Array.isArray(De)||(De=[De],M[q]=De),De.push(ce)}else M[q]=ce}parseParens(M){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=St(this.remaining),q=this.remaining[R.length];if("/"!==q&&")"!==q&&";"!==q)throw new u.vHH(4010,!1);let ce;R.indexOf(":")>-1?(ce=R.slice(0,R.indexOf(":")),this.capture(ce),this.capture(":")):M&&(ce=Pe);const De=this.parseChildren();E[ce]=1===Object.keys(De).length?De[Pe]:new hn([],De),this.consumeOptional("//")}return E}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new u.vHH(4011,!1)}}function _t(w){return w.segments.length>0?new hn([],{[Pe]:w}):w}function Mt(w){const M={};for(const R of Object.keys(w.children)){const ce=Mt(w.children[R]);if(R===Pe&&0===ce.segments.length&&ce.hasChildren())for(const[De,lt]of Object.entries(ce.children))M[De]=lt;else(ce.segments.length>0||ce.hasChildren())&&(M[R]=ce)}return function Lt(w){if(1===w.numberOfChildren&&w.children[Pe]){const M=w.children[Pe];return new hn(w.segments.concat(M.segments),M.children)}return w}(new hn(w.segments,M))}function Ft(w){return w instanceof Xt}function jn(w){let M;const q=_t(function E(ce){const De={};for(const ct of ce.children){const an=E(ct);De[ct.outlet]=an}const lt=new hn(ce.url,De);return ce===w&&(M=lt),lt}(w.root));return M??q}function tt(w,M,E,R){let q=w;for(;q.parent;)q=q.parent;if(0===M.length)return ge(q,q,q,E,R);const ce=function Dt(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new st(!0,0,w);let M=0,E=!1;const R=w.reduce((q,ce,De)=>{if("object"==typeof ce&&null!=ce){if(ce.outlets){const lt={};return Object.entries(ce.outlets).forEach(([ct,an])=>{lt[ct]="string"==typeof an?an.split("/"):an}),[...q,{outlets:lt}]}if(ce.segmentPath)return[...q,ce.segmentPath]}return"string"!=typeof ce?[...q,ce]:0===De?(ce.split("/").forEach((lt,ct)=>{0==ct&&"."===lt||(0==ct&&""===lt?E=!0:".."===lt?M++:""!=lt&&q.push(lt))}),q):[...q,ce]},[]);return new st(E,M,R)}(M);if(ce.toRoot())return ge(q,q,new hn([],{}),E,R);const De=function Bt(w,M,E){if(w.isAbsolute)return new zt(M,!0,0);if(!E)return new zt(M,!1,NaN);if(null===E.parent)return new zt(E,!0,0);const R=ie(w.commands[0])?0:1;return function Ln(w,M,E){let R=w,q=M,ce=E;for(;ce>q;){if(ce-=q,R=R.parent,!R)throw new u.vHH(4005,!1);q=R.segments.length}return new zt(R,!1,q-ce)}(E,E.segments.length-1+R,w.numberOfDoubleDots)}(ce,q,w),lt=De.processChildren?dr(De.segmentGroup,De.index,ce.commands):hi(De.segmentGroup,De.index,ce.commands);return ge(q,De.segmentGroup,lt,E,R)}function ie(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Ee(w){return"object"==typeof w&&null!=w&&w.outlets}function ge(w,M,E,R,q){let De,ce={};R&&Object.entries(R).forEach(([ct,an])=>{ce[ct]=Array.isArray(an)?an.map(An=>`${An}`):`${an}`}),De=w===M?E:be(w,M,E);const lt=_t(Mt(De));return new Xt(lt,ce,q)}function be(w,M,E){const R={};return Object.entries(w.children).forEach(([q,ce])=>{R[q]=ce===M?E:be(ce,M,E)}),new hn(w.segments,R)}class st{constructor(M,E,R){if(this.isAbsolute=M,this.numberOfDoubleDots=E,this.commands=R,M&&R.length>0&&ie(R[0]))throw new u.vHH(4003,!1);const q=R.find(Ee);if(q&&q!==ni(R))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zt{constructor(M,E,R){this.segmentGroup=M,this.processChildren=E,this.index=R}}function hi(w,M,E){if(w||(w=new hn([],{})),0===w.segments.length&&w.hasChildren())return dr(w,M,E);const R=function Fi(w,M,E){let R=0,q=M;const ce={match:!1,pathIndex:0,commandIndex:0};for(;q<w.segments.length;){if(R>=E.length)return ce;const De=w.segments[q],lt=E[R];if(Ee(lt))break;const ct=`${lt}`,an=R<E.length-1?E[R+1]:null;if(q>0&&void 0===ct)break;if(ct&&an&&"object"==typeof an&&void 0===an.outlets){if(!fi(ct,an,De))return ce;R+=2}else{if(!fi(ct,{},De))return ce;R++}q++}return{match:!0,pathIndex:q,commandIndex:R}}(w,M,E),q=E.slice(R.commandIndex);if(R.match&&R.pathIndex<w.segments.length){const ce=new hn(w.segments.slice(0,R.pathIndex),{});return ce.children[Pe]=new hn(w.segments.slice(R.pathIndex),w.children),dr(ce,0,q)}return R.match&&0===q.length?new hn(w.segments,{}):R.match&&!w.hasChildren()?Mr(w,M,E):R.match?dr(w,0,q):Mr(w,M,E)}function dr(w,M,E){if(0===E.length)return new hn(w.segments,{});{const R=function li(w){return Ee(w[0])?w[0].outlets:{[Pe]:w}}(E),q={};if(Object.keys(R).some(ce=>ce!==Pe)&&w.children[Pe]&&1===w.numberOfChildren&&0===w.children[Pe].segments.length){const ce=dr(w.children[Pe],M,E);return new hn(w.segments,ce.children)}return Object.entries(R).forEach(([ce,De])=>{"string"==typeof De&&(De=[De]),null!==De&&(q[ce]=hi(w.children[ce],M,De))}),Object.entries(w.children).forEach(([ce,De])=>{void 0===R[ce]&&(q[ce]=De)}),new hn(w.segments,q)}}function Mr(w,M,E){const R=w.segments.slice(0,M);let q=0;for(;q<E.length;){const ce=E[q];if(Ee(ce)){const ct=ki(ce.outlets);return new hn(R,ct)}if(0===q&&ie(E[0])){R.push(new wi(w.segments[M].path,Vr(E[0]))),q++;continue}const De=Ee(ce)?ce.outlets[Pe]:`${ce}`,lt=q<E.length-1?E[q+1]:null;De&&lt&&ie(lt)?(R.push(new wi(De,Vr(lt))),q+=2):(R.push(new wi(De,{})),q++)}return new hn(R,{})}function ki(w){const M={};return Object.entries(w).forEach(([E,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(M[E]=Mr(new hn([],{}),0,R))}),M}function Vr(w){const M={};return Object.entries(w).forEach(([E,R])=>M[E]=`${R}`),M}function fi(w,M,E){return w==E.path&&En(M,E.parameters)}const Wr="imperative";class Hn{constructor(M,E){this.id=M,this.url=E}}class _i extends Hn{constructor(M,E,R="imperative",q=null){super(M,E),this.type=0,this.navigationTrigger=R,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Li extends Hn{constructor(M,E,R){super(M,E),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class No extends Hn{constructor(M,E,R,q){super(M,E),this.reason=R,this.code=q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gr extends Hn{constructor(M,E,R,q){super(M,E),this.reason=R,this.code=q,this.type=16}}class Fo extends Hn{constructor(M,E,R,q){super(M,E),this.error=R,this.target=q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class os extends Hn{constructor(M,E,R,q){super(M,E),this.urlAfterRedirects=R,this.state=q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ss extends Hn{constructor(M,E,R,q){super(M,E),this.urlAfterRedirects=R,this.state=q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tr extends Hn{constructor(M,E,R,q,ce){super(M,E),this.urlAfterRedirects=R,this.state=q,this.shouldActivate=ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jr extends Hn{constructor(M,E,R,q){super(M,E),this.urlAfterRedirects=R,this.state=q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yo extends Hn{constructor(M,E,R,q){super(M,E),this.urlAfterRedirects=R,this.state=q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pa{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ko{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qo{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xo{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gs{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _r{constructor(M,E,R){this.routerEvent=M,this.position=E,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class To{}class $o{constructor(M){this.url=M}}class _s{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Io,this.attachRef=null}}let Io=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(E,R){const q=this.getOrCreateContext(E);q.outlet=R,this.contexts.set(E,q)}onChildOutletDestroyed(E){const R=this.getContext(E);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let R=this.getContext(E);return R||(R=new _s,this.contexts.set(E,R)),R}getContext(E){return this.contexts.get(E)||null}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();class oo{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const E=this.pathFromRoot(M);return E.length>1?E[E.length-2]:null}children(M){const E=Lo(M,this._root);return E?E.children.map(R=>R.value):[]}firstChild(M){const E=Lo(M,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(M){const E=po(M,this._root);return E.length<2?[]:E[E.length-2].children.map(q=>q.value).filter(q=>q!==M)}pathFromRoot(M){return po(M,this._root).map(E=>E.value)}}function Lo(w,M){if(w===M.value)return M;for(const E of M.children){const R=Lo(w,E);if(R)return R}return null}function po(w,M){if(w===M.value)return[M];for(const E of M.children){const R=po(w,E);if(R.length)return R.unshift(M),R}return[]}class eo{constructor(M,E){this.value=M,this.children=E}toString(){return`TreeNode(${this.value})`}}function so(w){const M={};return w&&w.children.forEach(E=>M[E.value.outlet]=E),M}class Zn extends oo{constructor(M,E){super(M),this.snapshot=E,qr(this,M)}toString(){return this.snapshot.toString()}}function or(w,M){const E=function Yi(w,M){const De=new Br([],{},{},"",{},Pe,M,null,{});return new Ti("",new eo(De,[]))}(0,M),R=new Te.X([new wi("",{})]),q=new Te.X({}),ce=new Te.X({}),De=new Te.X({}),lt=new Te.X(""),ct=new vr(R,q,De,lt,ce,Pe,M,E.root);return ct.snapshot=E.root,new Zn(new eo(ct,[]),E)}class vr{constructor(M,E,R,q,ce,De,lt,ct){this.urlSubject=M,this.paramsSubject=E,this.queryParamsSubject=R,this.fragmentSubject=q,this.dataSubject=ce,this.outlet=De,this.component=lt,this._futureSnapshot=ct,this.title=this.dataSubject?.pipe((0,Oe.U)(an=>an[wt]))??(0,Ce.of)(void 0),this.url=M,this.params=E,this.queryParams=R,this.fragment=q,this.data=ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Oe.U)(M=>tn(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Oe.U)(M=>tn(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qi(w,M="emptyOnly"){const E=w.pathFromRoot;let R=0;if("always"!==M)for(R=E.length-1;R>=1;){const q=E[R],ce=E[R-1];if(q.routeConfig&&""===q.routeConfig.path)R--;else{if(ce.component)break;R--}}return function Jo(w){return w.reduce((M,E)=>({params:{...M.params,...E.params},data:{...M.data,...E.data},resolve:{...E.data,...M.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(R))}class Br{get title(){return this.data?.[wt]}constructor(M,E,R,q,ce,De,lt,ct,an){this.url=M,this.params=E,this.queryParams=R,this.fragment=q,this.data=ce,this.outlet=De,this.component=lt,this.routeConfig=ct,this._resolve=an}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ti extends oo{constructor(M,E){super(E),this.url=M,qr(this,E)}toString(){return mo(this._root)}}function qr(w,M){M.value._routerState=w,M.children.forEach(E=>qr(w,E))}function mo(w){const M=w.children.length>0?` { ${w.children.map(mo).join(", ")} } `:"";return`${w.value}${M}`}function pi(w){if(w.snapshot){const M=w.snapshot,E=w._futureSnapshot;w.snapshot=E,En(M.queryParams,E.queryParams)||w.queryParamsSubject.next(E.queryParams),M.fragment!==E.fragment&&w.fragmentSubject.next(E.fragment),En(M.params,E.params)||w.paramsSubject.next(E.params),function In(w,M){if(w.length!==M.length)return!1;for(let E=0;E<w.length;++E)if(!En(w[E],M[E]))return!1;return!0}(M.url,E.url)||w.urlSubject.next(E.url),En(M.data,E.data)||w.dataSubject.next(E.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function Zt(w,M){const E=En(w.params,M.params)&&function Pi(w,M){return Tn(w,M)&&w.every((E,R)=>En(E.parameters,M[R].parameters))}(w.url,M.url);return E&&!(!w.parent!=!M.parent)&&(!w.parent||Zt(w.parent,M.parent))}let Nn=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pe,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(Io),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb),this.inputBinder=(0,u.f3M)(Cr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:R,previousValue:q}=E.name;if(R)return;this.isTrackedInParentContexts(q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(q)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,R){this.activated=E,this._activatedRoute=R,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,R){if(this.isActivated)throw new u.vHH(4013,!1);this._activatedRoute=E;const q=this.location,De=E.snapshot.component,lt=this.parentContexts.getOrCreateContext(this.name).children,ct=new Vi(E,lt,q.injector);this.activated=q.createComponent(De,{index:q.length,injector:ct,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275dir=u.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]})}return w})();class Vi{constructor(M,E,R){this.route=M,this.childContexts=E,this.parent=R}get(M,E){return M===vr?this.route:M===Io?this.childContexts:this.parent.get(M,E)}}const Cr=new u.OlP("");let Ur=(()=>{class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:R}=E,q=(0,de.a)([R.queryParams,R.params,R.data]).pipe((0,Je.w)(([ce,De,lt],ct)=>(lt={...ce,...De,...lt},0===ct?(0,Ce.of)(lt):Promise.resolve(lt)))).subscribe(ce=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(E);const De=(0,u.qFp)(R.component);if(De)for(const{templateName:lt}of De.inputs)E.activatedComponentRef.setInput(lt,ce[lt]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,q)}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})();function Tr(w,M,E){if(E&&w.shouldReuseRoute(M.value,E.value.snapshot)){const R=E.value;R._futureSnapshot=M.value;const q=function Di(w,M,E){return M.children.map(R=>{for(const q of E.children)if(w.shouldReuseRoute(R.value,q.value.snapshot))return Tr(w,R,q);return Tr(w,R)})}(w,M,E);return new eo(R,q)}{if(w.shouldAttach(M.value)){const ce=w.retrieve(M.value);if(null!==ce){const De=ce.route;return De.value._futureSnapshot=M.value,De.children=M.children.map(lt=>Tr(w,lt)),De}}const R=function yr(w){return new vr(new Te.X(w.url),new Te.X(w.params),new Te.X(w.queryParams),new Te.X(w.fragment),new Te.X(w.data),w.outlet,w.component,w)}(M.value),q=M.children.map(ce=>Tr(w,ce));return new eo(R,q)}}const we="ngNavigationCancelingError";function z(w,M){const{redirectTo:E,navigationBehaviorOptions:R}=Ft(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,q=j(!1,0,M);return q.url=E,q.navigationBehaviorOptions=R,q}function j(w,M,E){const R=new Error("NavigationCancelingError: "+(w||""));return R[we]=!0,R.cancellationCode=M,E&&(R.url=E),R}function ve(w){return w&&w[we]}let Ne=(()=>{class w{static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275cmp=u.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(R,q){1&R&&u._UZ(0,"router-outlet")},dependencies:[Nn],encapsulation:2})}return w})();function xn(w){const M=w.children&&w.children.map(xn),E=M?{...w,children:M}:{...w};return!E.component&&!E.loadComponent&&(M||E.loadChildren)&&E.outlet&&E.outlet!==Pe&&(E.component=Ne),E}function Dr(w){return w.outlet||Pe}function ao(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let M=w.parent;M;M=M.parent){const E=M.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Pr{constructor(M,E,R,q,ce){this.routeReuseStrategy=M,this.futureState=E,this.currState=R,this.forwardEvent=q,this.inputBindingEnabled=ce}activate(M){const E=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,R,M),pi(this.futureState.root),this.activateChildRoutes(E,R,M)}deactivateChildRoutes(M,E,R){const q=so(E);M.children.forEach(ce=>{const De=ce.value.outlet;this.deactivateRoutes(ce,q[De],R),delete q[De]}),Object.values(q).forEach(ce=>{this.deactivateRouteAndItsChildren(ce,R)})}deactivateRoutes(M,E,R){const q=M.value,ce=E?E.value:null;if(q===ce)if(q.component){const De=R.getContext(q.outlet);De&&this.deactivateChildRoutes(M,E,De.children)}else this.deactivateChildRoutes(M,E,R);else ce&&this.deactivateRouteAndItsChildren(E,R)}deactivateRouteAndItsChildren(M,E){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,E):this.deactivateRouteAndOutlet(M,E)}detachAndStoreRouteSubtree(M,E){const R=E.getContext(M.value.outlet),q=R&&M.value.component?R.children:E,ce=so(M);for(const De of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[De],q);if(R&&R.outlet){const De=R.outlet.detach(),lt=R.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:De,route:M,contexts:lt})}}deactivateRouteAndOutlet(M,E){const R=E.getContext(M.value.outlet),q=R&&M.value.component?R.children:E,ce=so(M);for(const De of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[De],q);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(M,E,R){const q=so(E);M.children.forEach(ce=>{this.activateRoutes(ce,q[ce.value.outlet],R),this.forwardEvent(new gs(ce.value.snapshot))}),M.children.length&&this.forwardEvent(new Xo(M.value.snapshot))}activateRoutes(M,E,R){const q=M.value,ce=E?E.value:null;if(pi(q),q===ce)if(q.component){const De=R.getOrCreateContext(q.outlet);this.activateChildRoutes(M,E,De.children)}else this.activateChildRoutes(M,E,R);else if(q.component){const De=R.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const lt=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),De.children.onOutletReAttached(lt.contexts),De.attachRef=lt.componentRef,De.route=lt.route.value,De.outlet&&De.outlet.attach(lt.componentRef,lt.route.value),pi(lt.route.value),this.activateChildRoutes(M,null,De.children)}else{const lt=ao(q.snapshot);De.attachRef=null,De.route=q,De.injector=lt,De.outlet&&De.outlet.activateWith(q,De.injector),this.activateChildRoutes(M,null,De.children)}}else this.activateChildRoutes(M,null,R)}}class Or{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class ji{constructor(M,E){this.component=M,this.route=E}}function ys(w,M,E){const R=w._root;return Et(R,M?M._root:null,E,[R.value])}function hr(w,M){const E=Symbol(),R=M.get(w,E);return R===E?"function"!=typeof w||(0,u.Z0I)(w)?M.get(w):w:R}function Et(w,M,E,R,q={canDeactivateChecks:[],canActivateChecks:[]}){const ce=so(M);return w.children.forEach(De=>{(function We(w,M,E,R,q={canDeactivateChecks:[],canActivateChecks:[]}){const ce=w.value,De=M?M.value:null,lt=E?E.getContext(w.value.outlet):null;if(De&&ce.routeConfig===De.routeConfig){const ct=function Ve(w,M,E){if("function"==typeof E)return E(w,M);switch(E){case"pathParamsChange":return!Tn(w.url,M.url);case"pathParamsOrQueryParamsChange":return!Tn(w.url,M.url)||!En(w.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zt(w,M)||!En(w.queryParams,M.queryParams);default:return!Zt(w,M)}}(De,ce,ce.routeConfig.runGuardsAndResolvers);ct?q.canActivateChecks.push(new Or(R)):(ce.data=De.data,ce._resolvedData=De._resolvedData),Et(w,M,ce.component?lt?lt.children:null:E,R,q),ct&&lt&&lt.outlet&&lt.outlet.isActivated&&q.canDeactivateChecks.push(new ji(lt.outlet.component,De))}else De&&qe(M,lt,q),q.canActivateChecks.push(new Or(R)),Et(w,null,ce.component?lt?lt.children:null:E,R,q)})(De,ce[De.value.outlet],E,R.concat([De.value]),q),delete ce[De.value.outlet]}),Object.entries(ce).forEach(([De,lt])=>qe(lt,E.getContext(De),q)),q}function qe(w,M,E){const R=so(w),q=w.value;Object.entries(R).forEach(([ce,De])=>{qe(De,q.component?M?M.children.getContext(ce):null:M,E)}),E.canDeactivateChecks.push(new ji(q.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,q))}function yt(w){return"function"==typeof w}function Fe(w){return w instanceof Ie.K||"EmptyError"===w?.name}const Dn=Symbol("INITIAL_VALUE");function $n(){return(0,Je.w)(w=>(0,de.a)(w.map(M=>M.pipe((0,Ze.q)(1),(0,ke.O)(Dn)))).pipe((0,Oe.U)(M=>{for(const E of M)if(!0!==E){if(E===Dn)return Dn;if(!1===E||E instanceof Xt)return E}return!0}),(0,$t.h)(M=>M!==Dn),(0,Ze.q)(1)))}function $s(w){return(0,Ke.z)((0,un.b)(M=>{if(Ft(M))throw z(0,M)}),(0,Oe.U)(M=>!0===M))}class go{constructor(M){this.segmentGroup=M||null}}class _o{constructor(M){this.urlTree=M}}function Bo(w){return(0,nt._)(new go(w))}function Ms(w){return(0,nt._)(new _o(w))}class vo{constructor(M,E){this.urlSerializer=M,this.urlTree=E}noMatchError(M){return new u.vHH(4002,!1)}lineralizeSegments(M,E){let R=[],q=E.root;for(;;){if(R=R.concat(q.segments),0===q.numberOfChildren)return(0,Ce.of)(R);if(q.numberOfChildren>1||!q.children[Pe])return(0,nt._)(new u.vHH(4e3,!1));q=q.children[Pe]}}applyRedirectCommands(M,E,R){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),M,R)}applyRedirectCreateUrlTree(M,E,R,q){const ce=this.createSegmentGroup(M,E.root,R,q);return new Xt(ce,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(M,E){const R={};return Object.entries(M).forEach(([q,ce])=>{if("string"==typeof ce&&ce.startsWith(":")){const lt=ce.substring(1);R[q]=E[lt]}else R[q]=ce}),R}createSegmentGroup(M,E,R,q){const ce=this.createSegments(M,E.segments,R,q);let De={};return Object.entries(E.children).forEach(([lt,ct])=>{De[lt]=this.createSegmentGroup(M,ct,R,q)}),new hn(ce,De)}createSegments(M,E,R,q){return E.map(ce=>ce.path.startsWith(":")?this.findPosParam(M,ce,q):this.findOrReturn(ce,R))}findPosParam(M,E,R){const q=R[E.path.substring(1)];if(!q)throw new u.vHH(4001,!1);return q}findOrReturn(M,E){let R=0;for(const q of E){if(q.path===M.path)return E.splice(R),q;R++}return M}}const Aa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oa(w,M,E,R,q){const ce=lo(w,M,E);return ce.matched?(R=function ft(w,M){return w.providers&&!w._injector&&(w._injector=(0,u.MMx)(w.providers,M,`Route: ${w.path}`)),w._injector??M}(M,R),function Da(w,M,E,R){const q=M.canMatch;if(!q||0===q.length)return(0,Ce.of)(!0);const ce=q.map(De=>{const lt=hr(De,w);return Un(function ee(w){return w&&yt(w.canMatch)}(lt)?lt.canMatch(M,E):w.runInContext(()=>lt(M,E)))});return(0,Ce.of)(ce).pipe($n(),$s())}(R,M,E).pipe((0,Oe.U)(De=>!0===De?ce:{...Aa}))):(0,Ce.of)(ce)}function lo(w,M,E){if(""===M.path)return"full"===M.pathMatch&&(w.hasChildren()||E.length>0)?{...Aa}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const q=(M.matcher||Gn)(E,w,M);if(!q)return{...Aa};const ce={};Object.entries(q.posParams??{}).forEach(([lt,ct])=>{ce[lt]=ct.path});const De=q.consumed.length>0?{...ce,...q.consumed[q.consumed.length-1].parameters}:ce;return{matched:!0,consumedSegments:q.consumed,remainingSegments:E.slice(q.consumed.length),parameters:De,positionalParamSegments:q.posParams??{}}}function bs(w,M,E,R){return E.length>0&&function dl(w,M,E){return E.some(R=>ma(w,M,R)&&Dr(R)!==Pe)}(w,E,R)?{segmentGroup:new hn(M,Ps(R,new hn(E,w.children))),slicedSegments:[]}:0===E.length&&function Uo(w,M,E){return E.some(R=>ma(w,M,R))}(w,E,R)?{segmentGroup:new hn(w.segments,Sa(w,0,E,R,w.children)),slicedSegments:E}:{segmentGroup:new hn(w.segments,w.children),slicedSegments:E}}function Sa(w,M,E,R,q){const ce={};for(const De of R)if(ma(w,E,De)&&!q[Dr(De)]){const lt=new hn([],{});ce[Dr(De)]=lt}return{...q,...ce}}function Ps(w,M){const E={};E[Pe]=M;for(const R of w)if(""===R.path&&Dr(R)!==Pe){const q=new hn([],{});E[Dr(R)]=q}return E}function ma(w,M,E){return(!(w.hasChildren()||M.length>0)||"full"!==E.pathMatch)&&""===E.path}class jo{constructor(M,E,R,q,ce,De,lt){this.injector=M,this.configLoader=E,this.rootComponentType=R,this.config=q,this.urlTree=ce,this.paramsInheritanceStrategy=De,this.urlSerializer=lt,this.allowRedirects=!0,this.applyRedirects=new vo(this.urlSerializer,this.urlTree)}noMatchError(M){return new u.vHH(4002,!1)}recognize(){const M=bs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,Pe).pipe((0,Ei.K)(E=>{if(E instanceof _o)return this.allowRedirects=!1,this.urlTree=E.urlTree,this.match(E.urlTree);throw E instanceof go?this.noMatchError(E):E}),(0,Oe.U)(E=>{const R=new Br([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pe,this.rootComponentType,null,{}),q=new eo(R,E),ce=new Ti("",q),De=function cn(w,M,E=null,R=null){return tt(jn(w),M,E,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return De.queryParams=this.urlTree.queryParams,ce.url=this.urlSerializer.serialize(De),this.inheritParamsAndData(ce._root),{state:ce,tree:De}}))}match(M){return this.processSegmentGroup(this.injector,this.config,M.root,Pe).pipe((0,Ei.K)(R=>{throw R instanceof go?this.noMatchError(R):R}))}inheritParamsAndData(M){const E=M.value,R=Qi(E,this.paramsInheritanceStrategy);E.params=Object.freeze(R.params),E.data=Object.freeze(R.data),M.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(M,E,R,q){return 0===R.segments.length&&R.hasChildren()?this.processChildren(M,E,R):this.processSegment(M,E,R,R.segments,q,!0)}processChildren(M,E,R){const q=[];for(const ce of Object.keys(R.children))"primary"===ce?q.unshift(ce):q.push(ce);return(0,fe.D)(q).pipe((0,Vn.b)(ce=>{const De=R.children[ce],lt=function Ao(w,M){const E=w.filter(R=>Dr(R)===M);return E.push(...w.filter(R=>Dr(R)!==M)),E}(E,ce);return this.processSegmentGroup(M,lt,De,ce)}),(0,Qt.R)((ce,De)=>(ce.push(...De),ce)),(0,_n.d)(null),(0,vn.Z)(),(0,jt.z)(ce=>{if(null===ce)return Bo(R);const De=ts(ce);return function ga(w){w.sort((M,E)=>M.value.outlet===Pe?-1:E.value.outlet===Pe?1:M.value.outlet.localeCompare(E.value.outlet))}(De),(0,Ce.of)(De)}))}processSegment(M,E,R,q,ce,De){return(0,fe.D)(E).pipe((0,Vn.b)(lt=>this.processSegmentAgainstRoute(lt._injector??M,E,lt,R,q,ce,De).pipe((0,Ei.K)(ct=>{if(ct instanceof go)return(0,Ce.of)(null);throw ct}))),(0,ln.P)(lt=>!!lt),(0,Ei.K)(lt=>{if(Fe(lt))return function Bl(w,M,E){return 0===M.length&&!w.children[E]}(R,q,ce)?(0,Ce.of)([]):Bo(R);throw lt}))}processSegmentAgainstRoute(M,E,R,q,ce,De,lt){return function Hi(w,M,E,R){return!!(Dr(w)===R||R!==Pe&&ma(M,E,w))&&("**"===w.path||lo(M,w,E).matched)}(R,q,ce,De)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(M,q,R,ce,De,lt):lt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,q,E,R,ce,De):Bo(q):Bo(q)}expandSegmentAgainstRouteUsingRedirect(M,E,R,q,ce,De){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,R,q,De):this.expandRegularSegmentAgainstRouteUsingRedirect(M,E,R,q,ce,De)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,E,R,q){const ce=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?Ms(ce):this.applyRedirects.lineralizeSegments(R,ce).pipe((0,jt.z)(De=>{const lt=new hn(De,{});return this.processSegment(M,E,lt,De,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,E,R,q,ce,De){const{matched:lt,consumedSegments:ct,remainingSegments:an,positionalParamSegments:An}=lo(E,q,ce);if(!lt)return Bo(E);const Fr=this.applyRedirects.applyRedirectCommands(ct,q.redirectTo,An);return q.redirectTo.startsWith("/")?Ms(Fr):this.applyRedirects.lineralizeSegments(q,Fr).pipe((0,jt.z)(Ni=>this.processSegment(M,R,E,Ni.concat(an),De,!1)))}matchSegmentAgainstRoute(M,E,R,q,ce,De){let lt;if("**"===R.path){const ct=q.length>0?ni(q).parameters:{},an=new Br(q,ct,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hl(R),Dr(R),R.component??R._loadedComponent??null,R,Os(R));lt=(0,Ce.of)({snapshot:an,consumedSegments:[],remainingSegments:[]}),E.children={}}else lt=oa(E,R,q,M).pipe((0,Oe.U)(({matched:ct,consumedSegments:an,remainingSegments:An,parameters:Fr})=>ct?{snapshot:new Br(an,Fr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hl(R),Dr(R),R.component??R._loadedComponent??null,R,Os(R)),consumedSegments:an,remainingSegments:An}:null));return lt.pipe((0,Je.w)(ct=>null===ct?Bo(E):this.getChildConfig(M=R._injector??M,R,q).pipe((0,Je.w)(({routes:an})=>{const An=R._loadedInjector??M,{snapshot:Fr,consumedSegments:Ni,remainingSegments:uo}=ct,{segmentGroup:Ls,slicedSegments:la}=bs(E,Ni,uo,an);if(0===la.length&&Ls.hasChildren())return this.processChildren(An,an,Ls).pipe((0,Oe.U)(Oa=>null===Oa?null:[new eo(Fr,Oa)]));if(0===an.length&&0===la.length)return(0,Ce.of)([new eo(Fr,[])]);const Pa=Dr(R)===ce;return this.processSegment(An,an,Ls,la,Pa?Pe:ce,!0).pipe((0,Oe.U)(Oa=>[new eo(Fr,Oa)]))}))))}getChildConfig(M,E,R){return E.children?(0,Ce.of)({routes:E.children,injector:M}):E.loadChildren?void 0!==E._loadedRoutes?(0,Ce.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function Vl(w,M,E,R){const q=M.canLoad;if(void 0===q||0===q.length)return(0,Ce.of)(!0);const ce=q.map(De=>{const lt=hr(De,w);return Un(function qn(w){return w&&yt(w.canLoad)}(lt)?lt.canLoad(M,E):w.runInContext(()=>lt(M,E)))});return(0,Ce.of)(ce).pipe($n(),$s())}(M,E,R).pipe((0,jt.z)(q=>q?this.configLoader.loadChildren(M,E).pipe((0,un.b)(ce=>{E._loadedRoutes=ce.routes,E._loadedInjector=ce.injector})):function Rs(w){return(0,nt._)(j(!1,3))}())):(0,Ce.of)({routes:[],injector:M})}}function sa(w){const M=w.value.routeConfig;return M&&""===M.path}function ts(w){const M=[],E=new Set;for(const R of w){if(!sa(R)){M.push(R);continue}const q=M.find(ce=>R.value.routeConfig===ce.value.routeConfig);void 0!==q?(q.children.push(...R.children),E.add(q)):M.push(R)}for(const R of E){const q=ts(R.children);M.push(new eo(R.value,q))}return M.filter(R=>!E.has(R))}function hl(w){return w.data||{}}function Os(w){return w.resolve||{}}function fl(w){return"string"==typeof w.title||null===w.title}function as(w){return(0,Je.w)(M=>{const E=w(M);return E?(0,fe.D)(E).pipe((0,Oe.U)(()=>M)):(0,Ce.of)(M)})}const Gs=new u.OlP("ROUTES");let C=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,Ce.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const R=Un(E.loadComponent()).pipe((0,Oe.U)(X),(0,un.b)(ce=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=ce}),(0,Qe.x)(()=>{this.componentLoaders.delete(E)})),q=new vt(R,()=>new me.x).pipe(Ut());return this.componentLoaders.set(E,q),q}loadChildren(E,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,Ce.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const ce=function re(w,M,E,R){return Un(w.loadChildren()).pipe((0,Oe.U)(X),(0,jt.z)(q=>q instanceof u.YKP||Array.isArray(q)?(0,Ce.of)(q):(0,fe.D)(M.compileModuleAsync(q))),(0,Oe.U)(q=>{R&&R(w);let ce,De,lt=!1;return Array.isArray(q)?(De=q,!0):(ce=q.create(E).injector,De=ce.get(Gs,[],{optional:!0,self:!0}).flat()),{routes:De.map(xn),injector:ce}}))}(R,this.compiler,E,this.onLoadEndListener).pipe((0,Qe.x)(()=>{this.childrenLoaders.delete(R)})),De=new vt(ce,()=>new me.x).pipe(Ut());return this.childrenLoaders.set(R,De),De}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function X(w){return function U(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let Ae=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new me.x,this.transitionAbortSubject=new me.x,this.configLoader=(0,u.f3M)(C),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(mr),this.rootContexts=(0,u.f3M)(Io),this.inputBindingEnabled=null!==(0,u.f3M)(Cr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=q=>this.events.next(new ko(q)),this.configLoader.onLoadStartListener=q=>this.events.next(new pa(q))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:R})}setupNavigations(E,R,q){return this.transitions=new Te.X({id:0,currentUrlTree:R,currentRawUrl:R,currentBrowserUrl:R,extractedUrl:E.urlHandlingStrategy.extract(R),urlAfterRedirects:E.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wr,restoredState:null,currentSnapshot:q.snapshot,targetSnapshot:null,currentRouterState:q,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,$t.h)(ce=>0!==ce.id),(0,Oe.U)(ce=>({...ce,extractedUrl:E.urlHandlingStrategy.extract(ce.rawUrl)})),(0,Je.w)(ce=>{this.currentTransition=ce;let De=!1,lt=!1;return(0,Ce.of)(ce).pipe((0,un.b)(ct=>{this.currentNavigation={id:ct.id,initialUrl:ct.rawUrl,extractedUrl:ct.extractedUrl,trigger:ct.source,extras:ct.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Je.w)(ct=>{const an=ct.currentBrowserUrl.toString(),An=!E.navigated||ct.extractedUrl.toString()!==an||an!==ct.currentUrlTree.toString();if(!An&&"reload"!==(ct.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const Ni="";return this.events.next(new Gr(ct.id,this.urlSerializer.serialize(ct.rawUrl),Ni,0)),ct.resolve(null),bt.E}if(E.urlHandlingStrategy.shouldProcessUrl(ct.rawUrl))return(0,Ce.of)(ct).pipe((0,Je.w)(Ni=>{const uo=this.transitions?.getValue();return this.events.next(new _i(Ni.id,this.urlSerializer.serialize(Ni.extractedUrl),Ni.source,Ni.restoredState)),uo!==this.transitions?.getValue()?bt.E:Promise.resolve(Ni)}),function Wo(w,M,E,R,q,ce){return(0,jt.z)(De=>function Ws(w,M,E,R,q,ce,De="emptyOnly"){return new jo(w,M,E,R,q,De,ce).recognize()}(w,M,E,R,De.extractedUrl,q,ce).pipe((0,Oe.U)(({state:lt,tree:ct})=>({...De,targetSnapshot:lt,urlAfterRedirects:ct}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,un.b)(Ni=>{ce.targetSnapshot=Ni.targetSnapshot,ce.urlAfterRedirects=Ni.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ni.urlAfterRedirects};const uo=new os(Ni.id,this.urlSerializer.serialize(Ni.extractedUrl),this.urlSerializer.serialize(Ni.urlAfterRedirects),Ni.targetSnapshot);this.events.next(uo)}));if(An&&E.urlHandlingStrategy.shouldProcessUrl(ct.currentRawUrl)){const{id:Ni,extractedUrl:uo,source:Ls,restoredState:la,extras:Pa}=ct,Oa=new _i(Ni,this.urlSerializer.serialize(uo),Ls,la);this.events.next(Oa);const jl=or(0,this.rootComponentType).snapshot;return this.currentTransition=ce={...ct,targetSnapshot:jl,urlAfterRedirects:uo,extras:{...Pa,skipLocationChange:!1,replaceUrl:!1}},(0,Ce.of)(ce)}{const Ni="";return this.events.next(new Gr(ct.id,this.urlSerializer.serialize(ct.extractedUrl),Ni,1)),ct.resolve(null),bt.E}}),(0,un.b)(ct=>{const an=new ss(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(ct.urlAfterRedirects),ct.targetSnapshot);this.events.next(an)}),(0,Oe.U)(ct=>(this.currentTransition=ce={...ct,guards:ys(ct.targetSnapshot,ct.currentSnapshot,this.rootContexts)},ce)),function Vo(w,M){return(0,jt.z)(E=>{const{targetSnapshot:R,currentSnapshot:q,guards:{canActivateChecks:ce,canDeactivateChecks:De}}=E;return 0===De.length&&0===ce.length?(0,Ce.of)({...E,guardsResult:!0}):function zs(w,M,E,R){return(0,fe.D)(w).pipe((0,jt.z)(q=>function Ta(w,M,E,R,q){const ce=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!ce||0===ce.length)return(0,Ce.of)(!0);const De=ce.map(lt=>{const ct=ao(M)??q,an=hr(lt,ct);return Un(function Y(w){return w&&yt(w.canDeactivate)}(an)?an.canDeactivate(w,M,E,R):ct.runInContext(()=>an(w,M,E,R))).pipe((0,ln.P)())});return(0,Ce.of)(De).pipe($n())}(q.component,q.route,E,M,R)),(0,ln.P)(q=>!0!==q,!0))}(De,R,q,w).pipe((0,jt.z)(lt=>lt&&function nn(w){return"boolean"==typeof w}(lt)?function es(w,M,E,R){return(0,fe.D)(M).pipe((0,Vn.b)(q=>(0,le.z)(function ul(w,M){return null!==w&&M&&M(new Qo(w)),(0,Ce.of)(!0)}(q.route.parent,R),function Ll(w,M){return null!==w&&M&&M(new zo(w)),(0,Ce.of)(!0)}(q.route,R),function Ga(w,M,E){const R=M[M.length-1],ce=M.slice(0,M.length-1).reverse().map(De=>function ui(w){const M=w.routeConfig?w.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:w,guards:M}:null}(De)).filter(De=>null!==De).map(De=>Me(()=>{const lt=De.guards.map(ct=>{const an=ao(De.node)??E,An=hr(ct,an);return Un(function nr(w){return w&&yt(w.canActivateChild)}(An)?An.canActivateChild(R,w):an.runInContext(()=>An(R,w))).pipe((0,ln.P)())});return(0,Ce.of)(lt).pipe($n())}));return(0,Ce.of)(ce).pipe($n())}(w,q.path,E),function ra(w,M,E){const R=M.routeConfig?M.routeConfig.canActivate:null;if(!R||0===R.length)return(0,Ce.of)(!0);const q=R.map(ce=>Me(()=>{const De=ao(M)??E,lt=hr(ce,De);return Un(function Nr(w){return w&&yt(w.canActivate)}(lt)?lt.canActivate(M,w):De.runInContext(()=>lt(M,w))).pipe((0,ln.P)())}));return(0,Ce.of)(q).pipe($n())}(w,q.route,E))),(0,ln.P)(q=>!0!==q,!0))}(R,ce,w,M):(0,Ce.of)(lt)),(0,Oe.U)(lt=>({...E,guardsResult:lt})))})}(this.environmentInjector,ct=>this.events.next(ct)),(0,un.b)(ct=>{if(ce.guardsResult=ct.guardsResult,Ft(ct.guardsResult))throw z(0,ct.guardsResult);const an=new tr(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(ct.urlAfterRedirects),ct.targetSnapshot,!!ct.guardsResult);this.events.next(an)}),(0,$t.h)(ct=>!!ct.guardsResult||(this.cancelNavigationTransition(ct,"",3),!1)),as(ct=>{if(ct.guards.canActivateChecks.length)return(0,Ce.of)(ct).pipe((0,un.b)(an=>{const An=new Jr(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(An)}),(0,Je.w)(an=>{let An=!1;return(0,Ce.of)(an).pipe(function So(w,M){return(0,jt.z)(E=>{const{targetSnapshot:R,guards:{canActivateChecks:q}}=E;if(!q.length)return(0,Ce.of)(E);let ce=0;return(0,fe.D)(q).pipe((0,Vn.b)(De=>function _a(w,M,E,R){const q=w.routeConfig,ce=w._resolve;return void 0!==q?.title&&!fl(q)&&(ce[wt]=q.title),function va(w,M,E,R){const q=function aa(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===q.length)return(0,Ce.of)({});const ce={};return(0,fe.D)(q).pipe((0,jt.z)(De=>function Ma(w,M,E,R){const q=ao(M)??R,ce=hr(w,q);return Un(ce.resolve?ce.resolve(M,E):q.runInContext(()=>ce(M,E)))}(w[De],M,E,R).pipe((0,ln.P)(),(0,un.b)(lt=>{ce[De]=lt}))),(0,Ge.h)(1),function Ye(w){return(0,Oe.U)(()=>w)}(ce),(0,Ei.K)(De=>Fe(De)?bt.E:(0,nt._)(De)))}(ce,w,M,R).pipe((0,Oe.U)(De=>(w._resolvedData=De,w.data=Qi(w,E).resolve,q&&fl(q)&&(w.data[wt]=q.title),null)))}(De.route,R,w,M)),(0,un.b)(()=>ce++),(0,Ge.h)(1),(0,jt.z)(De=>ce===q.length?(0,Ce.of)(E):bt.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,un.b)({next:()=>An=!0,complete:()=>{An||this.cancelNavigationTransition(an,"",2)}}))}),(0,un.b)(an=>{const An=new Yo(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(An)}))}),as(ct=>{const an=An=>{const Fr=[];An.routeConfig?.loadComponent&&!An.routeConfig._loadedComponent&&Fr.push(this.configLoader.loadComponent(An.routeConfig).pipe((0,un.b)(Ni=>{An.component=Ni}),(0,Oe.U)(()=>{})));for(const Ni of An.children)Fr.push(...an(Ni));return Fr};return(0,de.a)(an(ct.targetSnapshot.root)).pipe((0,_n.d)(),(0,Ze.q)(1))}),as(()=>this.afterPreactivation()),(0,Oe.U)(ct=>{const an=function er(w,M,E){const R=Tr(w,M._root,E?E._root:void 0);return new Zn(R,M)}(E.routeReuseStrategy,ct.targetSnapshot,ct.currentRouterState);return this.currentTransition=ce={...ct,targetRouterState:an},ce}),(0,un.b)(()=>{this.events.next(new To)}),((w,M,E,R)=>(0,Oe.U)(q=>(new Pr(M,q.targetRouterState,q.currentRouterState,E,R).activate(w),q)))(this.rootContexts,E.routeReuseStrategy,ct=>this.events.next(ct),this.inputBindingEnabled),(0,Ze.q)(1),(0,un.b)({next:ct=>{De=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Li(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(ct.urlAfterRedirects))),E.titleStrategy?.updateTitle(ct.targetRouterState.snapshot),ct.resolve(!0)},complete:()=>{De=!0}}),(0,Xe.R)(this.transitionAbortSubject.pipe((0,un.b)(ct=>{throw ct}))),(0,Qe.x)(()=>{De||lt||this.cancelNavigationTransition(ce,"",1),this.currentNavigation?.id===ce.id&&(this.currentNavigation=null)}),(0,Ei.K)(ct=>{if(lt=!0,ve(ct))this.events.next(new No(ce.id,this.urlSerializer.serialize(ce.extractedUrl),ct.message,ct.cancellationCode)),function J(w){return ve(w)&&Ft(w.url)}(ct)?this.events.next(new $o(ct.url)):ce.resolve(!1);else{this.events.next(new Fo(ce.id,this.urlSerializer.serialize(ce.extractedUrl),ct,ce.targetSnapshot??void 0));try{ce.resolve(E.errorHandler(ct))}catch(an){ce.reject(an)}}return bt.E}))}))}cancelNavigationTransition(E,R,q){const ce=new No(E.id,this.urlSerializer.serialize(E.extractedUrl),R,q);this.events.next(ce),E.resolve(!1)}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function pt(w){return w!==Wr}let It=(()=>{class w{buildTitle(E){let R,q=E.root;for(;void 0!==q;)R=this.getResolvedTitleForRoute(q)??R,q=q.children.find(ce=>ce.outlet===Pe);return R}getResolvedTitleForRoute(E){return E.data[wt]}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:function(){return(0,u.f3M)(bn)},providedIn:"root"})}return w})(),bn=(()=>{class w extends It{constructor(E){super(),this.title=E}updateTitle(E){const R=this.buildTitle(E);void 0!==R&&this.title.setTitle(R)}static#e=this.\u0275fac=function(R){return new(R||w)(u.LFG(at.Dx))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),ir=(()=>{class w{static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:function(){return(0,u.f3M)(Ki)},providedIn:"root"})}return w})();class zi{shouldDetach(M){return!1}store(M,E){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,E){return M.routeConfig===E.routeConfig}}let Ki=(()=>{class w extends zi{static#e=this.\u0275fac=function(){let E;return function(q){return(E||(E=u.n5z(w)))(q||w)}}();static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Mn=new u.OlP("",{providedIn:"root",factory:()=>({})});let lr=(()=>{class w{static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:function(){return(0,u.f3M)(Bi)},providedIn:"root"})}return w})(),Bi=(()=>{class w{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,R){return E}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();var fr=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(fr||{});function Ns(w,M){w.events.pipe((0,$t.h)(E=>E instanceof Li||E instanceof No||E instanceof Fo||E instanceof Gr),(0,Oe.U)(E=>E instanceof Li||E instanceof Gr?fr.COMPLETE:E instanceof No&&(0===E.code||1===E.code)?fr.REDIRECTING:fr.FAILED),(0,$t.h)(E=>E!==fr.REDIRECTING),(0,Ze.q)(1)).subscribe(()=>{M()})}function At(w){throw w}function rr(w,M,E){return M.parse("/")}const pr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ht=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this._events=new me.x,this.options=(0,u.f3M)(Mn,{optional:!0})||{},this.pendingTasks=(0,u.f3M)(u.HDt),this.errorHandler=this.options.errorHandler||At,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||rr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(lr),this.routeReuseStrategy=(0,u.f3M)(ir),this.titleStrategy=(0,u.f3M)(It),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,u.f3M)(Gs,{optional:!0})?.flat()??[],this.navigationTransitions=(0,u.f3M)(Ae),this.urlSerializer=(0,u.f3M)(mr),this.location=(0,u.f3M)(Le.Ye),this.componentInputBindingEnabled=!!(0,u.f3M)(Cr,{optional:!0}),this.eventsSubscription=new ot.w0,this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=or(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const E=this.navigationTransitions.events.subscribe(R=>{try{const{currentTransition:q}=this.navigationTransitions;if(null===q)return void(Vc(R)&&this._events.next(R));if(R instanceof _i)pt(q.source)&&(this.browserUrlTree=q.extractedUrl);else if(R instanceof Gr)this.rawUrlTree=q.rawUrl;else if(R instanceof os){if("eager"===this.urlUpdateStrategy){if(!q.extras.skipLocationChange){const ce=this.urlHandlingStrategy.merge(q.urlAfterRedirects,q.rawUrl);this.setBrowserUrl(ce,q)}this.browserUrlTree=q.urlAfterRedirects}}else if(R instanceof To)this.currentUrlTree=q.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(q.urlAfterRedirects,q.rawUrl),this.routerState=q.targetRouterState,"deferred"===this.urlUpdateStrategy&&(q.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,q),this.browserUrlTree=q.urlAfterRedirects);else if(R instanceof No)0!==R.code&&1!==R.code&&(this.navigated=!0),(3===R.code||2===R.code)&&this.restoreHistory(q);else if(R instanceof $o){const ce=this.urlHandlingStrategy.merge(R.url,q.currentRawUrl),De={skipLocationChange:q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pt(q.source)};this.scheduleNavigation(ce,Wr,null,De,{resolve:q.resolve,reject:q.reject,promise:q.promise})}R instanceof Fo&&this.restoreHistory(q,!0),R instanceof Li&&(this.navigated=!0),Vc(R)&&this._events.next(R)}catch(q){this.navigationTransitions.transitionAbortSubject.next(q)}});this.eventsSubscription.add(E)}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Wr,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const R="popstate"===E.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,R,E.state)},0)}))}navigateToSyncWithBrowser(E,R,q){const ce={replaceUrl:!0},De=q?.navigationId?q:null;if(q){const ct={...q};delete ct.navigationId,delete ct.\u0275routerPageId,0!==Object.keys(ct).length&&(ce.state=ct)}const lt=this.parseUrl(E);this.scheduleNavigation(lt,R,De,ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(xn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(E,R={}){const{relativeTo:q,queryParams:ce,fragment:De,queryParamsHandling:lt,preserveFragment:ct}=R,an=ct?this.currentUrlTree.fragment:De;let Fr,An=null;switch(lt){case"merge":An={...this.currentUrlTree.queryParams,...ce};break;case"preserve":An=this.currentUrlTree.queryParams;break;default:An=ce||null}null!==An&&(An=this.removeEmptyProps(An));try{Fr=jn(q?q.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||!E[0].startsWith("/"))&&(E=[]),Fr=this.currentUrlTree.root}return tt(Fr,E,An,an??null)}navigateByUrl(E,R={skipLocationChange:!1}){const q=Ft(E)?E:this.parseUrl(E),ce=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(ce,Wr,null,R)}navigate(E,R={skipLocationChange:!1}){return function wn(w){for(let M=0;M<w.length;M++)if(null==w[M])throw new u.vHH(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,R),R)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let R;try{R=this.urlSerializer.parse(E)}catch(q){R=this.malformedUriErrorHandler(q,this.urlSerializer,E)}return R}isActive(E,R){let q;if(q=!0===R?{...pr}:!1===R?{...Fs}:R,Ft(E))return Ji(this.currentUrlTree,E,q);const ce=this.parseUrl(E);return Ji(this.currentUrlTree,ce,q)}removeEmptyProps(E){return Object.keys(E).reduce((R,q)=>{const ce=E[q];return null!=ce&&(R[q]=ce),R},{})}scheduleNavigation(E,R,q,ce,De){if(this.disposed)return Promise.resolve(!1);let lt,ct,an;De?(lt=De.resolve,ct=De.reject,an=De.promise):an=new Promise((Fr,Ni)=>{lt=Fr,ct=Ni});const An=this.pendingTasks.add();return Ns(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(An))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:E,extras:ce,resolve:lt,reject:ct,promise:an,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),an.catch(Fr=>Promise.reject(Fr))}setBrowserUrl(E,R){const q=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(q)||R.extras.replaceUrl){const De={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(q,"",De)}else{const ce={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(q,"",ce)}}restoreHistory(E,R=!1){if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-this.browserPageId;0!==ce?this.location.historyGo(ce):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ce&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,R){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:R}:{navigationId:E}}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Vc(w){return!(w instanceof To||w instanceof $o)}let Pt=(()=>{class w{constructor(E,R,q,ce,De,lt){this.router=E,this.route=R,this.tabIndexAttribute=q,this.renderer=ce,this.el=De,this.locationStrategy=lt,this.href=null,this.commands=null,this.onChanges=new me.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ct=De.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ct||"area"===ct,this.isAnchorElement?this.subscription=E.events.subscribe(an=>{an instanceof Li&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,R,q,ce,De){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||R||q||ce||De||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,R){const q=this.renderer,ce=this.el.nativeElement;null!==R?q.setAttribute(ce,E,R):q.removeAttribute(ce,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(R){return new(R||w)(u.Y36(Ht),u.Y36(vr),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Le.S$))};static#t=this.\u0275dir=u.lG2({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,q){1&R&&u.NdJ("click",function(De){return q.onClick(De.button,De.ctrlKey,De.shiftKey,De.altKey,De.metaKey)}),2&R&&u.uIk("target",q.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",u.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",u.VuI],replaceUrl:["replaceUrl","replaceUrl",u.VuI],routerLink:"routerLink"},standalone:!0,features:[u.Xq5,u.TTD]})}return w})();class Ci{}let qa=(()=>{class w{constructor(E,R,q,ce,De){this.router=E,this.injector=q,this.preloadingStrategy=ce,this.loader=De}setUpPreloading(){this.subscription=this.router.events.pipe((0,$t.h)(E=>E instanceof Li),(0,Vn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,R){const q=[];for(const ce of R){ce.providers&&!ce._injector&&(ce._injector=(0,u.MMx)(ce.providers,E,`Route: ${ce.path}`));const De=ce._injector??E,lt=ce._loadedInjector??De;(ce.loadChildren&&!ce._loadedRoutes&&void 0===ce.canLoad||ce.loadComponent&&!ce._loadedComponent)&&q.push(this.preloadConfig(De,ce)),(ce.children||ce._loadedRoutes)&&q.push(this.processRoutes(lt,ce.children??ce._loadedRoutes))}return(0,fe.D)(q).pipe((0,$e.J)())}preloadConfig(E,R){return this.preloadingStrategy.preload(R,()=>{let q;q=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(E,R):(0,Ce.of)(null);const ce=q.pipe((0,jt.z)(De=>null===De?(0,Ce.of)(void 0):(R._loadedRoutes=De.routes,R._loadedInjector=De.injector,this.processRoutes(De.injector??E,De.routes))));if(R.loadComponent&&!R._loadedComponent){const De=this.loader.loadComponent(R);return(0,fe.D)([ce,De]).pipe((0,$e.J)())}return ce})}static#e=this.\u0275fac=function(R){return new(R||w)(u.LFG(Ht),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Ci),u.LFG(C))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Go=new u.OlP("");let Iu=(()=>{class w{constructor(E,R,q,ce,De={}){this.urlSerializer=E,this.transitions=R,this.viewportScroller=q,this.zone=ce,this.options=De,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},De.scrollPositionRestoration=De.scrollPositionRestoration||"disabled",De.anchorScrolling=De.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof _i?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Li?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof Gr&&0===E.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof _r&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _r(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(R){u.$Z()};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})();function wo(w,M){return{\u0275kind:w,\u0275providers:M}}function ya(){const w=(0,u.f3M)(u.zs3);return M=>{const E=w.get(u.z2F);if(M!==E.components[0])return;const R=w.get(Ht),q=w.get(fc);1===w.get(pn)&&R.initialNavigation(),w.get(ml,null,u.XFs.Optional)?.setUpPreloading(),w.get(Go,null,u.XFs.Optional)?.init(),R.resetRootComponentType(E.componentTypes[0]),q.closed||(q.next(),q.complete(),q.unsubscribe())}}const fc=new u.OlP("",{factory:()=>new me.x}),pn=new u.OlP("",{providedIn:"root",factory:()=>1}),ml=new u.OlP("");function Ir(w){return wo(0,[{provide:ml,useExisting:qa},{provide:Ci,useExisting:w}])}const ks=new u.OlP("ROUTER_FORROOT_GUARD"),Bc=[Le.Ye,{provide:mr,useClass:Kt},Ht,Io,{provide:vr,useFactory:function dc(w){return w.routerState.root},deps:[Ht]},C,[]];function Ct(){return new u.PXZ("Router",Ht)}let Si=(()=>{class w{constructor(E){}static forRoot(E,R){return{ngModule:w,providers:[Bc,[],{provide:Gs,multi:!0,useValue:E},{provide:ks,useFactory:Ra,deps:[[Ht,new u.FiY,new u.tp0]]},{provide:Mn,useValue:R||{}},R?.useHash?{provide:Le.S$,useClass:Le.Do}:{provide:Le.S$,useClass:Le.b0},{provide:Go,useFactory:()=>{const w=(0,u.f3M)(Le.EM),M=(0,u.f3M)(u.R0b),E=(0,u.f3M)(Mn),R=(0,u.f3M)(Ae),q=(0,u.f3M)(mr);return E.scrollOffset&&w.setOffset(E.scrollOffset),new Iu(q,R,w,M,E)}},R?.preloadingStrategy?Ir(R.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:Ct},R?.initialNavigation?Ea(R):[],R?.bindToComponentInputs?wo(8,[Ur,{provide:Cr,useExisting:Ur}]).\u0275providers:[],[{provide:zr,useFactory:ya},{provide:u.tb,multi:!0,useExisting:zr}]]}}static forChild(E){return{ngModule:w,providers:[{provide:Gs,multi:!0,useValue:E}]}}static#e=this.\u0275fac=function(R){return new(R||w)(u.LFG(ks,8))};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({})}return w})();function Ra(w){return"guarded"}function Ea(w){return["disabled"===w.initialNavigation?wo(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const M=(0,u.f3M)(Ht);return()=>{M.setUpLocationChangeListener()}}},{provide:pn,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?wo(2,[{provide:pn,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:M=>{const E=M.get(Le.V_,Promise.resolve());return()=>E.then(()=>new Promise(R=>{const q=M.get(Ht),ce=M.get(fc);Ns(q,()=>{R(!0)}),M.get(Ae).afterPreactivation=()=>(R(!0),ce.closed?(0,Ce.of)(void 0):ce),q.initialNavigation()}))}}]).\u0275providers:[]]}const zr=new u.OlP("")},3106:(kt,Be,P)=>{P.d(Be,{Z:()=>bt});var u=P(9058),$=P(4537),te=P(534),H=P(7879);class fe{constructor(ht,mt){this._delegate=ht,this.firebase=mt,(0,te._addComponent)(ht,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=ht.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ht){this._delegate.automaticDataCollectionEnabled=ht}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ht=>{this._delegate.checkDestroyed(),ht()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,te.deleteApp)(this._delegate)))}_getService(ht,mt=te._DEFAULT_ENTRY_NAME){var Ut;this._delegate.checkDestroyed();const vt=this._delegate.container.getProvider(ht);return!vt.isInitialized()&&"EXPLICIT"===(null===(Ut=vt.getComponent())||void 0===Ut?void 0:Ut.instantiationMode)&&vt.initialize(),vt.getImmediate({identifier:mt})}_removeServiceInstance(ht,mt=te._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ht).clearInstance(mt)}_addComponent(ht){(0,te._addComponent)(this._delegate,ht)}_addOrOverwriteComponent(ht){(0,te._addOrOverwriteComponent)(this._delegate,ht)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),le=function Ie(){const ot=function de(ot){const ht={},mt={__esModule:!0,initializeApp:function me(Ze,ke={}){const $t=te.initializeApp(Ze,ke);if((0,u.r3)(ht,$t.name))return ht[$t.name];const jt=new ot($t,mt);return ht[$t.name]=jt,jt},app:vt,registerVersion:te.registerVersion,setLogLevel:te.setLogLevel,onLog:te.onLog,apps:null,SDK_VERSION:te.SDK_VERSION,INTERNAL:{registerComponent:function Oe(Ze){const ke=Ze.name,$t=ke.replace("-compat","");if(te._registerComponent(Ze)&&"PUBLIC"===Ze.type){const jt=(ln=vt())=>{if("function"!=typeof ln[$t])throw Te.create("invalid-app-argument",{appName:ke});return ln[$t]()};void 0!==Ze.serviceProps&&(0,u.ZB)(jt,Ze.serviceProps),mt[$t]=jt,ot.prototype[$t]=function(...ln){return this._getService.bind(this,ke).apply(this,Ze.multipleInstances?ln:[])}}return"PUBLIC"===Ze.type?mt[$t]:null},removeApp:function Ut(Ze){delete ht[Ze]},useAsService:function Je(Ze,ke){return"serverAuth"===ke?null:ke},modularAPIs:te}};function vt(Ze){if(!(0,u.r3)(ht,Ze=Ze||te._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:Ze});return ht[Ze]}return mt.default=mt,Object.defineProperty(mt,"apps",{get:function Le(){return Object.keys(ht).map(Ze=>ht[Ze])}}),vt.App=ot,mt}(fe);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:Ie,extendNamespace:function ht(mt){(0,u.ZB)(ot,mt)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),ot}(),_e=new H.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){_e.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&_e.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const bt=le;!function nt(ot){(0,te.registerVersion)("@firebase/app-compat","0.2.22",ot)}()},534:(kt,Be,P)=>{P.r(Be),P.d(Be,{FirebaseError:()=>H.ZR,SDK_VERSION:()=>di,_DEFAULT_ENTRY_NAME:()=>sn,_addComponent:()=>wi,_addOrOverwriteComponent:()=>Pi,_apps:()=>Xt,_clearComponents:()=>Kt,_components:()=>hn,_getProvider:()=>zn,_registerComponent:()=>Tn,_removeServiceInstance:()=>mr,deleteApp:()=>ci,getApp:()=>Sn,getApps:()=>Cn,initializeApp:()=>ii,onLog:()=>Sr,registerVersion:()=>Gi,setLogLevel:()=>qi});var u=P(5861),$=P(4537),te=P(7879),H=P(9058);const fe=(ge,be)=>be.some(st=>ge instanceof st);let Ce,Te;const le=new WeakMap,_e=new WeakMap,Me=new WeakMap,Ke=new WeakMap,nt=new WeakMap;let ht={get(ge,be,st){if(ge instanceof IDBTransaction){if("done"===be)return _e.get(ge);if("objectStoreNames"===be)return ge.objectStoreNames||Me.get(ge);if("store"===be)return st.objectStoreNames[1]?void 0:st.objectStore(st.objectStoreNames[0])}return me(ge[be])},set:(ge,be,st)=>(ge[be]=st,!0),has:(ge,be)=>ge instanceof IDBTransaction&&("done"===be||"store"===be)||be in ge};function vt(ge){return"function"==typeof ge?function Ut(ge){return ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ge)?function(...be){return ge.apply(Le(this),be),me(le.get(this))}:function(...be){return me(ge.apply(Le(this),be))}:function(be,...st){const Dt=ge.call(Le(this),be,...st);return Me.set(Dt,be.sort?be.sort():[be]),me(Dt)}}(ge):(ge instanceof IDBTransaction&&function ot(ge){if(_e.has(ge))return;const be=new Promise((st,Dt)=>{const zt=()=>{ge.removeEventListener("complete",Bt),ge.removeEventListener("error",Ln),ge.removeEventListener("abort",Ln)},Bt=()=>{st(),zt()},Ln=()=>{Dt(ge.error||new DOMException("AbortError","AbortError")),zt()};ge.addEventListener("complete",Bt),ge.addEventListener("error",Ln),ge.addEventListener("abort",Ln)});_e.set(ge,be)}(ge),fe(ge,function de(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ge,ht):ge)}function me(ge){if(ge instanceof IDBRequest)return function bt(ge){const be=new Promise((st,Dt)=>{const zt=()=>{ge.removeEventListener("success",Bt),ge.removeEventListener("error",Ln)},Bt=()=>{st(me(ge.result)),zt()},Ln=()=>{Dt(ge.error),zt()};ge.addEventListener("success",Bt),ge.addEventListener("error",Ln)});return be.then(st=>{st instanceof IDBCursor&&le.set(st,ge)}).catch(()=>{}),nt.set(be,ge),be}(ge);if(Ke.has(ge))return Ke.get(ge);const be=vt(ge);return be!==ge&&(Ke.set(ge,be),nt.set(be,ge)),be}const Le=ge=>nt.get(ge),Ze=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],$t=new Map;function jt(ge,be){if(!(ge instanceof IDBDatabase)||be in ge||"string"!=typeof be)return;if($t.get(be))return $t.get(be);const st=be.replace(/FromIndex$/,""),Dt=be!==st,zt=ke.includes(st);if(!(st in(Dt?IDBIndex:IDBObjectStore).prototype)||!zt&&!Ze.includes(st))return;const Bt=function(){var Ln=(0,u.Z)(function*(li,...hi){const dr=this.transaction(li,zt?"readwrite":"readonly");let Fi=dr.store;return Dt&&(Fi=Fi.index(hi.shift())),(yield Promise.all([Fi[st](...hi),zt&&dr.done]))[0]});return function(hi){return Ln.apply(this,arguments)}}();return $t.set(be,Bt),Bt}!function mt(ge){ht=ge(ht)}(ge=>({...ge,get:(be,st,Dt)=>jt(be,st)||ge.get(be,st,Dt),has:(be,st)=>!!jt(be,st)||ge.has(be,st)}));class ln{constructor(be){this.container=be}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function Vn(ge){const be=ge.getComponent();return"VERSION"===be?.type}(st)){const Dt=st.getImmediate();return`${Dt.library}/${Dt.version}`}return null}).filter(st=>st).join(" ")}}const un="@firebase/app",Qt=new te.Yd("@firebase/app"),sn="[DEFAULT]",mn={[un]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xt=new Map,hn=new Map;function wi(ge,be){try{ge.container.addComponent(be)}catch(st){Qt.debug(`Component ${be.name} failed to register with FirebaseApp ${ge.name}`,st)}}function Pi(ge,be){ge.container.addOrOverwriteComponent(be)}function Tn(ge){const be=ge.name;if(hn.has(be))return Qt.debug(`There were multiple attempts to register component ${be}.`),!1;hn.set(be,ge);for(const st of Xt.values())wi(st,ge);return!0}function zn(ge,be){const st=ge.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),ge.container.getProvider(be)}function mr(ge,be,st=sn){zn(ge,be).clearInstance(st)}function Kt(){hn.clear()}const fn=new H.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ai{constructor(be,st,Dt){this._isDeleted=!1,this._options=Object.assign({},be),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=Dt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this.checkDestroyed(),this._automaticDataCollectionEnabled=be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(be){this._isDeleted=be}checkDestroyed(){if(this.isDeleted)throw fn.create("app-deleted",{appName:this._name})}}const di="10.5.2";function ii(ge,be={}){let st=ge;"object"!=typeof be&&(be={name:be});const Dt=Object.assign({name:sn,automaticDataCollectionEnabled:!1},be),zt=Dt.name;if("string"!=typeof zt||!zt)throw fn.create("bad-app-name",{appName:String(zt)});if(st||(st=(0,H.aH)()),!st)throw fn.create("no-options");const Bt=Xt.get(zt);if(Bt){if((0,H.vZ)(st,Bt.options)&&(0,H.vZ)(Dt,Bt.config))return Bt;throw fn.create("duplicate-app",{appName:zt})}const Ln=new $.H0(zt);for(const hi of hn.values())Ln.addComponent(hi);const li=new ai(st,Dt,Ln);return Xt.set(zt,li),li}function Sn(ge=sn){const be=Xt.get(ge);if(!be&&ge===sn&&(0,H.aH)())return ii();if(!be)throw fn.create("no-app",{appName:ge});return be}function Cn(){return Array.from(Xt.values())}function ci(ge){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,u.Z)(function*(ge){const be=ge.name;Xt.has(be)&&(Xt.delete(be),yield Promise.all(ge.container.getProviders().map(st=>st.delete())),ge.isDeleted=!0)})).apply(this,arguments)}function Gi(ge,be,st){var Dt;let zt=null!==(Dt=mn[ge])&&void 0!==Dt?Dt:ge;st&&(zt+=`-${st}`);const Bt=zt.match(/\s|\//),Ln=be.match(/\s|\//);if(Bt||Ln){const li=[`Unable to register library "${zt}" with version "${be}":`];return Bt&&li.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Bt&&Ln&&li.push("and"),Ln&&li.push(`version name "${be}" contains illegal characters (whitespace or "/")`),void Qt.warn(li.join(" "))}Tn(new $.wA(`${zt}-version`,()=>({library:zt,version:be}),"VERSION"))}function Sr(ge,be){if(null!==ge&&"function"!=typeof ge)throw fn.create("invalid-log-argument");(0,te.Am)(ge,be)}function qi(ge){(0,te.Ub)(ge)}const gr="firebase-heartbeat-database",St=1,oe="firebase-heartbeat-store";let L=null;function O(){return L||(L=function Oe(ge,be,{blocked:st,upgrade:Dt,blocking:zt,terminated:Bt}={}){const Ln=indexedDB.open(ge,be),li=me(Ln);return Dt&&Ln.addEventListener("upgradeneeded",hi=>{Dt(me(Ln.result),hi.oldVersion,hi.newVersion,me(Ln.transaction),hi)}),st&&Ln.addEventListener("blocked",hi=>st(hi.oldVersion,hi.newVersion,hi)),li.then(hi=>{Bt&&hi.addEventListener("close",()=>Bt()),zt&&hi.addEventListener("versionchange",dr=>zt(dr.oldVersion,dr.newVersion,dr))}).catch(()=>{}),li}(gr,St,{upgrade:(ge,be)=>{0===be&&ge.createObjectStore(oe)}}).catch(ge=>{throw fn.create("idb-open",{originalErrorMessage:ge.message})})),L}function k(){return(k=(0,u.Z)(function*(ge){try{return yield(yield O()).transaction(oe).objectStore(oe).get(_t(ge))}catch(be){if(be instanceof H.ZR)Qt.warn(be.message);else{const st=fn.create("idb-get",{originalErrorMessage:be?.message});Qt.warn(st.message)}}})).apply(this,arguments)}function he(ge,be){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,u.Z)(function*(ge,be){try{const Dt=(yield O()).transaction(oe,"readwrite");yield Dt.objectStore(oe).put(be,_t(ge)),yield Dt.done}catch(st){if(st instanceof H.ZR)Qt.warn(st.message);else{const Dt=fn.create("idb-set",{originalErrorMessage:st?.message});Qt.warn(Dt.message)}}})).apply(this,arguments)}function _t(ge){return`${ge.name}!${ge.options.appId}`}class Ft{constructor(be){this.container=be,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new tt(st),this._heartbeatsCachePromise=this._storage.read().then(Dt=>(this._heartbeatsCache=Dt,Dt))}triggerHeartbeat(){var be=this;return(0,u.Z)(function*(){const Dt=be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=cn();if(null===be._heartbeatsCache&&(be._heartbeatsCache=yield be._heartbeatsCachePromise),be._heartbeatsCache.lastSentHeartbeatDate!==zt&&!be._heartbeatsCache.heartbeats.some(Bt=>Bt.date===zt))return be._heartbeatsCache.heartbeats.push({date:zt,agent:Dt}),be._heartbeatsCache.heartbeats=be._heartbeatsCache.heartbeats.filter(Bt=>{const Ln=new Date(Bt.date).valueOf();return Date.now()-Ln<=2592e6}),be._storage.overwrite(be._heartbeatsCache)})()}getHeartbeatsHeader(){var be=this;return(0,u.Z)(function*(){if(null===be._heartbeatsCache&&(yield be._heartbeatsCachePromise),null===be._heartbeatsCache||0===be._heartbeatsCache.heartbeats.length)return"";const st=cn(),{heartbeatsToSend:Dt,unsentEntries:zt}=function jn(ge,be=1024){const st=[];let Dt=ge.slice();for(const zt of ge){const Bt=st.find(Ln=>Ln.agent===zt.agent);if(Bt){if(Bt.dates.push(zt.date),ie(st)>be){Bt.dates.pop();break}}else if(st.push({agent:zt.agent,dates:[zt.date]}),ie(st)>be){st.pop();break}Dt=Dt.slice(1)}return{heartbeatsToSend:st,unsentEntries:Dt}}(be._heartbeatsCache.heartbeats),Bt=(0,H.L)(JSON.stringify({version:2,heartbeats:Dt}));return be._heartbeatsCache.lastSentHeartbeatDate=st,zt.length>0?(be._heartbeatsCache.heartbeats=zt,yield be._storage.overwrite(be._heartbeatsCache)):(be._heartbeatsCache.heartbeats=[],be._storage.overwrite(be._heartbeatsCache)),Bt})()}}function cn(){return(new Date).toISOString().substring(0,10)}class tt{constructor(be){this.app=be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,H.hl)()&&(0,H.eu)().then(()=>!0).catch(()=>!1)})()}read(){var be=this;return(0,u.Z)(function*(){return(yield be._canUseIndexedDBPromise)&&(yield function N(ge){return k.apply(this,arguments)}(be.app))||{heartbeats:[]}})()}overwrite(be){var st=this;return(0,u.Z)(function*(){var Dt;if(yield st._canUseIndexedDBPromise){const Bt=yield st.read();return he(st.app,{lastSentHeartbeatDate:null!==(Dt=be.lastSentHeartbeatDate)&&void 0!==Dt?Dt:Bt.lastSentHeartbeatDate,heartbeats:be.heartbeats})}})()}add(be){var st=this;return(0,u.Z)(function*(){var Dt;if(yield st._canUseIndexedDBPromise){const Bt=yield st.read();return he(st.app,{lastSentHeartbeatDate:null!==(Dt=be.lastSentHeartbeatDate)&&void 0!==Dt?Dt:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...be.heartbeats]})}})()}}function ie(ge){return(0,H.L)(JSON.stringify({version:2,heartbeats:ge})).length}!function Ee(ge){Tn(new $.wA("platform-logger",be=>new ln(be),"PRIVATE")),Tn(new $.wA("heartbeat",be=>new Ft(be),"PRIVATE")),Gi(un,"0.9.22",ge),Gi(un,"0.9.22","esm2017"),Gi("fire-js","")}("")},4537:(kt,Be,P)=>{P.d(Be,{H0:()=>de,wA:()=>te});var u=P(5861),$=P(9058);class te{constructor(le,_e,Me){this.name=le,this.instanceFactory=_e,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(le){return this.instantiationMode=le,this}setMultipleInstances(le){return this.multipleInstances=le,this}setServiceProps(le){return this.serviceProps=le,this}setInstanceCreatedCallback(le){return this.onInstanceCreated=le,this}}const H="[DEFAULT]";class fe{constructor(le,_e){this.name=le,this.container=_e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(le){const _e=this.normalizeInstanceIdentifier(le);if(!this.instancesDeferred.has(_e)){const Me=new $.BH;if(this.instancesDeferred.set(_e,Me),this.isInitialized(_e)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:_e});Ke&&Me.resolve(Ke)}catch{}}return this.instancesDeferred.get(_e).promise}getImmediate(le){var _e;const Me=this.normalizeInstanceIdentifier(le?.identifier),Ke=null!==(_e=le?.optional)&&void 0!==_e&&_e;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(nt){if(Ke)return null;throw nt}}getComponent(){return this.component}setComponent(le){if(le.name!==this.name)throw Error(`Mismatching Component ${le.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=le,this.shouldAutoInitialize()){if(function Te(Ie){return"EAGER"===Ie.instantiationMode}(le))try{this.getOrInitializeService({instanceIdentifier:H})}catch{}for(const[_e,Me]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(_e);try{const nt=this.getOrInitializeService({instanceIdentifier:Ke});Me.resolve(nt)}catch{}}}}clearInstance(le=H){this.instancesDeferred.delete(le),this.instancesOptions.delete(le),this.instances.delete(le)}delete(){var le=this;return(0,u.Z)(function*(){const _e=Array.from(le.instances.values());yield Promise.all([..._e.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),..._e.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(le=H){return this.instances.has(le)}getOptions(le=H){return this.instancesOptions.get(le)||{}}initialize(le={}){const{options:_e={}}=le,Me=this.normalizeInstanceIdentifier(le.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:Me,options:_e});for(const[nt,bt]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(nt)&&bt.resolve(Ke);return Ke}onInit(le,_e){var Me;const Ke=this.normalizeInstanceIdentifier(_e),nt=null!==(Me=this.onInitCallbacks.get(Ke))&&void 0!==Me?Me:new Set;nt.add(le),this.onInitCallbacks.set(Ke,nt);const bt=this.instances.get(Ke);return bt&&le(bt,Ke),()=>{nt.delete(le)}}invokeOnInitCallbacks(le,_e){const Me=this.onInitCallbacks.get(_e);if(Me)for(const Ke of Me)try{Ke(le,_e)}catch{}}getOrInitializeService({instanceIdentifier:le,options:_e={}}){let Me=this.instances.get(le);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=le,Ie===H?void 0:Ie),options:_e}),this.instances.set(le,Me),this.instancesOptions.set(le,_e),this.invokeOnInitCallbacks(Me,le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,le,Me)}catch{}var Ie;return Me||null}normalizeInstanceIdentifier(le=H){return this.component?this.component.multipleInstances?le:H:le}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(le){this.name=le,this.providers=new Map}addComponent(le){const _e=this.getProvider(le.name);if(_e.isComponentSet())throw new Error(`Component ${le.name} has already been registered with ${this.name}`);_e.setComponent(le)}addOrOverwriteComponent(le){this.getProvider(le.name).isComponentSet()&&this.providers.delete(le.name),this.addComponent(le)}getProvider(le){if(this.providers.has(le))return this.providers.get(le);const _e=new fe(le,this);return this.providers.set(le,_e),_e}getProviders(){return Array.from(this.providers.values())}}},7879:(kt,Be,P)=>{P.d(Be,{Am:()=>Ie,Ub:()=>de,Yd:()=>Te,in:()=>$});const u=[];var $=function(le){return le[le.DEBUG=0]="DEBUG",le[le.VERBOSE=1]="VERBOSE",le[le.INFO=2]="INFO",le[le.WARN=3]="WARN",le[le.ERROR=4]="ERROR",le[le.SILENT=5]="SILENT",le}($||{});const te={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},H=$.INFO,fe={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},Ce=(le,_e,...Me)=>{if(_e<le.logLevel)return;const Ke=(new Date).toISOString(),nt=fe[_e];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${_e})`);console[nt](`[${Ke}]  ${le.name}:`,...Me)};class Te{constructor(_e){this.name=_e,this._logLevel=H,this._logHandler=Ce,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(_e){if(!(_e in $))throw new TypeError(`Invalid value "${_e}" assigned to \`logLevel\``);this._logLevel=_e}setLogLevel(_e){this._logLevel="string"==typeof _e?te[_e]:_e}get logHandler(){return this._logHandler}set logHandler(_e){if("function"!=typeof _e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_e}get userLogHandler(){return this._userLogHandler}set userLogHandler(_e){this._userLogHandler=_e}debug(..._e){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,..._e),this._logHandler(this,$.DEBUG,..._e)}log(..._e){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,..._e),this._logHandler(this,$.VERBOSE,..._e)}info(..._e){this._userLogHandler&&this._userLogHandler(this,$.INFO,..._e),this._logHandler(this,$.INFO,..._e)}warn(..._e){this._userLogHandler&&this._userLogHandler(this,$.WARN,..._e),this._logHandler(this,$.WARN,..._e)}error(..._e){this._userLogHandler&&this._userLogHandler(this,$.ERROR,..._e),this._logHandler(this,$.ERROR,..._e)}}function de(le){u.forEach(_e=>{_e.setLogLevel(le)})}function Ie(le,_e){for(const Me of u){let Ke=null;_e&&_e.level&&(Ke=te[_e.level]),Me.userLogHandler=null===le?null:(nt,bt,...ot)=>{const ht=ot.map(mt=>{if(null==mt)return null;if("string"==typeof mt)return mt;if("number"==typeof mt||"boolean"==typeof mt)return mt.toString();if(mt instanceof Error)return mt.message;try{return JSON.stringify(mt)}catch{return null}}).filter(mt=>mt).join(" ");bt>=(Ke??nt.logLevel)&&le({level:$[bt].toLowerCase(),message:ht,args:ot,type:nt.name})}}}},3182:(kt,Be,P)=>{P.d(Be,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=P(534);(0,u.registerVersion)("firebase","10.5.2","app")},752:(kt,Be,P)=>{P.d(Be,{Xb:()=>u.a9,v0:()=>u.o,w$:()=>u.af,e5:()=>u.aa,w7:()=>u.C,ck:()=>u.aj});var u=P(3560);P(9058),P(534),P(7879),P(4537)},7142:(kt,Be,P)=>{P.d(Be,{Z:()=>u.Z});var u=P(3106);u.Z.registerVersion("firebase","10.5.2","app-compat")},6365:(kt,Be,P)=>{P.r(Be);var u=P(5861),$=P(3106),te=P(3560),H=P(9058),Te=(P(534),P(7879),P(4537));function de(){return window}function _e(){return _e=(0,u.Z)(function*(O,N,k){var he;const{BuildInfo:Ue}=de();(0,te.at)(N.sessionId,"AuthEvent did not contain a session ID");const _t=yield function mt(O){return Ut.apply(this,arguments)}(N.sessionId),Mt={};return(0,te.au)()?Mt.ibi=Ue.packageName:(0,te.av)()?Mt.apn=Ue.packageName:(0,te.aw)(O,"operation-not-supported-in-this-environment"),Ue.displayName&&(Mt.appDisplayName=Ue.displayName),Mt.sessionId=_t,(0,te.ax)(O,k,N.type,void 0,null!==(he=N.eventId)&&void 0!==he?he:void 0,Mt)}),_e.apply(this,arguments)}function Ke(){return(Ke=(0,u.Z)(function*(O){const{BuildInfo:N}=de(),k={};(0,te.au)()?k.iosBundleId=N.packageName:(0,te.av)()?k.androidPackageName=N.packageName:(0,te.aw)(O,"operation-not-supported-in-this-environment"),yield(0,te.ay)(O,k)})).apply(this,arguments)}function ot(){return(ot=(0,u.Z)(function*(O,N,k){const{cordova:he}=de();let Ue=()=>{};try{yield new Promise((_t,Mt)=>{let Lt=null;function Ft(){var tt;_t();const ie=null===(tt=he.plugins.browsertab)||void 0===tt?void 0:tt.close;"function"==typeof ie&&ie(),"function"==typeof k?.close&&k.close()}function cn(){Lt||(Lt=window.setTimeout(()=>{Mt((0,te.aA)(O,"redirect-cancelled-by-user"))},2e3))}function jn(){"visible"===document?.visibilityState&&cn()}N.addPassiveListener(Ft),document.addEventListener("resume",cn,!1),(0,te.av)()&&document.addEventListener("visibilitychange",jn,!1),Ue=()=>{N.removePassiveListener(Ft),document.removeEventListener("resume",cn,!1),document.removeEventListener("visibilitychange",jn,!1),Lt&&window.clearTimeout(Lt)}})}finally{Ue()}})).apply(this,arguments)}function Ut(){return(Ut=(0,u.Z)(function*(O){const N=function vt(O){if((0,te.at)(/[0-9a-zA-Z]+/.test(O),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(O);const N=new ArrayBuffer(O.length),k=new Uint8Array(N);for(let he=0;he<O.length;he++)k[he]=O.charCodeAt(he);return k}(O),k=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(k)).map(Ue=>Ue.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Le extends te.aC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(N)),super.onEvent(N)}initialized(){var N=this;return(0,u.Z)(function*(){yield N.initPromise})()}}function Ze(O){return ke.apply(this,arguments)}function ke(){return(ke=(0,u.Z)(function*(O){const N=yield ln()._get(Vn(O));return N&&(yield ln()._remove(Vn(O))),N})).apply(this,arguments)}function jt(){const O=[];for(let k=0;k<20;k++){const he=Math.floor(62*Math.random());O.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(he))}return O.join("")}function ln(){return(0,te.aD)(te.b)}function Vn(O){return(0,te.aE)("authEvent",O.config.apiKey,O.name)}function Qt(O){if(!O?.includes("?"))return{};const[N,...k]=O.split("?");return(0,H.zd)(k.join("?"))}const Ge=class vn{constructor(){this._redirectPersistence=te.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=te.aF,this._overrideRedirectResult=te.aG}_initialize(N){var k=this;return(0,u.Z)(function*(){const he=N._key();let Ue=k.eventManagers.get(he);return Ue||(Ue=new Le(N),k.eventManagers.set(he,Ue),k.attachCallbackListeners(N,Ue)),Ue})()}_openPopup(N){(0,te.aw)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,k,he,Ue){var _t=this;return(0,u.Z)(function*(){!function ht(O){var N,k,he,Ue,_t,Mt,Lt,Ft,cn,jn;const tt=de();(0,te.aB)("function"==typeof(null===(N=tt?.universalLinks)||void 0===N?void 0:N.subscribe),O,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,te.aB)(typeof(null===(k=tt?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,te.aB)("function"==typeof(null===(_t=null===(Ue=null===(he=tt?.cordova)||void 0===he?void 0:he.plugins)||void 0===Ue?void 0:Ue.browsertab)||void 0===_t?void 0:_t.openUrl),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,te.aB)("function"==typeof(null===(Ft=null===(Lt=null===(Mt=tt?.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===Lt?void 0:Lt.browsertab)||void 0===Ft?void 0:Ft.isAvailable),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,te.aB)("function"==typeof(null===(jn=null===(cn=tt?.cordova)||void 0===cn?void 0:cn.InAppBrowser)||void 0===jn?void 0:jn.open),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const Mt=yield _t._initialize(N);yield Mt.initialized(),Mt.resetRedirect(),(0,te.aH)(),yield _t._originValidation(N);const Lt=function Oe(O,N,k=null){return{type:N,eventId:k,urlResponse:null,sessionId:jt(),postBody:null,tenantId:O.tenantId,error:(0,te.aA)(O,"no-auth-event")}}(N,he,Ue);yield function Je(O,N){return ln()._set(Vn(O),N)}(N,Lt);const Ft=yield function le(O,N,k){return _e.apply(this,arguments)}(N,Lt,k),cn=yield function nt(O){const{cordova:N}=de();return new Promise(k=>{N.plugins.browsertab.isAvailable(he=>{let Ue=null;he?N.plugins.browsertab.openUrl(O):Ue=N.InAppBrowser.open(O,(0,te.az)()?"_blank":"_system","location=yes"),k(Ue)})})}(Ft);return function bt(O,N,k){return ot.apply(this,arguments)}(N,Mt,cn)})()}_isIframeWebStorageSupported(N,k){throw new Error("Method not implemented.")}_originValidation(N){const k=N._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function Me(O){return Ke.apply(this,arguments)}(N)),this.originValidationPromises[k]}attachCallbackListeners(N,k){const{universalLinks:he,handleOpenURL:Ue,BuildInfo:_t}=de(),Mt=setTimeout((0,u.Z)(function*(){yield Ze(N),k.onEvent(Ye())}),500),Lt=function(){var jn=(0,u.Z)(function*(tt){clearTimeout(Mt);const ie=yield Ze(N);let Ee=null;ie&&tt?.url&&(Ee=function $t(O,N){var k,he;const Ue=function Ei(O){const N=Qt(O),k=N.link?decodeURIComponent(N.link):void 0,he=Qt(k).link,Ue=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return Qt(Ue).link||Ue||he||k||O}(N);if(Ue.includes("/__/auth/callback")){const _t=Qt(Ue),Mt=_t.firebaseError?function un(O){try{return JSON.parse(O)}catch{return null}}(decodeURIComponent(_t.firebaseError)):null,Lt=null===(he=null===(k=Mt?.code)||void 0===k?void 0:k.split("auth/"))||void 0===he?void 0:he[1],Ft=Lt?(0,te.aA)(Lt):null;return Ft?{type:O.type,eventId:O.eventId,tenantId:O.tenantId,error:Ft,urlResponse:null,sessionId:null,postBody:null}:{type:O.type,eventId:O.eventId,tenantId:O.tenantId,sessionId:O.sessionId,urlResponse:Ue,postBody:null}}return null}(ie,tt.url)),k.onEvent(Ee||Ye())});return function(ie){return jn.apply(this,arguments)}}();typeof he<"u"&&"function"==typeof he.subscribe&&he.subscribe(null,Lt);const Ft=Ue,cn=`${_t.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var jn=(0,u.Z)(function*(tt){if(tt.toLowerCase().startsWith(cn)&&Lt({url:tt}),"function"==typeof Ft)try{Ft(tt)}catch(ie){console.error(ie)}});return function(tt){return jn.apply(this,arguments)}}()}};function Ye(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,te.aA)("no-auth-event")}}function Pe(){var O;return(null===(O=self?.location)||void 0===O?void 0:O.protocol)||null}function Bn(O=(0,H.z$)()){return!("file:"!==Pe()&&"ionic:"!==Pe()&&"capacitor:"!==Pe()||!O.toLowerCase().match(/iphone|ipad|ipod|android/))}function On(){try{const O=self.localStorage,N=te.aM();if(O)return O.setItem(N,"1"),O.removeItem(N),!function En(O=(0,H.z$)()){return function Gn(){return(0,H.w1)()&&11===document?.documentMode}()||function In(O=(0,H.z$)()){return/Edge\/\d+/.test(O)}(O)}()||(0,H.hl)()}catch{return ni()&&(0,H.hl)()}return!1}function ni(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Un(){return(function wt(){return"http:"===Pe()||"https:"===Pe()}()||(0,H.ru)()||Bn())&&!function tn(){return(0,H.b$)()||(0,H.UG)()}()&&On()&&!ni()}function Mi(){return Bn()&&typeof document<"u"}function Ji(){return(Ji=(0,u.Z)(function*(){return!!Mi()&&new Promise(O=>{const N=setTimeout(()=>{O(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(N),O(!0)})})})).apply(this,arguments)}const Qn={LOCAL:"local",NONE:"none",SESSION:"session"},Ii=te.aB,gi="persistence";function mn(O){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,u.Z)(function*(O){yield O._initializationPromise;const N=wi(),k=te.aE(gi,O.config.apiKey,O.name);N&&N.setItem(k,O._getPersistence())})).apply(this,arguments)}function wi(){var O;try{return(null===(O=function Ri(){return typeof window<"u"?window:null}())||void 0===O?void 0:O.sessionStorage)||null}catch{return null}}const Pi=te.aB;class Tn{constructor(){this.browserResolver=te.aD(te.k),this.cordovaResolver=te.aD(Ge),this.underlyingResolver=null,this._redirectPersistence=te.a,this._completeRedirectFn=te.aF,this._overrideRedirectResult=te.aG}_initialize(N){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,k,he,Ue){var _t=this;return(0,u.Z)(function*(){return yield _t.selectUnderlyingResolver(),_t.assertedUnderlyingResolver._openPopup(N,k,he,Ue)})()}_openRedirect(N,k,he,Ue){var _t=this;return(0,u.Z)(function*(){return yield _t.selectUnderlyingResolver(),_t.assertedUnderlyingResolver._openRedirect(N,k,he,Ue)})()}_isIframeWebStorageSupported(N,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,k)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return Mi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,u.Z)(function*(){if(N.underlyingResolver)return;const k=yield function Ui(){return Ji.apply(this,arguments)}();N.underlyingResolver=k?N.cordovaResolver:N.browserResolver})()}}function zn(O){return O.unwrap()}function Kt(O){return fn(O)}function fn(O){const{_tokenResponse:N}=O instanceof H.ZR?O.customData:O;if(!N)return null;if(!(O instanceof H.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return te.P.credentialFromResult(O);const k=N.providerId;if(!k||k===te.p.PASSWORD)return null;let he;switch(k){case te.p.GOOGLE:he=te.W;break;case te.p.FACEBOOK:he=te.V;break;case te.p.GITHUB:he=te.X;break;case te.p.TWITTER:he=te._;break;default:const{oauthIdToken:Ue,oauthAccessToken:_t,oauthTokenSecret:Mt,pendingToken:Lt,nonce:Ft}=N;return _t||Mt||Ue||Lt?Lt?k.startsWith("saml.")?te.aP._create(k,Lt):te.M._fromParams({providerId:k,signInMethod:k,pendingToken:Lt,idToken:Ue,accessToken:_t}):new te.Y(k).credential({idToken:Ue,accessToken:_t,rawNonce:Ft}):null}return O instanceof H.ZR?he.credentialFromError(O):he.credentialFromResult(O)}function ai(O,N){return N.catch(k=>{throw k instanceof H.ZR&&function xi(O,N){var k;const he=null===(k=N.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new Sn(O,te.ar(O,N));else if(he){const Ue=fn(N),_t=N;Ue&&(_t.credential=Ue,_t.tenantId=he.tenantId||void 0,_t.email=he.email||void 0,_t.phoneNumber=he.phoneNumber||void 0)}}(O,k),k}).then(k=>{const Ue=k.user;return{operationType:k.operationType,credential:Kt(k),additionalUserInfo:te.ap(k),user:Cn.getOrCreate(Ue)}})}function di(O,N){return ii.apply(this,arguments)}function ii(){return(ii=(0,u.Z)(function*(O,N){const k=yield N;return{verificationId:k.verificationId,confirm:he=>ai(O,k.confirm(he))}})).apply(this,arguments)}class Sn{constructor(N,k){this.resolver=k,this.auth=function mr(O){return O.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return ai(zn(this.auth),this.resolver.resolveSignIn(N))}}class Cn{constructor(N){this._delegate=N,this.multiFactor=te.as(N)}static getOrCreate(N){return Cn.USER_MAP.has(N)||Cn.USER_MAP.set(N,new Cn(N)),Cn.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var k=this;return(0,u.Z)(function*(){return ai(k.auth,te.a1(k._delegate,N))})()}linkWithPhoneNumber(N,k){var he=this;return(0,u.Z)(function*(){return di(he.auth,te.l(he._delegate,N,k))})()}linkWithPopup(N){var k=this;return(0,u.Z)(function*(){return ai(k.auth,te.d(k._delegate,N,Tn))})()}linkWithRedirect(N){var k=this;return(0,u.Z)(function*(){return yield mn(te.aI(k.auth)),te.g(k._delegate,N,Tn)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var k=this;return(0,u.Z)(function*(){return ai(k.auth,te.a2(k._delegate,N))})()}reauthenticateWithPhoneNumber(N,k){return di(this.auth,te.r(this._delegate,N,k))}reauthenticateWithPopup(N){return ai(this.auth,te.e(this._delegate,N,Tn))}reauthenticateWithRedirect(N){var k=this;return(0,u.Z)(function*(){return yield mn(te.aI(k.auth)),te.h(k._delegate,N,Tn)})()}sendEmailVerification(N){return te.af(this._delegate,N)}unlink(N){var k=this;return(0,u.Z)(function*(){return yield te.ao(k._delegate,N),k})()}updateEmail(N){return te.ak(this._delegate,N)}updatePassword(N){return te.al(this._delegate,N)}updatePhoneNumber(N){return te.u(this._delegate,N)}updateProfile(N){return te.aj(this._delegate,N)}verifyBeforeUpdateEmail(N,k){return te.ag(this._delegate,N,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Cn.USER_MAP=new WeakMap;const ci=te.aB;let Wi=(()=>{class O{constructor(k,he){if(this.app=k,he.isInitialized())return this._delegate=he.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ue}=k.options;ci(Ue,"invalid-api-key",{appName:k.name}),ci(Ue,"invalid-api-key",{appName:k.name});const _t=typeof window<"u"?Tn:void 0;this._delegate=he.initialize({options:{persistence:Sr(Ue,k.name),popupRedirectResolver:_t}}),this._delegate._updateErrorMap(te.E),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Cn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,he){te.J(this._delegate,k,he)}applyActionCode(k){return te.a6(this._delegate,k)}checkActionCode(k){return te.a7(this._delegate,k)}confirmPasswordReset(k,he){return te.a5(this._delegate,k,he)}createUserWithEmailAndPassword(k,he){var Ue=this;return(0,u.Z)(function*(){return ai(Ue._delegate,te.a9(Ue._delegate,k,he))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return te.ae(this._delegate,k)}isSignInWithEmailLink(k){return te.ac(this._delegate,k)}getRedirectResult(){var k=this;return(0,u.Z)(function*(){ci(Un(),k._delegate,"operation-not-supported-in-this-environment");const he=yield te.j(k._delegate,Tn);return he?ai(k._delegate,Promise.resolve(he)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Qe(O,N){(0,te.aI)(O)._logFramework(N)}(this._delegate,k)}onAuthStateChanged(k,he,Ue){const{next:_t,error:Mt,complete:Lt}=Gi(k,he,Ue);return this._delegate.onAuthStateChanged(_t,Mt,Lt)}onIdTokenChanged(k,he,Ue){const{next:_t,error:Mt,complete:Lt}=Gi(k,he,Ue);return this._delegate.onIdTokenChanged(_t,Mt,Lt)}sendSignInLinkToEmail(k,he){return te.ab(this._delegate,k,he)}sendPasswordResetEmail(k,he){return te.a4(this._delegate,k,he||void 0)}setPersistence(k){var he=this;return(0,u.Z)(function*(){let Ue;switch(function sn(O,N){Ii(Object.values(Qn).includes(N),O,"invalid-persistence-type"),(0,H.b$)()?Ii(N!==Qn.SESSION,O,"unsupported-persistence-type"):(0,H.UG)()?Ii(N===Qn.NONE,O,"unsupported-persistence-type"):ni()?Ii(N===Qn.NONE||N===Qn.LOCAL&&(0,H.hl)(),O,"unsupported-persistence-type"):Ii(N===Qn.NONE||On(),O,"unsupported-persistence-type")}(he._delegate,k),k){case Qn.SESSION:Ue=te.a;break;case Qn.LOCAL:Ue=(yield te.aD(te.i)._isAvailable())?te.i:te.b;break;case Qn.NONE:Ue=te.Q;break;default:return te.aw("argument-error",{appName:he._delegate.name})}return he._delegate.setPersistence(Ue)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return ai(this._delegate,te.$(this._delegate))}signInWithCredential(k){return ai(this._delegate,te.a0(this._delegate,k))}signInWithCustomToken(k){return ai(this._delegate,te.a3(this._delegate,k))}signInWithEmailAndPassword(k,he){return ai(this._delegate,te.aa(this._delegate,k,he))}signInWithEmailLink(k,he){return ai(this._delegate,te.ad(this._delegate,k,he))}signInWithPhoneNumber(k,he){return di(this._delegate,te.s(this._delegate,k,he))}signInWithPopup(k){var he=this;return(0,u.Z)(function*(){return ci(Un(),he._delegate,"operation-not-supported-in-this-environment"),ai(he._delegate,te.c(he._delegate,k,Tn))})()}signInWithRedirect(k){var he=this;return(0,u.Z)(function*(){return ci(Un(),he._delegate,"operation-not-supported-in-this-environment"),yield mn(he._delegate),te.f(he._delegate,k,Tn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return te.a8(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return O.Persistence=Qn,O})();function Gi(O,N,k){let he=O;"function"!=typeof O&&({next:he,error:N,complete:k}=O);const Ue=he;return{next:Mt=>Ue(Mt&&Cn.getOrCreate(Mt)),error:N,complete:k}}function Sr(O,N){const k=function hn(O,N){const k=wi();if(!k)return[];const he=te.aE(gi,O,N);switch(k.getItem(he)){case Qn.NONE:return[te.Q];case Qn.LOCAL:return[te.i,te.a];case Qn.SESSION:return[te.a];default:return[]}}(O,N);if(typeof self<"u"&&!k.includes(te.i)&&k.push(te.i),typeof window<"u")for(const he of[te.b,te.a])k.includes(he)||k.push(he);return k.includes(te.Q)||k.push(te.Q),k}class qi{constructor(){this.providerId="phone",this._delegate=new te.P(zn($.Z.auth()))}static credential(N,k){return te.P.credential(N,k)}verifyPhoneNumber(N,k){return this._delegate.verifyPhoneNumber(N,k)}unwrap(){return this._delegate}}qi.PHONE_SIGN_IN_METHOD=te.P.PHONE_SIGN_IN_METHOD,qi.PROVIDER_ID=te.P.PROVIDER_ID;const gr=te.aB;class St{constructor(N,k,he=$.Z.app()){var Ue;gr(null===(Ue=he.options)||void 0===Ue?void 0:Ue.apiKey,"invalid-api-key",{appName:he.name}),this._delegate=new te.R(he.auth(),N,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function L(O){O.INTERNAL.registerComponent(new Te.wA("auth-compat",N=>{const k=N.getProvider("app-compat").getImmediate(),he=N.getProvider("auth");return new Wi(k,he)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:te.A.EMAIL_SIGNIN,PASSWORD_RESET:te.A.PASSWORD_RESET,RECOVER_EMAIL:te.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:te.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:te.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:te.A.VERIFY_EMAIL}},EmailAuthProvider:te.U,FacebookAuthProvider:te.V,GithubAuthProvider:te.X,GoogleAuthProvider:te.W,OAuthProvider:te.Y,SAMLAuthProvider:te.Z,PhoneAuthProvider:qi,PhoneMultiFactorGenerator:te.m,RecaptchaVerifier:St,TwitterAuthProvider:te._,Auth:Wi,AuthCredential:te.K,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),O.registerVersion("@firebase/auth-compat","0.4.8")}($.Z)},5861:(kt,Be,P)=>{function u(te,H,fe,Ce,Te,de,Ie){try{var le=te[de](Ie),_e=le.value}catch(Me){return void fe(Me)}le.done?H(_e):Promise.resolve(_e).then(Ce,Te)}function $(te){return function(){var H=this,fe=arguments;return new Promise(function(Ce,Te){var de=te.apply(H,fe);function Ie(_e){u(de,Ce,Te,Ie,le,"next",_e)}function le(_e){u(de,Ce,Te,Ie,le,"throw",_e)}Ie(void 0)})}}P.d(Be,{Z:()=>$})},7582:(kt,Be,P)=>{function H(Ge,Ye){var Qe={};for(var Xe in Ge)Object.prototype.hasOwnProperty.call(Ge,Xe)&&Ye.indexOf(Xe)<0&&(Qe[Xe]=Ge[Xe]);if(null!=Ge&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(Xe=Object.getOwnPropertySymbols(Ge);$e<Xe.length;$e++)Ye.indexOf(Xe[$e])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Xe[$e])&&(Qe[Xe[$e]]=Ge[Xe[$e]])}return Qe}function Me(Ge,Ye,Qe,Xe){return new(Qe||(Qe=Promise))(function(at,Pe){function wt(Gn){try{tn(Xe.next(Gn))}catch(In){Pe(In)}}function Bn(Gn){try{tn(Xe.throw(Gn))}catch(In){Pe(In)}}function tn(Gn){Gn.done?at(Gn.value):function $e(at){return at instanceof Qe?at:new Qe(function(Pe){Pe(at)})}(Gn.value).then(wt,Bn)}tn((Xe=Xe.apply(Ge,Ye||[])).next())})}function me(Ge){return this instanceof me?(this.v=Ge,this):new me(Ge)}function Le(Ge,Ye,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Xe=Qe.apply(Ge,Ye||[]),at=[];return $e={},Pe("next"),Pe("throw"),Pe("return"),$e[Symbol.asyncIterator]=function(){return this},$e;function Pe(En){Xe[En]&&($e[En]=function(On){return new Promise(function(ni,Un){at.push([En,On,ni,Un])>1||wt(En,On)})})}function wt(En,On){try{!function Bn(En){En.value instanceof me?Promise.resolve(En.value.v).then(tn,Gn):In(at[0][2],En)}(Xe[En](On))}catch(ni){In(at[0][3],ni)}}function tn(En){wt("next",En)}function Gn(En){wt("throw",En)}function In(En,On){En(On),at.shift(),at.length&&wt(at[0][0],at[0][1])}}function Je(Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Ye=Ge[Symbol.asyncIterator];return Ye?Ye.call(Ge):(Ge=function ot(Ge){var Ye="function"==typeof Symbol&&Symbol.iterator,Qe=Ye&&Ge[Ye],Xe=0;if(Qe)return Qe.call(Ge);if(Ge&&"number"==typeof Ge.length)return{next:function(){return Ge&&Xe>=Ge.length&&(Ge=void 0),{value:Ge&&Ge[Xe++],done:!Ge}}};throw new TypeError(Ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ge),Qe={},Xe("next"),Xe("throw"),Xe("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function Xe(at){Qe[at]=Ge[at]&&function(Pe){return new Promise(function(wt,Bn){!function $e(at,Pe,wt,Bn){Promise.resolve(Bn).then(function(tn){at({value:tn,done:wt})},Pe)}(wt,Bn,(Pe=Ge[at](Pe)).done,Pe.value)})}}}P.d(Be,{FC:()=>Le,KL:()=>Je,_T:()=>H,mG:()=>Me,qq:()=>me}),"function"==typeof SuppressedError&&SuppressedError}},kt=>{kt(kt.s=7551)}]);