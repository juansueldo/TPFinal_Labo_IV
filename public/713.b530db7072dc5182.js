"use strict";(self.webpackChunkTPFinal_Labo_IV=self.webpackChunkTPFinal_Labo_IV||[]).push([[713],{713:(U,p,s)=>{s.r(p),s.d(p,{LoginModule:()=>P});var u=s(6814),c=s(7488),t=s(5879),g=s(953);let m=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-login"]],decls:20,vars:0,consts:[[1,"container-web"],[1,"row"],[1,"title"],[1,"col-md-12","col-lg-6"],[1,"container-sections"],["src","../../../assets/especialista.png"],["routerLink","login-especialista",1,"btn","btn-primary"],["src","../../../assets/paciente.png"],["routerLink","login-paciente",1,"btn","btn-primary"]],template:function(e,a){1&e&&(t._UZ(0,"app-navbar"),t.TgZ(1,"div",0)(2,"div",1)(3,"h2",2),t._uU(4,"Seleccione el tipo de usario"),t.qZA(),t.TgZ(5,"div",3)(6,"div",4),t._UZ(7,"img",5),t.TgZ(8,"h2"),t._uU(9,"Ingresar como especialista"),t.qZA(),t.TgZ(10,"button",6),t._uU(11,"Especialista"),t.qZA()()(),t.TgZ(12,"div",3)(13,"div",4),t._UZ(14,"img",7),t.TgZ(15,"h2"),t._uU(16,"Ingresar como paciente"),t.qZA(),t.TgZ(17,"button",8),t._uU(18,"Paciente"),t.qZA()()()()(),t._UZ(19,"router-outlet"))},dependencies:[c.lC,c.rH,g.S],styles:[".row[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{height:350px}.title[_ngcontent-%COMP%]{text-align:center}.container-sections[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.btn[_ngcontent-%COMP%]{width:150px}.col-md-12[_ngcontent-%COMP%]{cursor:pointer}"]})}return i})(),h=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-login-especialista"]],decls:2,vars:0,template:function(e,a){1&e&&(t.TgZ(0,"p"),t._uU(1,"login-especialista works!"),t.qZA())}})}return i})();var d=s(5861),r=s(6223),v=s(2333),f=s(3712),b=s(5235),Z=s(9255),C=s(6890);const T=[{path:"",component:m},{path:"login-especialista",component:h},{path:"login-paciente",component:(()=>{class i{constructor(n,e,a,o,l){this.auth=n,this.snackBar=e,this.router=a,this.pacientesService=o,this.especialistaService=l,this.alerta="",this.hide=!0,this.loading=!1,this.formLogin=new r.cw({email:new r.NI(null,{validators:[r.kI.email],updateOn:"change"}),clave:new r.NI("",{validators:[r.kI.minLength(6)],updateOn:"change"})})}ngOnInit(){this.pacientesService.obtenerPacientes().subscribe(n=>{this.listaPacientes=n,console.log(this.listaPacientes)}),this.especialistaService.obtenerEspecialistas().subscribe(n=>{this.listaEspecialistas=n,console.log(this.listaEspecialistas)})}onSubmit(){var n=this;if(this.formLogin.invalid)return;this.loading=!0;const e=new Date;e.toLocaleDateString(),e.toLocaleTimeString(),this.auth.login(this.email,this.clave).then(function(){var o=(0,d.Z)(function*(l){n.buscarUsuarioPorMailPassword(n.email),n.alerta=`Bienvenido ${n.email}`,n.snackBar.showSnackBar(n.alerta,"cerrar",5e3),n.router.navigate(["bienvenido"]),n.formLogin.reset()});return function(l){return o.apply(this,arguments)}}(),o=>{this.loading=!1,console.log(o.message),"Firebase: The password is invalid or the user does not have a password. (auth/wrong-password)."===o.message&&(this.alerta="Contrase\xf1a incorrecta vuelva a intentar"),"Firebase: There is no user record corresponding to this identifier. The user may have been deleted. (auth/user-not-found)."===o.message&&(this.alerta="Usuario incorrecto vuelva a intentar"),"Firebase: Error (auth/invalid-login-credentials)."===o.message&&(this.alerta="Usuario invalido"),"Firebase: Error (auth/network-request-failed)."===o.message&&(this.alerta="Debe validar su cuenta"),this.snackBar.showSnackBar(this.alerta,"cerrar",5e3)})}get email(){return this.formLogin.controls.email}get clave(){return this.formLogin.controls.clave}buscarUsuarioPorMailPassword(n){let e=null;return this.pacientes.forEach(a=>{a.email==n&&(e=a,console.log(e))}),this.especialistas.forEach(a=>{a.email==n&&(e=a,console.log(e))}),e}static#t=this.\u0275fac=function(e){return new(e||i)(t.Y36(v.e),t.Y36(f.o),t.Y36(c.F0),t.Y36(b.d),t.Y36(Z.n))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-login-paciente"]],decls:22,vars:7,consts:[[1,"container"],[1,"center-content"],["src","../../../../assets/logo.png","alt",""],[1,"header__navbar__logo"],["id","color",1,"header__navbar__logo__span--green"],[3,"formGroup","submit"],[1,"row"],[1,"col-md-12"],["divClass","mb-4","label","Email","controlName","email","type","mail"],[1,"invalid-feedback"],["divClass","mb-4","label","Clave","controlName","clave","type","password"],[1,"btn","btn-primary","position"]],template:function(e,a){1&e&&(t._UZ(0,"app-navbar"),t.TgZ(1,"div",0)(2,"div",1),t._UZ(3,"img",2)(4,"br"),t.TgZ(5,"a",3),t._uU(6,"On"),t.TgZ(7,"span",4),t._uU(8,"Line"),t.qZA()(),t.TgZ(9,"h2"),t._uU(10,"Ingrese con su cuenta"),t.qZA(),t.TgZ(11,"form",5),t.NdJ("submit",function(){return a.onSubmit()}),t.TgZ(12,"div",6)(13,"div",7)(14,"app-custom-input",8)(15,"small",9),t._uU(16,"Email invalido (solo letras)"),t.qZA()(),t.TgZ(17,"app-custom-input",10)(18,"small",9),t._uU(19,"Clave invalida"),t.qZA()()()(),t.TgZ(20,"button",11),t._uU(21,"Enviar"),t.qZA()()()()),2&e&&(t.xp6(11),t.Q6J("formGroup",a.formLogin),t.xp6(3),t.Gre("form-control ",a.email.errors?"is-invalid":"",""),t.xp6(3),t.Gre("form-control ",a.clave.errors?"is-invalid":"",""))},dependencies:[r._Y,r.JL,r.sg,C.O,g.S],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.center-content[_ngcontent-%COMP%]{margin-top:90px;width:50%;text-align:center}app-custom-input[_ngcontent-%COMP%]{padding:70px}img[_ngcontent-%COMP%]{height:150px;margin-bottom:20px}.invalid-feedback[_ngcontent-%COMP%]{padding:0;margin:0}.position[_ngcontent-%COMP%]{position:relative;width:100%}"]})}return i})()}];let y=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(T),c.Bz]})}return i})();var L=s(6208);let P=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[u.ez,y,r.UX,L.m]})}return i})()}}]);