"use strict";(self.webpackChunkTPFinal_Labo_IV=self.webpackChunkTPFinal_Labo_IV||[]).push([[767],{767:(k,l,o)=>{o.r(l),o.d(l,{LoginModule:()=>L});var u=o(6814),s=o(6223),c=o(7488),d=o(3921),r=o(6825),t=o(5879),m=o(2333),p=o(3712),h=o(5235),g=o(9255),v=o(5565),f=o(2759),x=o(6890),b=o(7290),C=o(953);function _(a,P){if(1&a){const i=t.EpF();t.TgZ(0,"div")(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),t._UZ(5,"img",7)(6,"br"),t.TgZ(7,"a",8),t._uU(8,"On"),t.TgZ(9,"span",9),t._uU(10,"Line"),t.qZA()(),t.TgZ(11,"h2"),t._uU(12,"Ingrese con su cuenta"),t.qZA(),t.TgZ(13,"form",10),t.NdJ("submit",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.onSubmit())}),t.TgZ(14,"div",4)(15,"div",11)(16,"app-custom-input",12)(17,"small",13),t._uU(18,"Email invalido (solo letras)"),t.qZA()(),t.TgZ(19,"app-custom-input",14)(20,"small",13),t._uU(21,"Clave invalida"),t.qZA()()()(),t.TgZ(22,"button",15),t._uU(23,"Enviar"),t.qZA()()()(),t.TgZ(24,"div",5)(25,"h2",6),t._uU(26,"Acceso R\xe1pido"),t.qZA(),t.TgZ(27,"div",16)(28,"div",17)(29,"h5"),t._uU(30,"Pacientes"),t.qZA(),t.TgZ(31,"div",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.autoComplete("lgxegi00cc@rfcdrive.com","123456"))}),t._UZ(32,"img",19),t.qZA(),t.TgZ(33,"div",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.autoComplete("andres@tippabble.com","123456"))}),t._UZ(34,"img",19),t.qZA(),t.TgZ(35,"div",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.autoComplete("3zdl0h9p1z@rfcdrive.com","123456"))}),t._UZ(36,"img",19),t.qZA()(),t.TgZ(37,"div",17)(38,"h5"),t._uU(39,"Especialistas"),t.qZA(),t.TgZ(40,"div",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.autoComplete("gregoryhouse597@gmail.com","123456"))}),t._UZ(41,"img",20),t.qZA(),t.TgZ(42,"div",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.autoComplete("xidifyhnukvzeiusls@cazlq.com","123456"))}),t._UZ(43,"img",20),t.qZA()(),t.TgZ(44,"div",17)(45,"h5"),t._uU(46,"Administrador"),t.qZA(),t.TgZ(47,"div",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.autoComplete("juan.sueldo1989@gmail.com","123456"))}),t._UZ(48,"img",21),t.qZA()()()()()()()}if(2&a){const i=t.oxw();t.Q6J("@fadeInOut",void 0),t.xp6(13),t.Q6J("formGroup",i.formLogin),t.xp6(3),t.Gre("form-control ",i.email.errors?"is-invalid":"",""),t.xp6(3),t.Gre("form-control ",i.clave.errors?"is-invalid":"",""),t.xp6(13),t.s9C("src",i.mostrarFoto("lgxegi00cc@rfcdrive.com"),t.LSH),t.xp6(2),t.s9C("src",i.mostrarFoto("andres@tippabble.com"),t.LSH),t.xp6(2),t.s9C("src",i.mostrarFoto("3zdl0h9p1z@rfcdrive.com"),t.LSH),t.xp6(5),t.s9C("src",i.mostrarFoto("gregoryhouse597@gmail.com"),t.LSH),t.xp6(2),t.s9C("src",i.mostrarFoto("xidifyhnukvzeiusls@cazlq.com"),t.LSH),t.xp6(5),t.s9C("src",i.mostrarFoto("juan.sueldo1989@gmail.com"),t.LSH)}}const Z=[{path:"",component:(()=>{class a{constructor(i,e,n,U,w,M,O){this.auth=i,this.snackBar=e,this.router=n,this.pacientesService=U,this.especialistaService=w,this.adminService=M,this.usuariosService=O,this.alerta="",this.hide=!0,this.loading=!1,this.formLogin=new s.cw({email:new s.NI(null,{validators:[s.kI.email],updateOn:"change"}),clave:new s.NI("",{validators:[s.kI.minLength(6)],updateOn:"change"})})}ngOnInit(){this.pacientesService.obtenerPacientes().subscribe(i=>{this.listaPacientes=i}),this.especialistaService.obtenerEspecialistas().subscribe(i=>{this.listaEspecialistas=i}),this.adminService.obtenerAdmins().subscribe(i=>{this.listaAdmins=i}),setTimeout(()=>{this.hide=!1},2500),this.cargarUsuario()}cargarUsuario(){this.user=this.usuariosService.getUsuario()}onSubmit(){this.formLogin.invalid?this.snackBar.showSnackBar("Debe completar los datos","cerrar",5e3,!1):(this.hide=!0,this.auth.login(this.email.value,this.clave.value).then(i=>{let e=this.usuariosService.buscarUsuarioPorMail(this.email.value);console.log(e),this.alerta=`Bienvenido ${e.nombre} ${e.apellido}`,this.snackBar.showSnackBar(this.alerta,"cerrar",5e3,!0),this.auth.autha.currentUser.emailVerified?"paciente"===e.tipo?(this.usuariosService.setUsuario(e.tipo,e),this.router.navigate(["/mi-perfil"])):"admin"===e.tipo?(this.usuariosService.setUsuario(e.tipo,e),this.router.navigate(["/seccion-usuarios"])):"especialista"===e.tipo?e.estados.registro==d.X.aceptado?(this.usuariosService.setUsuario(e.tipo,e),this.router.navigate(["/mi-perfil"])):this.snackBar.showSnackBar("Su cuenta esta pendiente de aprobaci\xf3n","cerrar",5e3,!1):this.snackBar.showSnackBar("Ocurri\xf3 un error al ingresar, intente nuevamente","cerrar",5e3,!1):this.snackBar.showSnackBar("Debe confirmar su cuenta.","cerrar",5e3,!1),this.hide=!1,this.formLogin.reset()},i=>{this.hide=!1,"Firebase: The password is invalid or the user does not have a password. (auth/wrong-password)."===i.message&&(this.alerta="Contrase\xf1a incorrecta vuelva a intentar"),"Firebase: There is no user record corresponding to this identifier. The user may have been deleted. (auth/user-not-found)."===i.message&&(this.alerta="Usuario incorrecto vuelva a intentar"),"Firebase: Error (auth/invalid-login-credentials)."===i.message&&(this.alerta="Usuario y/o contrase\xf1a inv\xe1lida"),"Firebase: Error (auth/network-request-failed)."===i.message&&(this.alerta="Debe validar su cuenta"),this.snackBar.showSnackBar(this.alerta,"cerrar",5e3,!1)}))}get email(){return this.formLogin.controls.email}get clave(){return this.formLogin.controls.clave}autoComplete(i,e){this.formLogin.setValue({email:i,clave:e})}mostrarFoto(i){return this.usuariosService.buscarUsuarioPorMail(i).img_1}static#t=this.\u0275fac=function(e){return new(e||a)(t.Y36(m.e),t.Y36(p.o),t.Y36(c.F0),t.Y36(h.d),t.Y36(g.n),t.Y36(v.l),t.Y36(f.J))};static#i=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-login"]],decls:3,vars:4,consts:[[3,"showButtons","usuario"],[3,"showSpinner"],[4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-md-6","mt-5"],[1,"mt-5"],["src","../../../../assets/logo.png","alt",""],[1,"header__navbar__logo"],["id","color",1,"header__navbar__logo__span--green"],[3,"formGroup","submit"],[1,"col-md-12"],["divClass","mb-4","label","Email","controlName","email","type","mail"],[1,"invalid-feedback"],["divClass","mb-4","label","Clave","controlName","clave","type","password"],[1,"btn","btn-primary","position"],[1,"d-flex","flex-row"],[1,"d-inline-block"],[1,"btn","btn-outline","square-button",3,"click"],["alt","",1,"foto","paciente-btn",3,"src"],["alt","",1,"foto","especialista-btn",3,"src"],["alt","",1,"foto","admin-btn",3,"src"]],template:function(e,n){1&e&&(t._UZ(0,"app-navbar",0)(1,"app-spinner",1),t.YNc(2,_,49,14,"div",2)),2&e&&(t.Q6J("showButtons",!0)("usuario",n.user),t.xp6(1),t.Q6J("showSpinner",n.hide),t.xp6(1),t.Q6J("ngIf",!n.hide))},dependencies:[u.O5,s._Y,s.JL,s.sg,x.O,b.O,C.S],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.center-content[_ngcontent-%COMP%]{margin-top:70px;width:50%;text-align:center}app-custom-input[_ngcontent-%COMP%]{padding:70px}img[_ngcontent-%COMP%]{height:100px;margin-bottom:20px}.invalid-feedback[_ngcontent-%COMP%]{padding:0;margin:0}.position[_ngcontent-%COMP%]{position:relative;width:100%}span[_ngcontent-%COMP%]{margin:10px}.d-inline-block[_ngcontent-%COMP%]{width:160px}.btn-outline[_ngcontent-%COMP%]{height:85px;width:85px;margin-bottom:10px;display:flex;align-items:center;justify-content:center}.paciente-btn[_ngcontent-%COMP%]{border:2px solid rgb(182,11,11)}.especialista-btn[_ngcontent-%COMP%]{border:2px solid green}.admin-btn[_ngcontent-%COMP%]{border:2px solid purple}.foto[_ngcontent-%COMP%]{margin-top:15px;height:70px;width:70px;border-radius:5px;box-shadow:10px 10px 10px #000000bf;-webkit-box-shadow:10px 10px 10px 0px rgba(0,0,0,.75);-moz-box-shadow:10px 10px 10px 0px rgba(0,0,0,.75)}.foto[_ngcontent-%COMP%]:hover{transition:all .5s;transform:scale(1.5)}.card[_ngcontent-%COMP%]{width:180px;padding:5px}"],data:{animation:[(0,r.X$)("fadeInOut",[(0,r.SB)("void",(0,r.oB)({opacity:0})),(0,r.eR)("void <=> *",(0,r.jt)(1500))])]}})}return a})()}];let S=(()=>{class a{static#t=this.\u0275fac=function(e){return new(e||a)};static#i=this.\u0275mod=t.oAB({type:a});static#e=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(Z),c.Bz]})}return a})();var T=o(6208);let L=(()=>{class a{static#t=this.\u0275fac=function(e){return new(e||a)};static#i=this.\u0275mod=t.oAB({type:a});static#e=this.\u0275inj=t.cJS({imports:[u.ez,S,s.UX,T.m]})}return a})()}}]);