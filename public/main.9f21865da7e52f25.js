"use strict";(self.webpackChunkTPFinal_Labo_IV=self.webpackChunkTPFinal_Labo_IV||[]).push([[179],{3560:(jt,He,x)=>{x.d(He,{$:()=>zr,A:()=>ce,C:()=>Xt,E:()=>De,J:()=>as,K:()=>qo,M:()=>yr,P:()=>gc,Q:()=>tt,R:()=>Ga,U:()=>Yo,V:()=>wr,W:()=>Br,X:()=>Ho,Y:()=>Yr,Z:()=>va,_:()=>_i,a:()=>hc,a0:()=>fs,a1:()=>uc,a2:()=>ja,a3:()=>ba,a4:()=>za,a5:()=>so,a6:()=>Nl,a7:()=>ll,a8:()=>cl,a9:()=>Nc,aA:()=>Ce,aB:()=>Te,aC:()=>$l,aD:()=>V,aE:()=>Rt,aF:()=>Zs,aG:()=>Ld,aH:()=>zl,aI:()=>un,aM:()=>Lo,aP:()=>Ur,aa:()=>Co,ab:()=>Ia,ac:()=>ul,ad:()=>kl,ae:()=>ao,af:()=>Ha,ag:()=>Ca,aj:()=>T,ak:()=>z,al:()=>X,ao:()=>No,ap:()=>Pi,ar:()=>lu,as:()=>Fd,at:()=>Zt,au:()=>Re,av:()=>re,aw:()=>ue,ax:()=>_l,ay:()=>vu,az:()=>wt,b:()=>Ll,c:()=>uo,d:()=>vs,e:()=>Sa,f:()=>gl,g:()=>ma,h:()=>qa,i:()=>de,j:()=>Pa,k:()=>Os,l:()=>Hh,m:()=>Hc,o:()=>Xs,p:()=>se,r:()=>Ju,s:()=>zh,u:()=>pu});var c=x(5861),F=x(9058),H=x(534),he=x(7879),j=x(7582),ye=x(4537);const se={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const De=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Je=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qe=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new he.Yd("@firebase/auth");function Ye(b,...p){qe.logLevel<=he.in.ERROR&&qe.error(`Auth (${H.SDK_VERSION}): ${b}`,...p)}function ue(b,...p){throw Xe(b,...p)}function Ce(b,...p){return Xe(b,...p)}function Me(b,p,_){const D=Object.assign(Object.assign({},Je()),{[p]:_});return new F.LL("auth","Firebase",D).create(p,{appName:b.name})}function Le(b,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&ue(b,"argument-error"),Me(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(b,...p){if("string"!=typeof b){const _=p[0],D=[...p.slice(1)];return D[0]&&(D[0].appName=b.name),b._errorFactory.create(_,...D)}return Qe.create(b,...p)}function Te(b,p,..._){if(!b)throw Xe(p,..._)}function Nt(b){const p="INTERNAL ASSERTION FAILED: "+b;throw Ye(p),new Error(p)}function Zt(b,p){b||Nt(p)}function nn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function hn(){return"http:"===Un()||"https:"===Un()}function Un(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class ft{constructor(p,_){this.shortDelay=p,this.longDelay=_,Zt(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Hn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(hn()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ht(b,p){Zt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class oe{static initialize(p,_,D){this.fetchImpl=p,_&&(this.headersImpl=_),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Pe=new ft(3e4,6e4);function je(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Ke(b,p,_,D){return $e.apply(this,arguments)}function $e(){return($e=(0,c.Z)(function*(b,p,_,D,Q={}){return Ge(b,Q,(0,c.Z)(function*(){let fe={},st={};D&&("GET"===p?st=D:fe={body:JSON.stringify(D)});const Mt=(0,F.xO)(Object.assign({key:b.config.apiKey},st)).slice(1),rn=yield b._getAdditionalHeaders();return rn["Content-Type"]="application/json",b.languageCode&&(rn["X-Firebase-Locale"]=b.languageCode),oe.fetch()(qn(b,b.config.apiHost,_,Mt),Object.assign({method:p,headers:rn,referrerPolicy:"no-referrer"},fe))}))})).apply(this,arguments)}function Ge(b,p,_){return kt.apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(b,p,_){b._canInitEmulator=!1;const D=Object.assign(Object.assign({},ve),p);try{const Q=new Gn(b),fe=yield Promise.race([_(),Q.promise]);Q.clearNetworkTimeout();const st=yield fe.json();if("needConfirmation"in st)throw Zn(b,"account-exists-with-different-credential",st);if(fe.ok&&!("errorMessage"in st))return st;{const Mt=fe.ok?st.errorMessage:st.error.message,[rn,zn]=Mt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rn)throw Zn(b,"credential-already-in-use",st);if("EMAIL_EXISTS"===rn)throw Zn(b,"email-already-in-use",st);if("USER_DISABLED"===rn)throw Zn(b,"user-disabled",st);const ln=D[rn]||rn.toLowerCase().replace(/[_\s]+/g,"-");if(zn)throw Me(b,ln,zn);ue(b,ln)}}catch(Q){if(Q instanceof F.ZR)throw Q;ue(b,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function Nn(b,p,_,D){return En.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(b,p,_,D,Q={}){const fe=yield Ke(b,p,_,D,Q);return"mfaPendingCredential"in fe&&ue(b,"multi-factor-auth-required",{_serverResponse:fe}),fe})).apply(this,arguments)}function qn(b,p,_,D){const Q=`${p}${_}?${D}`;return b.config.emulator?ht(b.config,Q):`${b.config.apiScheme}://${Q}`}function An(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,D)=>{this.timer=setTimeout(()=>D(Ce(this.auth,"network-request-failed")),Pe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zn(b,p,_){const D={appName:b.name};_.email&&(D.email=_.email),_.phoneNumber&&(D.phoneNumber=_.phoneNumber);const Q=Ce(b,p,D);return Q.customData._tokenResponse=_,Q}function ni(b){return void 0!==b&&void 0!==b.getResponse}function ri(b){return void 0!==b&&void 0!==b.enterprise}class wi{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===p)return An(_.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function Ni(){return(Ni=(0,c.Z)(function*(b){return(yield Ke(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gi(b,p){return ge.apply(this,arguments)}function ge(){return(ge=(0,c.Z)(function*(b,p){return Ke(b,"GET","/v2/recaptchaConfig",je(b,p))})).apply(this,arguments)}function vt(){return(vt=(0,c.Z)(function*(b,p){return Ke(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(b,p){return Ke(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(b,p){return Ke(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function sn(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Oe(){return(Oe=(0,c.Z)(function*(b,p=!1){const _=(0,F.m9)(b),D=yield _.getIdToken(p),Q=at(D);Te(Q&&Q.exp&&Q.auth_time&&Q.iat,_.auth,"internal-error");const fe="object"==typeof Q.firebase?Q.firebase:void 0,st=fe?.sign_in_provider;return{claims:Q,token:D,authTime:sn(pt(Q.auth_time)),issuedAtTime:sn(pt(Q.iat)),expirationTime:sn(pt(Q.exp)),signInProvider:st||null,signInSecondFactor:fe?.sign_in_second_factor||null}})).apply(this,arguments)}function pt(b){return 1e3*Number(b)}function at(b){const[p,_,D]=b.split(".");if(void 0===p||void 0===_||void 0===D)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,F.tV)(_);return Q?JSON.parse(Q):(Ye("Failed to decode base64 JWT payload"),null)}catch(Q){return Ye("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function Ft(b,p){return an.apply(this,arguments)}function an(){return(an=(0,c.Z)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(D){throw D instanceof F.ZR&&function kn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(D)&&b.auth.currentUser===b&&(yield b.auth.signOut()),D}})).apply(this,arguments)}class gt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const Q=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const D=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),D)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class Ze{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=sn(this.lastLoginAt),this.creationTime=sn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ae(b){return et.apply(this,arguments)}function et(){return et=(0,c.Z)(function*(b){var p;const _=b.auth,D=yield b.getIdToken(),Q=yield Ft(b,function ut(b,p){return Vt.apply(this,arguments)}(_,{idToken:D}));Te(Q?.users.length,_,"internal-error");const fe=Q.users[0];b._notifyReloadListener(fe);const st=null!==(p=fe.providerUserInfo)&&void 0!==p&&p.length?function oi(b){return b.map(p=>{var{providerId:_}=p,D=(0,j._T)(p,["providerId"]);return{providerId:_,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(fe.providerUserInfo):[],Mt=function Ln(b,p){return[...b.filter(D=>!p.some(Q=>Q.providerId===D.providerId)),...p]}(b.providerData,st),ln=!!b.isAnonymous&&!(b.email&&fe.passwordHash||Mt?.length),Zi={uid:fe.localId,displayName:fe.displayName||null,photoURL:fe.photoUrl||null,email:fe.email||null,emailVerified:fe.emailVerified||!1,phoneNumber:fe.phoneNumber||null,tenantId:fe.tenantId||null,providerData:Mt,metadata:new Ze(fe.createdAt,fe.lastLoginAt),isAnonymous:ln};Object.assign(b,Zi)}),et.apply(this,arguments)}function Qt(){return(Qt=(0,c.Z)(function*(b){const p=(0,F.m9)(b);yield Ae(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(b,p){const _=yield Ge(b,{},(0,c.Z)(function*(){const D=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:Q,apiKey:fe}=b.config,st=qn(b,Q,"/v1/token",`key=${fe}`),Mt=yield b._getAdditionalHeaders();return Mt["Content-Type"]="application/x-www-form-urlencoded",oe.fetch()(st,{method:"POST",headers:Mt,body:D})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Te(p.idToken,"internal-error"),Te(typeof p.idToken<"u","internal-error"),Te(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Jt(b){const p=at(b);return Te(p,"internal-error"),Te(typeof p.exp<"u","internal-error"),Te(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var D=this;return(0,c.Z)(function*(){return Te(!D.accessToken||D.refreshToken,p,"user-token-expired"),_||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(p,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var D=this;return(0,c.Z)(function*(){const{accessToken:Q,refreshToken:fe,expiresIn:st}=yield function ki(b,p){return zt.apply(this,arguments)}(p,_);D.updateTokensAndExpiration(Q,fe,Number(st))})()}updateTokensAndExpiration(p,_,D){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(p,_){const{refreshToken:D,accessToken:Q,expirationTime:fe}=_,st=new ie;return D&&(Te("string"==typeof D,"internal-error",{appName:p}),st.refreshToken=D),Q&&(Te("string"==typeof Q,"internal-error",{appName:p}),st.accessToken=Q),fe&&(Te("number"==typeof fe,"internal-error",{appName:p}),st.expirationTime=fe),st}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new ie,this.toJSON())}_performRefresh(){return Nt("not implemented")}}function B(b,p){Te("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class N{constructor(p){var{uid:_,auth:D,stsTokenManager:Q}=p,fe=(0,j._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=D,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=fe.displayName||null,this.email=fe.email||null,this.emailVerified=fe.emailVerified||!1,this.phoneNumber=fe.phoneNumber||null,this.photoURL=fe.photoURL||null,this.isAnonymous=fe.isAnonymous||!1,this.tenantId=fe.tenantId||null,this.providerData=fe.providerData?[...fe.providerData]:[],this.metadata=new Ze(fe.createdAt||void 0,fe.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,c.Z)(function*(){const D=yield Ft(_,_.stsTokenManager.getToken(_.auth,p));return Te(D,_.auth,"internal-error"),_.accessToken!==D&&(_.accessToken=D,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),D})()}getIdTokenResult(p){return function xt(b){return Oe.apply(this,arguments)}(this,p)}reload(){return function Dt(b){return Qt.apply(this,arguments)}(this)}_assign(p){this!==p&&(Te(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new N(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var D=this;return(0,c.Z)(function*(){let Q=!1;p.idToken&&p.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(p),Q=!0),_&&(yield Ae(D)),yield D.auth._persistUserIfCurrent(D),Q&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var p=this;return(0,c.Z)(function*(){const _=yield p.getIdToken();return yield Ft(p,function _t(b,p){return vt.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var D,Q,fe,st,Mt,rn,zn,ln;const Zi=null!==(D=_.displayName)&&void 0!==D?D:void 0,To=null!==(Q=_.email)&&void 0!==Q?Q:void 0,tl=null!==(fe=_.phoneNumber)&&void 0!==fe?fe:void 0,wc=null!==(st=_.photoURL)&&void 0!==st?st:void 0,ql=null!==(Mt=_.tenantId)&&void 0!==Mt?Mt:void 0,C=null!==(rn=_._redirectEventId)&&void 0!==rn?rn:void 0,g=null!==(zn=_.createdAt)&&void 0!==zn?zn:void 0,h=null!==(ln=_.lastLoginAt)&&void 0!==ln?ln:void 0,{uid:y,emailVerified:k,isAnonymous:q,providerData:pe,stsTokenManager:Fe}=_;Te(y&&Fe,p,"internal-error");const rt=ie.fromJSON(this.name,Fe);Te("string"==typeof y,p,"internal-error"),B(Zi,p.name),B(To,p.name),Te("boolean"==typeof k,p,"internal-error"),Te("boolean"==typeof q,p,"internal-error"),B(tl,p.name),B(wc,p.name),B(ql,p.name),B(C,p.name),B(g,p.name),B(h,p.name);const At=new N({uid:y,auth:p,email:To,emailVerified:k,displayName:Zi,isAnonymous:q,photoURL:wc,phoneNumber:tl,tenantId:ql,stsTokenManager:rt,createdAt:g,lastLoginAt:h});return pe&&Array.isArray(pe)&&(At.providerData=pe.map(bn=>Object.assign({},bn))),C&&(At._redirectEventId=C),At}static _fromIdTokenResponse(p,_,D=!1){return(0,c.Z)(function*(){const Q=new ie;Q.updateFromServerResponse(_);const fe=new N({uid:_.localId,auth:p,stsTokenManager:Q,isAnonymous:D});return yield Ae(fe),fe})()}}const O=new Map;function V(b){Zt(b instanceof Function,"Expected a class definition");let p=O.get(b);return p?(Zt(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,O.set(b,p),p)}const tt=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,D){var Q=this;return(0,c.Z)(function*(){Q.storage[_]=D})()}_get(_){var D=this;return(0,c.Z)(function*(){const Q=D.storage[_];return void 0===Q?null:Q})()}_remove(_){var D=this;return(0,c.Z)(function*(){delete D.storage[_]})()}_addListener(_,D){}_removeListener(_,D){}}return b.type="NONE",b})();function Rt(b,p,_){return`firebase:${b}:${p}:${_}`}class $t{constructor(p,_,D){this.persistence=p,this.auth=_,this.userKey=D;const{config:Q,name:fe}=this.auth;this.fullUserKey=Rt(this.userKey,Q.apiKey,fe),this.fullPersistenceKey=Rt("persistence",Q.apiKey,fe),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?N._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,c.Z)(function*(){if(_.persistence===p)return;const D=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,D?_.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,D="authUser"){return(0,c.Z)(function*(){if(!_.length)return new $t(V(tt),p,D);const Q=(yield Promise.all(_.map(function(){var zn=(0,c.Z)(function*(ln){if(yield ln._isAvailable())return ln});return function(ln){return zn.apply(this,arguments)}}()))).filter(zn=>zn);let fe=Q[0]||V(tt);const st=Rt(D,p.config.apiKey,p.name);let Mt=null;for(const zn of _)try{const ln=yield zn._get(st);if(ln){const Zi=N._fromJSON(p,ln);zn!==fe&&(Mt=Zi),fe=zn;break}}catch{}const rn=Q.filter(zn=>zn._shouldAllowMigration);return fe._shouldAllowMigration&&rn.length?(fe=rn[0],Mt&&(yield fe._set(st,Mt.toJSON())),yield Promise.all(_.map(function(){var zn=(0,c.Z)(function*(ln){if(ln!==fe)try{yield ln._remove(st)}catch{}});return function(ln){return zn.apply(this,arguments)}}())),new $t(fe,p,D)):new $t(fe,p,D)})()}}function Kt(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(mt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(fn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ne(p))return"Blackberry";if(xe(p))return"Webos";if(Cn(p))return"Safari";if((p.includes("chrome/")||Jn(p))&&!p.includes("edge/"))return"Chrome";if(re(p))return"Android";{const D=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function fn(b=(0,F.z$)()){return/firefox\//i.test(b)}function Cn(b=(0,F.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Jn(b=(0,F.z$)()){return/crios\//i.test(b)}function mt(b=(0,F.z$)()){return/iemobile/i.test(b)}function re(b=(0,F.z$)()){return/android/i.test(b)}function Ne(b=(0,F.z$)()){return/blackberry/i.test(b)}function xe(b=(0,F.z$)()){return/webos/i.test(b)}function Re(b=(0,F.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function wt(b=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function ze(b=(0,F.z$)()){return Re(b)||re(b)||xe(b)||Ne(b)||/windows phone/i.test(b)||mt(b)}function te(b,p=[]){let _;switch(b){case"Browser":_=Kt((0,F.z$)());break;case"Worker":_=`${Kt((0,F.z$)())}-${b}`;break;default:_=b}const D=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${H.SDK_VERSION}/${D}`}class Ie{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const D=fe=>new Promise((st,Mt)=>{try{st(p(fe))}catch(rn){Mt(rn)}});D.onAbort=_,this.queue.push(D);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,c.Z)(function*(){if(_.auth.currentUser===p)return;const D=[];try{for(const Q of _.queue)yield Q(p),Q.onAbort&&D.push(Q.onAbort)}catch(Q){D.reverse();for(const fe of D)try{fe()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}function dt(){return(dt=(0,c.Z)(function*(b,p={}){return Ke(b,"GET","/v2/passwordPolicy",je(b,p))})).apply(this,arguments)}class cn{constructor(p){var _,D,Q,fe;const st=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=st.minPasswordLength)&&void 0!==_?_:6,st.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=st.maxPasswordLength),void 0!==st.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=st.containsLowercaseCharacter),void 0!==st.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=st.containsUppercaseCharacter),void 0!==st.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=st.containsNumericCharacter),void 0!==st.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=st.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(D=p.allowedNonAlphanumericCharacters)||void 0===D?void 0:D.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(fe=p.forceUpgradeOnSignin)&&void 0!==fe&&fe,this.schemaVersion=p.schemaVersion}validatePassword(p){var _,D,Q,fe,st,Mt;const rn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,rn),this.validatePasswordCharacterOptions(p,rn),rn.isValid&&(rn.isValid=null===(_=rn.meetsMinPasswordLength)||void 0===_||_),rn.isValid&&(rn.isValid=null===(D=rn.meetsMaxPasswordLength)||void 0===D||D),rn.isValid&&(rn.isValid=null===(Q=rn.containsLowercaseLetter)||void 0===Q||Q),rn.isValid&&(rn.isValid=null===(fe=rn.containsUppercaseLetter)||void 0===fe||fe),rn.isValid&&(rn.isValid=null===(st=rn.containsNumericCharacter)||void 0===st||st),rn.isValid&&(rn.isValid=null===(Mt=rn.containsNonAlphanumericCharacter)||void 0===Mt||Mt),rn}validatePasswordLengthOptions(p,_){const D=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;D&&(_.meetsMinPasswordLength=p.length>=D),Q&&(_.meetsMaxPasswordLength=p.length<=Q)}validatePasswordCharacterOptions(p,_){let D;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let Q=0;Q<p.length;Q++)D=p.charAt(Q),this.updatePasswordCharacterOptionsStatuses(_,D>="a"&&D<="z",D>="A"&&D<="Z",D>="0"&&D<="9",this.allowedNonAlphanumericCharacters.includes(D))}updatePasswordCharacterOptionsStatuses(p,_,D,Q,fe){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=D)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=fe))}}class _n{constructor(p,_,D,Q){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=D,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pn(this),this.idTokenSubscription=new Pn(this),this.beforeStateQueue=new Ie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(p,_){var D=this;return _&&(this._popupRedirectResolver=V(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var Q,fe;if(!D._deleted&&(D.persistenceManager=yield $t.create(D,p),!D._deleted)){if(null!==(Q=D._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(_),D.lastNotifiedUid=(null===(fe=D.currentUser)||void 0===fe?void 0:fe.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,c.Z)(function*(){var D;const Q=yield _.assertedPersistence.getCurrentUser();let fe=Q,st=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Mt=null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId,rn=fe?._redirectEventId,zn=yield _.tryRedirectSignIn(p);(!Mt||Mt===rn)&&zn?.user&&(fe=zn.user,st=!0)}if(!fe)return _.directlySetCurrentUser(null);if(!fe._redirectEventId){if(st)try{yield _.beforeStateQueue.runMiddleware(fe)}catch(Mt){fe=Q,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Mt))}return fe?_.reloadAndSetCurrentUserOrClear(fe):_.directlySetCurrentUser(null)}return Te(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===fe._redirectEventId?_.directlySetCurrentUser(fe):_.reloadAndSetCurrentUserOrClear(fe)})()}tryRedirectSignIn(p){var _=this;return(0,c.Z)(function*(){let D=null;try{D=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,c.Z)(function*(){try{yield Ae(p)}catch(D){if("auth/network-request-failed"!==D?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function on(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,c.Z)(function*(){const D=p?(0,F.m9)(p):null;return D&&Te(D.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(D&&D._clone(_))})()}_updateCurrentUser(p,_=!1){var D=this;return(0,c.Z)(function*(){if(!D._deleted)return p&&Te(D.tenantId===p.tenantId,D,"tenant-id-mismatch"),_||(yield D.beforeStateQueue.runMiddleware(p)),D.queue((0,c.Z)(function*(){yield D.directlySetCurrentUser(p),D.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(V(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var _=this;return(0,c.Z)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const D=_._getPasswordPolicyInternal();return D.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):D.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,c.Z)(function*(){const _=yield function nt(b){return dt.apply(this,arguments)}(p),D=new cn(_);null===p.tenantId?p._projectPasswordPolicy=D:p._tenantPasswordPolicies[p.tenantId]=D})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,_,D){return this.registerStateListener(this.authStateSubscription,p,_,D)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,D){return this.registerStateListener(this.idTokenSubscription,p,_,D)}authStateReady(){return new Promise((p,_)=>{if(this.currentUser)p();else{const D=this.onAuthStateChanged(()=>{D(),p()},_)}})}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var D=this;return(0,c.Z)(function*(){const Q=yield D.getOrInitRedirectPersistenceManager(_);return null===p?Q.removeCurrentUser():Q.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const D=p&&V(p)||_._popupRedirectResolver;Te(D,_,"argument-error"),_.redirectPersistenceManager=yield $t.create(_,[V(D._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,c.Z)(function*(){var D,Q;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(D=_._currentUser)||void 0===D?void 0:D._redirectEventId)===p?_._currentUser:(null===(Q=_.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,c.Z)(function*(){if(p===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,D,Q){if(this._deleted)return()=>{};const fe="function"==typeof _?_:_.next.bind(_);let st=!1;const Mt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(Mt,this,"internal-error"),Mt.then(()=>{st||fe(this.currentUser)}),"function"==typeof _){const rn=p.addObserver(_,D,Q);return()=>{st=!0,rn()}}{const rn=p.addObserver(_);return()=>{st=!0,rn()}}}directlySetCurrentUser(p){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=te(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var _;const D={"X-Client-Version":p.clientVersion};p.app.options.appId&&(D["X-Firebase-gmpid"]=p.app.options.appId);const Q=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();Q&&(D["X-Firebase-Client"]=Q);const fe=yield p._getAppCheckToken();return fe&&(D["X-Firebase-AppCheck"]=fe),D})()}_getAppCheckToken(){var p=this;return(0,c.Z)(function*(){var _;const D=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return D?.error&&function Lt(b,...p){qe.logLevel<=he.in.WARN&&qe.warn(`Auth (${H.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function un(b){return(0,F.m9)(b)}class Pn{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(_=>this.observer=_)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function li(b){return new Promise((p,_)=>{const D=document.createElement("script");D.setAttribute("src",b),D.onload=p,D.onerror=Q=>{const fe=Ce("internal-error");fe.customData=Q,_(fe)},D.type="text/javascript",D.charset="UTF-8",function jn(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(D)})}function pi(b){return`__${b}${Math.floor(1e6*Math.random())}`}class vn{constructor(p){this.type="recaptcha-enterprise",this.auth=un(p)}verify(p="verify",_=!1){var D=this;return(0,c.Z)(function*(){function fe(){return fe=(0,c.Z)(function*(Mt){if(!_){if(null==Mt.tenantId&&null!=Mt._agentRecaptchaConfig)return Mt._agentRecaptchaConfig.siteKey;if(null!=Mt.tenantId&&void 0!==Mt._tenantRecaptchaConfigs[Mt.tenantId])return Mt._tenantRecaptchaConfigs[Mt.tenantId].siteKey}return new Promise(function(){var rn=(0,c.Z)(function*(zn,ln){gi(Mt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Zi=>{if(void 0!==Zi.recaptchaKey){const To=new wi(Zi);return null==Mt.tenantId?Mt._agentRecaptchaConfig=To:Mt._tenantRecaptchaConfigs[Mt.tenantId]=To,zn(To.siteKey)}ln(new Error("recaptcha Enterprise site key undefined"))}).catch(Zi=>{ln(Zi)})});return function(zn,ln){return rn.apply(this,arguments)}}())}),fe.apply(this,arguments)}function st(Mt,rn,zn){const ln=window.grecaptcha;ri(ln)?ln.enterprise.ready(()=>{ln.enterprise.execute(Mt,{action:p}).then(Zi=>{rn(Zi)}).catch(()=>{rn("NO_RECAPTCHA")})}):zn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Mt,rn)=>{(function Q(Mt){return fe.apply(this,arguments)})(D.auth).then(zn=>{if(!_&&ri(window.grecaptcha))st(zn,Mt,rn);else{if(typeof window>"u")return void rn(new Error("RecaptchaVerifier is only supported in browser"));li("https://www.google.com/recaptcha/enterprise.js?render="+zn).then(()=>{st(zn,Mt,rn)}).catch(ln=>{rn(ln)})}}).catch(zn=>{rn(zn)})})})()}}function tn(b,p,_){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(b,p,_,D=!1){const Q=new vn(b);let fe;try{fe=yield Q.verify(_)}catch{fe=yield Q.verify(_,!0)}const st=Object.assign({},p);return Object.assign(st,D?{captchaResp:fe}:{captchaResponse:fe}),Object.assign(st,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(st,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),st})).apply(this,arguments)}function $n(b,p,_,D){return sr.apply(this,arguments)}function sr(){return sr=(0,c.Z)(function*(b,p,_,D){var Q;if(null!==(Q=b._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const fe=yield tn(b,p,_,"getOobCode"===_);return D(b,fe)}return D(b,p).catch(function(){var fe=(0,c.Z)(function*(st){if("auth/missing-recaptcha-token"===st.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Mt=yield tn(b,p,_,"getOobCode"===_);return D(b,Mt)}return Promise.reject(st)});return function(st){return fe.apply(this,arguments)}}())}),sr.apply(this,arguments)}function as(b,p,_){const D=un(b);Te(D._canInitEmulator,D,"emulator-config-failed"),Te(/^https?:\/\//.test(p),D,"invalid-emulator-scheme");const Q=!!_?.disableWarnings,fe=Ko(p),{host:st,port:Mt}=function Lr(b){const p=Ko(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const D=_[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(D);if(Q){const fe=Q[1];return{host:fe,port:Vs(D.substr(fe.length+1))}}{const[fe,st]=D.split(":");return{host:fe,port:Vs(st)}}}(p);D.config.emulator={url:`${fe}//${st}${null===Mt?"":`:${Mt}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:st,port:Mt,protocol:fe.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function Bs(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Ko(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Vs(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class qo{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return Nt("not implemented")}_getIdTokenResponse(p){return Nt("not implemented")}_linkToIdToken(p,_){return Nt("not implemented")}_getReauthenticationResolver(p){return Nt("not implemented")}}function Bo(b,p){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(b,p){return Ke(b,"POST","/v1/accounts:resetPassword",je(b,p))})).apply(this,arguments)}function Kr(b,p){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(b,p){return Ke(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function jo(){return(jo=(0,c.Z)(function*(b,p){return Ke(b,"POST","/v1/accounts:update",je(b,p))})).apply(this,arguments)}function Us(b,p){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signInWithPassword",je(b,p))})).apply(this,arguments)}function pr(b,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,c.Z)(function*(b,p){return Ke(b,"POST","/v1/accounts:sendOobCode",je(b,p))})).apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(b,p){return pr(b,p)})).apply(this,arguments)}function vo(b,p){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(b,p){return pr(b,p)})).apply(this,arguments)}function Oi(b,p){return zo.apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(b,p){return pr(b,p)})).apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(b,p){return pr(b,p)})).apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signInWithEmailLink",je(b,p))})).apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signInWithEmailLink",je(b,p))})).apply(this,arguments)}class yo extends qo{constructor(p,_,D,Q=null){super("password",D),this._email=p,this._password=_,this._tenantId=Q}static _fromEmailAndPassword(p,_){return new yo(p,_,"password")}static _fromEmailAndCode(p,_,D=null){return new yo(p,_,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return $n(p,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Us);case"emailLink":return function wn(b,p){return ii.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:ue(p,"internal-error")}})()}_linkToIdToken(p,_){var D=this;return(0,c.Z)(function*(){switch(D.signInMethod){case"password":return Kr(p,{idToken:_,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function $i(b,p){return Vr.apply(this,arguments)}(p,{idToken:_,email:D._email,oobCode:D._password});default:ue(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Wi(b,p){return no.apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signInWithIdp",je(b,p))})).apply(this,arguments)}class yr extends qo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new yr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):ue("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:D,signInMethod:Q}=_,fe=(0,j._T)(_,["providerId","signInMethod"]);if(!D||!Q)return null;const st=new yr(D,Q);return st.idToken=fe.idToken||void 0,st.accessToken=fe.accessToken||void 0,st.secret=fe.secret,st.nonce=fe.nonce,st.pendingToken=fe.pendingToken||null,st}_getIdTokenResponse(p){return Wi(p,this.buildRequest())}_linkToIdToken(p,_){const D=this.buildRequest();return D.idToken=_,Wi(p,D)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Wi(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,F.xO)(_)}return p}}function ei(){return(ei=(0,c.Z)(function*(b,p){return Ke(b,"POST","/v1/accounts:sendVerificationCode",je(b,p))})).apply(this,arguments)}function Is(){return(Is=(0,c.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signInWithPhoneNumber",je(b,p))})).apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(b,p){const _=yield Nn(b,"POST","/v1/accounts:signInWithPhoneNumber",je(b,p));if(_.temporaryProof)throw Zn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const ra={USER_NOT_FOUND:"user-not-found"};function mo(){return(mo=(0,c.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signInWithPhoneNumber",je(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ra)})).apply(this,arguments)}class io extends qo{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new io({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new io({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function bo(b,p){return Is.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function cs(b,p){return Gi.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function us(b,p){return mo.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:D,verificationCode:Q}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:D,code:Q}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:D,phoneNumber:Q,temporaryProof:fe}=p;return D||_||Q||fe?new io({verificationId:_,verificationCode:D,phoneNumber:Q,temporaryProof:fe}):null}}class qr{constructor(p){var _,D,Q,fe,st,Mt;const rn=(0,F.zd)((0,F.pd)(p)),zn=null!==(_=rn.apiKey)&&void 0!==_?_:null,ln=null!==(D=rn.oobCode)&&void 0!==D?D:null,Zi=function _a(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=rn.mode)&&void 0!==Q?Q:null);Te(zn&&ln&&Zi,"argument-error"),this.apiKey=zn,this.operation=Zi,this.code=ln,this.continueUrl=null!==(fe=rn.continueUrl)&&void 0!==fe?fe:null,this.languageCode=null!==(st=rn.languageCode)&&void 0!==st?st:null,this.tenantId=null!==(Mt=rn.tenantId)&&void 0!==Mt?Mt:null}static parseLink(p){const _=function Oo(b){const p=(0,F.zd)((0,F.pd)(b)).link,_=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,D=(0,F.zd)((0,F.pd)(b)).deep_link_id;return(D?(0,F.zd)((0,F.pd)(D)).link:null)||D||_||p||b}(p);try{return new qr(_)}catch{return null}}}let Yo=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,D){return yo._fromEmailAndPassword(_,D)}static credentialWithLink(_,D){const Q=qr.parseLink(D);return Te(Q,"argument-error"),yo._fromEmailAndCode(_,Q.code,Q.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Yn{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ws extends Yn{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Yr extends ws{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return Te("providerId"in _&&"signInMethod"in _,"argument-error"),yr._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Te(p.idToken||p.accessToken,"argument-error"),yr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Yr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Yr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:D,oauthTokenSecret:Q,pendingToken:fe,nonce:st,providerId:Mt}=p;if(!D&&!Q&&!_&&!fe||!Mt)return null;try{return new Yr(Mt)._credential({idToken:_,accessToken:D,nonce:st,pendingToken:fe})}catch{return null}}}let wr=(()=>{class b extends ws{constructor(){super("facebook.com")}static credential(_){return yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Br=(()=>{class b extends ws{constructor(){super("google.com"),this.addScope("profile")}static credential(_,D){return yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:D})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:D,oauthAccessToken:Q}=_;if(!D&&!Q)return null;try{return b.credential(D,Q)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ho=(()=>{class b extends ws{constructor(){super("github.com")}static credential(_){return yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Ur extends qo{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Wi(p,this.buildRequest())}_linkToIdToken(p,_){const D=this.buildRequest();return D.idToken=_,Wi(p,D)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Wi(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:D,signInMethod:Q,pendingToken:fe}=_;return D&&Q&&fe&&D===Q?new Ur(D,fe):null}static _create(p,_){return new Ur(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class va extends Yn{constructor(p){Te(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return va.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return va.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Ur.fromJSON(p);return Te(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:D}=p;if(!_||!D)return null;try{return Ur._create(D,_)}catch{return null}}}let _i=(()=>{class b extends ws{constructor(){super("twitter.com")}static credential(_,D){return yr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:D})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:D,oauthTokenSecret:Q}=_;if(!D||!Q)return null;try{return b.credential(D,Q)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function dr(b,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signUp",je(b,p))})).apply(this,arguments)}class jr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,D,Q=!1){return(0,c.Z)(function*(){const fe=yield N._fromIdTokenResponse(p,D,Q),st=Zo(D);return new jr({user:fe,providerId:st,_tokenResponse:D,operationType:_})})()}static _forOperation(p,_,D){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(D,!0);const Q=Zo(D);return new jr({user:p,providerId:Q,_tokenResponse:D,operationType:_})})()}}function Zo(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function zr(b){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,c.Z)(function*(b){var p;const _=un(b);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new jr({user:_.currentUser,providerId:null,operationType:"signIn"});const D=yield dr(_,{returnSecureToken:!0}),Q=yield jr._fromIdTokenResponse(_,"signIn",D,!0);return yield _._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Zr extends F.ZR{constructor(p,_,D,Q){var fe;super(_.code,_.message),this.operationType=D,this.user=Q,Object.setPrototypeOf(this,Zr.prototype),this.customData={appName:p.name,tenantId:null!==(fe=p.tenantId)&&void 0!==fe?fe:void 0,_serverResponse:_.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(p,_,D,Q){return new Zr(p,_,D,Q)}}function Qo(b,p,_,D){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(fe=>{throw"auth/multi-factor-auth-required"===fe.code?Zr._fromErrorAndOperation(b,fe,p,D):fe})}function sl(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function No(b,p){return Y.apply(this,arguments)}function Y(){return Y=(0,c.Z)(function*(b,p){const _=(0,F.m9)(b);yield _e(!0,_,p);const{providerUserInfo:D}=yield function ct(b,p){return Ot.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),Q=sl(D||[]);return _.providerData=_.providerData.filter(fe=>Q.has(fe.providerId)),Q.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Y.apply(this,arguments)}function J(b,p){return U.apply(this,arguments)}function U(){return(U=(0,c.Z)(function*(b,p,_=!1){const D=yield Ft(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return jr._forOperation(b,"link",D)})).apply(this,arguments)}function _e(b,p,_){return We.apply(this,arguments)}function We(){return(We=(0,c.Z)(function*(b,p,_){yield Ae(p);const Q=!1===b?"provider-already-linked":"no-such-provider";Te(sl(p.providerData).has(_)===b,p.auth,Q)})).apply(this,arguments)}function Wn(b,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(b,p,_=!1){const{auth:D}=b,Q="reauthenticate";try{const fe=yield Ft(b,Qo(D,Q,p,b),_);Te(fe.idToken,D,"internal-error");const st=at(fe.idToken);Te(st,D,"internal-error");const{sub:Mt}=st;return Te(b.uid===Mt,D,"user-mismatch"),jr._forOperation(b,Q,fe)}catch(fe){throw"auth/user-not-found"===fe?.code&&ue(D,"user-mismatch"),fe}})).apply(this,arguments)}function Io(b,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(b,p,_=!1){const D="signIn",Q=yield Qo(b,D,p),fe=yield jr._fromIdTokenResponse(b,D,Q);return _||(yield b._updateCurrentUser(fe.user)),fe})).apply(this,arguments)}function fs(b,p){return cc.apply(this,arguments)}function cc(){return(cc=(0,c.Z)(function*(b,p){return Io(un(b),p)})).apply(this,arguments)}function uc(b,p){return oa.apply(this,arguments)}function oa(){return(oa=(0,c.Z)(function*(b,p){const _=(0,F.m9)(b);return yield _e(!1,_,p.providerId),J(_,p)})).apply(this,arguments)}function ja(b,p){return js.apply(this,arguments)}function js(){return(js=(0,c.Z)(function*(b,p){return Wn((0,F.m9)(b),p)})).apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signInWithCustomToken",je(b,p))})).apply(this,arguments)}function ba(b,p){return wo.apply(this,arguments)}function wo(){return wo=(0,c.Z)(function*(b,p){const _=un(b),D=yield function al(b,p){return ya.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),Q=yield jr._fromIdTokenResponse(_,"signIn",D);return yield _._updateCurrentUser(Q.user),Q}),wo.apply(this,arguments)}class Cr{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?xs._fromServerResponse(p,_):"totpInfo"in _?zs._fromServerResponse(p,_):ue(p,"internal-error")}}class xs extends Cr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new xs(_)}}class zs extends Cr{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new zs(_)}}function Dr(b,p,_){var D;Te((null===(D=_.url)||void 0===D?void 0:D.length)>0,b,"invalid-continue-uri"),Te(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Te(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(Te(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Ts(b){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(b){const p=un(b);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function za(b,p,_){return ps.apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(b,p,_){const D=un(b),Q={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};_&&Dr(D,Q,_),yield $n(D,Q,"getOobCode",vo)})).apply(this,arguments)}function so(b,p,_){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,c.Z)(function*(b,p,_){yield Bo((0,F.m9)(b),{oobCode:p,newPassword:_}).catch(function(){var D=(0,c.Z)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&Ts(b),Q});return function(Q){return D.apply(this,arguments)}}())}),Ea.apply(this,arguments)}function Nl(b,p){return Hs.apply(this,arguments)}function Hs(){return Hs=(0,c.Z)(function*(b,p){yield function to(b,p){return jo.apply(this,arguments)}((0,F.m9)(b),{oobCode:p})}),Hs.apply(this,arguments)}function ll(b,p){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)(function*(b,p){const _=(0,F.m9)(b),D=yield Bo(_,{oobCode:p}),Q=D.requestType;switch(Te(Q,_,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(D.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(D.mfaInfo,_,"internal-error");default:Te(D.email,_,"internal-error")}let fe=null;return D.mfaInfo&&(fe=Cr._fromServerResponse(un(_),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:fe},operation:Q}})).apply(this,arguments)}function cl(b,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(b,p){const{data:_}=yield ll((0,F.m9)(b),p);return _.email})).apply(this,arguments)}function Nc(b,p,_){return sa.apply(this,arguments)}function sa(){return(sa=(0,c.Z)(function*(b,p,_){const D=un(b),st=yield $n(D,{returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dr).catch(rn=>{throw"auth/password-does-not-meet-requirements"===rn.code&&Ts(b),rn}),Mt=yield jr._fromIdTokenResponse(D,"signIn",st);return yield D._updateCurrentUser(Mt.user),Mt})).apply(this,arguments)}function Co(b,p,_){return fs((0,F.m9)(b),Yo.credential(p,_)).catch(function(){var D=(0,c.Z)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&Ts(b),Q});return function(Q){return D.apply(this,arguments)}}())}function Ia(b,p,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(b,p,_){const D=un(b),Q={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function fe(st,Mt){Te(Mt.handleCodeInApp,D,"argument-error"),Mt&&Dr(D,st,Mt)})(Q,_),yield $n(D,Q,"getOobCode",Oi)})).apply(this,arguments)}function ul(b,p){const _=qr.parseLink(p);return"EMAIL_SIGNIN"===_?.operation}function kl(b,p,_){return dl.apply(this,arguments)}function dl(){return(dl=(0,c.Z)(function*(b,p,_){const D=(0,F.m9)(b),Q=Yo.credentialWithLink(p,_||nn());return Te(Q._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),fs(D,Q)})).apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(b,p){return Ke(b,"POST","/v1/accounts:createAuthUri",je(b,p))})).apply(this,arguments)}function ao(b,p){return la.apply(this,arguments)}function la(){return la=(0,c.Z)(function*(b,p){const D={identifier:p,continueUri:hn()?nn():"http://localhost"},{signinMethods:Q}=yield function $s(b,p){return ko.apply(this,arguments)}((0,F.m9)(b),D);return Q||[]}),la.apply(this,arguments)}function Ha(b,p){return wa.apply(this,arguments)}function wa(){return wa=(0,c.Z)(function*(b,p){const _=(0,F.m9)(b),Q={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Dr(_.auth,Q,p);const{email:fe}=yield function Rr(b,p){return ur.apply(this,arguments)}(_.auth,Q);fe!==b.email&&(yield b.reload())}),wa.apply(this,arguments)}function Ca(b,p,_){return $a.apply(this,arguments)}function $a(){return $a=(0,c.Z)(function*(b,p,_){const D=(0,F.m9)(b),fe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};_&&Dr(D.auth,fe,_);const{email:st}=yield function Po(b,p){return ji.apply(this,arguments)}(D.auth,fe);st!==b.email&&(yield b.reload())}),$a.apply(this,arguments)}function hl(){return(hl=(0,c.Z)(function*(b,p){return Ke(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function T(b,p){return ne.apply(this,arguments)}function ne(){return ne=(0,c.Z)(function*(b,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const D=(0,F.m9)(b),fe={idToken:yield D.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},st=yield Ft(D,function Fo(b,p){return hl.apply(this,arguments)}(D.auth,fe));D.displayName=st.displayName||null,D.photoURL=st.photoUrl||null;const Mt=D.providerData.find(({providerId:rn})=>"password"===rn);Mt&&(Mt.displayName=D.displayName,Mt.photoURL=D.photoURL),yield D._updateTokensIfNecessary(st)}),ne.apply(this,arguments)}function z(b,p){return Be((0,F.m9)(b),p,null)}function X(b,p){return Be((0,F.m9)(b),null,p)}function Be(b,p,_){return St.apply(this,arguments)}function St(){return(St=(0,c.Z)(function*(b,p,_){const{auth:D}=b,fe={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(fe.email=p),_&&(fe.password=_);const st=yield Ft(b,Kr(D,fe));yield b._updateTokensIfNecessary(st,!0)})).apply(this,arguments)}class Fn{constructor(p,_,D={}){this.isNewUser=p,this.providerId=_,this.profile=D}}class tr extends Fn{constructor(p,_,D,Q){super(p,_,D),this.username=Q}}class Yi extends Fn{constructor(p,_){super(p,"facebook.com",_)}}class Bi extends tr{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Qn extends Fn{constructor(p,_){super(p,"google.com",_)}}class ir extends tr{constructor(p,_,D){super(p,"twitter.com",_,D)}}function Pi(b){const{user:p,_tokenResponse:_}=b;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Bt(b){var p,_;if(!b)return null;const{providerId:D}=b,Q=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},fe=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!D&&b?.idToken){const st=null===(_=null===(p=at(b.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(st)return new Fn(fe,"anonymous"!==st&&"custom"!==st?st:null)}if(!D)return null;switch(D){case"facebook.com":return new Yi(fe,Q);case"github.com":return new Bi(fe,Q);case"google.com":return new Qn(fe,Q);case"twitter.com":return new ir(fe,Q,b.screenName||null);case"custom":case"anonymous":return new Fn(fe,null);default:return new Fn(fe,D,Q)}}(_)}function Xt(b){return(0,F.m9)(b).signOut()}class Fi{constructor(p,_,D){this.type=p,this.credential=_,this.user=D}static _fromIdtoken(p,_){return new Fi("enroll",p,_)}static _fromMfaPendingCredential(p){return new Fi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,D;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Fi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(D=p.multiFactorSession)&&void 0!==D&&D.idToken)return Fi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class kc{constructor(p,_,D){this.session=p,this.hints=_,this.signInResolver=D}static _fromError(p,_){const D=un(p),Q=_.customData._serverResponse,fe=(Q.mfaInfo||[]).map(Mt=>Cr._fromServerResponse(D,Mt));Te(Q.mfaPendingCredential,D,"internal-error");const st=Fi._fromMfaPendingCredential(Q.mfaPendingCredential);return new kc(st,fe,function(){var Mt=(0,c.Z)(function*(rn){const zn=yield rn._process(D,st);delete Q.mfaInfo,delete Q.mfaPendingCredential;const ln=Object.assign(Object.assign({},Q),{idToken:zn.idToken,refreshToken:zn.refreshToken});switch(_.operationType){case"signIn":const Zi=yield jr._fromIdTokenResponse(D,_.operationType,ln);return yield D._updateCurrentUser(Zi.user),Zi;case"reauthenticate":return Te(_.user,D,"internal-error"),jr._forOperation(_.user,_.operationType,ln);default:ue(D,"internal-error")}});return function(rn){return Mt.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,c.Z)(function*(){return _.signInResolver(p)})()}}function lu(b,p){var _;const D=(0,F.m9)(b),Q=p;return Te(p.customData.operationType,D,"argument-error"),Te(null===(_=Q.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,D,"argument-error"),kc._fromError(D,Q)}class Ks{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(D=>Cr._fromServerResponse(p.auth,D)))})}static _fromUser(p){return new Ks(p)}getSession(){var p=this;return(0,c.Z)(function*(){return Fi._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,_){var D=this;return(0,c.Z)(function*(){const Q=p,fe=yield D.getSession(),st=yield Ft(D.user,Q._process(D.user.auth,fe,_));return yield D.user._updateTokensIfNecessary(st),D.user.reload()})()}unenroll(p){var _=this;return(0,c.Z)(function*(){const D="string"==typeof p?p:p.uid,Q=yield _.user.getIdToken();try{const fe=yield Ft(_.user,function Gs(b,p){return Ke(b,"POST","/v2/accounts/mfaEnrollment:withdraw",je(b,p))}(_.user.auth,{idToken:Q,mfaEnrollmentId:D}));_.enrolledFactors=_.enrolledFactors.filter(({uid:st})=>st!==D),yield _.user._updateTokensIfNecessary(fe),yield _.user.reload()}catch(fe){throw fe}})()}}const uu=new WeakMap;function Fd(b){const p=(0,F.m9)(b);return uu.has(p)||uu.set(p,Ks._fromUser(p)),uu.get(p)}const xa="__sak";class ti{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(xa,"1"),this.storage.removeItem(xa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ll=(()=>{class b extends ti{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,D)=>this.onStorageEvent(_,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ca(){const b=(0,F.z$)();return Cn(b)||Re(b)}()&&function ee(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ze(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const D of Object.keys(this.listeners)){const Q=this.storage.getItem(D),fe=this.localCache[D];Q!==fe&&_(D,fe,Q)}}onStorageEvent(_,D=!1){if(!_.key)return void this.forAllChangedKeys((Mt,rn,zn)=>{this.notifyListeners(Mt,zn)});const Q=_.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Mt=this.storage.getItem(Q);if(_.newValue!==Mt)null!==_.newValue?this.storage.setItem(Q,_.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===_.newValue&&!D)return}const fe=()=>{const Mt=this.storage.getItem(Q);!D&&this.localCache[Q]===Mt||this.notifyListeners(Q,Mt)},st=this.storage.getItem(Q);!function pn(){return(0,F.w1)()&&10===document.documentMode}()||st===_.newValue||_.newValue===_.oldValue?fe():setTimeout(fe,10)}notifyListeners(_,D){this.localCache[_]=D;const Q=this.listeners[_];if(Q)for(const fe of Array.from(Q))fe(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,D,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:D,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,D){var Q=()=>super._set,fe=this;return(0,c.Z)(function*(){yield Q().call(fe,_,D),fe.localCache[_]=JSON.stringify(D)})()}_get(_){var D=()=>super._get,Q=this;return(0,c.Z)(function*(){const fe=yield D().call(Q,_);return Q.localCache[_]=JSON.stringify(fe),fe})()}_remove(_){var D=()=>super._remove,Q=this;return(0,c.Z)(function*(){yield D().call(Q,_),delete Q.localCache[_]})()}}return b.type="LOCAL",b})(),hc=(()=>{class b extends ti{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,D){}_removeListener(_,D){}}return b.type="SESSION",b})();let Dn=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const D=this.receivers.find(fe=>fe.isListeningto(_));if(D)return D;const Q=new b(_);return this.receivers.push(Q),Q}isListeningto(_){return this.eventTarget===_}handleEvent(_){var D=this;return(0,c.Z)(function*(){const Q=_,{eventId:fe,eventType:st,data:Mt}=Q.data,rn=D.handlersMap[st];if(!rn?.size)return;Q.ports[0].postMessage({status:"ack",eventId:fe,eventType:st});const zn=Array.from(rn).map(function(){var Zi=(0,c.Z)(function*(To){return To(Q.origin,Mt)});return function(To){return Zi.apply(this,arguments)}}()),ln=yield function gr(b){return Promise.all(b.map(function(){var p=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(D){return{fulfilled:!1,reason:D}}});return function(_){return p.apply(this,arguments)}}()))}(zn);Q.ports[0].postMessage({status:"done",eventId:fe,eventType:st,response:ln})})()}_subscribe(_,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(D)}_unsubscribe(_,D){this.handlersMap[_]&&D&&this.handlersMap[_].delete(D),(!D||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Lo(b="",p=10){let _="";for(let D=0;D<p;D++)_+=Math.floor(10*Math.random());return b+_}class fc{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,D=50){var Q=this;return(0,c.Z)(function*(){const fe=typeof MessageChannel<"u"?new MessageChannel:null;if(!fe)throw new Error("connection_unavailable");let st,Mt;return new Promise((rn,zn)=>{const ln=Lo("",20);fe.port1.start();const Zi=setTimeout(()=>{zn(new Error("unsupported_event"))},D);Mt={messageChannel:fe,onMessage(To){const tl=To;if(tl.data.eventId===ln)switch(tl.data.status){case"ack":clearTimeout(Zi),st=setTimeout(()=>{zn(new Error("timeout"))},3e3);break;case"done":clearTimeout(st),rn(tl.data.response);break;default:clearTimeout(Zi),clearTimeout(st),zn(new Error("invalid_response"))}}},Q.handlers.add(Mt),fe.port1.addEventListener("message",Mt.onMessage),Q.target.postMessage({eventType:p,eventId:ln,data:_},[fe.port2])}).finally(()=>{Mt&&Q.removeMessageHandler(Mt)})})()}}function hr(){return window}function Xo(){return typeof hr().WorkerGlobalScope<"u"&&"function"==typeof hr().importScripts}function Ht(){return(Ht=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Do="firebaseLocalStorageDb",Ta="firebaseLocalStorage",ms="fbase_key";class rr{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Wa(b,p){return b.transaction([Ta],p?"readwrite":"readonly").objectStore(Ta)}function pl(){const b=indexedDB.open(Do,1);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const D=b.result;try{D.createObjectStore(Ta,{keyPath:ms})}catch(Q){_(Q)}}),b.addEventListener("success",(0,c.Z)(function*(){const D=b.result;D.objectStoreNames.contains(Ta)?p(D):(D.close(),yield function Et(){const b=indexedDB.deleteDatabase(Do);return new rr(b).toPromise()}(),p(yield pl()))}))})}function gs(b,p,_){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,c.Z)(function*(b,p,_){const D=Wa(b,!0).put({[ms]:p,value:_});return new rr(D).toPromise()})).apply(this,arguments)}function w(){return(w=(0,c.Z)(function*(b,p){const _=Wa(b,!1).get(p),D=yield new rr(_).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function R(b,p){const _=Wa(b,!0).delete(p);return new rr(_).toPromise()}const de=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield pl()),_.db})()}_withRetries(_){var D=this;return(0,c.Z)(function*(){let Q=0;for(;;)try{const fe=yield D._openDb();return yield _(fe)}catch(fe){if(Q++>3)throw fe;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return Xo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=Dn._getInstance(function pc(){return Xo()?self:null}()),_.receiver._subscribe("keyChanged",function(){var D=(0,c.Z)(function*(Q,fe){return{keyProcessed:(yield _._poll()).includes(fe.key)}});return function(Q,fe){return D.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var D=(0,c.Z)(function*(Q,fe){return["keyChanged"]});return function(Q,fe){return D.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var D,Q;if(_.activeServiceWorker=yield function As(){return Ht.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new fc(_.activeServiceWorker);const fe=yield _.sender._send("ping",{},800);fe&&null!==(D=fe[0])&&void 0!==D&&D.fulfilled&&null!==(Q=fe[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var D=this;return(0,c.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Ui(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:_},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield pl();return yield gs(_,xa,"1"),yield R(_,xa),!0}catch{}return!1})()}_withPendingWrite(_){var D=this;return(0,c.Z)(function*(){D.pendingWrites++;try{yield _()}finally{D.pendingWrites--}})()}_set(_,D){var Q=this;return(0,c.Z)(function*(){return Q._withPendingWrite((0,c.Z)(function*(){return yield Q._withRetries(fe=>gs(fe,_,D)),Q.localCache[_]=D,Q.notifyServiceWorker(_)}))})()}_get(_){var D=this;return(0,c.Z)(function*(){const Q=yield D._withRetries(fe=>function Jr(b,p){return w.apply(this,arguments)}(fe,_));return D.localCache[_]=Q,Q})()}_remove(_){var D=this;return(0,c.Z)(function*(){return D._withPendingWrite((0,c.Z)(function*(){return yield D._withRetries(Q=>R(Q,_)),delete D.localCache[_],D.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const D=yield _._withRetries(st=>{const Mt=Wa(st,!1).getAll();return new rr(Mt).toPromise()});if(!D)return[];if(0!==_.pendingWrites)return[];const Q=[],fe=new Set;for(const{fbase_key:st,value:Mt}of D)fe.add(st),JSON.stringify(_.localCache[st])!==JSON.stringify(Mt)&&(_.notifyListeners(st,Mt),Q.push(st));for(const st of Object.keys(_.localCache))_.localCache[st]&&!fe.has(st)&&(_.notifyListeners(st,null),Q.push(st));return Q})()}notifyListeners(_,D){this.localCache[_]=D;const Q=this.listeners[_];if(Q)for(const fe of Array.from(Q))fe(D)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Ci=1e12;class zi{constructor(p){this.auth=p,this.counter=Ci,this._widgets=new Map}render(p,_){const D=this.counter;return this._widgets.set(D,new Ss(p,this.auth.name,_||{})),this.counter++,D}reset(p){var _;const D=p||Ci;null===(_=this._widgets.get(D))||void 0===_||_.delete(),this._widgets.delete(D)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Ci))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,c.Z)(function*(){var D;return null===(D=_._widgets.get(p||Ci))||void 0===D||D.execute(),""})()}}class Ss{constructor(p,_,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof p?document.getElementById(p):p;Te(Q,"argument-error",{appName:_}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function lo(b){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<b;D++)p.push(_.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ua=pi("rcb"),da=new ft(3e4,6e4);class Fc{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=hr().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return Te(function du(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&ni(hr().grecaptcha)?Promise.resolve(hr().grecaptcha):new Promise((D,Q)=>{const fe=hr().setTimeout(()=>{Q(Ce(p,"network-request-failed"))},da.get());hr()[ua]=()=>{hr().clearTimeout(fe),delete hr()[ua];const Mt=hr().grecaptcha;if(!Mt||!ni(Mt))return void Q(Ce(p,"internal-error"));const rn=Mt.render;Mt.render=(zn,ln)=>{const Zi=rn(zn,ln);return this.counter++,Zi},this.hostLanguage=_,D(Mt)},li(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:ua,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(fe),Q(Ce(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=hr().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mc{load(p){return(0,c.Z)(function*(){return new zi(p)})()}clearedOneInstance(){}}const hu="recaptcha",Wo={theme:"light",type:"image"};class Ga{constructor(p,_,D=Object.assign({},Wo)){this.parameters=D,this.type=hu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(p),this.isInvisible="invisible"===this.parameters.size,Te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof _?document.getElementById(_):_;Te(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mc:new Fc,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),D=p.getAssertedRecaptcha();return D.getResponse(_)||new Promise(fe=>{const st=Mt=>{Mt&&(p.tokenChangeListeners.delete(st),fe(Mt))};p.tokenChangeListeners.add(st),p.isInvisible&&D.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(D=>D(_)),"function"==typeof p)p(_);else if("string"==typeof p){const D=hr()[p];"function"==typeof D&&D(_)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const D=document.createElement("div");_.appendChild(D),_=D}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){Te(hn()&&!Xo(),p.auth,"internal-error"),yield function Hr(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function Si(b){return Ni.apply(this,arguments)}(p.auth);Te(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qu{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=io._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function zh(b,p,_){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,c.Z)(function*(b,p,_){const D=un(b),Q=yield Ms(D,p,(0,F.m9)(_));return new Qu(Q,fe=>fs(D,fe))})).apply(this,arguments)}function Hh(b,p,_){return fu.apply(this,arguments)}function fu(){return(fu=(0,c.Z)(function*(b,p,_){const D=(0,F.m9)(b);yield _e(!1,D,"phone");const Q=yield Ms(D.auth,p,(0,F.m9)(_));return new Qu(Q,fe=>uc(D,fe))})).apply(this,arguments)}function Ju(b,p,_){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,c.Z)(function*(b,p,_){const D=(0,F.m9)(b),Q=yield Ms(D.auth,p,(0,F.m9)(_));return new Qu(Q,fe=>ja(D,fe))})).apply(this,arguments)}function Ms(b,p,_){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,c.Z)(function*(b,p,_){var D;const Q=yield _.verify();try{let fe;if(Te("string"==typeof Q,b,"argument-error"),Te(_.type===hu,b,"argument-error"),fe="string"==typeof p?{phoneNumber:p}:p,"session"in fe){const st=fe.session;if("phoneNumber"in fe)return Te("enroll"===st.type,b,"internal-error"),(yield function Da(b,p){return Ke(b,"POST","/v2/accounts/mfaEnrollment:start",je(b,p))}(b,{idToken:st.credential,phoneEnrollmentInfo:{phoneNumber:fe.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{Te("signin"===st.type,b,"internal-error");const Mt=(null===(D=fe.multiFactorHint)||void 0===D?void 0:D.uid)||fe.multiFactorUid;return Te(Mt,b,"missing-multi-factor-info"),(yield function Ue(b,p){return Ke(b,"POST","/v2/accounts/mfaSignIn:start",je(b,p))}(b,{mfaPendingCredential:st.credential,mfaEnrollmentId:Mt,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:st}=yield function ls(b,p){return ei.apply(this,arguments)}(b,{phoneNumber:fe.phoneNumber,recaptchaToken:Q});return st}}finally{_._reset()}}),Lc.apply(this,arguments)}function pu(b,p){return ml.apply(this,arguments)}function ml(){return(ml=(0,c.Z)(function*(b,p){yield J((0,F.m9)(b),p)})).apply(this,arguments)}let gc=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=un(_)}verifyPhoneNumber(_,D){return Ms(this.auth,_,(0,F.m9)(D))}static credential(_,D){return io._fromVerification(_,D)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:D,temporaryProof:Q}=_;return D&&Q?io._fromTokenResponse(D,Q):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function fa(b,p){return p?V(p):(Te(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Ka extends qo{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Wi(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Wi(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Wi(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function co(b){return Io(b.auth,new Ka(b),b.bypassAuthState)}function mu(b){const{auth:p,user:_}=b;return Te(_,p,"internal-error"),Wn(_,new Ka(b),b.bypassAuthState)}function _s(b){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(b){const{auth:p,user:_}=b;return Te(_,p,"internal-error"),J(_,new Ka(b),b.bypassAuthState)})).apply(this,arguments)}class ar{constructor(p,_,D,Q,fe=!1){this.auth=p,this.resolver=D,this.user=Q,this.bypassAuthState=fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,c.Z)(function*(D,Q){p.pendingPromise={resolve:D,reject:Q};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(fe){p.reject(fe)}});return function(D,Q){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,c.Z)(function*(){const{urlResponse:D,sessionId:Q,postBody:fe,tenantId:st,error:Mt,type:rn}=p;if(Mt)return void _.reject(Mt);const zn={auth:_.auth,requestUri:D,sessionId:Q,tenantId:st||void 0,postBody:fe||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(rn)(zn))}catch(ln){_.reject(ln)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return co;case"linkViaPopup":case"linkViaRedirect":return _s;case"reauthViaPopup":case"reauthViaRedirect":return mu;default:ue(this.auth,"internal-error")}}resolve(p){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gu=new ft(2e3,1e4);function uo(b,p,_){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(b,p,_){const D=un(b);Le(b,p,Yn);const Q=fa(D,_);return new Ul(D,"signInViaPopup",p,Q).executeNotNull()})).apply(this,arguments)}function Sa(b,p,_){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,c.Z)(function*(b,p,_){const D=(0,F.m9)(b);Le(D.auth,p,Yn);const Q=fa(D.auth,_);return new Ul(D.auth,"reauthViaPopup",p,Q,D).executeNotNull()})).apply(this,arguments)}function vs(b,p,_){return ed.apply(this,arguments)}function ed(){return(ed=(0,c.Z)(function*(b,p,_){const D=(0,F.m9)(b);Le(D.auth,p,Yn);const Q=fa(D.auth,_);return new Ul(D.auth,"linkViaPopup",p,Q,D).executeNotNull()})).apply(this,arguments)}let Ul=(()=>{class b extends ar{constructor(_,D,Q,fe,st){super(_,D,fe,st),this.provider=Q,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const D=yield _.execute();return Te(D,_.auth,"internal-error"),D})()}onExecution(){var _=this;return(0,c.Z)(function*(){Zt(1===_.filter.length,"Popup operations only handle one event");const D=Lo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],D),_.authWindow.associatedEvent=D,_.resolver._originValidation(_.auth).catch(Q=>{_.reject(Q)}),_.resolver._isIframeWebStorageSupported(_.auth,Q=>{Q||_.reject(Ce(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var D,Q;this.pollId=null!==(Q=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,gu.get())};_()}}return b.currentPopupAction=null,b})();const Or="pendingRedirect",Vc=new Map;class qs extends ar{constructor(p,_,D=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,D),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,c.Z)(function*(){let D=Vc.get(_.auth._key());if(!D){try{const fe=(yield function Nr(b,p){return ys.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;D=()=>Promise.resolve(fe)}catch(Q){D=()=>Promise.reject(Q)}Vc.set(_.auth._key(),D)}return _.bypassAuthState||Vc.set(_.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,D=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(D,p);if("unknown"!==p.type){if(p.eventId){const Q=yield D.auth._redirectUserForId(p.eventId);if(Q)return D.user=Q,_().call(D,p);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function ys(){return(ys=(0,c.Z)(function*(b,p){const _=Ma(p),D=eo(b);if(!(yield D._isAvailable()))return!1;const Q="true"===(yield D._get(_));return yield D._remove(_),Q})).apply(this,arguments)}function Bc(b,p){return jl.apply(this,arguments)}function jl(){return(jl=(0,c.Z)(function*(b,p){return eo(b)._set(Ma(p),"true")})).apply(this,arguments)}function zl(){Vc.clear()}function Ld(b,p){Vc.set(b._key(),p)}function eo(b){return V(b._redirectPersistence)}function Ma(b){return Rt(Or,b.config.apiKey,b.name)}function gl(b,p,_){return function pa(b,p,_){return bs.apply(this,arguments)}(b,p,_)}function bs(){return(bs=(0,c.Z)(function*(b,p,_){const D=un(b);Le(b,p,Yn),yield D._initializationPromise;const Q=fa(D,_);return yield Bc(Q,D),Q._openRedirect(D,p,"signInViaRedirect")})).apply(this,arguments)}function qa(b,p,_){return function Ra(b,p,_){return _u.apply(this,arguments)}(b,p,_)}function _u(){return(_u=(0,c.Z)(function*(b,p,_){const D=(0,F.m9)(b);Le(D.auth,p,Yn),yield D.auth._initializationPromise;const Q=fa(D.auth,_);yield Bc(Q,D.auth);const fe=yield Oa(D);return Q._openRedirect(D.auth,p,"reauthViaRedirect",fe)})).apply(this,arguments)}function ma(b,p,_){return function Uc(b,p,_){return Ys.apply(this,arguments)}(b,p,_)}function Ys(){return(Ys=(0,c.Z)(function*(b,p,_){const D=(0,F.m9)(b);Le(D.auth,p,Yn),yield D.auth._initializationPromise;const Q=fa(D.auth,_);yield _e(!1,D,p.providerId),yield Bc(Q,D.auth);const fe=yield Oa(D);return Q._openRedirect(D.auth,p,"linkViaRedirect",fe)})).apply(this,arguments)}function Pa(b,p){return _c.apply(this,arguments)}function _c(){return(_c=(0,c.Z)(function*(b,p){return yield un(b)._initializationPromise,Zs(b,p,!1)})).apply(this,arguments)}function Zs(b,p){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(b,p,_=!1){const D=un(b),Q=fa(D,p),st=yield new qs(D,Q,_).execute();return st&&!_&&(delete st.user._redirectEventId,yield D._persistUserIfCurrent(st.user),yield D._setRedirectUser(null,p)),st})).apply(this,arguments)}function Oa(b){return Na.apply(this,arguments)}function Na(){return(Na=(0,c.Z)(function*(b){const p=Lo(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class $l{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(p,D)&&(_=!0,this.sendToConsumer(p,D),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function td(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xo(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var D;if(p.error&&!xo(p)){const Q=(null===(D=p.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";_.onError(Ce(this.auth,Q))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const D=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&D}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vc(p))}saveEventToCache(p){this.cachedEventUids.add(vc(p)),this.lastProcessedEventTime=Date.now()}}function vc(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function xo({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function vu(b){return ro.apply(this,arguments)}function ro(){return(ro=(0,c.Z)(function*(b,p={}){return Ke(b,"GET","/v1/projects",p)})).apply(this,arguments)}const Vd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_r=/^https?/;function Ya(){return(Ya=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield vu(b);for(const _ of p)try{if(Wl(_))return}catch{}ue(b,"unauthorized-domain")})).apply(this,arguments)}function Wl(b){const p=nn(),{protocol:_,hostname:D}=new URL(p);if(b.startsWith("chrome-extension://")){const st=new URL(b);return""===st.hostname&&""===D?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&st.hostname===D}if(!_r.test(_))return!1;if(Vd.test(b))return D===b;const Q=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(D)}const Fa=new ft(3e4,6e4);function yu(){const b=hr().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Ti=null;const yc=new ft(5e3,15e3),Bd="__/auth/iframe",nd="emulator/auth/iframe",$h={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ud=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wh(b){const p=b.config;Te(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?ht(p,nd):`https://${b.config.authDomain}/${Bd}`,D={apiKey:p.apiKey,appName:b.name,v:H.SDK_VERSION},Q=Ud.get(b.config.apiHost);Q&&(D.eid=Q);const fe=b._getFrameworks();return fe.length&&(D.fw=fe.join(",")),`${_}?${(0,F.xO)(D).slice(1)}`}function Za(){return Za=(0,c.Z)(function*(b){const p=yield function fr(b){return Ti=Ti||function jc(b){return new Promise((p,_)=>{var D,Q,fe;function st(){yu(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{yu(),_(Ce(b,"network-request-failed"))},timeout:Fa.get()})}if(null!==(Q=null===(D=hr().gapi)||void 0===D?void 0:D.iframes)&&void 0!==Q&&Q.Iframe)p(gapi.iframes.getContext());else{if(null===(fe=hr().gapi)||void 0===fe||!fe.load){const Mt=pi("iframefcb");return hr()[Mt]=()=>{gapi.load?st():_(Ce(b,"network-request-failed"))},li(`https://apis.google.com/js/api.js?onload=${Mt}`).catch(rn=>_(rn))}st()}}).catch(p=>{throw Ti=null,p})}(b),Ti}(b),_=hr().gapi;return Te(_,b,"internal-error"),p.open({where:document.body,url:Wh(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$h,dontclear:!0},D=>new Promise(function(){var Q=(0,c.Z)(function*(fe,st){yield D.restyle({setHideOnLeave:!1});const Mt=Ce(b,"network-request-failed"),rn=hr().setTimeout(()=>{st(Mt)},yc.get());function zn(){hr().clearTimeout(rn),fe(D)}D.ping(zn).then(zn,()=>{st(Mt)})});return function(fe,st){return Q.apply(this,arguments)}}()))}),Za.apply(this,arguments)}const Kh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Eu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Iu="__/auth/handler",bc="emulator/auth/handler",Ps=encodeURIComponent("fac");function _l(b,p,_,D,Q,fe){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,c.Z)(function*(b,p,_,D,Q,fe){Te(b.config.authDomain,b,"auth-domain-config-required"),Te(b.config.apiKey,b,"invalid-api-key");const st={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:D,v:H.SDK_VERSION,eventId:Q};if(p instanceof Yn){p.setDefaultLanguage(b.languageCode),st.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(st.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ln,Zi]of Object.entries(fe||{}))st[ln]=Zi}if(p instanceof ws){const ln=p.getScopes().filter(Zi=>""!==Zi);ln.length>0&&(st.scopes=ln.join(","))}b.tenantId&&(st.tid=b.tenantId);const Mt=st;for(const ln of Object.keys(Mt))void 0===Mt[ln]&&delete Mt[ln];const rn=yield b._getAppCheckToken(),zn=rn?`#${Ps}=${encodeURIComponent(rn)}`:"";return`${function zc({config:b}){return b.emulator?ht(b,bc):`https://${b.authDomain}/${Iu}`}(b)}?${(0,F.xO)(Mt).slice(1)}${zn}`})).apply(this,arguments)}const wu="webStorageSupport",Os=class es{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hc,this._completeRedirectFn=Zs,this._overrideRedirectResult=Ld}_openPopup(p,_,D,Q){var fe=this;return(0,c.Z)(function*(){var st;Zt(null===(st=fe.eventManagers[p._key()])||void 0===st?void 0:st.manager,"_initialize() not called before _openPopup()");const Mt=yield _l(p,_,D,nn(),Q);return function Rs(b,p,_,D=500,Q=600){const fe=Math.max((window.screen.availHeight-Q)/2,0).toString(),st=Math.max((window.screen.availWidth-D)/2,0).toString();let Mt="";const rn=Object.assign(Object.assign({},Kh),{width:D.toString(),height:Q.toString(),top:fe,left:st}),zn=(0,F.z$)().toLowerCase();_&&(Mt=Jn(zn)?"_blank":_),fn(zn)&&(p=p||"http://localhost",rn.scrollbars="yes");const ln=Object.entries(rn).reduce((To,[tl,wc])=>`${To}${tl}=${wc},`,"");if(function Yt(b=(0,F.z$)()){var p;return Re(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(zn)&&"_self"!==Mt)return function Qa(b,p){const _=document.createElement("a");_.href=b,_.target=p;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(D)}(p||"",Mt),new Eu(null);const Zi=window.open(p||"",Mt,ln);Te(Zi,b,"popup-blocked");try{Zi.focus()}catch{}return new Eu(Zi)}(p,Mt,Lo())})()}_openRedirect(p,_,D,Q){var fe=this;return(0,c.Z)(function*(){return yield fe._originValidation(p),function fl(b){hr().location.href=b}(yield _l(p,_,D,nn(),Q)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:Q,promise:fe}=this.eventManagers[_];return Q?Promise.resolve(Q):(Zt(fe,"If manager is not set, promise should be"),fe)}const D=this.initAndGetManager(p);return this.eventManagers[_]={promise:D},D.catch(()=>{delete this.eventManagers[_]}),D}initAndGetManager(p){var _=this;return(0,c.Z)(function*(){const D=yield function Gh(b){return Za.apply(this,arguments)}(p),Q=new $l(p);return D.register("authEvent",fe=>(Te(fe?.authEvent,p,"invalid-auth-event"),{status:Q.onEvent(fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:Q},_.iframes[p._key()]=D,Q})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(wu,{type:wu},Q=>{var fe;const st=null===(fe=Q?.[0])||void 0===fe?void 0:fe[wu];void 0!==st&&_(!!st),ue(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function ka(b){return Ya.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return ze()||Cn()||Re()}};class vl{constructor(p){this.factorId=p}_process(p,_,D){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,D);case"signin":return this._finalizeSignIn(p,_.credential);default:return Nt("unexpected MultiFactorSessionType")}}}class Xa extends vl{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Xa(p)}_finalizeEnroll(p,_,D){return function $o(b,p){return Ke(b,"POST","/v2/accounts/mfaEnrollment:finalize",je(b,p))}(p,{idToken:_,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function It(b,p){return Ke(b,"POST","/v2/accounts/mfaSignIn:finalize",je(b,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hc=(()=>{class b{constructor(){}static assertion(_){return Xa._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var $c="@firebase/auth";class yl{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(D=>{p(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const rd=(0,F.Pz)("authIdTokenMaxAge")||300;let bl=null;const qh=b=>function(){var p=(0,c.Z)(function*(_){const D=_&&(yield _.getIdTokenResult()),Q=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(Q&&Q>rd)return;const fe=D?.token;bl!==fe&&(bl=fe,yield fetch(b,{method:fe?"POST":"DELETE",headers:fe?{Authorization:`Bearer ${fe}`}:{}}))});return function(_){return p.apply(this,arguments)}}();function Xs(b=(0,H.getApp)()){const p=(0,H._getProvider)(b,"auth");if(p.isInitialized())return p.getImmediate();const _=function ss(b,p){const _=(0,H._getProvider)(b,"auth");if(_.isInitialized()){const Q=_.getImmediate(),fe=_.getOptions();if((0,F.vZ)(fe,p??{}))return Q;ue(Q,"already-initialized")}return _.initialize({options:p})}(b,{popupRedirectResolver:Os,persistence:[de,Ll,hc]}),D=(0,F.Pz)("authTokenSyncURL");if(D){const fe=qh(D);(function xr(b,p,_){(0,F.m9)(b).beforeAuthStateChanged(p,_)})(_,fe,()=>fe(_.currentUser)),function or(b,p,_,D){(0,F.m9)(b).onIdTokenChanged(p,_,D)}(_,st=>fe(st))}const Q=(0,F.q4)("auth");return Q&&as(_,`http://${Q}`),_}!function el(b){(0,H._registerComponent)(new ye.wA("auth",(p,{options:_})=>{const D=p.getProvider("app").getImmediate(),Q=p.getProvider("heartbeat"),fe=p.getProvider("app-check-internal"),{apiKey:st,authDomain:Mt}=D.options;Te(st&&!st.includes(":"),"invalid-api-key",{appName:D.name});const rn={apiKey:st,authDomain:Mt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:te(b)},zn=new _n(D,Q,fe,rn);return function Mo(b,p){const _=p?.persistence||[],D=(Array.isArray(_)?_:[_]).map(V);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(D,p?.popupRedirectResolver)}(zn,_),zn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,D)=>{p.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new ye.wA("auth-internal",p=>{const _=un(p.getProvider("auth").getImmediate());return new yl(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)($c,"1.3.2",function Kl(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,H.registerVersion)($c,"1.3.2","esm2017")}("Browser")},5776:(jt,He,x)=>{x.d(He,{u7:()=>$m,Jj:()=>Sc,IX:()=>ly,my:()=>fo,xU:()=>Rl,Lz:()=>rc,WA:()=>qt,F8:()=>tp,$q:()=>kh,W:()=>qu,EK:()=>Rn,PU:()=>eg,l7:()=>eo,Ky:()=>Dn,Xb:()=>gr,Cf:()=>qi,K9:()=>dc,Me:()=>Ul,yq:()=>or,Wi:()=>Lm,ET:()=>Ny,Ab:()=>ng,vr:()=>X_,Fc:()=>uy,hJ:()=>Xf,B$:()=>Ah,at:()=>Qf,oe:()=>Oy,AK:()=>Q_,TF:()=>hy,JU:()=>Um,ST:()=>R_,fH:()=>P_,Ix:()=>dy,Wu:()=>Cy,Lx:()=>wy,qY:()=>Gr,GL:()=>Yu,QT:()=>Gm,kl:()=>cp,Xk:()=>Zb,PL:()=>My,UQ:()=>Ry,zN:()=>Km,ad:()=>S_,nP:()=>ig,b9:()=>U_,vh:()=>j_,Pb:()=>fy,L$:()=>py,cf:()=>q_,sc:()=>Y_,Xo:()=>B_,IO:()=>Pd,iE:()=>T_,Eo:()=>Jf,i3:()=>Hy,Bt:()=>tg,pl:()=>Py,Ub:()=>Ws,qK:()=>Sy,TQ:()=>Yb,e0:()=>Iy,r7:()=>K_,Mx:()=>Sh,ar:()=>V_});var se,c=x(5861),F=x(534),H=x(4537),he=x(7879),j=x(9058),ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},be={},Ee=Ee||{},W=ye||self;function ce(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function me(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var De="closure_uid_"+(1e9*Math.random()>>>0),Je=0;function Qe(r,e,n){return r.call.apply(r.bind,arguments)}function it(r,e,n){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),r.apply(e,l)}}return function(){return r.apply(e,arguments)}}function qe(r,e,n){return(qe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qe:it).apply(null,arguments)}function Lt(r,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Ye(r,e){function n(){}n.prototype=e.prototype,r.$=e.prototype,r.prototype=new n,r.prototype.constructor=r,r.ac=function(s,l,d){for(var m=Array(arguments.length-2),S=2;S<arguments.length;S++)m[S-2]=arguments[S];return e.prototype[l].apply(s,m)}}function ue(){this.s=this.s,this.o=this.o}ue.prototype.s=!1,ue.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ve(r){Object.prototype.hasOwnProperty.call(r,De)&&r[De]||(r[De]=++Je)}(this)},ue.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Me=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let n=0;n<r.length;n++)if(n in r&&r[n]===e)return n;return-1};function Le(r){const e=r.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=r[s];return n}return[]}function Xe(r,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(ce(s)){const l=r.length||0,d=s.length||0;r.length=l+d;for(let m=0;m<d;m++)r[l+m]=s[m]}else r.push(s)}}function Te(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var Nt=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{W.addEventListener("test",()=>{},e),W.removeEventListener("test",()=>{},e)}catch{}return r}();function Zt(r){return/^[\s\xa0]*$/.test(r)}function nn(){var r=W.navigator;return r&&(r=r.userAgent)?r:""}function hn(r){return-1!=nn().indexOf(r)}function Un(r){return Un[" "](r),r}Un[" "]=function(){};var Ke,r,on=hn("Opera"),ft=hn("Trident")||hn("MSIE"),ht=hn("Edge"),oe=ht||ft,ve=hn("Gecko")&&!(-1!=nn().toLowerCase().indexOf("webkit")&&!hn("Edge"))&&!(hn("Trident")||hn("MSIE"))&&!hn("Edge"),Pe=-1!=nn().toLowerCase().indexOf("webkit")&&!hn("Edge");function je(){var r=W.document;return r?r.documentMode:void 0}e:{var $e="",Ge=(r=nn(),ve?/rv:([^\);]+)(\)|;)/.exec(r):ht?/Edge\/([\d\.]+)/.exec(r):ft?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Pe?/WebKit\/(\S+)/.exec(r):on?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Ge&&($e=Ge?Ge[1]:""),ft){var kt=je();if(null!=kt&&kt>parseFloat($e)){Ke=String(kt);break e}}Ke=$e}var qn=W.document&&ft&&(je()||parseInt(Ke,10))||void 0;function An(r,e){if(Te.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(ve){e:{try{Un(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=r.fromElement:"mouseout"==n&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Gn[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&An.$.h.call(this)}}Ye(An,Te);var Gn={2:"touch",3:"pen",4:"mouse"};An.prototype.h=function(){An.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Zn="closure_listenable_"+(1e6*Math.random()|0),ni=0;function ri(r,e,n,s,l){this.listener=r,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=l,this.key=++ni,this.fa=this.ia=!1}function wi(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Si(r,e,n){for(const s in r)e.call(n,r[s],s,r)}function gi(r){const e={};for(const n in r)e[n]=r[n];return e}const ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _t(r,e){let n,s;for(let l=1;l<arguments.length;l++){for(n in s=arguments[l],s)r[n]=s[n];for(let d=0;d<ge.length;d++)n=ge[d],Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}}function vt(r){this.src=r,this.g={},this.h=0}function ct(r,e){var n=e.type;if(n in r.g){var d,s=r.g[n],l=Me(s,e);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(wi(e),0==r.g[n].length&&(delete r.g[n],r.h--))}}function Ot(r,e,n,s){for(var l=0;l<r.length;++l){var d=r[l];if(!d.fa&&d.listener==e&&d.capture==!!n&&d.la==s)return l}return-1}vt.prototype.add=function(r,e,n,s,l){var d=r.toString();(r=this.g[d])||(r=this.g[d]=[],this.h++);var m=Ot(r,e,s,l);return-1<m?(e=r[m],n||(e.ia=!1)):((e=new ri(e,this.src,d,!!s,l)).ia=n,r.push(e)),e};var ut="closure_lm_"+(1e6*Math.random()|0),Vt={};function sn(r,e,n,s,l){if(s&&s.once)return Oe(r,e,n,s,l);if(Array.isArray(e)){for(var d=0;d<e.length;d++)sn(r,e[d],n,s,l);return null}return n=gt(n),r&&r[Zn]?r.O(e,n,me(s)?!!s.capture:!!s,l):yt(r,e,n,!1,s,l)}function yt(r,e,n,s,l,d){if(!e)throw Error("Invalid event type");var m=me(l)?!!l.capture:!!l,S=an(r);if(S||(r[ut]=S=new vt(r)),(n=S.add(e,n,s,m,d)).proxy)return n;if(s=function xt(){const e=Ft;return function r(n){return e.call(r.src,r.listener,n)}}(),n.proxy=s,s.src=r,s.listener=n,r.addEventListener)Nt||(l=m),void 0===l&&(l=!1),r.addEventListener(e.toString(),s,l);else if(r.attachEvent)r.attachEvent(Jt(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return n}function Oe(r,e,n,s,l){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Oe(r,e[d],n,s,l);return null}return n=gt(n),r&&r[Zn]?r.P(e,n,me(s)?!!s.capture:!!s,l):yt(r,e,n,!0,s,l)}function pt(r,e,n,s,l){if(Array.isArray(e))for(var d=0;d<e.length;d++)pt(r,e[d],n,s,l);else s=me(s)?!!s.capture:!!s,n=gt(n),r&&r[Zn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(n=Ot(d=r.g[e],n,s,l))&&(wi(d[n]),Array.prototype.splice.call(d,n,1),0==d.length&&(delete r.g[e],r.h--))):r&&(r=an(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Ot(e,n,s,l)),(n=-1<r?e[r]:null)&&at(n))}function at(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Zn])ct(e.i,r);else{var n=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(n,s,r.capture):e.detachEvent?e.detachEvent(Jt(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=an(e))?(ct(n,r),0==n.h&&(n.src=null,e[ut]=null)):wi(r)}}}function Jt(r){return r in Vt?Vt[r]:Vt[r]="on"+r}function Ft(r,e){if(r.fa)r=!0;else{e=new An(e,this);var n=r.listener,s=r.la||r.src;r.ia&&at(r),r=n.call(s,e)}return r}function an(r){return(r=r[ut])instanceof vt?r:null}var kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gt(r){return"function"==typeof r?r:(r[kn]||(r[kn]=function(e){return r.handleEvent(e)}),r[kn])}function Ze(){ue.call(this),this.i=new vt(this),this.S=this,this.J=null}function Ae(r,e){var n,s=r.J;if(s)for(n=[];s;s=s.J)n.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new Te(e,r);else if(e instanceof Te)e.target=e.target||r;else{var l=e;_t(e=new Te(s,r),l)}if(l=!0,n)for(var d=n.length-1;0<=d;d--){var m=e.g=n[d];l=et(m,s,!0,e)&&l}if(l=et(m=e.g=r,s,!0,e)&&l,l=et(m,s,!1,e)&&l,n)for(d=0;d<n.length;d++)l=et(m=e.g=n[d],s,!1,e)&&l}function et(r,e,n,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,d=0;d<e.length;++d){var m=e[d];if(m&&!m.fa&&m.capture==n){var S=m.listener,L=m.la||m.src;m.ia&&ct(r.i,m),l=!1!==S.call(L,s)&&l}}return l&&!s.defaultPrevented}Ye(Ze,ue),Ze.prototype[Zn]=!0,Ze.prototype.removeEventListener=function(r,e,n,s){pt(this,r,e,n,s)},Ze.prototype.N=function(){if(Ze.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var n=r.g[e],s=0;s<n.length;s++)wi(n[s]);delete r.g[e],r.h--}}this.J=null},Ze.prototype.O=function(r,e,n,s){return this.i.add(String(r),e,!1,n,s)},Ze.prototype.P=function(r,e,n,s){return this.i.add(String(r),e,!0,n,s)};var Dt=W.JSON.stringify;function Ln(){var r=V;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var ki=new class Qt{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new zt,r=>r.reset());class zt{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ie(r){var e=1;r=r.split(":");const n=[];for(;0<e&&r.length;)n.push(r.shift()),e--;return r.length&&n.push(r.join(":")),n}function B(r){W.setTimeout(()=>{throw r},0)}let N,O=!1,V=new class oi{constructor(){this.h=this.g=null}add(e,n){const s=ki.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},we=()=>{const r=W.Promise.resolve(void 0);N=()=>{r.then(tt)}};var tt=()=>{for(var r;r=Ln();){try{r.h.call(r.g)}catch(n){B(n)}var e=ki;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}O=!1};function Rt(r,e){Ze.call(this),this.h=r||1,this.g=e||W,this.j=qe(this.qb,this),this.l=Date.now()}function $t(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Kt(r,e,n){if("function"==typeof r)n&&(r=qe(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=qe(r.handleEvent,r)}return 2147483647<Number(e)?-1:W.setTimeout(r,e||0)}function fn(r){r.g=Kt(()=>{r.g=null,r.i&&(r.i=!1,fn(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Ye(Rt,Ze),(se=Rt.prototype).ga=!1,se.T=null,se.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ae(this,"tick"),this.ga&&($t(this),this.start()))}},se.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},se.N=function(){Rt.$.N.call(this),$t(this),delete this.g};class Cn extends ue{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fn(this)}N(){super.N(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jn(r){ue.call(this),this.h=r,this.g={}}Ye(Jn,ue);var mt=[];function re(r,e,n,s){Array.isArray(n)||(n&&(mt[0]=n.toString()),n=mt);for(var l=0;l<n.length;l++){var d=sn(e,n[l],s||r.handleEvent,!1,r.h||r);if(!d)break;r.g[d.key]=d}}function Ne(r){Si(r.g,function(e,n){this.g.hasOwnProperty(n)&&at(e)},r),r.g={}}function xe(){this.g=!0}function Yt(r,e,n,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ze(r,e){if(!r.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var s=n[r];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var m=1;m<l.length;m++)l[m]=""}}}return Dt(n)}catch{return e}}(r,n)+(s?" "+s:"")})}Jn.prototype.N=function(){Jn.$.N.call(this),Ne(this)},Jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xe.prototype.Ea=function(){this.g=!1},xe.prototype.info=function(){};var ee={},te=null;function Ie(){return te=te||new Ze}function nt(r){Te.call(this,ee.Ta,r)}function dt(r){const e=Ie();Ae(e,new nt(e))}function Wt(r,e){Te.call(this,ee.STAT_EVENT,r),this.stat=e}function cn(r){const e=Ie();Ae(e,new Wt(e,r))}function _n(r,e){Te.call(this,ee.Ua,r),this.size=e}function un(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){r()},e)}ee.Ta="serverreachability",Ye(nt,Te),ee.STAT_EVENT="statevent",Ye(Wt,Te),ee.Ua="timingevent",Ye(_n,Te);var Pn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function li(){}function Ji(){}li.prototype.h=null;var tn,er={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fr(){Te.call(this,"d")}function vn(){Te.call(this,"c")}function Mn(){}function $n(r,e,n,s){this.l=r,this.j=e,this.m=n,this.W=s||1,this.U=new Jn(this),this.P=Ir,this.V=new Rt(r=oe?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sr}function sr(){this.i=null,this.g="",this.h=!1}Ye(Fr,Te),Ye(vn,Te),Ye(Mn,li),Mn.prototype.g=function(){return new XMLHttpRequest},Mn.prototype.i=function(){return{}},tn=new Mn;var Ir=45e3,po={},ss={};function Mo(r,e,n){r.L=1,r.v=zo(Rr(e)),r.s=n,r.S=!0,as(r,null)}function as(r,e){r.G=Date.now(),Bs(r),r.A=Rr(r.v);var n=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),ei(n.i,"t",s),r.C=0,n=r.l.J,r.h=new sr,r.g=Pr(r.l,n?e:null,!r.s),0<r.O&&(r.M=new Cn(qe(r.Pa,r,r.g),r.O)),re(r.U,r.g,"readystatechange",r.nb),e=r.I?gi(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),dt(),function Re(r,e,n,s,l,d){r.info(function(){if(r.g)if(d)for(var m="",S=d.split("&"),L=0;L<S.length;L++){var K=S[L].split("=");if(1<K.length){var ae=K[0];K=K[1];var Se=ae.split("_");m=2<=Se.length&&"type"==Se[1]?m+(ae+"=")+K+"&":m+(ae+"=redacted&")}}else m=null;else m=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+n+"\n"+m})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Ko(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Lr(r,e,n){let l,s=!0;for(;!r.J&&r.C<n.length;){if(l=Vs(r,n),l==ss){4==e&&(r.o=4,cn(14),s=!1),Yt(r.j,r.m,null,"[Incomplete Response]");break}if(l==po){r.o=4,cn(15),Yt(r.j,r.m,n,"[Invalid Chunk]"),s=!1;break}Yt(r.j,r.m,l,null),Uo(r,l)}Ko(r)&&l!=ss&&l!=po&&(r.h.g="",r.C=0),4!=e||0!=n.length||r.h.h||(r.o=1,cn(16),s=!1),r.i=r.i&&s,s?0<n.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ya(e),e.M=!0,cn(11))):(Yt(r.j,r.m,n,"[Invalid Chunked Response]"),Kr(r),oo(r))}function Vs(r,e){var n=r.C,s=e.indexOf("\n",n);return-1==s?ss:(n=Number(e.substring(n,s)),isNaN(n)?po:(s+=1)+n>e.length?ss:(e=e.slice(s,s+n),r.C=s+n,e))}function Bs(r){r.Y=Date.now()+r.P,qo(r,r.P)}function qo(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=un(qe(r.lb,r),e)}function Bo(r){r.B&&(W.clearTimeout(r.B),r.B=null)}function oo(r){0==r.l.H||r.J||Cr(r.l,r)}function Kr(r){Bo(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,$t(r.V),Ne(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Uo(r,e){try{var n=r.l;if(0!=n.H&&(n.g==r||io(n.i,r)))if(!r.K&&io(n.i,r)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<r.G))break e;wo(n),Io(n)}al(n),cn(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=un(qe(n.ib,n),6e3));if(1>=mo(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else zs(n,11)}else if((r.K||n.g==r)&&wo(n),!Zt(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let K=l[e];if(n.V=K[0],K=K[1],2==n.H)if("c"==K[0]){n.K=K[1],n.pa=K[2];const ae=K[3];null!=ae&&(n.ra=ae,n.l.info("VER="+n.ra));const Se=K[4];null!=Se&&(n.Ga=Se,n.l.info("SVER="+n.Ga));const ot=K[5];null!=ot&&"number"==typeof ot&&0<ot&&(n.L=s=1.5*ot,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const Tt=r.g;if(Tt){const gn=Tt.g?Tt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gn){var d=s.i;d.g||-1==gn.indexOf("spdy")&&-1==gn.indexOf("quic")&&-1==gn.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(_a(d,d.h),d.h=null))}if(s.F){const xn=Tt.g?Tt.g.getResponseHeader("X-HTTP-Session-Id"):null;xn&&(s.Da=xn,Oi(s.I,s.F,xn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-r.G,n.l.info("Handshake RTT: "+n.S+"ms"));var m=r;if((s=n).wa=Ts(s,s.J?s.pa:null,s.Y),m.K){Oo(s.i,m);var S=m,L=s.L;L&&S.setTimeout(L),S.B&&(Bo(S),Bs(S)),s.g=m}else js(s);0<n.j.length&&fs(n)}else"stop"!=K[0]&&"close"!=K[0]||zs(n,7);else 3==n.H&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?zs(n,7):mi(n):"noop"!=K[0]&&n.h&&n.h.Aa(K),n.A=0)}dt()}catch{}}function Us(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ce(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var n=function jo(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ce(r)||"string"==typeof r){var e=[];r=r.length;for(var n=0;n<r;n++)e.push(n);return e}e=[],n=0;for(const s in r)e[n++]=s;return e}}}(r),s=function to(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ce(r)){for(var e=[],n=r.length,s=0;s<n;s++)e.push(r[s]);return e}for(s in e=[],n=0,r)e[n++]=r[s];return e}(r),l=s.length,d=0;d<l;d++)e.call(void 0,s[d],n&&n[d],r)}(se=$n.prototype).setTimeout=function(r){this.P=r},se.nb=function(r){r=r.target;const e=this.M;e&&3==No(r)?e.l():this.Pa(r)},se.Pa=function(r){try{if(r==this.g)e:{const ae=No(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ae)&&(3!=ae||oe||this.g&&(this.h.h||this.g.ja()||Y(this.g)))){this.J||4!=ae||7==e||dt(),Bo(this);var n=this.g.da();this.ca=n;t:if(Ko(this)){var s=Y(this.g);r="";var l=s.length,d=4==No(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Kr(this),oo(this);var m="";break t}this.h.i=new W.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:d&&e==l-1});s.splice(0,l),this.h.g+=r,this.C=0,m=this.h.g}else m=this.g.ja();if(this.i=200==n,function wt(r,e,n,s,l,d,m){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+d+" "+m})}(this.j,this.u,this.A,this.m,this.W,ae,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zt(S)){var K=S;break t}}K=null}if(!(n=K)){this.i=!1,this.o=3,cn(12),Kr(this),oo(this);break e}Yt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uo(this,n)}this.S?(Lr(this,ae,m),oe&&this.i&&3==ae&&(re(this.U,this.V,"tick",this.mb),this.V.start())):(Yt(this.j,this.m,m,null),Uo(this,m)),4==ae&&Kr(this),this.i&&!this.J&&(4==ae?Cr(this.l,this):(this.i=!1,Bs(this)))}else(function J(r){const e={};r=(r.g&&2<=No(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(Zt(r[s]))continue;var n=ie(r[s]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const d=e[l]||[];e[l]=d,d.push(n)}!function Ni(r,e){for(const n in r)e.call(void 0,r[n],n,r)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<m.indexOf("Unknown SID")?(this.o=3,cn(12)):(this.o=0,cn(13)),Kr(this),oo(this)}}}catch{}},se.mb=function(){if(this.g){var r=No(this.g),e=this.g.ja();this.C<e.length&&(Bo(this),Lr(this,r,e),this.i&&4!=r&&Bs(this))}},se.cancel=function(){this.J=!0,Kr(this)},se.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function pn(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(dt(),cn(17)),Kr(this),this.o=2,oo(this)):qo(this,this.Y-r)};var bi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hi(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Hi){this.h=r.h,ur(this,r.j),this.s=r.s,this.g=r.g,vo(this,r.m),this.l=r.l;var e=r.i,n=new no;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ro(this,n),this.o=r.o}else r&&(e=String(r).match(bi))?(this.h=!1,ur(this,e[1]||"",!0),this.s=Po(e[2]||""),this.g=Po(e[3]||"",!0),vo(this,e[4]),this.l=Po(e[5]||"",!0),Ro(this,e[6]||"",!0),this.o=Po(e[7]||"")):(this.h=!1,this.i=new no(null,this.h))}function Rr(r){return new Hi(r)}function ur(r,e,n){r.j=n?Po(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function vo(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Ro(r,e,n){e instanceof no?(r.i=e,function Is(r,e){e&&!r.j&&(Vi(r),r.i=null,r.g.forEach(function(n,s){var l=s.toLowerCase();s!=l&&(yr(this,s),ei(this,l,n))},r)),r.j=e}(r.i,r.h)):(n||(e=ji(e,yo)),r.i=new no(e,r.h))}function Oi(r,e,n){r.i.set(e,n)}function zo(r){return Oi(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Po(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ji(r,e,n){return"string"==typeof r?(r=encodeURI(r).replace(e,wn),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function wn(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Hi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(ji(e,ii,!0),":");var n=this.g;return(n||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(ji(e,ii,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&r.push("/"),r.push(ji(n,"/"==n.charAt(0)?Vr:$i,!0))),(n=this.i.toString())&&r.push("?",n),(n=this.o)&&r.push("#",ji(n,Wi)),r.join("")};var ii=/[#\/\?@]/g,$i=/[#\?:]/g,Vr=/[#\?]/g,yo=/[#\?@]/g,Wi=/#/g;function no(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Vi(r){r.g||(r.g=new Map,r.h=0,r.i&&function pr(r,e){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var s=r[n].indexOf("="),l=null;if(0<=s){var d=r[n].substring(0,s);l=r[n].substring(s+1)}else d=r[n];e(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(r.i,function(e,n){r.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function yr(r,e){Vi(r),e=bo(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function ls(r,e){return Vi(r),e=bo(r,e),r.g.has(e)}function ei(r,e,n){yr(r,e),0<n.length&&(r.i=null,r.g.set(bo(r,e),Le(n)),r.h+=n.length)}function bo(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Gi(r){this.l=r||ra,r=W.PerformanceNavigationTiming?0<(r=W.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(W.g&&W.g.Ka&&W.g.Ka()&&W.g.Ka().dc),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(se=no.prototype).add=function(r,e){Vi(this),this.i=null,r=bo(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(e),this.h+=1,this},se.forEach=function(r,e){Vi(this),this.g.forEach(function(n,s){n.forEach(function(l){r.call(e,l,s,this)},this)},this)},se.ta=function(){Vi(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const l=r[s];for(let d=0;d<l.length;d++)n.push(e[s])}return n},se.Z=function(r){Vi(this);let e=[];if("string"==typeof r)ls(this,r)&&(e=e.concat(this.g.get(bo(this,r))));else{r=Array.from(this.g.values());for(let n=0;n<r.length;n++)e=e.concat(r[n])}return e},se.set=function(r,e){return Vi(this),this.i=null,ls(this,r=bo(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},se.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},se.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const d=encodeURIComponent(String(s)),m=this.Z(s);for(s=0;s<m.length;s++){var l=d;""!==m[s]&&(l+="="+encodeURIComponent(String(m[s]))),r.push(l)}}return this.i=r.join("&")};var ra=10;function us(r){return!!r.h||!!r.g&&r.g.size>=r.j}function mo(r){return r.h?1:r.g?r.g.size:0}function io(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function _a(r,e){r.g?r.g.add(e):r.h=e}function Oo(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function qr(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const n of r.g.values())e=e.concat(n.F);return e}return Le(r.i)}Gi.prototype.cancel=function(){if(this.i=qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var ds=class{stringify(r){return W.JSON.stringify(r,void 0)}parse(r){return W.JSON.parse(r,void 0)}};function Yo(){this.g=new ds}function Yn(r,e,n){const s=n||"";try{Us(r,function(l,d){let m=l;me(l)&&(m=Dt(l)),e.push(s+d+"="+encodeURIComponent(m))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function Yr(r,e,n,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function wr(r){this.l=r.ec||null,this.j=r.ob||!1}function Br(r,e){Ze.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=Ho,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ye(wr,li),wr.prototype.g=function(){return new Br(this.l,this.j)},wr.prototype.i=function(r){return function(){return r}}({}),Ye(Br,Ze);var Ho=0;function Eo(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Ur(r){r.readyState=4,r.l=null,r.j=null,r.A=null,br(r)}function br(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(se=Br.prototype).open=function(r,e){if(this.readyState!=Ho)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,br(this)},se.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||W).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ur(this)),this.readyState=Ho},se.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof W.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Eo(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},se.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Ur(this):br(this),3==this.readyState&&Eo(this)}},se.Za=function(r){this.g&&(this.response=this.responseText=r,Ur(this))},se.Ya=function(r){this.g&&(this.response=r,Ur(this))},se.ka=function(){this.g&&Ur(this)},se.setRequestHeader=function(r,e){this.v.append(r,e)},se.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},se.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var n=e.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=e.next();return r.join("\r\n")},Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var va=W.JSON.parse;function _i(r){Ze.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dr,this.L=this.M=!1}Ye(_i,Ze);var dr="",hs=/^https?$/i,jr=["POST","PUT"];function zr(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Cs(r),Qo(r)}function Cs(r){r.F||(r.F=!0,Ae(r,"complete"),Ae(r,"error"))}function Zr(r){if(r.h&&typeof Ee<"u"&&(!r.C[1]||4!=No(r)||2!=r.da()))if(r.v&&4==No(r))Kt(r.La,0,r);else if(Ae(r,"readystatechange"),4==No(r)){r.h=!1;try{const m=r.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===m){var l=String(r.I).match(bi)[1]||null;!l&&W.self&&W.self.location&&(l=W.self.location.protocol.slice(0,-1)),s=!hs.test(l?l.toLowerCase():"")}n=s}if(n)Ae(r,"complete"),Ae(r,"success");else{r.m=6;try{var d=2<No(r)?r.g.statusText:""}catch{d=""}r.j=d+" ["+r.da()+"]",Cs(r)}}finally{Qo(r)}}}function Qo(r,e){if(r.g){sl(r);const n=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Ae(r,"ready");try{n.onreadystatechange=s}catch{}}}function sl(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(W.clearTimeout(r.A),r.A=null)}function No(r){return r.g?r.g.readyState:0}function Y(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case dr:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function U(r){let e="";return Si(r,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function _e(r,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=U(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):Oi(r,e,n))}function We(r,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||e}function Wn(r){this.Ga=0,this.j=[],this.l=new xe,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=We("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=We("baseRetryDelayMs",5e3,r),this.hb=We("retryDelaySeedMs",1e4,r),this.eb=We("forwardChannelMaxRetries",2,r),this.xa=We("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.useFetchStreams||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Gi(r&&r.concurrentRequestLimit),this.Ja=new Yo,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function mi(r){if(Ds(r),3==r.H){var e=r.W++,n=Rr(r.I);if(Oi(n,"SID",r.K),Oi(n,"RID",e),Oi(n,"TYPE","terminate"),oa(r,n),(e=new $n(r,r.l,e)).L=2,e.v=zo(Rr(n)),n=!1,W.navigator&&W.navigator.sendBeacon)try{n=W.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&W.Image&&((new Image).src=e.v,n=!0),n||(e.g=Pr(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Bs(e)}Dr(r)}function Io(r){r.g&&(ya(r),r.g.cancel(),r.g=null)}function Ds(r){Io(r),r.u&&(W.clearTimeout(r.u),r.u=null),wo(r),r.i.cancel(),r.m&&("number"==typeof r.m&&W.clearTimeout(r.m),r.m=null)}function fs(r){if(!us(r.i)&&!r.m){r.m=!0;var e=r.Na;N||we(),O||(N(),O=!0),V.add(e,r),r.C=0}}function uc(r,e){var n;n=e?e.m:r.W++;const s=Rr(r.I);Oi(s,"SID",r.K),Oi(s,"RID",n),Oi(s,"AID",r.V),oa(r,s),r.o&&r.s&&_e(s,r.o,r.s),n=new $n(r,r.l,n,r.C+1),null===r.o&&(n.I=r.s),e&&(r.j=e.F.concat(r.j)),e=ja(r,n,1e3),n.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),_a(r.i,n),Mo(n,s,e)}function oa(r,e){r.na&&Si(r.na,function(n,s){Oi(e,s,n)}),r.h&&Us({},function(n,s){Oi(e,s,n)})}function ja(r,e,n){n=Math.min(r.j.length,n);var s=r.h?qe(r.h.Va,r.h,r):null;e:{var l=r.j;let d=-1;for(;;){const m=["count="+n];-1==d?0<n?(d=l[0].g,m.push("ofs="+d)):d=0:m.push("ofs="+d);let S=!0;for(let L=0;L<n;L++){let K=l[L].g;const ae=l[L].map;if(K-=d,0>K)d=Math.max(0,l[L].g-100),S=!1;else try{Yn(ae,m,"req"+K+"_")}catch{s&&s(ae)}}if(S){s=m.join("&");break e}}}return r=r.j.splice(0,n),e.F=r,s}function js(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;N||we(),O||(N(),O=!0),V.add(e,r),r.A=0}}function al(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=un(qe(r.Ma,r),xs(r,r.A)),r.A++,0))}function ya(r){null!=r.B&&(W.clearTimeout(r.B),r.B=null)}function ba(r){r.g=new $n(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Rr(r.wa);Oi(e,"RID","rpc"),Oi(e,"SID",r.K),Oi(e,"AID",r.V),Oi(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Oi(e,"TO",r.qa),Oi(e,"TYPE","xmlhttp"),oa(r,e),r.o&&r.s&&_e(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var n=r.g;r=r.pa,n.L=1,n.v=zo(Rr(e)),n.s=null,n.S=!0,as(n,r)}function wo(r){null!=r.v&&(W.clearTimeout(r.v),r.v=null)}function Cr(r,e){var n=null;if(r.g==e){wo(r),ya(r),r.g=null;var s=2}else{if(!io(r.i,e))return;n=e.F,Oo(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){n=e.s?e.s.length:0,e=Date.now()-e.G;var l=r.C;Ae(s=Ie(),new _n(s,n)),fs(r)}else js(r);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==s&&function cc(r,e){return!(mo(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=un(qe(r.Na,r,e),xs(r,r.C)),r.C++,0)))}(r,e)||2==s&&al(r)))switch(n&&0<n.length&&(e=r.i,e.i=e.i.concat(n)),l){case 1:zs(r,5);break;case 4:zs(r,10);break;case 3:zs(r,6);break;default:zs(r,2)}}function xs(r,e){let n=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(n*=2),n*e}function zs(r,e){if(r.l.info("Error code "+e),2==e){var n=null;r.h&&(n=null);var s=qe(r.pb,r);n||(n=new Hi("//www.google.com/images/cleardot.gif"),W.location&&"http"==W.location.protocol||ur(n,"https"),zo(n)),function ws(r,e){const n=new xe;if(W.Image){const s=new Image;s.onload=Lt(Yr,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Lt(Yr,n,s,"TestLoadImage: error",!1,e),s.onabort=Lt(Yr,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Lt(Yr,n,s,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(n.toString(),s)}else cn(2);r.H=0,r.h&&r.h.za(e),Dr(r),Ds(r)}function Dr(r){if(r.H=0,r.ma=[],r.h){const e=qr(r.i);(0!=e.length||0!=r.j.length)&&(Xe(r.ma,e),Xe(r.ma,r.j),r.i.i.length=0,Le(r.j),r.j.length=0),r.h.ya()}}function Ts(r,e,n){var s=n instanceof Hi?Rr(n):new Hi(n);if(""!=s.g)e&&(s.g=e+"."+s.g),vo(s,s.m);else{var l=W.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var d=new Hi(null);s&&ur(d,s),e&&(d.g=e),l&&vo(d,l),n&&(d.l=n),s=d}return e=r.Da,(n=r.F)&&e&&Oi(s,n,e),Oi(s,"VER",r.ra),oa(r,s),s}function Pr(r,e,n){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _i(n&&r.Ha&&!r.va?new wr({ob:!0}):r.va)).Oa(r.J),e}function za(){}function ps(){if(ft&&!(10<=Number(qn)))throw Error("Environmental error: no available transport.")}function so(r,e){Ze.call(this),this.g=new Wn(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Zt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Hs(this)}function Ea(r){Fr.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const n in e){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Nl(){vn.call(this),this.status=1}function Hs(r){this.g=r}function Qr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function cl(r,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)s[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var d=r.g[3],m=(e=r.g[0])+(d^(n=r.g[1])&((l=r.g[2])^d))+s[0]+3614090360&4294967295;m=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=n+(m<<7&4294967295|m>>>25))+((m=d+(l^e&(n^l))+s[1]+3905402710&4294967295)<<12&4294967295|m>>>20))+((m=l+(n^d&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|m>>>15))+((m=n+(e^l&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|m>>>10))+((m=e+(d^n&(l^d))+s[4]+4118548399&4294967295)<<7&4294967295|m>>>25))+((m=d+(l^e&(n^l))+s[5]+1200080426&4294967295)<<12&4294967295|m>>>20))+((m=l+(n^d&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|m>>>15))+((m=n+(e^l&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|m>>>10))+((m=e+(d^n&(l^d))+s[8]+1770035416&4294967295)<<7&4294967295|m>>>25))+((m=d+(l^e&(n^l))+s[9]+2336552879&4294967295)<<12&4294967295|m>>>20))+((m=l+(n^d&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|m>>>15))+((m=n+(e^l&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|m>>>10))+((m=e+(d^n&(l^d))+s[12]+1804603682&4294967295)<<7&4294967295|m>>>25))+((m=d+(l^e&(n^l))+s[13]+4254626195&4294967295)<<12&4294967295|m>>>20))+((m=l+(n^d&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|m>>>15))+((m=n+(e^l&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|m>>>10))+((m=e+(l^d&(n^l))+s[1]+4129170786&4294967295)<<5&4294967295|m>>>27))+((m=d+(n^l&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^n&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|m>>>18))+((m=n+(d^e&(l^d))+s[0]+3921069994&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^d&(n^l))+s[5]+3593408605&4294967295)<<5&4294967295|m>>>27))+((m=d+(n^l&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^n&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|m>>>18))+((m=n+(d^e&(l^d))+s[4]+3889429448&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^d&(n^l))+s[9]+568446438&4294967295)<<5&4294967295|m>>>27))+((m=d+(n^l&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^n&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|m>>>18))+((m=n+(d^e&(l^d))+s[8]+1163531501&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^d&(n^l))+s[13]+2850285829&4294967295)<<5&4294967295|m>>>27))+((m=d+(n^l&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^n&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|m>>>18))+((m=n+(d^e&(l^d))+s[12]+2368359562&4294967295)<<20&4294967295|m>>>12))+((m=e+(n^l^d)+s[5]+4294588738&4294967295)<<4&4294967295|m>>>28))+((m=d+(e^n^l)+s[8]+2272392833&4294967295)<<11&4294967295|m>>>21))+((m=l+(d^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|m>>>16))+((m=n+(l^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|m>>>9))+((m=e+(n^l^d)+s[1]+2763975236&4294967295)<<4&4294967295|m>>>28))+((m=d+(e^n^l)+s[4]+1272893353&4294967295)<<11&4294967295|m>>>21))+((m=l+(d^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|m>>>16))+((m=n+(l^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|m>>>9))+((m=e+(n^l^d)+s[13]+681279174&4294967295)<<4&4294967295|m>>>28))+((m=d+(e^n^l)+s[0]+3936430074&4294967295)<<11&4294967295|m>>>21))+((m=l+(d^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|m>>>16))+((m=n+(l^d^e)+s[6]+76029189&4294967295)<<23&4294967295|m>>>9))+((m=e+(n^l^d)+s[9]+3654602809&4294967295)<<4&4294967295|m>>>28))+((m=d+(e^n^l)+s[12]+3873151461&4294967295)<<11&4294967295|m>>>21))+((m=l+(d^e^n)+s[15]+530742520&4294967295)<<16&4294967295|m>>>16))+((m=n+(l^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|m>>>9))+((m=e+(l^(n|~d))+s[0]+4096336452&4294967295)<<6&4294967295|m>>>26))+((m=d+(n^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(d|~n))+s[14]+2878612391&4294967295)<<15&4294967295|m>>>17))+((m=n+(d^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|m>>>11))+((m=e+(l^(n|~d))+s[12]+1700485571&4294967295)<<6&4294967295|m>>>26))+((m=d+(n^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(d|~n))+s[10]+4293915773&4294967295)<<15&4294967295|m>>>17))+((m=n+(d^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|m>>>11))+((m=e+(l^(n|~d))+s[8]+1873313359&4294967295)<<6&4294967295|m>>>26))+((m=d+(n^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(d|~n))+s[6]+2734768916&4294967295)<<15&4294967295|m>>>17))+((m=n+(d^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|m>>>11))+((d=(e=n+((m=e+(l^(n|~d))+s[4]+4149444226&4294967295)<<6&4294967295|m>>>26))+((m=d+(n^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|m>>>22))^((l=d+((m=l+(e^(d|~n))+s[2]+718787259&4294967295)<<15&4294967295|m>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(l+(m<<21&4294967295|m>>>11))&4294967295,r.g[2]=r.g[2]+l&4294967295,r.g[3]=r.g[3]+d&4294967295}function Ri(r,e){this.h=e;for(var n=[],s=!0,l=r.length-1;0<=l;l--){var d=0|r[l];s&&d==e||(n[l]=d,s=!1)}this.g=n}(se=_i.prototype).Oa=function(r){this.M=r},se.ha=function(r,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tn.g(),this.C=function pi(r){return r.h||(r.h=r.i())}(this.u?this.u:tn),this.g.onreadystatechange=qe(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(d){return void zr(this,d)}if(r=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)n.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())n.set(d,s.get(d))}s=Array.from(n.keys()).find(d=>"content-type"==d.toLowerCase()),l=W.FormData&&r instanceof W.FormData,!(0<=Me(jr,e))||s||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,m]of n)this.g.setRequestHeader(d,m);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{sl(this),0<this.B&&((this.L=function Zo(r){return ft&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qe(this.ua,this)):this.A=Kt(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(d){zr(this,d)}},se.ua=function(){typeof Ee<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ae(this,"timeout"),this.abort(8))},se.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Ae(this,"complete"),Ae(this,"abort"),Qo(this))},se.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qo(this,!0)),_i.$.N.call(this)},se.La=function(){this.s||(this.G||this.v||this.l?Zr(this):this.kb())},se.kb=function(){Zr(this)},se.isActive=function(){return!!this.g},se.da=function(){try{return 2<No(this)?this.g.status:-1}catch{return-1}},se.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},se.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),va(e)}},se.Ia=function(){return this.m},se.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(se=Wn.prototype).ra=8,se.H=1,se.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const l=new $n(this,this.l,r);let d=this.s;if(this.U&&(d?(d=gi(d),_t(d,this.U)):d=this.U),null!==this.o||this.O||(l.I=d,d=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ja(this,l,e),Oi(n=Rr(this.I),"RID",r),Oi(n,"CVER",22),this.F&&Oi(n,"X-HTTP-Session-Id",this.F),oa(this,n),d&&(this.O?e="headers="+encodeURIComponent(String(U(d)))+"&"+e:this.o&&_e(n,this.o,d)),_a(this.i,l),this.bb&&Oi(n,"TYPE","init"),this.P?(Oi(n,"$req",e),Oi(n,"SID","null"),l.aa=!0,Mo(l,n,null)):Mo(l,n,e),this.H=2}}else 3==this.H&&(r?uc(this,r):0==this.j.length||us(this.i)||uc(this))},se.Ma=function(){if(this.u=null,ba(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=un(qe(this.jb,this),r)}},se.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,cn(10),Io(this),ba(this))},se.ib=function(){null!=this.v&&(this.v=null,Io(this),al(this),cn(19))},se.pb=function(r){r?(this.l.info("Successfully pinged google.com"),cn(2)):(this.l.info("Failed to ping google.com"),cn(1))},se.isActive=function(){return!!this.h&&this.h.isActive(this)},(se=za.prototype).Ba=function(){},se.Aa=function(){},se.za=function(){},se.ya=function(){},se.isActive=function(){return!0},se.Va=function(){},ps.prototype.g=function(r,e){return new so(r,e)},Ye(so,Ze),so.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,n=this.h||void 0;cn(0),r.Y=e,r.na=n||{},r.G=r.aa,r.I=Ts(r,null,r.Y),fs(r)},so.prototype.close=function(){mi(this.g)},so.prototype.u=function(r){var e=this.g;if("string"==typeof r){var n={};n.__data__=r,r=n}else this.v&&((n={}).__data__=Dt(r),r=n);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&fs(e)},so.prototype.N=function(){this.g.h=null,delete this.j,mi(this.g),delete this.g,so.$.N.call(this)},Ye(Ea,Fr),Ye(Nl,vn),Ye(Hs,za),Hs.prototype.Ba=function(){Ae(this.g,"a")},Hs.prototype.Aa=function(r){Ae(this.g,new Ea(r))},Hs.prototype.za=function(r){Ae(this.g,new Nl)},Hs.prototype.ya=function(){Ae(this.g,"b")},Ye(Qr,function ll(){this.blockSize=-1}),Qr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qr.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var n=e-this.blockSize,s=this.m,l=this.h,d=0;d<e;){if(0==l)for(;d<=n;)cl(this,r,d),d+=this.blockSize;if("string"==typeof r){for(;d<e;)if(s[l++]=r.charCodeAt(d++),l==this.blockSize){cl(this,s),l=0;break}}else for(;d<e;)if(s[l++]=r[d++],l==this.blockSize){cl(this,s),l=0;break}}this.h=l,this.i+=e},Qr.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var n=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&n,n/=256;for(this.j(r),r=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)r[n++]=this.g[e]>>>s&255;return r};var Nc={};function sa(r){return-128<=r&&128>r?function Hn(r,e){var n=Nc;return Object.prototype.hasOwnProperty.call(n,r)?n[r]:n[r]=e(r)}(r,function(e){return new Ri([0|e],0>e?-1:0)}):new Ri([0|r],0>r?-1:0)}function Co(r){if(isNaN(r)||!isFinite(r))return ul;if(0>r)return ao(Co(-r));for(var e=[],n=1,s=0;r>=n;s++)e[s]=r/n|0,n*=aa;return new Ri(e,0)}var aa=4294967296,ul=sa(0),kl=sa(1),dl=sa(16777216);function $s(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function ko(r){return-1==r.h}function ao(r){for(var e=r.g.length,n=[],s=0;s<e;s++)n[s]=~r.g[s];return new Ri(n,~r.h).add(kl)}function la(r,e){return r.add(ao(e))}function Ha(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function wa(r,e){this.g=r,this.h=e}function Ca(r,e){if($s(e))throw Error("division by zero");if($s(r))return new wa(ul,ul);if(ko(r))return e=Ca(ao(r),e),new wa(ao(e.g),ao(e.h));if(ko(e))return e=Ca(r,ao(e)),new wa(ao(e.g),e.h);if(30<r.g.length){if(ko(r)||ko(e))throw Error("slowDivide_ only works with positive integers.");for(var n=kl,s=e;0>=s.X(r);)n=$a(n),s=$a(s);var l=Fo(n,1),d=Fo(s,1);for(s=Fo(s,2),n=Fo(n,2);!$s(s);){var m=d.add(s);0>=m.X(r)&&(l=l.add(n),d=m),s=Fo(s,1),n=Fo(n,1)}return e=la(r,l.R(e)),new wa(l,e)}for(l=ul;0<=r.X(e);){for(n=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),m=(d=Co(n)).R(e);ko(m)||0<m.X(r);)m=(d=Co(n-=s)).R(e);$s(d)&&(d=kl),l=l.add(d),r=la(r,m)}return new wa(l,r)}function $a(r){for(var e=r.g.length+1,n=[],s=0;s<e;s++)n[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Ri(n,r.h)}function Fo(r,e){var n=e>>5;e%=32;for(var s=r.g.length-n,l=[],d=0;d<s;d++)l[d]=0<e?r.D(d+n)>>>e|r.D(d+n+1)<<32-e:r.D(d+n);return new Ri(l,r.h)}(se=Ri.prototype).ea=function(){if(ko(this))return-ao(this).ea();for(var r=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);r+=(0<=s?s:aa+s)*e,e*=aa}return r},se.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if($s(this))return"0";if(ko(this))return"-"+ao(this).toString(r);for(var e=Co(Math.pow(r,6)),n=this,s="";;){var l=Ca(n,e).g,d=((0<(n=la(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(r);if($s(n=l))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},se.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},se.X=function(r){return ko(r=la(this,r))?-1:$s(r)?0:1},se.abs=function(){return ko(this)?ao(this):this},se.add=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0,l=0;l<=e;l++){var d=s+(65535&this.D(l))+(65535&r.D(l)),m=(d>>>16)+(this.D(l)>>>16)+(r.D(l)>>>16);s=m>>>16,n[l]=(m&=65535)<<16|(d&=65535)}return new Ri(n,-2147483648&n[n.length-1]?-1:0)},se.R=function(r){if($s(this)||$s(r))return ul;if(ko(this))return ko(r)?ao(this).R(ao(r)):ao(ao(this).R(r));if(ko(r))return ao(this.R(ao(r)));if(0>this.X(dl)&&0>r.X(dl))return Co(this.ea()*r.ea());for(var e=this.g.length+r.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<r.g.length;l++){var d=this.D(s)>>>16,m=65535&this.D(s),S=r.D(l)>>>16,L=65535&r.D(l);n[2*s+2*l]+=m*L,Ha(n,2*s+2*l),n[2*s+2*l+1]+=d*L,Ha(n,2*s+2*l+1),n[2*s+2*l+1]+=m*S,Ha(n,2*s+2*l+1),n[2*s+2*l+2]+=d*S,Ha(n,2*s+2*l+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new Ri(n,0)},se.gb=function(r){return Ca(this,r).h},se.and=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&r.D(s);return new Ri(n,this.h&r.h)},se.or=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|r.D(s);return new Ri(n,this.h|r.h)},se.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^r.D(s);return new Ri(n,this.h^r.h)},ps.prototype.createWebChannel=ps.prototype.g,so.prototype.send=so.prototype.u,so.prototype.open=so.prototype.m,so.prototype.close=so.prototype.close,Pn.NO_ERROR=0,Pn.TIMEOUT=8,Pn.HTTP_ERROR=6,jn.COMPLETE="complete",Ji.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",Ze.prototype.listen=Ze.prototype.O,_i.prototype.listenOnce=_i.prototype.P,_i.prototype.getLastError=_i.prototype.Sa,_i.prototype.getLastErrorCode=_i.prototype.Ia,_i.prototype.getStatus=_i.prototype.da,_i.prototype.getResponseJson=_i.prototype.Wa,_i.prototype.getResponseText=_i.prototype.ja,_i.prototype.send=_i.prototype.ha,_i.prototype.setWithCredentials=_i.prototype.Oa,Qr.prototype.digest=Qr.prototype.l,Qr.prototype.reset=Qr.prototype.reset,Qr.prototype.update=Qr.prototype.j,Ri.prototype.add=Ri.prototype.add,Ri.prototype.multiply=Ri.prototype.R,Ri.prototype.modulo=Ri.prototype.gb,Ri.prototype.compare=Ri.prototype.X,Ri.prototype.toNumber=Ri.prototype.ea,Ri.prototype.toString=Ri.prototype.toString,Ri.prototype.getBits=Ri.prototype.D,Ri.fromNumber=Co,Ri.fromString=function Ia(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return ao(Ia(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Co(Math.pow(e,8)),s=ul,l=0;l<r.length;l+=8){var d=Math.min(8,r.length-l),m=parseInt(r.substring(l,l+d),e);8>d?(d=Co(Math.pow(e,d)),s=s.R(d).add(Co(m))):s=(s=s.R(n)).add(Co(m))}return s};var hl=be.createWebChannelTransport=function(){return new ps},T=be.getStatEventTarget=function(){return Ie()},ne=be.ErrorCode=Pn,z=be.EventType=jn,X=be.Event=ee,Be=be.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},St=be.FetchXmlHttpFactory=wr,Bt=be.WebChannel=Ji,Fn=be.XhrIo=_i,tr=be.Md5=Qr,Yi=be.Integer=Ri;const Bi="@firebase/firestore";class Qn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");let ir="10.5.2";const Pi=new he.Yd("@firebase/firestore");function mr(){return Pi.logLevel}function Ws(r){Pi.setLogLevel(r)}function Gt(r,...e){if(Pi.logLevel<=he.in.DEBUG){const n=e.map(xr);Pi.debug(`Firestore (${ir}): ${r}`,...n)}}function nr(r,...e){if(Pi.logLevel<=he.in.ERROR){const n=e.map(xr);Pi.error(`Firestore (${ir}): ${r}`,...n)}}function or(r,...e){if(Pi.logLevel<=he.in.WARN){const n=e.map(xr);Pi.warn(`Firestore (${ir}): ${r}`,...n)}}function xr(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function yn(r="Unexpected state"){const e=`FIRESTORE (${ir}) INTERNAL ASSERTION FAILED: `+r;throw nr(e),new Error(e)}function Vn(r,e){r||yn()}function dc(r,e){r||yn()}function Xt(r,e){return r}const Pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qt extends j.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class kc{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qn.UNAUTHENTICATED))}shutdown(){}}class Da{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $o{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let l=this.i;const d=K=>this.i!==l?(l=this.i,n(K)):Promise.resolve();let m=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Fi,e.enqueueRetryable(()=>d(this.currentUser))};const S=()=>{const K=m;e.enqueueRetryable((0,c.Z)(function*(){yield K.promise,yield d(s.currentUser)}))},L=K=>{Gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(K=>L(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?L(K):(Gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Fi)}},0),S()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Vn("string"==typeof s.accessToken),new kc(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vn(null===e||"string"==typeof e),new Qn(e)}}class jh{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cu{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new jh(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ks{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=d=>{null!=d.error&&Gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const m=d.token!==this.R;return this.R=d.token,Gt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?n(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const l=d=>{Gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>l(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?l(d):Gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Vn("string"==typeof n.token),this.R=n.token,new Gs(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Fd(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class xa{static newId(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=Fd(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[d]%62))}return s}}function ti(r,e){return r<e?-1:r>e?1:0}function ca(r,e,n){return r.length===e.length&&r.every((s,l)=>n(s,e[l]))}function Fl(r){return r+"\0"}class Rn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new qt(Pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qt(Pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new qt(Pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qt(Pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rn.fromMillis(Date.now())}static fromDate(e){return Rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Rn(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ti(this.nanoseconds,e.nanoseconds):ti(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bn(e)}static min(){return new Bn(new Rn(0,0))}static max(){return new Bn(new Rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ll{constructor(e,n,s){void 0===n?n=0:n>e.length&&yn(),void 0===s?s=e.length-n:s>e.length-n&&yn(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===Ll.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ll?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const d=e.get(l),m=n.get(l);if(d<m)return-1;if(d>m)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Li extends Ll{construct(e,n,s){return new Li(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new qt(Pt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Li(n)}static emptyPath(){return new Li([])}}const hc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends Ll{construct(e,n,s){return new gr(e,n,s)}static isValidIdentifier(e){return hc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(e){const n=[];let s="",l=0;const d=()=>{if(0===s.length)throw new qt(Pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let m=!1;for(;l<e.length;){const S=e[l];if("\\"===S){if(l+1===e.length)throw new qt(Pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[l+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new qt(Pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,l+=2}else"`"===S?(m=!m,l++):"."!==S||m?(s+=S,l++):(d(),l++)}if(d(),m)throw new qt(Pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(n)}static emptyPath(){return new gr([])}}class Dn{constructor(e){this.path=e}static fromPath(e){return new Dn(Li.fromString(e))}static fromName(e){return new Dn(Li.fromString(e).popFirst(5))}static empty(){return new Dn(Li.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Li.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Li.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dn(new Li(e.slice()))}}class Lo{constructor(e,n,s,l){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=l}}function fc(r){return r.fields.find(e=>2===e.kind)}function hr(r){return r.fields.filter(e=>2!==e.kind)}Lo.UNKNOWN_ID=-1;class Xo{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ht{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ht(0,Do.min())}}function Ui(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Bn.fromTimestamp(1e9===s?new Rn(n+1,0):new Rn(n,s));return new Do(l,Dn.empty(),e)}function pc(r){return new Do(r.readTime,r.key,-1)}class Do{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Do(Bn.min(),Dn.empty(),-1)}static max(){return new Do(Bn.max(),Dn.empty(),-1)}}function Xr(r,e){let n=r.readTime.compareTo(e.readTime);return 0!==n?n:(n=Dn.comparator(r.documentKey,e.documentKey),0!==n?n:ti(r.largestBatchId,e.largestBatchId))}const Ta="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ms{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function rr(r){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,c.Z)(function*(r){if(r.code!==Pt.FAILED_PRECONDITION||r.message!==Ta)throw r;Gt("LocalStore","Unexpectedly lost primary lease")}),Wa.apply(this,arguments)}class Et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&yn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Et((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(n,d).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Et?n:Et.resolve(n)}catch(n){return Et.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Et.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Et.reject(n)}static resolve(e){return new Et((n,s)=>{n(e)})}static reject(e){return new Et((n,s)=>{s(e)})}static waitFor(e){return new Et((n,s)=>{let l=0,d=0,m=!1;e.forEach(S=>{++l,S.next(()=>{++d,m&&d===l&&n()},L=>s(L))}),m=!0,d===l&&n()})}static or(e){let n=Et.resolve(!1);for(const s of e)n=n.next(l=>l?Et.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,d)=>{s.push(n.call(this,l,d))}),this.waitFor(s)}static mapArray(e,n){return new Et((s,l)=>{const d=e.length,m=new Array(d);let S=0;for(let L=0;L<d;L++){const K=L;n(e[K]).next(ae=>{m[K]=ae,++S,S===d&&s(m)},ae=>l(ae))}})}static doWhile(e,n){return new Et((s,l)=>{const d=()=>{!0===e()?n().next(()=>{d()},l):s()};d()})}}class pl{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Fi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Jr(e,n.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=G(s.target.error);this.V.reject(new Jr(e,l))}}static open(e,n,s,l){try{return new pl(n,e.transaction(l,s))}catch(d){throw new Jr(n,d)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Gt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new R(n)}}class gs{constructor(e,n,s){this.name=e,this.version=n,this.p=s,12.2===gs.S((0,j.z$)())&&nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Gt("SimpleDb","Removing database:",e),E(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,j.hl)())return!1;if(gs.C())return!0;const e=(0,j.z$)(),n=gs.S(e),s=0<n&&n<10,l=gs.v(e),d=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var n=this;return(0,c.Z)(function*(){return n.db||(Gt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,l)=>{const d=indexedDB.open(n.name,n.version);d.onsuccess=m=>{s(m.target.result)},d.onblocked=()=>{l(new Jr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=m=>{const S=m.target.error;l("VersionError"===S.name?new qt(Pt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new qt(Pt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new Jr(e,S))},d.onupgradeneeded=m=>{Gt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',m.oldVersion),n.p.N(m.target.result,d.transaction,m.oldVersion,n.version).next(()=>{Gt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=s=>n.B(s)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,s,l){var d=this;return(0,c.Z)(function*(){const m="readonly"===n;let S=0;for(;;){++S;try{d.db=yield d.O(e);const L=pl.open(d.db,e,m?"readonly":"readwrite",s),K=l(L).next(ae=>(L.g(),ae)).catch(ae=>(L.abort(ae),Et.reject(ae))).toPromise();return K.catch(()=>{}),yield L.m,K}catch(L){const K=L,ae="FirebaseError"!==K.name&&S<3;if(Gt("SimpleDb","Transaction failed with error:",K.message,"Retrying:",ae),d.close(),!ae)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Vl{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return E(this.k.delete())}}class Jr extends qt{constructor(e,n){super(Pt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function w(r){return"IndexedDbTransactionError"===r.name}class R{constructor(e){this.store=e}put(e,n){let s;return void 0!==n?(Gt("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(Gt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),E(s)}add(e){return Gt("SimpleDb","ADD",this.store.name,e,e),E(this.store.add(e))}get(e){return E(this.store.get(e)).next(n=>(void 0===n&&(n=null),Gt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Gt("SimpleDb","DELETE",this.store.name,e),E(this.store.delete(e))}count(){return Gt("SimpleDb","COUNT",this.store.name),E(this.store.count())}W(e,n){const s=this.options(e,n);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),d=[];return this.G(l,(m,S)=>{d.push(S)}).next(()=>d)}{const l=this.store.getAll(s.range);return new Et((d,m)=>{l.onerror=S=>{m(S.target.error)},l.onsuccess=S=>{d(S.target.result)}})}}j(e,n){const s=this.store.getAll(e,null===n?void 0:n);return new Et((l,d)=>{s.onerror=m=>{d(m.target.error)},s.onsuccess=m=>{l(m.target.result)}})}H(e,n){Gt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,n);s.J=!1;const l=this.cursor(s);return this.G(l,(d,m,S)=>S.delete())}Y(e,n){let s;n?s=e:(s={},n=e);const l=this.cursor(s);return this.G(l,n)}Z(e){const n=this.cursor({});return new Et((s,l)=>{n.onerror=d=>{const m=G(d.target.error);l(m)},n.onsuccess=d=>{const m=d.target.result;m?e(m.primaryKey,m.value).next(S=>{S?m.continue():s()}):s()}})}G(e,n){const s=[];return new Et((l,d)=>{e.onerror=m=>{d(m.target.error)},e.onsuccess=m=>{const S=m.target.result;if(!S)return void l();const L=new Vl(S),K=n(S.primaryKey,S.value,L);if(K instanceof Et){const ae=K.catch(Se=>(L.done(),Et.reject(Se)));s.push(ae)}L.isDone?l():null===L.$?S.continue():S.continue(L.$)}}).next(()=>Et.waitFor(s))}options(e,n){let s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function E(r){return new Et((e,n)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const l=G(s.target.error);n(l)}})}let P=!1;function G(r){const e=gs.S((0,j.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const s=new qt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return P||(P=!0,setTimeout(()=>{throw s},0)),s}}return r}class de{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;Gt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,c.Z)(function*(){n.task=null;try{Gt("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(s){w(s)?Gt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield rr(s)}yield n.ee(6e4)}))}}class Ue{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,c.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>n.ne(s,e))})()}ne(e,n){const s=new Set;let l=n,d=!0;return Et.doWhile(()=>!0===d&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!s.has(m))return Gt("IndexBackiller",`Processing collection: ${m}`),this.re(e,m,l).next(S=>{l-=S,s.add(m)});d=!1})).next(()=>n-l)}re(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,s).next(d=>{const m=d.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.ie(l,d)).next(S=>(Gt("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,n,S))).next(()=>m.size)}))}ie(e,n){let s=e;return n.changes.forEach((l,d)=>{const m=pc(d);Xr(m,s)>0&&(s=m)}),new Do(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}let It=(()=>{class r{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=l=>this.se(l),this.oe=l=>s.writeSequenceNumber(l))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return r._e=-1,r})();function Ct(r){return null==r}function Sn(r){return 0===r&&1/r==-1/0}function Di(r){return"number"==typeof r&&Number.isInteger(r)&&!Sn(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Ci(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Ss(e)),e=zi(r.get(n),e);return Ss(e)}function zi(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const d=r.charAt(l);switch(d){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=d}}return n}function Ss(r){return r+"\x01\x01"}function lo(r){const e=r.length;if(Vn(e>=2),2===e)return Vn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Li.emptyPath();const n=e-2,s=[];let l="";for(let d=0;d<e;){const m=r.indexOf("\x01",d);switch((m<0||m>n)&&yn(),r.charAt(m+1)){case"\x01":const S=r.substring(d,m);let L;0===l.length?L=S:(l+=S,L=l,l=""),s.push(L);break;case"\x10":l+=r.substring(d,m),l+="\0";break;case"\x11":l+=r.substring(d,m+1);break;default:yn()}d=m+2}return new Li(s)}const ua=["userId","batchId"];function da(r,e){return[r,Ci(e)]}function ha(r,e,n){return[r,Ci(e),n]}const Fc={},du=["prefixPath","collectionGroup","readTime","documentId"],mc=["prefixPath","collectionGroup","documentId"],hu=["collectionGroup","readTime","prefixPath","documentId"],Wo=["canonicalId","targetId"],Ga=["targetId","path"],Hr=["path","targetId"],Qu=["collectionId","parent"],zh=["indexId","uid"],Xu=["uid","sequenceNumber"],Hh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fu=["indexId","uid","orderedDocumentKey"],Ju=["userId","collectionPath","documentId"],Bl=["userId","collectionPath","largestBatchId"],Ms=["userId","collectionGroup","largestBatchId"],Lc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pu=[...Lc,"documentOverlays"],ml=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gc=ml,fa=[...gc,"indexConfiguration","indexState","indexEntries"];class Ka extends ms{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function co(r,e){const n=Xt(r);return gs.M(n.ae,e)}function mu(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function _s(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Aa(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ar{constructor(e,n){this.comparator=e,this.root=n||uo.EMPTY}insert(e,n){return new ar(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,uo.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,uo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gu(this.root,e,this.comparator,!0)}}class gu{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=n?s(e.key,n):1,n&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class uo{constructor(e,n,s,l,d){this.key=e,this.value=n,this.color=s??uo.RED,this.left=l??uo.EMPTY,this.right=d??uo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,d){return new uo(e??this.key,n??this.value,s??this.color,l??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const d=s(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,n,s),null):0===d?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return uo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return uo.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,uo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,uo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yn();const e=this.left.check();if(e!==this.right.check())throw yn();return e+(this.isRed()?0:1)}}uo.EMPTY=null,uo.RED=!0,uo.BLACK=!1,uo.EMPTY=new class{constructor(){this.size=0}get key(){throw yn()}get value(){throw yn()}get color(){throw yn()}get left(){throw yn()}get right(){throw yn()}copy(e,n,s,l,d){return this}insert(e,n,s){return new uo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lr{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sa(this.data.getIterator())}getIteratorFrom(e){return new Sa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lr(this.comparator);return n.data=e,n}}class Sa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jo(r){return r.hasNext()?r.getNext():void 0}class vs{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new vs([])}unionWith(e){let n=new lr(gr.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new vs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class ed extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ul(){return typeof atob<"u"}class Or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new ed("Invalid base64 string: "+d):d}}(e);return new Or(n)}static fromUint8Array(e){const n=function(l){let d="";for(let m=0;m<l.length;++m)d+=String.fromCharCode(l[m]);return d}(e);return new Or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ti(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Or.EMPTY_BYTE_STRING=new Or("");const Vc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(r){if(Vn(!!r),"string"==typeof r){let e=0;const n=Vc.exec(r);if(Vn(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nr(r.seconds),nanos:Nr(r.nanos)}}function Nr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function ys(r){return"string"==typeof r?Or.fromBase64String(r):Or.fromUint8Array(r)}function Bc(r){var e,n;return"server_timestamp"===(null===(n=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jl(r){const e=r.mapValue.fields.__previous_value__;return Bc(e)?jl(e):e}function zl(r){const e=qs(r.mapValue.fields.__local_write_time__.timestampValue);return new Rn(e.seconds,e.nanos)}class Ld{constructor(e,n,s,l,d,m,S,L,K){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=m,this.autoDetectLongPolling=S,this.longPollingOptions=L,this.useFetchStreams=K}}class eo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new eo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof eo&&e.projectId===this.projectId&&e.database===this.database}}const Ma={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gl={nullValue:"NULL_VALUE"};function pa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bc(r)?4:$l(r)?9007199254740991:10:yn()}function bs(r,e){if(r===e)return!0;const n=pa(r);if(n!==pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return zl(r).isEqual(zl(e));case 3:return function(l,d){if("string"==typeof l.timestampValue&&"string"==typeof d.timestampValue&&l.timestampValue.length===d.timestampValue.length)return l.timestampValue===d.timestampValue;const m=qs(l.timestampValue),S=qs(d.timestampValue);return m.seconds===S.seconds&&m.nanos===S.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return d=e,ys(r.bytesValue).isEqual(ys(d.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(l,d){return Nr(l.geoPointValue.latitude)===Nr(d.geoPointValue.latitude)&&Nr(l.geoPointValue.longitude)===Nr(d.geoPointValue.longitude)}(r,e);case 2:return function(l,d){if("integerValue"in l&&"integerValue"in d)return Nr(l.integerValue)===Nr(d.integerValue);if("doubleValue"in l&&"doubleValue"in d){const m=Nr(l.doubleValue),S=Nr(d.doubleValue);return m===S?Sn(m)===Sn(S):isNaN(m)&&isNaN(S)}return!1}(r,e);case 9:return ca(r.arrayValue.values||[],e.arrayValue.values||[],bs);case 10:return function(l,d){const m=l.mapValue.fields||{},S=d.mapValue.fields||{};if(mu(m)!==mu(S))return!1;for(const L in m)if(m.hasOwnProperty(L)&&(void 0===S[L]||!bs(m[L],S[L])))return!1;return!0}(r,e);default:return yn()}var d}function qa(r,e){return void 0!==(r.values||[]).find(n=>bs(n,e))}function Ra(r,e){if(r===e)return 0;const n=pa(r),s=pa(e);if(n!==s)return ti(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ti(r.booleanValue,e.booleanValue);case 2:return function(d,m){const S=Nr(d.integerValue||d.doubleValue),L=Nr(m.integerValue||m.doubleValue);return S<L?-1:S>L?1:S===L?0:isNaN(S)?isNaN(L)?0:-1:1}(r,e);case 3:return _u(r.timestampValue,e.timestampValue);case 4:return _u(zl(r),zl(e));case 5:return ti(r.stringValue,e.stringValue);case 6:return function(d,m){const S=ys(d),L=ys(m);return S.compareTo(L)}(r.bytesValue,e.bytesValue);case 7:return function(d,m){const S=d.split("/"),L=m.split("/");for(let K=0;K<S.length&&K<L.length;K++){const ae=ti(S[K],L[K]);if(0!==ae)return ae}return ti(S.length,L.length)}(r.referenceValue,e.referenceValue);case 8:return function(d,m){const S=ti(Nr(d.latitude),Nr(m.latitude));return 0!==S?S:ti(Nr(d.longitude),Nr(m.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(d,m){const S=d.values||[],L=m.values||[];for(let K=0;K<S.length&&K<L.length;++K){const ae=Ra(S[K],L[K]);if(ae)return ae}return ti(S.length,L.length)}(r.arrayValue,e.arrayValue);case 10:return function(d,m){if(d===Ma.mapValue&&m===Ma.mapValue)return 0;if(d===Ma.mapValue)return 1;if(m===Ma.mapValue)return-1;const S=d.fields||{},L=Object.keys(S),K=m.fields||{},ae=Object.keys(K);L.sort(),ae.sort();for(let Se=0;Se<L.length&&Se<ae.length;++Se){const ot=ti(L[Se],ae[Se]);if(0!==ot)return ot;const Tt=Ra(S[L[Se]],K[ae[Se]]);if(0!==Tt)return Tt}return ti(L.length,ae.length)}(r.mapValue,e.mapValue);default:throw yn()}}function _u(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return ti(r,e);const n=qs(r),s=qs(e),l=ti(n.seconds,s.seconds);return 0!==l?l:ti(n.nanos,s.nanos)}function ma(r){return Uc(r)}function Uc(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=qs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?ys(r.bytesValue).toBase64():"referenceValue"in r?Dn.fromName(r.referenceValue).toString():"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const d of n.values||[])l?l=!1:s+=",",s+=Uc(d);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",d=!0;for(const m of s)d?d=!1:l+=",",l+=`${m}:${Uc(n.fields[m])}`;return l+"}"}(r.mapValue):yn()}function Pa(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function _c(r){return!!r&&"integerValue"in r}function Zs(r){return!!r&&"arrayValue"in r}function Qs(r){return!!r&&"nullValue"in r}function Oa(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Na(r){return!!r&&"mapValue"in r}function Hl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return _s(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Hl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function $l(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function vc(r){return"nullValue"in r?gl:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Pa(eo.empty(),Dn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:yn()}function xo(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Pa(eo.empty(),Dn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Ma:yn()}function td(r,e){const n=Ra(r.value,e.value);return 0!==n?n:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function vu(r,e){const n=Ra(r.value,e.value);return 0!==n?n:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class ro{constructor(e){this.value=e}static empty(){return new ro({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Na(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=gr.emptyPath(),s={},l=[];e.forEach((m,S)=>{if(!n.isImmediateParentOf(S)){const L=this.getFieldsMap(n);this.applyChanges(L,s,l),s={},l=[],n=S.popLast()}m?s[S.lastSegment()]=Hl(m):l.push(S.lastSegment())});const d=this.getFieldsMap(n);this.applyChanges(d,s,l)}delete(e){const n=this.field(e.popLast());Na(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Na(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){_s(n,(l,d)=>e[l]=d);for(const l of s)delete e[l]}clone(){return new ro(Hl(this.value))}}function Vd(r){const e=[];return _s(r.fields,(n,s)=>{const l=new gr([n]);if(Na(s)){const d=Vd(s.mapValue).fields;if(0===d.length)e.push(l);else for(const m of d)e.push(l.child(m))}else e.push(l)}),new vs(e)}class _r{constructor(e,n,s,l,d,m,S){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=d,this.data=m,this.documentState=S}static newInvalidDocument(e){return new _r(e,0,Bn.min(),Bn.min(),Bn.min(),ro.empty(),0)}static newFoundDocument(e,n,s,l){return new _r(e,1,n,Bn.min(),s,l,0)}static newNoDocument(e,n){return new _r(e,2,n,Bn.min(),Bn.min(),ro.empty(),0)}static newUnknownDocument(e,n){return new _r(e,3,n,Bn.min(),Bn.min(),ro.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Bn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ro.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ro.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ka{constructor(e,n){this.position=e,this.inclusive=n}}function Ya(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const d=e[l],m=r.position[l];if(s=d.field.isKeyField()?Dn.comparator(Dn.fromName(m.referenceValue),n.key):Ra(m,n.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function Wl(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!bs(r.position[n],e.position[n]))return!1;return!0}class Fa{constructor(e,n="asc"){this.field=e,this.dir=n}}function yu(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class jc{}class Ti extends jc{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new Kh(e,n,s):"array-contains"===n?new Tr(e,s):"in"===n?new Eu(e,s):"not-in"===n?new Rs(e,s):"array-contains-any"===n?new Qa(e,s):new Ti(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new jd(e,s):new ho(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ra(n,this.value)):null!==n&&pa(this.value)===pa(n)&&this.matchesComparison(Ra(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends jc{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new fr(e,n)}matches(e){return yc(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function yc(r){return"and"===r.op}function Bd(r){return"or"===r.op}function nd(r){return $h(r)&&yc(r)}function $h(r){for(const e of r.filters)if(e instanceof fr)return!1;return!0}function Ud(r){if(r instanceof Ti)return r.field.canonicalString()+r.op.toString()+ma(r.value);if(nd(r))return r.filters.map(e=>Ud(e)).join(",");{const e=r.filters.map(n=>Ud(n)).join(",");return`${r.op}(${e})`}}function Wh(r,e){return r instanceof Ti?(s=r,(l=e)instanceof Ti&&s.op===l.op&&s.field.isEqual(l.field)&&bs(s.value,l.value)):r instanceof fr?function(s,l){return l instanceof fr&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((d,m,S)=>d&&Wh(m,l.filters[S]),!0)}(r,e):void yn();var s,l}function Gh(r,e){const n=r.filters.concat(e);return fr.create(n,r.op)}function Za(r){return r instanceof Ti?`${(n=r).field.canonicalString()} ${n.op} ${ma(n.value)}`:r instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(Za).join(" ,")+"}"}(r):"Filter";var n}class Kh extends Ti{constructor(e,n,s){super(e,n,s),this.key=Dn.fromName(s.referenceValue)}matches(e){const n=Dn.comparator(e.key,this.key);return this.matchesComparison(n)}}class jd extends Ti{constructor(e,n){super(e,"in",n),this.keys=bu(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ho extends Ti{constructor(e,n){super(e,"not-in",n),this.keys=bu(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bu(r,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>Dn.fromName(s.referenceValue))}class Tr extends Ti{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zs(n)&&qa(n.arrayValue,this.value)}}class Eu extends Ti{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&qa(this.value.arrayValue,n)}}class Rs extends Ti{constructor(e,n){super(e,"not-in",n)}matches(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!qa(this.value.arrayValue,n)}}class Qa extends Ti{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zs(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>qa(this.value.arrayValue,s))}}class Iu{constructor(e,n=null,s=[],l=[],d=null,m=null,S=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=m,this.endAt=S,this.ce=null}}function bc(r,e=null,n=[],s=[],l=null,d=null,m=null){return new Iu(r,e,n,s,l,d,m)}function Ps(r){const e=Xt(r);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ud(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),Ct(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ma(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ma(s)).join(",")),e.ce=n}return e.ce}function _l(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!yu(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Wh(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Wl(r.startAt,e.startAt)&&Wl(r.endAt,e.endAt)}function Ec(r){return Dn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function zc(r,e){return r.filters.filter(n=>n instanceof Ti&&n.field.isEqual(e))}function wu(r,e,n){let s=gl,l=!0;for(const d of zc(r,e)){let m=gl,S=!0;switch(d.op){case"<":case"<=":m=vc(d.value);break;case"==":case"in":case">=":m=d.value;break;case">":m=d.value,S=!1;break;case"!=":case"not-in":m=gl}td({value:s,inclusive:l},{value:m,inclusive:S})<0&&(s=m,l=S)}if(null!==n)for(let d=0;d<r.orderBy.length;++d)if(r.orderBy[d].field.isEqual(e)){const m=n.position[d];td({value:s,inclusive:l},{value:m,inclusive:n.inclusive})<0&&(s=m,l=n.inclusive);break}return{value:s,inclusive:l}}function es(r,e,n){let s=Ma,l=!0;for(const d of zc(r,e)){let m=Ma,S=!0;switch(d.op){case">=":case">":m=xo(d.value),S=!1;break;case"==":case"in":case"<=":m=d.value;break;case"<":m=d.value,S=!1;break;case"!=":case"not-in":m=Ma}vu({value:s,inclusive:l},{value:m,inclusive:S})>0&&(s=m,l=S)}if(null!==n)for(let d=0;d<r.orderBy.length;++d)if(r.orderBy[d].field.isEqual(e)){const m=n.position[d];vu({value:s,inclusive:l},{value:m,inclusive:n.inclusive})>0&&(s=m,l=n.inclusive);break}return{value:s,inclusive:l}}class Os{constructor(e,n=null,s=[],l=[],d=null,m="F",S=null,L=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=m,this.startAt=S,this.endAt=L,this.le=null,this.he=null,this.Pe=null}}function vl(r,e,n,s,l,d,m,S){return new Os(r,e,n,s,l,d,m,S)}function Xa(r){return new Os(r)}function Hc(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function id(r){return null!==r.collectionGroup}function Ja(r){const e=Xt(r);if(null===e.le){e.le=[];const n=new Set;for(const d of e.explicitOrderBy)e.le.push(d),n.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let S=new lr(gr.comparator);return m.filters.forEach(L=>{L.getFlattenedFilters().forEach(K=>{K.isInequality()&&(S=S.add(K.field))})}),S})(e).forEach(d=>{n.has(d.canonicalString())||d.isKeyField()||e.le.push(new Fa(d,s))}),n.has(gr.keyField().canonicalString())||e.le.push(new Fa(gr.keyField(),s))}return e.le}function Vo(r){const e=Xt(r);return e.he||(e.he=function Gl(r,e){if("F"===r.limitType)return bc(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(l=>new Fa(l.field,"desc"===l.dir?"asc":"desc"));const n=r.endAt?new ka(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ka(r.startAt.position,r.startAt.inclusive):null;return bc(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}(e,Ja(r))),e.he}function $c(r,e){const n=r.filters.concat([e]);return new Os(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Ic(r,e,n){return new Os(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function yl(r,e){return _l(Vo(r),Vo(e))&&r.limitType===e.limitType}function Kl(r){return`${Ps(Vo(r))}|lt:${r.limitType}`}function el(r){return`Query(target=${function(n){let s=n.path.canonicalString();return null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>Za(l)).join(", ")}]`),Ct(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>{return`${(m=l).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>ma(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>ma(l)).join(",")),`Target(${s})`}(Vo(r))}; limitType=${r.limitType})`}function La(r,e){return e.isFoundDocument()&&function(s,l){const d=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):Dn.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(r,e)&&function(s,l){for(const d of Ja(s))if(!d.field.isKeyField()&&null===l.data.field(d.field))return!1;return!0}(r,e)&&function(s,l){for(const d of s.filters)if(!d.matches(l))return!1;return!0}(r,e)&&(l=e,!((s=r).startAt&&!function(m,S,L){const K=Ya(m,S,L);return m.inclusive?K<=0:K<0}(s.startAt,Ja(s),l)||s.endAt&&!function(m,S,L){const K=Ya(m,S,L);return m.inclusive?K>=0:K>0}(s.endAt,Ja(s),l)));var s,l}function rd(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function bl(r){return(e,n)=>{let s=!1;for(const l of Ja(r)){const d=qh(l,e,n);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function qh(r,e,n){const s=r.field.isKeyField()?Dn.comparator(e.key,n.key):function(d,m,S){const L=m.data.field(d),K=S.data.field(d);return null!==L&&null!==K?Ra(L,K):yn()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yn()}}class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,e))return d}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,n]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(n,s)=>{for(const[l,d]of s)e(l,d)})}isEmpty(){return Aa(this.inner)}size(){return this.innerSize}}const b=new ar(Dn.comparator);function p(){return b}const _=new ar(Dn.comparator);function D(...r){let e=_;for(const n of r)e=e.insert(n.key,n);return e}function Q(r){let e=_;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function fe(){return Mt()}function st(){return Mt()}function Mt(){return new Xs(r=>r.toString(),(r,e)=>r.isEqual(e))}const rn=new ar(Dn.comparator),zn=new lr(Dn.comparator);function ln(...r){let e=zn;for(const n of r)e=e.add(n);return e}const Zi=new lr(ti);function To(){return Zi}function tl(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sn(e)?"-0":e}}function wc(r){return{integerValue:""+r}}function ql(r,e){return Di(e)?wc(e):tl(r,e)}class C{constructor(){this._=void 0}}function g(r,e,n){return r instanceof k?function(l,d){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return d&&Bc(d)&&(d=jl(d)),d&&(m.fields.__previous_value__=d),{mapValue:m}}(n,e):r instanceof q?pe(r,e):r instanceof Fe?rt(r,e):function(l,d){const m=y(l,d),S=bn(m)+bn(l.Ie);return _c(m)&&_c(l.Ie)?wc(S):tl(l.serializer,S)}(r,e)}function h(r,e,n){return r instanceof q?pe(r,e):r instanceof Fe?rt(r,e):n}function y(r,e){return r instanceof At?_c(s=e)||(d=s)&&"doubleValue"in d?e:{integerValue:0}:null;var s,d}class k extends C{}class q extends C{constructor(e){super(),this.elements=e}}function pe(r,e){const n=In(e);for(const s of r.elements)n.some(l=>bs(l,s))||n.push(s);return{arrayValue:{values:n}}}class Fe extends C{constructor(e){super(),this.elements=e}}function rt(r,e){let n=In(e);for(const s of r.elements)n=n.filter(l=>!bs(l,s));return{arrayValue:{values:n}}}class At extends C{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function bn(r){return Nr(r.integerValue||r.doubleValue)}function In(r){return Zs(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ci{constructor(e,n){this.field=e,this.transform=n}}class Xn{constructor(e,n){this.version=e,this.transformResults=n}}class mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ei(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class cr{}function Ar(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new ea(r.key,mn.none()):new Sr(r.key,r.data,mn.none());{const n=r.data,s=ro.empty();let l=new lr(gr.comparator);for(let d of e.fields)if(!l.has(d)){let m=n.field(d);null===m&&d.length>1&&(d=d.popLast(),m=n.field(d)),null===m?s.delete(d):s.set(d,m),l=l.add(d)}return new Ao(r.key,s,new vs(l.toArray()),mn.none())}}function Xi(r,e,n){r instanceof Sr?function(l,d,m){const S=l.value.clone(),L=Js(l.fieldTransforms,d,m.transformResults);S.setAll(L),d.convertToFoundDocument(m.version,S).setHasCommittedMutations()}(r,e,n):r instanceof Ao?function(l,d,m){if(!Ei(l.precondition,d))return void d.convertToUnknownDocument(m.version);const S=Js(l.fieldTransforms,d,m.transformResults),L=d.data;L.setAll(Va(l)),L.setAll(S),d.convertToFoundDocument(m.version,L).setHasCommittedMutations()}(r,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Er(r,e,n,s){return r instanceof Sr?function(d,m,S,L){if(!Ei(d.precondition,m))return S;const K=d.value.clone(),ae=Wc(d.fieldTransforms,L,m);return K.setAll(ae),m.convertToFoundDocument(m.version,K).setHasLocalMutations(),null}(r,e,n,s):r instanceof Ao?function(d,m,S,L){if(!Ei(d.precondition,m))return S;const K=Wc(d.fieldTransforms,L,m),ae=m.data;return ae.setAll(Va(d)),ae.setAll(K),m.convertToFoundDocument(m.version,ae).setHasLocalMutations(),null===S?null:S.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(Se=>Se.field))}(r,e,n,s):(S=n,Ei(r.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):S);var m,S}function nl(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),d=y(s.transform,l||null);null!=d&&(null===n&&(n=ro.empty()),n.set(s.field,d))}return n||null}function ts(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=r.fieldTransforms)&&void 0===l||s&&l&&ca(s,l,(d,m)=>function xi(r,e){return r.field.isEqual(e.field)&&(l=e.transform,(s=r.transform)instanceof q&&l instanceof q||s instanceof Fe&&l instanceof Fe?ca(s.elements,l.elements,bs):s instanceof At&&l instanceof At?bs(s.Ie,l.Ie):s instanceof k&&l instanceof k);var s,l}(d,m))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var s,l}class Sr extends cr{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ao extends cr{constructor(e,n,s,l,d=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Va(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Js(r,e,n){const s=new Map;Vn(r.length===n.length);for(let l=0;l<n.length;l++){const d=r[l],m=d.transform,S=e.data.field(d.field);s.set(d.field,h(m,S,n[l]))}return s}function Wc(r,e,n){const s=new Map;for(const l of r){const d=l.transform,m=n.data.field(l.field);s.set(l.field,g(d,m,e))}return s}class ea extends cr{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class El extends cr{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class od{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&Xi(d,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Er(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Er(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=st();return this.mutations.forEach(l=>{const d=e.get(l.key),m=d.overlayedDocument;let S=this.applyToLocalView(m,d.mutatedFields);S=n.has(l.key)?null:S;const L=Ar(m,S);null!==L&&s.set(l.key,L),m.isValidDocument()||m.convertToNoDocument(Bn.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ln())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,(n,s)=>ts(n,s))&&ca(this.baseMutations,e.baseMutations,(n,s)=>ts(n,s))}}class sd{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Vn(e.mutations.length===s.length);let l=rn;const d=e.mutations;for(let m=0;m<d.length;m++)l=l.insert(d[m].key,s[m].version);return new sd(e,n,s,l)}}class Kn{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vi{constructor(e,n){this.count=e,this.unchangedNames=n}}var ui,hi;function ga(r){switch(r){default:return yn();case Pt.CANCELLED:case Pt.UNKNOWN:case Pt.DEADLINE_EXCEEDED:case Pt.RESOURCE_EXHAUSTED:case Pt.INTERNAL:case Pt.UNAVAILABLE:case Pt.UNAUTHENTICATED:return!1;case Pt.INVALID_ARGUMENT:case Pt.NOT_FOUND:case Pt.ALREADY_EXISTS:case Pt.PERMISSION_DENIED:case Pt.FAILED_PRECONDITION:case Pt.ABORTED:case Pt.OUT_OF_RANGE:case Pt.UNIMPLEMENTED:case Pt.DATA_LOSS:return!0}}function Ns(r){if(void 0===r)return nr("GRPC error has no .code"),Pt.UNKNOWN;switch(r){case ui.OK:return Pt.OK;case ui.CANCELLED:return Pt.CANCELLED;case ui.UNKNOWN:return Pt.UNKNOWN;case ui.DEADLINE_EXCEEDED:return Pt.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return Pt.RESOURCE_EXHAUSTED;case ui.INTERNAL:return Pt.INTERNAL;case ui.UNAVAILABLE:return Pt.UNAVAILABLE;case ui.UNAUTHENTICATED:return Pt.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return Pt.INVALID_ARGUMENT;case ui.NOT_FOUND:return Pt.NOT_FOUND;case ui.ALREADY_EXISTS:return Pt.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return Pt.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return Pt.FAILED_PRECONDITION;case ui.ABORTED:return Pt.ABORTED;case ui.OUT_OF_RANGE:return Pt.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return Pt.UNIMPLEMENTED;case ui.DATA_LOSS:return Pt.DATA_LOSS;default:return yn()}}(hi=ui||(ui={}))[hi.OK=0]="OK",hi[hi.CANCELLED=1]="CANCELLED",hi[hi.UNKNOWN=2]="UNKNOWN",hi[hi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hi[hi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hi[hi.NOT_FOUND=5]="NOT_FOUND",hi[hi.ALREADY_EXISTS=6]="ALREADY_EXISTS",hi[hi.PERMISSION_DENIED=7]="PERMISSION_DENIED",hi[hi.UNAUTHENTICATED=16]="UNAUTHENTICATED",hi[hi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hi[hi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hi[hi.ABORTED=10]="ABORTED",hi[hi.OUT_OF_RANGE=11]="OUT_OF_RANGE",hi[hi.UNIMPLEMENTED=12]="UNIMPLEMENTED",hi[hi.INTERNAL=13]="INTERNAL",hi[hi.UNAVAILABLE=14]="UNAVAILABLE",hi[hi.DATA_LOSS=15]="DATA_LOSS";function Ki(){return new TextEncoder}const ad=new Yi([4294967295,4294967295],0);function zd(r){const e=Ki().encode(r),n=new tr;return n.update(e),new Uint8Array(n.digest())}function So(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new Yi([n,s],0),new Yi([l,d],0)]}class $r{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new go(`Invalid padding: ${n}`);if(s<0)throw new go(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new go(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new go(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Yi.fromNumber(this.Te)}de(e,n,s){let l=e.add(n.multiply(Yi.fromNumber(s)));return 1===l.compare(ad)&&(l=new Yi([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=zd(e),[s,l]=So(n);for(let d=0;d<this.hashCount;d++){const m=this.de(s,l,d);if(!this.Ae(m))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),m=new $r(d,l,n);return s.forEach(S=>m.insert(S)),m}insert(e){if(0===this.Te)return;const n=zd(e),[s,l]=So(n);for(let d=0;d<this.hashCount;d++){const m=this.de(s,l,d);this.Re(m)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Il{constructor(e,n,s,l,d){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Il(Bn.min(),l,new ar(ti),p(),ln())}}class Yl{constructor(e,n,s,l,d){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Yl(s,n,ln(),ln(),ln())}}class Yh{constructor(e,n,s,l){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=l}}class Ep{constructor(e,n){this.targetId=e,this.fe=n}}class _g{constructor(e,n,s=Or.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Ip{constructor(){this.ge=0,this.pe=vg(),this.ye=Or.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ln(),n=ln(),s=ln();return this.pe.forEach((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:yn()}}),new Yl(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=vg()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class _v{constructor(e){this.Le=e,this.ke=new Map,this.qe=p(),this.Qe=wp(),this.Ke=new ar(ti)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:yn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,l)=>{this.je(l)&&n(l)})}Je(e){const n=e.targetId,s=e.fe.count,l=this.Ye(n);if(l){const d=l.target;if(Ec(d))if(0===s){const m=new Dn(d.path);this.We(n,m,_r.newNoDocument(m,Bn.min()))}else Vn(1===s);else{const m=this.Ze(n);if(m!==s){const S=this.Xe(e),L=S?this.et(S,e,m):1;0!==L&&(this.He(n),this.Ke=this.Ke.insert(n,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:d=0}=n;let m,S;try{m=ys(s).toUint8Array()}catch(L){if(L instanceof ed)return or("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{S=new $r(m,l,d)}catch(L){return or(L instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===S.Te?null:S}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let l=0;return s.forEach(d=>{const m=this.Le.nt(),S=`projects/${m.projectId}/databases/${m.database}/documents/${d.path.canonicalString()}`;e.mightContain(S)||(this.We(n,d,null),l++)}),l}it(e){const n=new Map;this.ke.forEach((d,m)=>{const S=this.Ye(m);if(S){if(d.current&&Ec(S.target)){const L=new Dn(S.target.path);null!==this.qe.get(L)||this.st(m,L)||this.We(m,L,_r.newNoDocument(L,e))}d.De&&(n.set(m,d.ve()),d.Fe())}});let s=ln();this.Qe.forEach((d,m)=>{let S=!0;m.forEachWhile(L=>{const K=this.Ye(L);return!K||"TargetPurposeLimboResolution"===K.purpose||(S=!1,!1)}),S&&(s=s.add(d))}),this.qe.forEach((d,m)=>m.setReadTime(e));const l=new Il(e,n,this.Ke,this.qe,s);return this.qe=p(),this.Qe=wp(),this.Ke=new ar(ti),l}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const l=this.ze(e);this.st(e,n)?l.Me(n,1):l.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ip,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new lr(ti),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Gt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ip),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function wp(){return new ar(Dn.comparator)}function vg(){return new ar(Dn.comparator)}const vv={asc:"ASCENDING",desc:"DESCENDING"},Cp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dp={and:"AND",or:"OR"};class yv{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cu(r,e){return r.useProto3Json||Ct(e)?e:{value:e}}function ld(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yg(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function bg(r,e){return ld(r,e.toTimestamp())}function _o(r){return Vn(!!r),Bn.fromTimestamp(function(n){const s=qs(n);return new Rn(s.seconds,s.nanos)}(r))}function Zh(r,e){return(s=r,new Li(["projects",s.projectId,"databases",s.database])).child("documents").child(e).canonicalString();var s}function Du(r){const e=Li.fromString(r);return Vn(Mp(e)),e}function Gc(r,e){return Zh(r.databaseId,e.path)}function wl(r,e){const n=Du(e);if(n.get(1)!==r.databaseId.projectId)throw new qt(Pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new qt(Pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Dn(Eg(n))}function Hd(r,e){return Zh(r.databaseId,e)}function $d(r){const e=Du(r);return 4===e.length?Li.emptyPath():Eg(e)}function Wd(r){return new Li(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Eg(r){return Vn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Ig(r,e,n){return{name:Gc(r,e),fields:n.value.mapValue.fields}}function wg(r,e,n){const s=wl(r,e.name),l=_o(e.updateTime),d=e.createTime?_o(e.createTime):Bn.min(),m=new ro({mapValue:{fields:e.fields}}),S=_r.newFoundDocument(s,l,d,m);return n&&S.setHasCommittedMutations(),n?S.setHasCommittedMutations():S}function cd(r,e){let n;if(e instanceof Sr)n={update:Ig(r,e.key,e.value)};else if(e instanceof ea)n={delete:Gc(r,e.key)};else if(e instanceof Ao)n={update:Ig(r,e.key,e.data),updateMask:Iv(e.fieldMask)};else{if(!(e instanceof El))return yn();n={verify:Gc(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(d,m){const S=m.transform;if(S instanceof k)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof q)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof Fe)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof At)return{fieldPath:m.field.canonicalString(),increment:S.Ie};throw yn()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:bg(r,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:yn()),n;var d}function ud(r,e){const n=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?mn.updateTime(_o(d.updateTime)):void 0!==d.exists?mn.exists(d.exists):mn.none():mn.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(m,S){let L=null;"setToServerValue"in S?(Vn("REQUEST_TIME"===S.setToServerValue),L=new k):"appendMissingElements"in S?L=new q(S.appendMissingElements.values||[]):"removeAllFromArray"in S?L=new Fe(S.removeAllFromArray.values||[]):"increment"in S?L=new At(m,S.increment):yn();const K=gr.fromServerFormat(S.fieldPath);return new ci(K,L)}(r,l)):[];var d;if(e.update){const l=wl(r,e.update.name),d=new ro({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new vs((e.updateMask.fieldPaths||[]).map(ae=>gr.fromServerFormat(ae)));return new Ao(l,d,m,n,s)}return new Sr(l,d,n,s)}if(e.delete){const l=wl(r,e.delete);return new ea(l,n)}if(e.verify){const l=wl(r,e.verify);return new El(l,n)}return yn()}function Qh(r,e){return{documents:[Hd(r,e.path)]}}function Tp(r,e){const n={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(n.parent=Hd(r,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hd(r,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(L){if(0!==L.length)return Kd(fr.create(L,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const d=function(L){if(0!==L.length)return L.map(K=>{return{field:Kc((Se=K).field),direction:xu(Se.dir)};var Se})}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=Cu(r,e.limit);return null!==m&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt={before:(L=e.startAt).inclusive,values:L.position}),e.endAt&&(n.structuredQuery.endAt=function(L){return{before:!L.inclusive,values:L.position}}(e.endAt)),n;var L}function Cg(r){let e=$d(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Vn(1===s);const ae=n.from[0];ae.allDescendants?l=ae.collectionId:e=e.child(ae.collectionId)}let d=[];n.where&&(d=function(Se){const ot=Sp(Se);return ot instanceof fr&&nd(ot)?ot.getFilters():[ot]}(n.where));let m=[];n.orderBy&&(m=n.orderBy.map(ot=>{return new Fa(Gd((gn=ot).field),function(Tn){switch(Tn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(gn.direction));var gn}));let S=null;n.limit&&(S=function(Se){let ot;return ot="object"==typeof Se?Se.value:Se,Ct(ot)?null:ot}(n.limit));let L=null;var Se;n.startAt&&(L=new ka((Se=n.startAt).values||[],!!Se.before));let K=null;return n.endAt&&(K=function(Se){return new ka(Se.values||[],!Se.before)}(n.endAt)),vl(e,l,m,d,S,"F",L,K)}function Sp(r){return void 0!==r.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Gd(n.unaryFilter.field);return Ti.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Gd(n.unaryFilter.field);return Ti.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Gd(n.unaryFilter.field);return Ti.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Gd(n.unaryFilter.field);return Ti.create(m,"!=",{nullValue:"NULL_VALUE"});default:return yn()}}(r):void 0!==r.fieldFilter?Ti.create(Gd((n=r).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yn()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==r.compositeFilter?function(n){return fr.create(n.compositeFilter.filters.map(s=>Sp(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yn()}}(n.compositeFilter.op))}(r):yn();var n}function xu(r){return vv[r]}function Dg(r){return Cp[r]}function xg(r){return Dp[r]}function Kc(r){return{fieldPath:r.canonicalString()}}function Gd(r){return gr.fromServerFormat(r.fieldPath)}function Kd(r){return r instanceof Ti?function(n){if("=="===n.op){if(Oa(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NAN"}};if(Qs(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Oa(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NOT_NAN"}};if(Qs(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kc(n.field),op:Dg(n.op),value:n.value}}}(r):r instanceof fr?function(n){const s=n.getFilters().map(l=>Kd(l));return 1===s.length?s[0]:{compositeFilter:{op:xg(n.op),filters:s}}}(r):yn()}function Iv(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Mp(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Zl{constructor(e,n,s,l,d=Bn.min(),m=Bn.min(),S=Or.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=S,this.expectedCount=L}withSequenceNumber(e){return new Zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rp{constructor(e){this.ut=e}}function Op(r,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Tu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Gc(d=r.ut,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:ld(d,m.version.toTimestamp()),createTime:ld(d,m.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:Cl(e.version)};else{if(!e.isUnknownDocument())return yn();s.unknownDocument={path:n.path.toArray(),version:Cl(e.version)}}var d,m;return s}function Tu(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Cl(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qc(r){const e=new Rn(r.seconds,r.nanoseconds);return Bn.fromTimestamp(e)}function Cc(r,e){const n=(e.baseMutations||[]).map(d=>ud(r.ut,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const s=e.mutations.map(d=>ud(r.ut,d)),l=Rn.fromMillis(e.localWriteTimeMs);return new od(e.batchId,l,n,s)}function Yc(r){const e=qc(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?qc(r.lastLimboFreeSnapshotVersion):Bn.min();let s;return s=void 0!==r.query.documents?(Vn(1===(d=r.query).documents.length),Vo(Xa($d(d.documents[0])))):function(d){return Vo(Cg(d))}(r.query),new Zl(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,n,Or.fromBase64String(r.resumeToken));var d}function Np(r,e){const n=Cl(e.snapshotVersion),s=Cl(e.lastLimboFreeSnapshotVersion);let l;l=Ec(e.target)?Qh(r.ut,e.target):Tp(r.ut,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ps(e.target),readTime:n,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function qd(r){const e=Cg({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Ic(e,e.limit,"L"):e}function Au(r,e){return new Kn(e.largestBatchId,ud(r.ut,e.overlayMutation))}function Tg(r,e){const n=e.path.lastSegment();return[r,Ci(e.path.popLast()),n]}function kp(r,e,n,s){return{indexId:r,uid:e.uid||"",sequenceNumber:n,readTime:Cl(s.readTime),documentKey:Ci(s.documentKey.path),largestBatchId:s.largestBatchId}}class wv{getBundleMetadata(e,n){return Ag(e).get(n).next(s=>{if(s)return{id:(d=s).bundleId,createTime:qc(d.createTime),version:d.version};var d})}saveBundleMetadata(e,n){return Ag(e).put({bundleId:(l=n).id,createTime:Cl(_o(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return Sg(e).get(n).next(s=>{if(s)return{name:(d=s).name,query:qd(d.bundledQuery),readTime:qc(d.readTime)};var d})}saveNamedQuery(e,n){return Sg(e).put({name:(l=n).name,readTime:Cl(_o(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Ag(r){return co(r,"bundles")}function Sg(r){return co(r,"namedQueries")}class Yd{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new Yd(e,n.uid||"")}getOverlay(e,n){return dd(e).get(Tg(this.userId,n)).next(s=>s?Au(this.serializer,s):null)}getOverlays(e,n){const s=fe();return Et.forEach(n,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,n,s){const l=[];return s.forEach((d,m)=>{const S=new Kn(n,m);l.push(this.lt(e,S))}),Et.waitFor(l)}removeOverlaysForBatchId(e,n,s){const l=new Set;n.forEach(m=>l.add(Ci(m.getCollectionPath())));const d=[];return l.forEach(m=>{const S=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);d.push(dd(e).H("collectionPathOverlayIndex",S))}),Et.waitFor(d)}getOverlaysForCollection(e,n,s){const l=fe(),d=Ci(n),m=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return dd(e).W("collectionPathOverlayIndex",m).next(S=>{for(const L of S){const K=Au(this.serializer,L);l.set(K.getKey(),K)}return l})}getOverlaysForCollectionGroup(e,n,s,l){const d=fe();let m;const S=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return dd(e).Y({index:"collectionGroupOverlayIndex",range:S},(L,K,ae)=>{const Se=Au(this.serializer,K);d.size()<l||Se.largestBatchId===m?(d.set(Se.getKey(),Se),m=Se.largestBatchId):ae.done()}).next(()=>d)}lt(e,n){return dd(e).put(function(l,d,m){const[S,L,K]=Tg(d,m.mutation.key);return{userId:d,collectionPath:L,documentId:K,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:cd(l.ut,m.mutation)}}(this.serializer,this.userId,n))}}function dd(r){return co(r,"documentOverlays")}class Ql{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Nr(e.integerValue));else if("doubleValue"in e){const s=Nr(e.doubleValue);isNaN(s)?this.Tt(n,13):(this.Tt(n,15),Sn(s)?n.Et(0):n.Et(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Tt(n,20),"string"==typeof s?n.dt(s):(n.dt(`${s.seconds||""}`),n.Et(s.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(ys(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Tt(n,45),n.Et(s.latitude||0),n.Et(s.longitude||0)}else"mapValue"in e?$l(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):yn()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const s=e.fields||{};this.Tt(n,55);for(const l of Object.keys(s))this.At(l,n),this.Pt(s[l],n)}yt(e,n){const s=e.values||[];this.Tt(n,50);for(const l of s)this.Pt(l,n)}ft(e,n){this.Tt(n,37),Dn.fromName(e).path.forEach(s=>{this.Tt(n,60),this.wt(s,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function Fp(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Su(r){const e=64-function(s){let l=0;for(let d=0;d<8;++d){const m=Fp(255&s[d]);if(l+=m,8!==m)break}return l}(r);return Math.ceil(e/8)}Ql.St=new Ql;class Cv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Dt(s.value),s=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Ft(s.value),s=n.next();this.Mt()}xt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Dt(s);else if(s<2048)this.Dt(960|s>>>6),this.Dt(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s);else{const l=n.codePointAt(0);this.Dt(240|l>>>18),this.Dt(128|63&l>>>12),this.Dt(128|63&l>>>6),this.Dt(128|63&l)}}this.Ct()}Ot(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const l=n.codePointAt(0);this.Ft(240|l>>>18),this.Ft(128|63&l>>>12),this.Ft(128|63&l>>>6),this.Ft(128|63&l)}}this.Mt()}Nt(e){const n=this.Bt(e),s=Su(n);this.Lt(1+s),this.buffer[this.position++]=255&s;for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=255&n[l]}kt(e){const n=this.Bt(e),s=Su(n);this.Lt(1+s),this.buffer[this.position++]=~(255&s);for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(d){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,d,!1),new Uint8Array(m.buffer)}(e),s=0!=(128&n[0]);n[0]^=s?255:128;for(let l=1;l<n.length;++l)n[l]^=s?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class Dv{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Bb{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Zd{constructor(){this.Wt=new Cv,this.Gt=new Dv(this.Wt),this.zt=new Bb(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Dc{constructor(e,n,s,l){this.indexId=e,this.documentKey=n,this.arrayValue=s,this.directionalValue=l}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(n);return s.set(this.directionalValue,0),n!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Dc(this.indexId,this.documentKey,this.arrayValue,s)}}function Zc(r,e){let n=r.indexId-e.indexId;return 0!==n?n:(n=Mu(r.arrayValue,e.arrayValue),0!==n?n:(n=Mu(r.directionalValue,e.directionalValue),0!==n?n:Dn.comparator(r.documentKey,e.documentKey)))}function Mu(r,e){for(let n=0;n<r.length&&n<e.length;++n){const s=r[n]-e[n];if(0!==s)return s}return r.length-e.length}class Qd{constructor(e){this.Jt=new lr((n,s)=>gr.comparator(n.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const s=n;s.isInequality()?this.Jt=this.Jt.add(s):this.Zt.push(s)}}get Xt(){return this.Jt.size>1}en(e){if(Vn(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=fc(e);if(void 0!==n&&!this.tn(n))return!1;const s=hr(e);let l=new Set,d=0,m=0;for(;d<s.length&&this.tn(s[d]);++d)l=l.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(this.Jt.size>0){const S=this.Jt.getIterator().getNext();if(!l.has(S.field.canonicalString())){const L=s[d];if(!this.nn(S,L)||!this.rn(this.Yt[m++],L))return!1}++d}for(;d<s.length;++d)if(m>=this.Yt.length||!this.rn(this.Yt[m++],s[d]))return!1;return!0}sn(){if(this.Xt)return null;let e=new lr(gr.comparator);const n=[];for(const s of this.Zt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)n.push(new Xo(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),n.push(new Xo(s.field,0))}for(const s of this.Yt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),n.push(new Xo(s.field,"asc"===s.dir?0:1)));return new Lo(Lo.UNKNOWN_ID,this.collectionId,n,Ht.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function Xh(r){var e,n;if(Vn(r instanceof Ti||r instanceof fr),r instanceof Ti){if(r instanceof Eu){const l=(null===(n=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(d=>Ti.create(r.field,"==",d)))||[];return fr.create(l,"or")}return r}const s=r.filters.map(l=>Xh(l));return fr.create(s,r.op)}function Mg(r){if(0===r.getFilters().length)return[];const e=Lp(Xh(r));return Vn(Qc(e)),Jh(e)||ef(e)?[e]:e.getFilters()}function Jh(r){return r instanceof Ti}function ef(r){return r instanceof fr&&nd(r)}function Qc(r){return Jh(r)||ef(r)||function(n){if(n instanceof fr&&Bd(n)){for(const s of n.getFilters())if(!Jh(s)&&!ef(s))return!1;return!0}return!1}(r)}function Lp(r){if(Vn(r instanceof Ti||r instanceof fr),r instanceof Ti)return r;if(1===r.filters.length)return Lp(r.filters[0]);const e=r.filters.map(s=>Lp(s));let n=fr.create(e,r.op);return n=tf(n),Qc(n)?n:(Vn(n instanceof fr),Vn(yc(n)),Vn(n.filters.length>1),n.filters.reduce((s,l)=>Vp(s,l)))}function Vp(r,e){let n;return Vn(r instanceof Ti||r instanceof fr),Vn(e instanceof Ti||e instanceof fr),n=r instanceof Ti?e instanceof Ti?fr.create([r,e],"and"):Rg(r,e):e instanceof Ti?Rg(e,r):function(l,d){if(Vn(l.filters.length>0&&d.filters.length>0),yc(l)&&yc(d))return Gh(l,d.getFilters());const m=Bd(l)?l:d,S=Bd(l)?d:l,L=m.filters.map(K=>Vp(K,S));return fr.create(L,"or")}(r,e),tf(n)}function Rg(r,e){if(yc(e))return Gh(e,r.getFilters());{const n=e.filters.map(s=>Vp(r,s));return fr.create(n,"or")}}function tf(r){if(Vn(r instanceof Ti||r instanceof fr),r instanceof Ti)return r;const e=r.getFilters();if(1===e.length)return tf(e[0]);if($h(r))return r;const n=e.map(l=>tf(l)),s=[];return n.forEach(l=>{l instanceof Ti?s.push(l):l instanceof fr&&(l.op===r.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:fr.create(s,r.op)}class xv{constructor(){this.on=new Dl}addToCollectionParentIndex(e,n){return this.on.add(n),Et.resolve()}getCollectionParents(e,n){return Et.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Et.resolve()}deleteFieldIndex(e,n){return Et.resolve()}deleteAllFieldIndexes(e){return Et.resolve()}createTargetIndexes(e,n){return Et.resolve()}getDocumentsMatchingTarget(e,n){return Et.resolve(null)}getIndexType(e,n){return Et.resolve(0)}getFieldIndexes(e,n){return Et.resolve([])}getNextCollectionGroupToUpdate(e){return Et.resolve(null)}getMinOffset(e,n){return Et.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,n){return Et.resolve(Do.min())}updateCollectionGroup(e,n,s){return Et.resolve()}updateIndexEntries(e,n){return Et.resolve()}}class Dl{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new lr(Li.comparator),d=!l.has(s);return this.index[n]=l.add(s),d}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new lr(Li.comparator)).toArray()}}const xc=new Uint8Array(0);class Tv{constructor(e,n){this.user=e,this.databaseId=n,this._n=new Dl,this.an=new Xs(s=>Ps(s),(s,l)=>_l(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const s=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const d={collectionId:s,parent:Ci(l)};return Pg(e).put(d)}return Et.resolve()}getCollectionParents(e,n){const s=[],l=IDBKeyRange.bound([n,""],[Fl(n),""],!1,!0);return Pg(e).W(l).next(d=>{for(const m of d){if(m.collectionId!==n)break;s.push(lo(m.parent))}return s})}addFieldIndex(e,n){const s=Xd(e),l={indexId:(S=n).indexId,collectionGroup:S.collectionGroup,fields:S.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var S;delete l.indexId;const d=s.add(l);if(n.indexState){const m=fd(e);return d.next(S=>{m.put(kp(S,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return d.next()}deleteFieldIndex(e,n){const s=Xd(e),l=fd(e),d=hd(e);return s.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Xd(e),s=hd(e),l=fd(e);return n.H().next(()=>s.H()).next(()=>l.H())}createTargetIndexes(e,n){return Et.forEach(this.un(n),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const d=new Qd(s).sn();if(null!=d)return this.addFieldIndex(e,d)}}))}getDocumentsMatchingTarget(e,n){const s=hd(e);let l=!0;const d=new Map;return Et.forEach(this.un(n),m=>this.cn(e,m).next(S=>{l&&(l=!!S),d.set(m,S)})).next(()=>{if(l){let m=ln();const S=[];return Et.forEach(d,(L,K)=>{var yi;Gt("IndexedDbIndexManager",`Using index ${yi=L,`id=${yi.indexId}|cg=${yi.collectionGroup}|f=${yi.fields.map(di=>`${di.fieldPath}:${di.kind}`).join(",")}`} to execute ${Ps(n)}`);const ae=function(yi,di){const Mr=fc(di);if(void 0===Mr)return null;for(const vr of zc(yi,Mr.fieldPath))switch(vr.op){case"array-contains-any":return vr.value.arrayValue.values||[];case"array-contains":return[vr.value]}return null}(K,L),Se=function(yi,di){const Mr=new Map;for(const vr of hr(di))for(const os of zc(yi,vr.fieldPath))switch(os.op){case"==":case"in":Mr.set(vr.fieldPath.canonicalString(),os.value);break;case"not-in":case"!=":return Mr.set(vr.fieldPath.canonicalString(),os.value),Array.from(Mr.values())}return null}(K,L),ot=function(yi,di){const Mr=[];let vr=!0;for(const os of hr(di)){const Ol=0===os.kind?wu(yi,os.fieldPath,yi.startAt):es(yi,os.fieldPath,yi.startAt);Mr.push(Ol.value),vr&&(vr=Ol.inclusive)}return new ka(Mr,vr)}(K,L),Tt=function(yi,di){const Mr=[];let vr=!0;for(const os of hr(di)){const Ol=0===os.kind?es(yi,os.fieldPath,yi.endAt):wu(yi,os.fieldPath,yi.endAt);Mr.push(Ol.value),vr&&(vr=Ol.inclusive)}return new ka(Mr,vr)}(K,L),gn=this.ln(L,K,ot),xn=this.ln(L,K,Tt),Tn=this.hn(L,K,Se),fi=this.Pn(L.indexId,ae,gn,ot.inclusive,xn,Tt.inclusive,Tn);return Et.forEach(fi,Ii=>s.j(Ii,n.limit).next(yi=>{yi.forEach(di=>{const Mr=Dn.fromSegments(di.documentKey);m.has(Mr)||(m=m.add(Mr),S.push(Mr))})}))}).next(()=>S)}return Et.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:Mg(fr.create(e.filters,"and")).map(s=>bc(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,s,l,d,m,S){const L=(null!=n?n.length:1)*Math.max(s.length,d.length),K=L/(null!=n?n.length:1),ae=[];for(let Se=0;Se<L;++Se){const ot=n?this.In(n[Se/K]):xc,Tt=this.Tn(e,ot,s[Se%K],l),gn=this.En(e,ot,d[Se%K],m),xn=S.map(Tn=>this.Tn(e,ot,Tn,!0));ae.push(...this.createRange(Tt,gn,xn))}return ae}Tn(e,n,s,l){const d=new Dc(e,Dn.empty(),n,s);return l?d:d.Ht()}En(e,n,s,l){const d=new Dc(e,Dn.empty(),n,s);return l?d.Ht():d}cn(e,n){const s=new Qd(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(d=>{let m=null;for(const S of d)s.en(S)&&(!m||S.fields.length>m.fields.length)&&(m=S);return m})}getIndexType(e,n){let s=2;const l=this.un(n);return Et.forEach(l,d=>this.cn(e,d).next(m=>{m?0!==s&&m.fields.length<function(L){let K=new lr(gr.comparator),ae=!1;for(const Se of L.filters)for(const ot of Se.getFlattenedFilters())ot.field.isKeyField()||("array-contains"===ot.op||"array-contains-any"===ot.op?ae=!0:K=K.add(ot.field));for(const Se of L.orderBy)Se.field.isKeyField()||(K=K.add(Se.field));return K.size+(ae?1:0)}(d)&&(s=1):s=0})).next(()=>null!==n.limit&&l.length>1&&2===s?1:s)}dn(e,n){const s=new Zd;for(const l of hr(e)){const d=n.data.field(l.fieldPath);if(null==d)return null;const m=s.jt(l.kind);Ql.St.ht(d,m)}return s.Ut()}In(e){const n=new Zd;return Ql.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const s=new Zd;return Ql.St.ht(Pa(this.databaseId,n),s.jt(function(d){const m=hr(d);return 0===m.length?0:m[m.length-1].kind}(e))),s.Ut()}hn(e,n,s){if(null===s)return[];let l=[];l.push(new Zd);let d=0;for(const m of hr(e)){const S=s[d++];for(const L of l)if(this.Rn(n,m.fieldPath)&&Zs(S))l=this.Vn(l,m,S);else{const K=L.jt(m.kind);Ql.St.ht(S,K)}}return this.mn(l)}ln(e,n,s){return this.hn(e,n,s.position)}mn(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].Ut();return n}Vn(e,n,s){const l=[...e],d=[];for(const m of s.arrayValue.values||[])for(const S of l){const L=new Zd;L.seed(S.Ut()),Ql.St.ht(m,L.jt(n.kind)),d.push(L)}return d}Rn(e,n){return!!e.filters.find(s=>s instanceof Ti&&s.field.isEqual(n)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,n){const s=Xd(e),l=fd(e);return(n?s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):s.W()).next(d=>{const m=[];return Et.forEach(d,S=>l.get([S.indexId,this.uid]).next(L=>{m.push(function(ae,Se){const ot=Se?new Ht(Se.sequenceNumber,new Do(qc(Se.readTime),new Dn(lo(Se.documentKey)),Se.largestBatchId)):Ht.empty(),Tt=ae.fields.map(([gn,xn])=>new Xo(gr.fromServerFormat(gn),xn));return new Lo(ae.indexId,ae.collectionGroup,Tt,ot)}(S,L))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((s,l)=>{const d=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==d?d:ti(s.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const l=Xd(e),d=fd(e);return this.fn(e).next(m=>l.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(S=>Et.forEach(S,L=>d.put(kp(L.indexId,this.user,m,s)))))}updateIndexEntries(e,n){const s=new Map;return Et.forEach(n,(l,d)=>{const m=s.get(l.collectionGroup);return(m?Et.resolve(m):this.getFieldIndexes(e,l.collectionGroup)).next(S=>(s.set(l.collectionGroup,S),Et.forEach(S,L=>this.gn(e,l,L).next(K=>{const ae=this.pn(d,L);return K.isEqual(ae)?Et.resolve():this.yn(e,d,L,K,ae)}))))})}wn(e,n,s,l){return hd(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.An(s,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,s,l){return hd(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.An(s,n.key),n.key.path.toArray()])}gn(e,n,s){const l=hd(e);let d=new lr(Zc);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.An(s,n)])},(m,S)=>{d=d.add(new Dc(s.indexId,n,S.arrayValue,S.directionalValue))}).next(()=>d)}pn(e,n){let s=new lr(Zc);const l=this.dn(n,e);if(null==l)return s;const d=fc(n);if(null!=d){const m=e.data.field(d.fieldPath);if(Zs(m))for(const S of m.arrayValue.values||[])s=s.add(new Dc(n.indexId,e.key,this.In(S),l))}else s=s.add(new Dc(n.indexId,e.key,xc,l));return s}yn(e,n,s,l,d){Gt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const m=[];return function(L,K,ae,Se,ot){const Tt=L.getIterator(),gn=K.getIterator();let xn=Jo(Tt),Tn=Jo(gn);for(;xn||Tn;){let fi=!1,Ii=!1;if(xn&&Tn){const yi=ae(xn,Tn);yi<0?Ii=!0:yi>0&&(fi=!0)}else null!=xn?Ii=!0:fi=!0;fi?(Se(Tn),Tn=Jo(gn)):Ii?(ot(xn),xn=Jo(Tt)):(xn=Jo(Tt),Tn=Jo(gn))}}(l,d,Zc,S=>{m.push(this.wn(e,n,s,S))},S=>{m.push(this.Sn(e,n,s,S))}),Et.waitFor(m)}fn(e){let n=1;return fd(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,d)=>{d.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((m,S)=>Zc(m,S)).filter((m,S,L)=>!S||0!==Zc(m,L[S-1]));const l=[];l.push(e);for(const m of s){const S=Zc(m,e),L=Zc(m,n);if(0===S)l[0]=e.Ht();else if(S>0&&L<0)l.push(m),l.push(m.Ht());else if(L>0)break}l.push(n);const d=[];for(let m=0;m<l.length;m+=2){if(this.bn(l[m],l[m+1]))return[];d.push(IDBKeyRange.bound([l[m].indexId,this.uid,l[m].arrayValue,l[m].directionalValue,xc,[]],[l[m+1].indexId,this.uid,l[m+1].arrayValue,l[m+1].directionalValue,xc,[]]))}return d}bn(e,n){return Zc(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Og)}getMinOffset(e,n){return Et.mapArray(this.un(n),s=>this.cn(e,s).next(l=>l||yn())).next(Og)}}function Pg(r){return co(r,"collectionParents")}function hd(r){return co(r,"indexEntries")}function Xd(r){return co(r,"indexConfiguration")}function fd(r){return co(r,"indexState")}function Og(r){Vn(0!==r.length);let e=r[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<r.length;s++){const l=r[s].indexState.offset;Xr(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new Do(e.readTime,e.documentKey,n)}const Bp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ks{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ng(r,e,n){const s=r.store("mutations"),l=r.store("documentMutations"),d=[],m=IDBKeyRange.only(n.batchId);let S=0;const L=s.Y({range:m},(ae,Se,ot)=>(S++,ot.delete()));d.push(L.next(()=>{Vn(1===S)}));const K=[];for(const ae of n.mutations){const Se=ha(e,ae.key.path,n.batchId);d.push(l.delete(Se)),K.push(ae.key)}return Et.waitFor(d).next(()=>K)}function nf(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw yn();e=r.noDocument}return JSON.stringify(e).length}ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(41943040,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);class rf{constructor(e,n,s,l){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=l,this.Dn={}}static ct(e,n,s,l){Vn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new rf(d,n,s,l)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fs(e).Y({index:"userMutationsIndex",range:s},(l,d,m)=>{n=!1,m.done()}).next(()=>n)}addMutationBatch(e,n,s,l){const d=Xl(e),m=Fs(e);return m.add({}).next(S=>{Vn("number"==typeof S);const L=new od(S,n,s,l),K=function(Tt,gn,xn){const Tn=xn.baseMutations.map(Ii=>cd(Tt.ut,Ii)),fi=xn.mutations.map(Ii=>cd(Tt.ut,Ii));return{userId:gn,batchId:xn.batchId,localWriteTimeMs:xn.localWriteTime.toMillis(),baseMutations:Tn,mutations:fi}}(this.serializer,this.userId,L),ae=[];let Se=new lr((ot,Tt)=>ti(ot.canonicalString(),Tt.canonicalString()));for(const ot of l){const Tt=ha(this.userId,ot.key.path,S);Se=Se.add(ot.key.path.popLast()),ae.push(m.put(K)),ae.push(d.put(Tt,Fc))}return Se.forEach(ot=>{ae.push(this.indexManager.addToCollectionParentIndex(e,ot))}),e.addOnCommittedListener(()=>{this.Dn[S]=L.keys()}),Et.waitFor(ae).next(()=>L)})}lookupMutationBatch(e,n){return Fs(e).get(n).next(s=>s?(Vn(s.userId===this.userId),Cc(this.serializer,s)):null)}Cn(e,n){return this.Dn[n]?Et.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const l=s.keys();return this.Dn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return Fs(e).Y({index:"userMutationsIndex",range:l},(m,S,L)=>{S.userId===this.userId&&(Vn(S.batchId>=s),d=Cc(this.serializer,S)),L.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Fs(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(l,d,m)=>{s=d.batchId,m.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fs(e).W("userMutationsIndex",n).next(s=>s.map(l=>Cc(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=da(this.userId,n.path),l=IDBKeyRange.lowerBound(s),d=[];return Xl(e).Y({range:l},(m,S,L)=>{const[K,ae,Se]=m,ot=lo(ae);if(K===this.userId&&n.path.isEqual(ot))return Fs(e).get(Se).next(Tt=>{if(!Tt)throw yn();Vn(Tt.userId===this.userId),d.push(Cc(this.serializer,Tt))});L.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new lr(ti);const l=[];return n.forEach(d=>{const m=da(this.userId,d.path),S=IDBKeyRange.lowerBound(m),L=Xl(e).Y({range:S},(K,ae,Se)=>{const[ot,Tt,gn]=K,xn=lo(Tt);ot===this.userId&&d.path.isEqual(xn)?s=s.add(gn):Se.done()});l.push(L)}),Et.waitFor(l).next(()=>this.vn(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1,d=da(this.userId,s),m=IDBKeyRange.lowerBound(d);let S=new lr(ti);return Xl(e).Y({range:m},(L,K,ae)=>{const[Se,ot,Tt]=L,gn=lo(ot);Se===this.userId&&s.isPrefixOf(gn)?gn.length===l&&(S=S.add(Tt)):ae.done()}).next(()=>this.vn(e,S))}vn(e,n){const s=[],l=[];return n.forEach(d=>{l.push(Fs(e).get(d).next(m=>{if(null===m)throw yn();Vn(m.userId===this.userId),s.push(Cc(this.serializer,m))}))}),Et.waitFor(l).next(()=>s)}removeMutationBatch(e,n){return Ng(e.ae,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),Et.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Et.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return Xl(e).Y({range:s},(d,m,S)=>{if(d[0]===this.userId){const L=lo(d[1]);l.push(L)}else S.done()}).next(()=>{Vn(0===l.length)})})}containsKey(e,n){return Jd(e,this.userId,n)}Mn(e){return Up(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Jd(r,e,n){const s=da(e,n.path),l=s[1],d=IDBKeyRange.lowerBound(s);let m=!1;return Xl(r).Y({range:d,J:!0},(S,L,K)=>{const[ae,Se,ot]=S;ae===e&&Se===l&&(m=!0),K.done()}).next(()=>m)}function Fs(r){return co(r,"mutations")}function Xl(r){return co(r,"documentMutations")}function Up(r){return co(r,"mutationQueues")}class Xc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Xc(0)}static Nn(){return new Xc(-1)}}class kg{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const s=new Xc(n.highestTargetId);return n.highestTargetId=s.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Bn.fromTimestamp(new Rn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=n,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.Ln(e,l)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.qn(n,s),this.Ln(e,s))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>eh(e).delete(n.targetId)).next(()=>this.Bn(e)).next(s=>(Vn(s.targetCount>0),s.targetCount-=1,this.Ln(e,s)))}removeTargets(e,n,s){let l=0;const d=[];return eh(e).Y((m,S)=>{const L=Yc(S);L.sequenceNumber<=n&&null===s.get(L.targetId)&&(l++,d.push(this.removeTargetData(e,L)))}).next(()=>Et.waitFor(d)).next(()=>l)}forEachTarget(e,n){return eh(e).Y((s,l)=>{const d=Yc(l);n(d)})}Bn(e){return Av(e).get("targetGlobalKey").next(n=>(Vn(null!==n),n))}Ln(e,n){return Av(e).put("targetGlobalKey",n)}kn(e,n){return eh(e).put(Np(this.serializer,n))}qn(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const s=Ps(n),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return eh(e).Y({range:l,index:"queryTargetsIndex"},(m,S,L)=>{const K=Yc(S);_l(n,K.target)&&(d=K,L.done())}).next(()=>d)}addMatchingKeys(e,n,s){const l=[],d=Ru(e);return n.forEach(m=>{const S=Ci(m.path);l.push(d.put({targetId:s,path:S})),l.push(this.referenceDelegate.addReference(e,s,m))}),Et.waitFor(l)}removeMatchingKeys(e,n,s){const l=Ru(e);return Et.forEach(n,d=>{const m=Ci(d.path);return Et.waitFor([l.delete([s,m]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,n){const s=Ru(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),l=Ru(e);let d=ln();return l.Y({range:s,J:!0},(m,S,L)=>{const K=lo(m[1]),ae=new Dn(K);d=d.add(ae)}).next(()=>d)}containsKey(e,n){const s=Ci(n.path),l=IDBKeyRange.bound([s],[Fl(s)],!1,!0);let d=0;return Ru(e).Y({index:"documentTargetsIndex",J:!0,range:l},([m,S],L,K)=>{0!==m&&(d++,K.done())}).next(()=>d>0)}_t(e,n){return eh(e).get(n).next(s=>s?Yc(s):null)}}function eh(r){return co(r,"targets")}function Av(r){return co(r,"targetGlobal")}function Ru(r){return co(r,"targetDocuments")}function sf([r,e],[n,s]){const l=ti(r,n);return 0===l?ti(e,s):l}class jp{constructor(e){this.Qn=e,this.buffer=new lr(sf),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sf(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Sv{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;Gt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,c.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(s){w(s)?Gt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield rr(s)}yield n.Gn(3e5)}))}}class Ub{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(0===n)return Et.resolve(It._e);const s=new jp(n);return this.zn.forEachTarget(e,l=>s.Un(l.sequenceNumber)).next(()=>this.zn.Hn(e,l=>s.Un(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Gt("LruGarbageCollector","Garbage collection skipped; disabled"),Et.resolve(Bp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bp):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let s,l,d,m,S,L,K;const ae=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Se=>(Se>this.params.maximumSequenceNumbersToCollect?(Gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Se}`),l=this.params.maximumSequenceNumbersToCollect):l=Se,m=Date.now(),this.nthSequenceNumber(e,l))).next(Se=>(s=Se,S=Date.now(),this.removeTargets(e,s,n))).next(Se=>(d=Se,L=Date.now(),this.removeOrphanedDocuments(e,s))).next(Se=>(K=Date.now(),mr()<=he.in.DEBUG&&Gt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-ae}ms\n\tDetermined least recently used ${l} in `+(S-m)+`ms\n\tRemoved ${d} targets in `+(L-S)+`ms\n\tRemoved ${Se} documents in `+(K-L)+`ms\nTotal Duration: ${K-ae}ms`),Et.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:Se})))}}class Mv{constructor(e,n){this.db=e,this.garbageCollector=function zp(r,e){return new Ub(r,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}Yn(e){let n=0;return this.Hn(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(s,l)=>n(l))}addReference(e,n,s){return af(e,s)}removeReference(e,n,s){return af(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return af(e,n)}Xn(e,n){return function(l,d){let m=!1;return Up(l).Z(S=>Jd(l,S,d).next(L=>(L&&(m=!0),Et.resolve(!L)))).next(()=>m)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Zn(e,(m,S)=>{if(S<=n){const L=this.Xn(e,m).next(K=>{if(!K)return d++,s.getEntry(e,m).next(()=>(s.removeEntry(m,Bn.min()),Ru(e).delete([0,Ci(m.path)])))});l.push(L)}}).next(()=>Et.waitFor(l)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return af(e,n)}Zn(e,n){const s=Ru(e);let l,d=It._e;return s.Y({index:"documentTargetsIndex"},([m,S],{path:L,sequenceNumber:K})=>{0===m?(d!==It._e&&n(new Dn(lo(l)),d),d=K,l=L):d=It._e}).next(()=>{d!==It._e&&n(new Dn(lo(l)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function af(r,e){return Ru(r).put((l=r.currentSequenceNumber,{targetId:0,path:Ci(e.path),sequenceNumber:l}));var l}class Fg{constructor(){this.changes=new Xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Et.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return Tc(e).put(s)}removeEntry(e,n,s){return Tc(e).delete(function(d,m){const S=d.path.toArray();return[S.slice(0,S.length-2),S[S.length-2],Tu(m),S[S.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.er(e,s)))}getEntry(e,n){let s=_r.newInvalidDocument(n);return Tc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(th(n))},(l,d)=>{s=this.tr(n,d)}).next(()=>s)}nr(e,n){let s={size:0,document:_r.newInvalidDocument(n)};return Tc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(th(n))},(l,d)=>{s={document:this.tr(n,d),size:nf(d)}}).next(()=>s)}getEntries(e,n){let s=p();return this.rr(e,n,(l,d)=>{const m=this.tr(l,d);s=s.insert(l,m)}).next(()=>s)}ir(e,n){let s=p(),l=new ar(Dn.comparator);return this.rr(e,n,(d,m)=>{const S=this.tr(d,m);s=s.insert(d,S),l=l.insert(d,nf(m))}).next(()=>({documents:s,sr:l}))}rr(e,n,s){if(n.isEmpty())return Et.resolve();let l=new lr(Lg);n.forEach(L=>l=l.add(L));const d=IDBKeyRange.bound(th(l.first()),th(l.last())),m=l.getIterator();let S=m.getNext();return Tc(e).Y({index:"documentKeyIndex",range:d},(L,K,ae)=>{const Se=Dn.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;S&&Lg(S,Se)<0;)s(S,null),S=m.getNext();S&&S.isEqual(Se)&&(s(S,K),S=m.hasNext()?m.getNext():null),S?ae.U(th(S)):ae.done()}).next(()=>{for(;S;)s(S,null),S=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,n,s,l,d){const m=n.path,S=[m.popLast().toArray(),m.lastSegment(),Tu(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],L=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tc(e).W(IDBKeyRange.bound(S,L,!0)).next(K=>{d?.incrementDocumentReadCount(K.length);let ae=p();for(const Se of K){const ot=this.tr(Dn.fromSegments(Se.prefixPath.concat(Se.collectionGroup,Se.documentId)),Se);ot.isFoundDocument()&&(La(n,ot)||l.has(ot.key))&&(ae=ae.insert(ot.key,ot))}return ae})}getAllFromCollectionGroup(e,n,s,l){let d=p();const m=Jc(n,s),S=Jc(n,Do.max());return Tc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,S,!0)},(L,K,ae)=>{const Se=this.tr(Dn.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);d=d.insert(Se.key,Se),d.size===l&&ae.done()}).next(()=>d)}newChangeBuffer(e){return new lf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return $p(e).get("remoteDocumentGlobalKey").next(n=>(Vn(!!n),n))}er(e,n){return $p(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const s=function Pp(r,e){let n;if(e.document)n=wg(r.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Dn.fromSegments(e.noDocument.path),l=qc(e.noDocument.readTime);n=_r.newNoDocument(s,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return yn();{const s=Dn.fromSegments(e.unknownDocument.path),l=qc(e.unknownDocument.version);n=_r.newUnknownDocument(s,l)}}return e.readTime&&n.setReadTime(function(l){const d=new Rn(l[0],l[1]);return Bn.fromTimestamp(d)}(e.readTime)),n}(this.serializer,n);if(!s.isNoDocument()||!s.version.isEqual(Bn.min()))return s}return _r.newInvalidDocument(e)}}function Hp(r){return new Rv(r)}class lf extends Fg{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Xs(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const n=[];let s=0,l=new lr((d,m)=>ti(d.canonicalString(),m.canonicalString()));return this.changes.forEach((d,m)=>{const S=this.ar.get(d);if(n.push(this._r.removeEntry(e,d,S.readTime)),m.isValidDocument()){const L=Op(this._r.serializer,m);l=l.add(d.path.popLast());const K=nf(L);s+=K-S.size,n.push(this._r.addEntry(e,d,L))}else if(s-=S.size,this.trackRemovals){const L=Op(this._r.serializer,m.convertToNoDocument(Bn.min()));n.push(this._r.addEntry(e,d,L))}}),l.forEach(d=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,d))}),n.push(this._r.updateMetadata(e,s)),Et.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(s=>(this.ar.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:s,sr:l})=>(l.forEach((d,m)=>{this.ar.set(d,{size:m,readTime:s.get(d).readTime})}),s))}}function $p(r){return co(r,"remoteDocumentGlobal")}function Tc(r){return co(r,"remoteDocumentsV14")}function th(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Jc(r,e){const n=e.documentKey.path.toArray();return[r,Tu(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Lg(r,e){const n=r.path.toArray(),s=e.path.toArray();let l=0;for(let d=0;d<n.length-2&&d<s.length-2;++d)if(l=ti(n[d],s[d]),l)return l;return l=ti(n.length,s.length),l||(l=ti(n[n.length-2],s[s.length-2]),l||ti(n[n.length-1],s[s.length-1]))}class Pv{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class cf{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(null!==s&&Er(s.mutation,l,vs.empty(),Rn.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ln()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ln()){const l=fe();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(d=>{let m=D();return d.forEach((S,L)=>{m=m.insert(S,L.overlayedDocument)}),m}))}getOverlayedDocuments(e,n){const s=fe();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ln()))}populateOverlays(e,n,s){const l=[];return s.forEach(d=>{n.has(d)||l.push(d)}),this.documentOverlayCache.getOverlays(e,l).next(d=>{d.forEach((m,S)=>{n.set(m,S)})})}computeViews(e,n,s,l){let d=p();const m=Mt(),S=Mt();return n.forEach((L,K)=>{const ae=s.get(K.key);l.has(K.key)&&(void 0===ae||ae.mutation instanceof Ao)?d=d.insert(K.key,K):void 0!==ae?(m.set(K.key,ae.mutation.getFieldMask()),Er(ae.mutation,K,ae.mutation.getFieldMask(),Rn.now())):m.set(K.key,vs.empty())}),this.recalculateAndSaveOverlays(e,d).next(L=>(L.forEach((K,ae)=>m.set(K,ae)),n.forEach((K,ae)=>{var Se;return S.set(K,new Pv(ae,null!==(Se=m.get(K))&&void 0!==Se?Se:null))}),S))}recalculateAndSaveOverlays(e,n){const s=Mt();let l=new ar((m,S)=>m-S),d=ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(m=>{for(const S of m)S.keys().forEach(L=>{const K=n.get(L);if(null===K)return;let ae=s.get(L)||vs.empty();ae=S.applyToLocalView(K,ae),s.set(L,ae);const Se=(l.get(S.batchId)||ln()).add(L);l=l.insert(S.batchId,Se)})}).next(()=>{const m=[],S=l.getReverseIterator();for(;S.hasNext();){const L=S.getNext(),K=L.key,ae=L.value,Se=st();ae.forEach(ot=>{if(!d.has(ot)){const Tt=Ar(n.get(ot),s.get(ot));null!==Tt&&Se.set(ot,Tt),d=d.add(ot)}}),m.push(this.documentOverlayCache.saveOverlays(e,K,Se))}return Et.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return Dn.isDocumentKey((m=n).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):id(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l);var m}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(d=>{const m=l-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-d.size):Et.resolve(fe());let S=-1,L=d;return m.next(K=>Et.forEach(K,(ae,Se)=>(S<Se.largestBatchId&&(S=Se.largestBatchId),d.get(ae)?Et.resolve():this.remoteDocumentCache.getEntry(e,ae).next(ot=>{L=L.insert(ae,ot)}))).next(()=>this.populateOverlays(e,K,d)).next(()=>this.computeViews(e,L,K,ln())).next(ae=>({batchId:S,changes:Q(ae)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Dn(n)).next(s=>{let l=D();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const d=n.collectionGroup;let m=D();return this.indexManager.getCollectionParents(e,d).next(S=>Et.forEach(S,L=>{const K=(Se=n,ot=L.child(d),new Os(ot,null,Se.explicitOrderBy.slice(),Se.filters.slice(),Se.limit,Se.limitType,Se.startAt,Se.endAt));var Se,ot;return this.getDocumentsMatchingCollectionQuery(e,K,s,l).next(ae=>{ae.forEach((Se,ot)=>{m=m.insert(Se,ot)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,n,s,l){let d;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(m=>(d=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,d,l))).next(m=>{d.forEach((L,K)=>{const ae=K.getKey();null===m.get(ae)&&(m=m.insert(ae,_r.newInvalidDocument(ae)))});let S=D();return m.forEach((L,K)=>{const ae=d.get(L);void 0!==ae&&Er(ae.mutation,K,vs.empty(),Rn.now()),La(n,K)&&(S=S.insert(L,K))}),S})}}class Vg{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Et.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(l=n).id,version:l.version,createTime:_o(l.createTime)}),Et.resolve();var l}getNamedQuery(e,n){return Et.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(l=n).name,query:qd(l.bundledQuery),readTime:_o(l.readTime)}),Et.resolve();var l}}class Ov{constructor(){this.overlays=new ar(Dn.comparator),this.lr=new Map}getOverlay(e,n){return Et.resolve(this.overlays.get(n))}getOverlays(e,n){const s=fe();return Et.forEach(n,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,d)=>{this.lt(e,n,d)}),Et.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.lr.get(s);return void 0!==l&&(l.forEach(d=>this.overlays=this.overlays.remove(d)),this.lr.delete(s)),Et.resolve()}getOverlaysForCollection(e,n,s){const l=fe(),d=n.length+1,m=new Dn(n.child("")),S=this.overlays.getIteratorFrom(m);for(;S.hasNext();){const L=S.getNext().value,K=L.getKey();if(!n.isPrefixOf(K.path))break;K.path.length===d&&L.largestBatchId>s&&l.set(L.getKey(),L)}return Et.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let d=new ar((K,ae)=>K-ae);const m=this.overlays.getIterator();for(;m.hasNext();){const K=m.getNext().value;if(K.getKey().getCollectionGroup()===n&&K.largestBatchId>s){let ae=d.get(K.largestBatchId);null===ae&&(ae=fe(),d=d.insert(K.largestBatchId,ae)),ae.set(K.getKey(),K)}}const S=fe(),L=d.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((K,ae)=>S.set(K,ae)),!(S.size()>=l)););return Et.resolve(S)}lt(e,n,s){const l=this.overlays.get(s.key);if(null!==l){const m=this.lr.get(l.largestBatchId).delete(s.key);this.lr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new Kn(n,s));let d=this.lr.get(n);void 0===d&&(d=ln(),this.lr.set(n,d)),this.lr.set(n,d.add(s.key))}}class Wp{constructor(){this.hr=new lr(ns.Pr),this.Ir=new lr(ns.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const s=new ns(e,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.dr(new ns(e,n))}Ar(e,n){e.forEach(s=>this.removeReference(s,n))}Rr(e){const n=new Dn(new Li([])),s=new ns(n,e),l=new ns(n,e+1),d=[];return this.Ir.forEachInRange([s,l],m=>{this.dr(m),d.push(m.key)}),d}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Dn(new Li([])),s=new ns(n,e),l=new ns(n,e+1);let d=ln();return this.Ir.forEachInRange([s,l],m=>{d=d.add(m.key)}),d}containsKey(e){const n=new ns(e,0),s=this.hr.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class ns{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Dn.comparator(e.key,n.key)||ti(e.gr,n.gr)}static Tr(e,n){return ti(e.gr,n.gr)||Dn.comparator(e.key,n.key)}}class Nv{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new lr(ns.Pr)}checkEmpty(e){return Et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,l){const d=this.pr;this.pr++;const m=new od(d,n,s,l);this.mutationQueue.push(m);for(const S of l)this.yr=this.yr.add(new ns(S.key,d)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return Et.resolve(m)}lookupMutationBatch(e,n){return Et.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.Sr(n+1),d=l<0?0:l;return Et.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Et.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ns(n,0),l=new ns(n,Number.POSITIVE_INFINITY),d=[];return this.yr.forEachInRange([s,l],m=>{const S=this.wr(m.gr);d.push(S)}),Et.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new lr(ti);return n.forEach(l=>{const d=new ns(l,0),m=new ns(l,Number.POSITIVE_INFINITY);this.yr.forEachInRange([d,m],S=>{s=s.add(S.gr)})}),Et.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let d=s;Dn.isDocumentKey(d)||(d=d.child(""));const m=new ns(new Dn(d),0);let S=new lr(ti);return this.yr.forEachWhile(L=>{const K=L.key.path;return!!s.isPrefixOf(K)&&(K.length===l&&(S=S.add(L.gr)),!0)},m),Et.resolve(this.br(S))}br(e){const n=[];return e.forEach(s=>{const l=this.wr(s);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){Vn(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let s=this.yr;return Et.forEach(n.mutations,l=>{const d=new ns(l.key,n.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,n){const s=new ns(n,0),l=this.yr.firstAfterOrEqual(s);return Et.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return Et.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Bg{constructor(e){this.Cr=e,this.docs=new ar(Dn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),d=l?l.size:0,m=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:m}),this.size+=m-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Et.resolve(s?s.document.mutableCopy():_r.newInvalidDocument(n))}getEntries(e,n){let s=p();return n.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.mutableCopy():_r.newInvalidDocument(l))}),Et.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let d=p();const m=n.path,S=new Dn(m.child("")),L=this.docs.getIteratorFrom(S);for(;L.hasNext();){const{key:K,value:{document:ae}}=L.getNext();if(!m.isPrefixOf(K.path))break;K.path.length>m.length+1||Xr(pc(ae),s)<=0||(l.has(ae.key)||La(n,ae))&&(d=d.insert(ae.key,ae.mutableCopy()))}return Et.resolve(d)}getAllFromCollectionGroup(e,n,s,l){yn()}vr(e,n){return Et.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new jb(this)}getSize(e){return Et.resolve(this.size)}}class jb extends Fg{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this._r.addEntry(e,l)):this._r.removeEntry(s)}),Et.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class zb{constructor(e){this.persistence=e,this.Fr=new Xs(n=>Ps(n),_l),this.lastRemoteSnapshotVersion=Bn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Wp,this.targetCount=0,this.Nr=Xc.On()}forEachTarget(e,n){return this.Fr.forEach((s,l)=>n(l)),Et.resolve()}getLastRemoteSnapshotVersion(e){return Et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Et.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Et.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),Et.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Xc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Et.resolve()}updateTargetData(e,n){return this.kn(n),Et.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Et.resolve()}removeTargets(e,n,s){let l=0;const d=[];return this.Fr.forEach((m,S)=>{S.sequenceNumber<=n&&null===s.get(S.targetId)&&(this.Fr.delete(m),d.push(this.removeMatchingKeysForTargetId(e,S.targetId)),l++)}),Et.waitFor(d).next(()=>l)}getTargetCount(e){return Et.resolve(this.targetCount)}getTargetData(e,n){const s=this.Fr.get(n)||null;return Et.resolve(s)}addMatchingKeys(e,n,s){return this.Or.Er(n,s),Et.resolve()}removeMatchingKeys(e,n,s){this.Or.Ar(n,s);const l=this.persistence.referenceDelegate,d=[];return l&&n.forEach(m=>{d.push(l.markPotentiallyOrphaned(e,m))}),Et.waitFor(d)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Et.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Or.mr(n);return Et.resolve(s)}containsKey(e,n){return Et.resolve(this.Or.containsKey(n))}}class Pu{constructor(e,n){this.Br={},this.overlays={},this.Lr=new It(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new zb(this),this.indexManager=new xv,this.remoteDocumentCache=new Bg(s=>this.referenceDelegate.Qr(s)),this.serializer=new Rp(n),this.Kr=new Vg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ov,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Br[e.toKey()];return s||(s=new Nv(n,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,s){Gt("MemoryPersistence","Starting transaction:",e);const l=new nh(this.Lr.next());return this.referenceDelegate.$r(),s(l).next(d=>this.referenceDelegate.Ur(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Wr(e,n){return Et.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,n)))}}class nh extends ms{constructor(e){super(),this.currentSequenceNumber=e}}class ih{constructor(e){this.persistence=e,this.Gr=new Wp,this.zr=null}static jr(e){return new ih(e)}get Hr(){if(this.zr)return this.zr;throw yn()}addReference(e,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),Et.resolve()}removeReference(e,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),Et.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Et.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(l=>this.Hr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(d=>this.Hr.add(d.toString()))}).next(()=>s.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Et.forEach(this.Hr,s=>{const l=Dn.fromPath(s);return this.Jr(e,l).next(d=>{d||n.removeEntry(l,Bn.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Et.or([()=>Et.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Gp{constructor(e){this.serializer=e}N(e,n,s,l){const d=new pl("createOrUpgrade",n);var L;s<1&&l>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ua,{unique:!0}),L.createObjectStore("documentMutations"),uf(e),function(L){L.createObjectStore("remoteDocuments")}(e));let m=Et.resolve();return s<3&&l>=3&&(0!==s&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),uf(e)),m=m.next(()=>function(L){const K=L.store("targetGlobal"),ae={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bn.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",ae)}(d))),s<4&&l>=4&&(0!==s&&(m=m.next(()=>function(L,K){return K.store("mutations").W().next(ae=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ua,{unique:!0});const Se=K.store("mutations"),ot=ae.map(Tt=>Se.put(Tt));return Et.waitFor(ot)})}(e,d))),m=m.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(m=m.next(()=>this.Zr(d))),s<6&&l>=6&&(m=m.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(d)))),s<7&&l>=7&&(m=m.next(()=>this.ei(d))),s<8&&l>=8&&(m=m.next(()=>this.ti(e,d))),s<9&&l>=9&&(m=m.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(m=m.next(()=>this.ni(d))),s<11&&l>=11&&(m=m.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(m=m.next(()=>{!function(L){const K=L.createObjectStore("documentOverlays",{keyPath:Ju});K.createIndex("collectionPathOverlayIndex",Bl,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",Ms,{unique:!1})}(e)})),s<13&&l>=13&&(m=m.next(()=>function(L){const K=L.createObjectStore("remoteDocumentsV14",{keyPath:du});K.createIndex("documentKeyIndex",mc),K.createIndex("collectionGroupIndex",hu)}(e)).next(()=>this.ri(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(m=m.next(()=>this.ii(e,d))),s<15&&l>=15&&(m=m.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:zh}).createIndex("sequenceNumberIndex",Xu,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:Hh}).createIndex("documentKeyIndex",fu,{unique:!1})}(e))),m}Xr(e){let n=0;return e.store("remoteDocuments").Y((s,l)=>{n+=nf(l)}).next(()=>{const s={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Zr(e){const n=e.store("mutationQueues"),s=e.store("mutations");return n.W().next(l=>Et.forEach(l,d=>{const m=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",m).next(S=>Et.forEach(S,L=>{Vn(L.userId===d.userId);const K=Cc(this.serializer,L);return Ng(e,d.userId,K).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const d=[];return s.Y((m,S)=>{const L=new Li(m),K=[0,Ci(L)];d.push(n.get(K).next(ae=>ae?Et.resolve():n.put({targetId:0,path:Ci(L),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>Et.waitFor(d))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Qu});const s=n.store("collectionParents"),l=new Dl,d=m=>{if(l.add(m)){const S=m.lastSegment(),L=m.popLast();return s.put({collectionId:S,parent:Ci(L)})}};return n.store("remoteDocuments").Y({J:!0},(m,S)=>{const L=new Li(m);return d(L.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([m,S,L],K)=>{const ae=lo(S);return d(ae.popLast())}))}ni(e){const n=e.store("targets");return n.Y((s,l)=>{const d=Yc(l),m=Np(this.serializer,d);return n.put(m)})}ri(e,n){const s=n.store("remoteDocuments"),l=[];return s.Y((d,m)=>{const S=n.store("remoteDocumentsV14"),L=(Se=m,Se.document?new Dn(Li.fromString(Se.document.name).popFirst(5)):Se.noDocument?Dn.fromSegments(Se.noDocument.path):Se.unknownDocument?Dn.fromSegments(Se.unknownDocument.path):yn()).path.toArray(),K={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};var Se;l.push(S.put(K))}).next(()=>Et.waitFor(l))}ii(e,n){const s=n.store("mutations"),l=Hp(this.serializer),d=new Pu(ih.jr,this.serializer.ut);return s.W().next(m=>{const S=new Map;return m.forEach(L=>{var K;let ae=null!==(K=S.get(L.userId))&&void 0!==K?K:ln();Cc(this.serializer,L).keys().forEach(Se=>ae=ae.add(Se)),S.set(L.userId,ae)}),Et.forEach(S,(L,K)=>{const ae=new Qn(K),Se=Yd.ct(this.serializer,ae),ot=d.getIndexManager(ae),Tt=rf.ct(ae,this.serializer,ot,d.referenceDelegate);return new cf(l,Tt,Se,ot).recalculateAndSaveOverlaysForDocumentKeys(new Ka(n,It._e),L).next()})})}}function uf(r){r.createObjectStore("targetDocuments",{keyPath:Ga}).createIndex("documentTargetsIndex",Hr,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Wo,{unique:!0}),r.createObjectStore("targetGlobal")}const Kp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class df{constructor(e,n,s,l,d,m,S,L,K,ae,Se=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.si=d,this.window=m,this.document=S,this.oi=K,this._i=ae,this.ai=Se,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=ot=>Promise.resolve(),!df.D())throw new qt(Pt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Mv(this,l),this.Ii=n+"main",this.serializer=new Rp(L),this.Ti=new gs(this.Ii,this.ai,new Gp(this.serializer)),this.qr=new kg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Hp(this.serializer),this.Kr=new wv,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===ae&&nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qt(Pt.FAILED_PRECONDITION,Kp);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new It(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var s=(0,c.Z)(function*(l){if(n.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,c.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,c.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ou(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(w(e))return Gt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Gt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return pd(e).get("owner").next(n=>Et.resolve(this.wi(n)))}Si(e){return Ou(e).delete(this.clientId)}bi(){var e=this;return(0,c.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=co(s,"clientMetadata");return l.W().next(d=>{const m=e.Ci(d,18e5),S=d.filter(L=>-1===m.indexOf(L));return Et.forEach(S,L=>l.delete(L.clientId)).next(()=>S)})}).catch(()=>[]);if(e.Ei)for(const s of n)e.Ei.removeItem(e.vi(s.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Et.resolve(!0):pd(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new qt(Pt.FAILED_PRECONDITION,Kp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ou(e).W().next(s=>void 0===this.Ci(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Gt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,c.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const s=new Ka(n,It._e);return e.pi(s).next(()=>e.Si(s))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(s=>this.Di(s.updateTimeMs,n)&&!this.Fi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Ou(e).W().next(n=>this.Ci(n,18e5).map(s=>s.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return rf.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Tv(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Yd.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,s){Gt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",d=15===(L=this.ai)?fa:14===L?gc:13===L?ml:12===L?pu:11===L?Lc:void yn();var L;let m;return this.Ti.runTransaction(e,l,d,S=>(m=new Ka(S,this.Lr?this.Lr.next():It._e),"readwrite-primary"===n?this.fi(m).next(L=>!!L||this.gi(m)).next(L=>{if(!L)throw nr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new qt(Pt.FAILED_PRECONDITION,Ta);return s(m)}).next(L=>this.yi(m).next(()=>L)):this.Li(m).next(()=>s(m)))).then(S=>(m.raiseOnCommittedEvent(),S))}Li(e){return pd(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new qt(Pt.FAILED_PRECONDITION,Kp)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pd(e).put("owner",n)}static D(){return gs.D()}pi(e){const n=pd(e);return n.get("owner").next(s=>this.wi(s)?(Gt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Et.resolve())}Di(e,n){const s=Date.now();return!(e<s-n||e>s&&(nr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,j.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const s=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return Gt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return nr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){nr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pd(r){return co(r,"owner")}function Ou(r){return co(r,"clientMetadata")}function Ug(r,e){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+e+"/"+n+"/"}class oh{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.ki=s,this.qi=l}static Qi(e,n){let s=ln(),l=ln();for(const d of n.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new oh(e,n.fromCache,s,l)}}class kv{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hf{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,s,l){const d={result:null};return this.zi(e,n).next(m=>{d.result=m}).next(()=>{if(!d.result)return this.ji(e,n,l,s).next(m=>{d.result=m})}).next(()=>{if(d.result)return;const m=new kv;return this.Hi(e,n,m).next(S=>{if(d.result=S,this.$i)return this.Ji(e,n,m,S.size)})}).next(()=>d.result)}Ji(e,n,s,l){return s.documentReadCount<this.Ui?(mr()<=he.in.DEBUG&&Gt("QueryEngine","SDK will not create cache indexes for query:",el(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Et.resolve()):(mr()<=he.in.DEBUG&&Gt("QueryEngine","Query:",el(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Wi*l?(mr()<=he.in.DEBUG&&Gt("QueryEngine","The SDK decides to create cache indexes for query:",el(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vo(n))):Et.resolve())}zi(e,n){if(Hc(n))return Et.resolve(null);let s=Vo(n);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==n.limit&&1===l&&(n=Ic(n,null,"F"),s=Vo(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const m=ln(...d);return this.Gi.getDocuments(e,m).next(S=>this.indexManager.getMinOffset(e,s).next(L=>{const K=this.Yi(n,S);return this.Zi(n,K,m,L.readTime)?this.zi(e,Ic(n,null,"F")):this.Xi(e,K,n,L)}))})))}ji(e,n,s,l){return Hc(n)||l.isEqual(Bn.min())?Et.resolve(null):this.Gi.getDocuments(e,s).next(d=>{const m=this.Yi(n,d);return this.Zi(n,m,s,l)?Et.resolve(null):(mr()<=he.in.DEBUG&&Gt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),el(n)),this.Xi(e,m,n,Ui(l,-1)).next(S=>S))})}Yi(e,n){let s=new lr(bl(e));return n.forEach((l,d)=>{La(e,d)&&(s=s.add(d))}),s}Zi(e,n,s,l){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const d="F"===e.limitType?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Hi(e,n,s){return mr()<=he.in.DEBUG&&Gt("QueryEngine","Using full collection scan to execute query:",el(n)),this.Gi.getDocumentsMatchingQuery(e,n,Do.min(),s)}Xi(e,n,s,l){return this.Gi.getDocumentsMatchingQuery(e,s,l).next(d=>(n.forEach(m=>{d=d.insert(m.key,m)}),d))}}class jg{constructor(e,n,s,l){this.persistence=e,this.es=n,this.serializer=l,this.ts=new ar(ti),this.ns=new Xs(d=>Ps(d),_l),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cf(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function qp(r,e,n,s){return new jg(r,e,n,s)}function eu(r,e){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,c.Z)(function*(r,e){const n=Xt(r);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(d=>(l=d,n.os(e),n.mutationQueue.getAllMutationBatches(s))).next(d=>{const m=[],S=[];let L=ln();for(const K of l){m.push(K.batchId);for(const ae of K.mutations)L=L.add(ae.key)}for(const K of d){S.push(K.batchId);for(const ae of K.mutations)L=L.add(ae.key)}return n.localDocuments.getDocuments(s,L).next(K=>({_s:K,removedBatchIds:m,addedBatchIds:S}))})})}),Yp.apply(this,arguments)}function sh(r){const e=Xt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function ff(r,e,n){let s=ln(),l=ln();return n.forEach(d=>s=s.add(d)),e.getEntries(r,s).next(d=>{let m=p();return n.forEach((S,L)=>{const K=d.get(S);L.isFoundDocument()!==K.isFoundDocument()&&(l=l.add(S)),L.isNoDocument()&&L.version.isEqual(Bn.min())?(e.removeEntry(S,L.readTime),m=m.insert(S,L)):!K.isValidDocument()||L.version.compareTo(K.version)>0||0===L.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(L),m=m.insert(S,L)):Gt("LocalStore","Ignoring outdated watch update for ",S,". Current version:",K.version," Watch version:",L.version)}),{us:m,cs:l}})}function pf(r,e){const n=Xt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ta(r,e){const n=Xt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.qr.getTargetData(s,e).next(d=>d?(l=d,Et.resolve(l)):n.qr.allocateTargetId(s).next(m=>(l=new Zl(e,m,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.ts.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(e,s.targetId)),s})}function xl(r,e,n){return ah.apply(this,arguments)}function ah(){return ah=(0,c.Z)(function*(r,e,n){const s=Xt(r),l=s.ts.get(e),d=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",d,m=>s.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!w(m))throw m;Gt("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}s.ts=s.ts.remove(e),s.ns.delete(l.target)}),ah.apply(this,arguments)}function mf(r,e,n){const s=Xt(r);let l=Bn.min(),d=ln();return s.persistence.runTransaction("Execute query","readwrite",m=>function(L,K,ae){const Se=Xt(L),ot=Se.ns.get(ae);return void 0!==ot?Et.resolve(Se.ts.get(ot)):Se.qr.getTargetData(K,ae)}(s,m,Vo(e)).next(S=>{if(S)return l=S.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(m,S.targetId).next(L=>{d=L})}).next(()=>s.es.getDocumentsMatchingQuery(m,e,n?l:Bn.min(),n?d:ln())).next(S=>(Nu(s,rd(e),S),{documents:S,ls:d})))}function zg(r,e){const n=Xt(r),s=Xt(n.qr),l=n.ts.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",d=>s._t(d,e).next(m=>m?m.target:null))}function Qp(r,e){const n=Xt(r),s=n.rs.get(e)||Bn.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.ss.getAllFromCollectionGroup(l,e,Ui(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Nu(n,e,l),l))}function Nu(r,e,n){let s=r.rs.get(e)||Bn.min();n.forEach((l,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),r.rs.set(e,s)}function Xp(){return Xp=(0,c.Z)(function*(r,e,n,s){const l=Xt(r);let d=ln(),m=p();for(const K of n){const ae=e.hs(K.metadata.name);K.document&&(d=d.add(ae));const Se=e.Ps(K);Se.setReadTime(e.Is(K.metadata.readTime)),m=m.insert(ae,Se)}const S=l.ss.newChangeBuffer({trackRemovals:!0}),L=yield ta(l,(ae=s,Vo(Xa(Li.fromString(`__bundle__/docs/${ae}`)))));var ae;return l.persistence.runTransaction("Apply bundle documents","readwrite",K=>ff(K,S,m).next(ae=>(S.apply(K),ae)).next(ae=>l.qr.removeMatchingKeysForTargetId(K,L.targetId).next(()=>l.qr.addMatchingKeys(K,d,L.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(K,ae.us,ae.cs)).next(()=>ae.us)))}),Xp.apply(this,arguments)}function Vv(r,e){return lh.apply(this,arguments)}function lh(){return lh=(0,c.Z)(function*(r,e,n=ln()){const s=yield ta(r,Vo(qd(e.bundledQuery))),l=Xt(r);return l.persistence.runTransaction("Save named query","readwrite",d=>{const m=_o(e.readTime);if(s.snapshotVersion.compareTo(m)>=0)return l.Kr.saveNamedQuery(d,e);const S=s.withResumeToken(Or.EMPTY_BYTE_STRING,m);return l.ts=l.ts.insert(S.targetId,S),l.qr.updateTargetData(d,S).next(()=>l.qr.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.qr.addMatchingKeys(d,n,s.targetId)).next(()=>l.Kr.saveNamedQuery(d,e))})}),lh.apply(this,arguments)}function Jp(r,e){return`firestore_clients_${r}_${e}`}function Hg(r,e,n){let s=`firestore_mutations_${r}_${n}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function gf(r,e){return`firestore_targets_${r}_${e}`}class md{constructor(e,n,s,l){this.user=e,this.batchId=n,this.state=s,this.error=l}static Ts(e,n,s){const l=JSON.parse(s);let d,m="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(d=new qt(l.error.code,l.error.message))),m?new md(e,n,l.state,d):(nr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _f{constructor(e,n,s){this.targetId=e,this.state=n,this.error=s}static Ts(e,n){const s=JSON.parse(n);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new qt(s.error.code,s.error.message))),d?new _f(e,s.state,l):(nr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const s=JSON.parse(n);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=To();for(let m=0;l&&m<s.activeTargetIds.length;++m)l=Di(s.activeTargetIds[m]),d=d.add(s.activeTargetIds[m]);return l?new vf(e,d):(nr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class em{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new em(n.clientId,n.onlineState):(nr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class tm{constructor(){this.activeTargetIds=To()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $g{constructor(e,n,s,l,d){this.window=e,this.si=n,this.persistenceKey=s,this.Rs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ar(ti),this.started=!1,this.ps=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ys=Jp(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new tm),this.Ss=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.Z)(function*(){const n=yield e.syncEngine.Bi();for(const l of n){if(l===e.Rs)continue;const d=e.getItem(Jp(e.persistenceKey,l));if(d){const m=vf.Ts(l,d);m&&(e.gs=e.gs.insert(m.clientId,m))}}e.Fs();const s=e.storage.getItem(e.Cs);if(s){const l=e.Ms(s);l&&e.xs(l)}for(const l of e.ps)e.fs(l);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((s,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,s){this.Ns(e,n,s),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(gf(this.persistenceKey,e));if(s){const l=_f.Ts(e,s);l&&(n=l.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gf(this.persistenceKey,e))}updateQueryState(e,n,s){this.ks(e,n,s)}handleUserChange(e,n,s){n.forEach(l=>{this.Bs(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Gt("SharedClientState","READ",e,n),n}setItem(e,n){Gt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Gt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const s=e;if(s.storageArea===this.storage){if(Gt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ys)return void nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,c.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ss.test(s.key)){if(null==s.newValue){const l=n.Ks(s.key);return n.$s(l,null)}{const l=n.Us(s.key,s.newValue);if(l)return n.$s(l.clientId,l)}}else if(n.bs.test(s.key)){if(null!==s.newValue){const l=n.Ws(s.key,s.newValue);if(l)return n.Gs(l)}}else if(n.Ds.test(s.key)){if(null!==s.newValue){const l=n.zs(s.key,s.newValue);if(l)return n.js(l)}}else if(s.key===n.Cs){if(null!==s.newValue){const l=n.Ms(s.newValue);if(l)return n.xs(l)}}else if(s.key===n.ws){const l=function(m){let S=It._e;if(null!=m)try{const L=JSON.parse(m);Vn("number"==typeof L),S=L}catch(L){nr("SharedClientState","Failed to read sequence number from WebStorage",L)}return S}(s.newValue);l!==It._e&&n.sequenceNumberHandler(l)}else if(s.key===n.vs){const l=n.Hs(s.newValue);yield Promise.all(l.map(d=>n.syncEngine.Js(d)))}}else n.ps.push(s)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,s){const l=new md(this.currentUser,e,n,s),d=Hg(this.persistenceKey,this.currentUser,e);this.setItem(d,l.Es())}Bs(e){const n=Hg(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,s){const l=gf(this.persistenceKey,e),d=new _f(e,n,s);this.setItem(l,d.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const s=this.Ks(e);return vf.Ts(s,n)}Ws(e,n){const s=this.bs.exec(e),l=Number(s[1]);return md.Ts(new Qn(void 0!==s[2]?s[2]:null),l,n)}zs(e,n){const s=this.Ds.exec(e),l=Number(s[1]);return _f.Ts(l,n)}Ms(e){return em.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,c.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);Gt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const s=n?this.gs.insert(e,n):this.gs.remove(e),l=this.Os(this.gs),d=this.Os(s),m=[],S=[];return d.forEach(L=>{l.has(L)||m.push(L)}),l.forEach(L=>{d.has(L)||S.push(L)}),this.syncEngine.Xs(m,S).then(()=>{this.gs=s})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=To();return e.forEach((s,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class Bv{constructor(){this.eo=new tm,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,s){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new tm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yf{ro(e){}shutdown(){}}class Wg{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gd=null;function ch(){return null===gd?gd=268435456+Math.round(2147483648*Math.random()):gd++,"0x"+gd.toString(16)}const _d={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nm{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const is="WebChannelConnection";class uh extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${l}/databases/${d}`,this.po="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${d}`}get yo(){return!1}wo(n,s,l,d,m){const S=ch(),L=this.So(n,s);Gt("RestConnection",`Sending RPC '${n}' ${S}:`,L,l);const K={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(K,d,m),this.Do(n,L,K,l).then(ae=>(Gt("RestConnection",`Received RPC '${n}' ${S}: `,ae),ae),ae=>{throw or("RestConnection",`RPC '${n}' ${S} failed with error: `,ae,"url: ",L,"request:",l),ae})}Co(n,s,l,d,m,S){return this.wo(n,s,l,d,m)}bo(n,s,l){n["X-Goog-Api-Client"]="gl-js/ fire/"+ir,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((d,m)=>n[m]=d),l&&l.headers.forEach((d,m)=>n[m]=d)}So(n,s){return`${this.mo}/v1/${s}:${_d[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,s,l){const d=ch();return new Promise((m,S)=>{const L=new Fn;L.setWithCredentials(!0),L.listenOnce(z.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case ne.NO_ERROR:const ae=L.getResponseJson();Gt(is,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(ae)),m(ae);break;case ne.TIMEOUT:Gt(is,`RPC '${e}' ${d} timed out`),S(new qt(Pt.DEADLINE_EXCEEDED,"Request time out"));break;case ne.HTTP_ERROR:const Se=L.getStatus();if(Gt(is,`RPC '${e}' ${d} failed with status:`,Se,"response text:",L.getResponseText()),Se>0){let ot=L.getResponseJson();Array.isArray(ot)&&(ot=ot[0]);const Tt=ot?.error;if(Tt&&Tt.status&&Tt.message){const gn=function(Tn){const fi=Tn.toLowerCase().replace(/_/g,"-");return Object.values(Pt).indexOf(fi)>=0?fi:Pt.UNKNOWN}(Tt.status);S(new qt(gn,Tt.message))}else S(new qt(Pt.UNKNOWN,"Server responded with status "+L.getStatus()))}else S(new qt(Pt.UNAVAILABLE,"Connection failed."));break;default:yn()}}finally{Gt(is,`RPC '${e}' ${d} completed.`)}});const K=JSON.stringify(l);Gt(is,`RPC '${e}' ${d} sending request:`,l),L.send(n,"POST",K,s,15)})}vo(e,n,s){const l=ch(),d=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=hl(),S=T(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(L.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(L.xmlHttpFactory=new St({})),this.bo(L.initMessageHeaders,n,s),L.encodeInitMessageHeaders=!0;const ae=d.join("");Gt(is,`Creating RPC '${e}' stream ${l}: ${ae}`,L);const Se=m.createWebChannel(ae,L);let ot=!1,Tt=!1;const gn=new nm({co:Tn=>{Tt?Gt(is,`Not sending because RPC '${e}' stream ${l} is closed:`,Tn):(ot||(Gt(is,`Opening RPC '${e}' stream ${l} transport.`),Se.open(),ot=!0),Gt(is,`RPC '${e}' stream ${l} sending:`,Tn),Se.send(Tn))},lo:()=>Se.close()}),xn=(Tn,fi,Ii)=>{Tn.listen(fi,yi=>{try{Ii(yi)}catch(di){setTimeout(()=>{throw di},0)}})};return xn(Se,Bt.EventType.OPEN,()=>{Tt||Gt(is,`RPC '${e}' stream ${l} transport opened.`)}),xn(Se,Bt.EventType.CLOSE,()=>{Tt||(Tt=!0,Gt(is,`RPC '${e}' stream ${l} transport closed`),gn.Ro())}),xn(Se,Bt.EventType.ERROR,Tn=>{Tt||(Tt=!0,or(is,`RPC '${e}' stream ${l} transport errored:`,Tn),gn.Ro(new qt(Pt.UNAVAILABLE,"The operation could not be completed")))}),xn(Se,Bt.EventType.MESSAGE,Tn=>{var fi;if(!Tt){const Ii=Tn.data[0];Vn(!!Ii);const di=Ii.error||(null===(fi=Ii[0])||void 0===fi?void 0:fi.error);if(di){Gt(is,`RPC '${e}' stream ${l} received error:`,di);const Mr=di.status;let vr=function(qy){const og=ui[qy];if(void 0!==og)return Ns(og)}(Mr),os=di.message;void 0===vr&&(vr=Pt.INTERNAL,os="Unknown error status: "+Mr+" with message "+di.message),Tt=!0,gn.Ro(new qt(vr,os)),Se.close()}else Gt(is,`RPC '${e}' stream ${l} received:`,Ii),gn.Vo(Ii)}}),xn(S,X.STAT_EVENT,Tn=>{Tn.stat===Be.PROXY?Gt(is,`RPC '${e}' stream ${l} detected buffering proxy`):Tn.stat===Be.NOPROXY&&Gt(is,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{gn.Ao()},0),gn}}function dh(){return typeof window<"u"?window:null}function Ac(){return typeof document<"u"?document:null}function ku(r){return new yv(r,!0)}class hh{constructor(e,n,s=1e3,l=1.5,d=6e4){this.si=e,this.timerId=n,this.Fo=s,this.Mo=l,this.xo=d,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),l=Math.max(0,n-s);l>0&&Gt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,l,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class fh{constructor(e,n,s,l,d,m,S,L){this.si=e,this.Ko=s,this.$o=l,this.connection=d,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=S,this.listener=L,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new hh(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,c.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,c.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var s=this;return(0,c.Z)(function*(){s.t_(),s.n_(),s.zo.cancel(),s.Uo++,4!==e?s.zo.reset():n&&n.code===Pt.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),s.zo.Lo()):n&&n.code===Pt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.r_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Uo===n&&this.s_(s,l)},s=>{e(()=>{const l=new qt(Pt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(l)})})}s_(e,n){const s=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(l=>{s(()=>this.o_(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Jo(){var e=this;this.state=5,this.zo.ko((0,c.Z)(function*(){e.state=0,e.start()}))}o_(e){return Gt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hb extends fh{constructor(e,n,s,l,d,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,m),this.serializer=d}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Ev(r,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:yn(),l=e.targetChange.targetIds||[],d=function(K,ae){return K.useProto3Json?(Vn(void 0===ae||"string"==typeof ae),Or.fromBase64String(ae||"")):(Vn(void 0===ae||ae instanceof Uint8Array),Or.fromUint8Array(ae||new Uint8Array))}(r,e.targetChange.resumeToken),m=e.targetChange.cause,S=m&&function(K){const ae=void 0===K.code?Pt.UNKNOWN:Ns(K.code);return new qt(ae,K.message||"")}(m);n=new _g(s,l,d,S||null)}else if("documentChange"in e){const s=e.documentChange,l=wl(r,s.document.name),d=_o(s.document.updateTime),m=s.document.createTime?_o(s.document.createTime):Bn.min(),S=new ro({mapValue:{fields:s.document.fields}}),L=_r.newFoundDocument(l,d,m,S);n=new Yh(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,l=wl(r,s.document),d=s.readTime?_o(s.readTime):Bn.min(),m=_r.newNoDocument(l,d);n=new Yh([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,l=wl(r,s.document);n=new Yh([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return yn();{const s=e.filter,{count:l=0,unchangedNames:d}=s,m=new vi(l,d);n=new Ep(s.targetId,m)}}var K;return n}(this.serializer,e),s=function(d){if(!("targetChange"in d))return Bn.min();const m=d.targetChange;return m.targetIds&&m.targetIds.length?Bn.min():m.readTime?_o(m.readTime):Bn.min()}(e);return this.listener.a_(n,s)}u_(e){const n={};n.database=Wd(this.serializer),n.addTarget=function(d,m){let S;const L=m.target;if(S=Ec(L)?{documents:Qh(d,L)}:{query:Tp(d,L)},S.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){S.resumeToken=yg(d,m.resumeToken);const K=Cu(d,m.expectedCount);null!==K&&(S.expectedCount=K)}else if(m.snapshotVersion.compareTo(Bn.min())>0){S.readTime=ld(d,m.snapshotVersion.toTimestamp());const K=Cu(d,m.expectedCount);null!==K&&(S.expectedCount=K)}return S}(this.serializer,e);const s=function Ap(r,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yn()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.e_(n)}c_(e){const n={};n.database=Wd(this.serializer),n.removeTarget=e,this.e_(n)}}class im extends fh{constructor(e,n,s,l,d,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,m),this.serializer=d,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Vn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function xp(r,e){return r&&r.length>0?(Vn(void 0!==e),r.map(n=>function(l,d){let m=_o(l.updateTime?l.updateTime:d);return m.isEqual(Bn.min())&&(m=_o(d)),new Xn(m,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=_o(e.commitTime);return this.listener.I_(s,n)}return Vn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Wd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>cd(this.serializer,s))};this.e_(n)}}class ph extends class{}{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.d_=!1}A_(){if(this.d_)throw new qt(Pt.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.wo(e,n,s,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new qt(Pt.UNKNOWN,l.toString())})}Co(e,n,s,l){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Co(e,n,s,d,m,l)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new qt(Pt.UNKNOWN,d.toString())})}terminate(){this.d_=!0}}class jv{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(nr(n),this.f_=!1):Gt("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class zv{constructor(e,n,s,l,d){var m=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=d,this.F_.ro(S=>{s.enqueueAndForget((0,c.Z)(function*(){var L;Jl(m)&&(Gt("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,c.Z)(function*(ae){const Se=Xt(ae);Se.C_.add(4),yield vd(Se),Se.M_.set("Unknown"),Se.C_.delete(4),yield Fu(Se)}),function K(ae){return L.apply(this,arguments)})(m))}))}),this.M_=new jv(s,l)}}function Fu(r){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,c.Z)(function*(r){if(Jl(r))for(const e of r.v_)yield e(!0)}),Ef.apply(this,arguments)}function vd(r){return rm.apply(this,arguments)}function rm(){return rm=(0,c.Z)(function*(r){for(const e of r.v_)yield e(!1)}),rm.apply(this,arguments)}function om(r,e){const n=Xt(r);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),wf(n)?sm(n):bd(n).Ho()&&yd(n,e))}function mh(r,e){const n=Xt(r),s=bd(n);n.D_.delete(e),s.Ho()&&If(n,e),0===n.D_.size&&(s.Ho()?s.Zo():Jl(n)&&n.M_.set("Unknown"))}function yd(r,e){if(r.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bn.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bd(r).u_(e)}function If(r,e){r.x_.Oe(e),bd(r).c_(e)}function sm(r){r.x_=new _v({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>r.D_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),bd(r).start(),r.M_.g_()}function wf(r){return Jl(r)&&!bd(r).jo()&&r.D_.size>0}function Jl(r){return 0===Xt(r).C_.size}function gh(r){r.x_=void 0}function Hv(r){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,c.Z)(function*(r){r.D_.forEach((e,n)=>{yd(r,e)})}),Cf.apply(this,arguments)}function $v(r,e){return Df.apply(this,arguments)}function Df(){return Df=(0,c.Z)(function*(r,e){gh(r),wf(r)?(r.M_.w_(e),sm(r)):r.M_.set("Unknown")}),Df.apply(this,arguments)}function $b(r,e,n){return am.apply(this,arguments)}function am(){return am=(0,c.Z)(function*(r,e,n){if(r.M_.set("Online"),e instanceof _g&&2===e.state&&e.cause)try{yield(s=(0,c.Z)(function*(d,m){const S=m.cause;for(const L of m.targetIds)d.D_.has(L)&&(yield d.remoteSyncer.rejectListen(L,S),d.D_.delete(L),d.x_.removeTarget(L))}),function l(d,m){return s.apply(this,arguments)})(r,e)}catch(s){Gt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield tu(r,s)}else if(e instanceof Yh?r.x_.$e(e):e instanceof Ep?r.x_.Je(e):r.x_.Ge(e),!n.isEqual(Bn.min()))try{const s=yield sh(r.localStore);n.compareTo(s)>=0&&(yield function(d,m){const S=d.x_.it(m);return S.targetChanges.forEach((L,K)=>{if(L.resumeToken.approximateByteSize()>0){const ae=d.D_.get(K);ae&&d.D_.set(K,ae.withResumeToken(L.resumeToken,m))}}),S.targetMismatches.forEach((L,K)=>{const ae=d.D_.get(L);if(!ae)return;d.D_.set(L,ae.withResumeToken(Or.EMPTY_BYTE_STRING,ae.snapshotVersion)),If(d,L);const Se=new Zl(ae.target,L,K,ae.sequenceNumber);yd(d,Se)}),d.remoteSyncer.applyRemoteEvent(S)}(r,n))}catch(s){Gt("RemoteStore","Failed to raise snapshot:",s),yield tu(r,s)}var s}),am.apply(this,arguments)}function tu(r,e,n){return lm.apply(this,arguments)}function lm(){return lm=(0,c.Z)(function*(r,e,n){if(!w(e))throw e;r.C_.add(1),yield vd(r),r.M_.set("Offline"),n||(n=()=>sh(r.localStore)),r.asyncQueue.enqueueRetryable((0,c.Z)(function*(){Gt("RemoteStore","Retrying IndexedDB access"),yield n(),r.C_.delete(1),yield Fu(r)}))}),lm.apply(this,arguments)}function Lu(r,e){return e().catch(n=>tu(r,n,e))}function ec(r){return cm.apply(this,arguments)}function cm(){return cm=(0,c.Z)(function*(r){const e=Xt(r),n=Vu(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Gg(e);)try{const l=yield pf(e.localStore,s);if(null===l){0===e.b_.length&&n.Zo();break}s=l.batchId,Wv(e,l)}catch(l){yield tu(e,l)}Kg(e)&&qg(e)}),cm.apply(this,arguments)}function Gg(r){return Jl(r)&&r.b_.length<10}function Wv(r,e){r.b_.push(e);const n=Vu(r);n.Ho()&&n.h_&&n.P_(e.mutations)}function Kg(r){return Jl(r)&&!Vu(r).jo()&&r.b_.length>0}function qg(r){Vu(r).start()}function Yg(r){return xf.apply(this,arguments)}function xf(){return xf=(0,c.Z)(function*(r){Vu(r).E_()}),xf.apply(this,arguments)}function um(r){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,c.Z)(function*(r){const e=Vu(r);for(const n of r.b_)e.P_(n.mutations)}),Zg.apply(this,arguments)}function dm(r,e,n){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,c.Z)(function*(r,e,n){const s=r.b_.shift(),l=sd.from(s,e,n);yield Lu(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),yield ec(r)}),Tf.apply(this,arguments)}function Gv(r,e){return hm.apply(this,arguments)}function hm(){return hm=(0,c.Z)(function*(r,e){var n;e&&Vu(r).h_&&(yield(n=(0,c.Z)(function*(l,d){if(ga(S=d.code)&&S!==Pt.ABORTED){const m=l.b_.shift();Vu(l).Yo(),yield Lu(l,()=>l.remoteSyncer.rejectFailedWrite(m.batchId,d)),yield ec(l)}var S}),function s(l,d){return n.apply(this,arguments)})(r,e)),Kg(r)&&qg(r)}),hm.apply(this,arguments)}function fm(r,e){return pm.apply(this,arguments)}function pm(){return pm=(0,c.Z)(function*(r,e){const n=Xt(r);n.asyncQueue.verifyOperationInProgress(),Gt("RemoteStore","RemoteStore received new credentials");const s=Jl(n);n.C_.add(3),yield vd(n),s&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Fu(n)}),pm.apply(this,arguments)}function Af(r,e){return mm.apply(this,arguments)}function mm(){return mm=(0,c.Z)(function*(r,e){const n=Xt(r);e?(n.C_.delete(2),yield Fu(n)):e||(n.C_.add(2),yield vd(n),n.M_.set("Unknown"))}),mm.apply(this,arguments)}function bd(r){return r.O_||(r.O_=function(n,s,l){const d=Xt(n);return d.A_(),new Hb(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(r.datastore,r.asyncQueue,{ho:Hv.bind(null,r),Io:$v.bind(null,r),a_:$b.bind(null,r)}),r.v_.push(function(){var e=(0,c.Z)(function*(n){n?(r.O_.Yo(),wf(r)?sm(r):r.M_.set("Unknown")):(yield r.O_.stop(),gh(r))});return function(n){return e.apply(this,arguments)}}())),r.O_}function Vu(r){return r.N_||(r.N_=function(n,s,l){const d=Xt(n);return d.A_(),new im(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(r.datastore,r.asyncQueue,{ho:Yg.bind(null,r),Io:Gv.bind(null,r),T_:um.bind(null,r),I_:dm.bind(null,r)}),r.v_.push(function(){var e=(0,c.Z)(function*(n){n?(r.N_.Yo(),yield ec(r)):(yield r.N_.stop(),r.b_.length>0&&(Gt("RemoteStore",`Stopping write stream with ${r.b_.length} pending writes`),r.b_=[]))});return function(n){return e.apply(this,arguments)}}())),r.N_}class Sf{constructor(e,n,s,l,d){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,d){const m=Date.now()+s,S=new Sf(e,n,m,l,d);return S.start(s),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qt(Pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bu(r,e){if(nr("AsyncQueue",`${e}: ${r}`),w(r))return new qt(Pt.UNAVAILABLE,`${e}: ${r}`);throw r}class Ls{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Dn.comparator(n.key,s.key):(n,s)=>Dn.comparator(n.key,s.key),this.keyedMap=D(),this.sortedSet=new ar(this.comparator)}static emptySet(e){return new Ls(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ls)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new Ls;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class gm{constructor(){this.B_=new ar(Dn.comparator)}track(e){const n=e.doc.key,s=this.B_.get(n);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(n):1===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):yn():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,s)=>{e.push(s)}),e}}class _h{constructor(e,n,s,l,d,m,S,L,K){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=S,this.excludesMetadataChanges=L,this.hasCachedResults=K}static fromInitialDocuments(e,n,s,l,d){const m=[];return n.forEach(S=>{m.push({type:0,doc:S})}),new _h(e,n,Ls.emptySet(n),m,s,l,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class _m{constructor(){this.k_=void 0,this.listeners=[]}}class nu{constructor(){this.queries=new Xs(e=>Kl(e),yl),this.onlineState="Unknown",this.q_=new Set}}function vh(r,e){return vm.apply(this,arguments)}function vm(){return vm=(0,c.Z)(function*(r,e){const n=Xt(r),s=e.query;let l=!1,d=n.queries.get(s);if(d||(l=!0,d=new _m),l)try{d.k_=yield n.onListen(s)}catch(m){const S=Bu(m,`Initialization of query '${el(e.query)}' failed`);return void e.onError(S)}n.queries.set(s,d),d.listeners.push(e),e.Q_(n.onlineState),d.k_&&e.K_(d.k_)&&Mf(n)}),vm.apply(this,arguments)}function Qg(r,e){return ym.apply(this,arguments)}function ym(){return ym=(0,c.Z)(function*(r,e){const n=Xt(r),s=e.query;let l=!1;const d=n.queries.get(s);if(d){const m=d.listeners.indexOf(e);m>=0&&(d.listeners.splice(m,1),l=0===d.listeners.length)}if(l)return n.queries.delete(s),n.onUnlisten(s)}),ym.apply(this,arguments)}function bm(r,e){const n=Xt(r);let s=!1;for(const l of e){const m=n.queries.get(l.query);if(m){for(const S of m.listeners)S.K_(l)&&(s=!0);m.k_=l}}s&&Mf(n)}function tc(r,e,n){const s=Xt(r),l=s.queries.get(e);if(l)for(const d of l.listeners)d.onError(n);s.queries.delete(e)}function Mf(r){r.q_.forEach(e=>{e.next()})}class Em{constructor(e,n,s){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new _h(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=_h.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Wb{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class Go{constructor(e){this.serializer=e}hs(e){return wl(this.serializer,e)}Ps(e){return e.metadata.exists?wg(this.serializer,e.document,!1):_r.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return _o(e)}}class Kv{constructor(e,n,s){this.X_=e,this.localStore=n,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Rf(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const s=Li.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,s=new Go(this.serializer);for(const l of e)if(l.metadata.queries){const d=s.hs(l.metadata.name);for(const m of l.metadata.queries){const S=(n.get(m)||ln()).add(d);n.set(m,S)}}return n}complete(){var e=this;return(0,c.Z)(function*(){const n=yield function Lv(r,e,n,s){return Xp.apply(this,arguments)}(e.localStore,new Go(e.serializer),e.documents,e.X_.id),s=e.ta(e.documents);for(const l of e.queries)yield Vv(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function Rf(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Xg{constructor(e){this.key=e}}class Jg{constructor(e){this.key=e}}class Pf{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ln(),this.mutatedKeys=ln(),this._a=bl(e),this.aa=new Ls(this._a)}get ua(){return this.ia}ca(e,n){const s=n?n.la:new gm,l=n?n.aa:this.aa;let d=n?n.mutatedKeys:this.mutatedKeys,m=l,S=!1;const L="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,K="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ae,Se)=>{const ot=l.get(ae),Tt=La(this.query,Se)?Se:null,gn=!!ot&&this.mutatedKeys.has(ot.key),xn=!!Tt&&(Tt.hasLocalMutations||this.mutatedKeys.has(Tt.key)&&Tt.hasCommittedMutations);let Tn=!1;ot&&Tt?ot.data.isEqual(Tt.data)?gn!==xn&&(s.track({type:3,doc:Tt}),Tn=!0):this.ha(ot,Tt)||(s.track({type:2,doc:Tt}),Tn=!0,(L&&this._a(Tt,L)>0||K&&this._a(Tt,K)<0)&&(S=!0)):!ot&&Tt?(s.track({type:0,doc:Tt}),Tn=!0):ot&&!Tt&&(s.track({type:1,doc:ot}),Tn=!0,(L||K)&&(S=!0)),Tn&&(Tt?(m=m.add(Tt),d=xn?d.add(ae):d.delete(ae)):(m=m.delete(ae),d=d.delete(ae)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const ae="F"===this.query.limitType?m.last():m.first();m=m.delete(ae.key),d=d.delete(ae.key),s.track({type:1,doc:ae})}return{aa:m,la:s,Zi:S,mutatedKeys:d}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const l=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const d=e.la.L_();d.sort((K,ae)=>function(ot,Tt){const gn=xn=>{switch(xn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yn()}};return gn(ot)-gn(Tt)}(K.type,ae.type)||this._a(K.doc,ae.doc)),this.Pa(s);const m=n?this.Ia():[],S=0===this.oa.size&&this.current?1:0,L=S!==this.sa;return this.sa=S,0!==d.length||L?{snapshot:new _h(this.query,e.aa,l,d,e.mutatedKeys,0===S,L,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:m}:{Ta:m}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new gm,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ln(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return e.forEach(s=>{this.oa.has(s)||n.push(new Jg(s))}),this.oa.forEach(s=>{e.has(s)||n.push(new Xg(s))}),n}da(e){this.ia=e.ls,this.oa=ln();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return _h.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class e_{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class t_{constructor(e){this.key=e,this.Ra=!1}}class qv{constructor(e,n,s,l,d,m){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.Va={},this.ma=new Xs(S=>Kl(S),yl),this.fa=new Map,this.ga=new Set,this.pa=new ar(Dn.comparator),this.ya=new Map,this.wa=new Wp,this.Sa={},this.ba=new Map,this.Da=Xc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function n_(r,e){return Of.apply(this,arguments)}function Of(){return Of=(0,c.Z)(function*(r,e){const n=Eh(r);let s,l;const d=n.ma.get(e);if(d)s=d.targetId,n.sharedClientState.addLocalQueryTarget(s),l=d.view.Aa();else{const m=yield ta(n.localStore,Vo(e)),S=n.sharedClientState.addLocalQueryTarget(m.targetId);s=m.targetId,l=yield Im(n,e,s,"current"===S,m.resumeToken),n.isPrimaryClient&&om(n.remoteStore,m)}return l}),Of.apply(this,arguments)}function Im(r,e,n,s,l){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,c.Z)(function*(r,e,n,s,l){r.va=(Se,ot,Tt)=>{return(gn=(0,c.Z)(function*(Tn,fi,Ii,yi){let di=fi.view.ca(Ii);di.Zi&&(di=yield mf(Tn.localStore,fi.query,!1).then(({documents:os})=>fi.view.ca(os,di)));const Mr=yi&&yi.targetChanges.get(fi.targetId),vr=fi.view.applyChanges(di,Tn.isPrimaryClient,Mr);return s_(Tn,fi.targetId,vr.Ta),vr.snapshot}),function xn(Tn,fi,Ii,yi){return gn.apply(this,arguments)})(r,Se,ot,Tt);var gn};const d=yield mf(r.localStore,e,!0),m=new Pf(e,d.ls),S=m.ca(d.documents),L=Yl.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==r.onlineState,l),K=m.applyChanges(S,r.isPrimaryClient,L);s_(r,n,K.Ta);const ae=new e_(e,n,m);return r.ma.set(e,ae),r.fa.has(n)?r.fa.get(n).push(e):r.fa.set(n,[e]),K.snapshot}),Nf.apply(this,arguments)}function Yv(r,e){return kf.apply(this,arguments)}function kf(){return kf=(0,c.Z)(function*(r,e){const n=Xt(r),s=n.ma.get(e),l=n.fa.get(s.targetId);if(l.length>1)return n.fa.set(s.targetId,l.filter(d=>!yl(d,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield xl(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),mh(n.remoteStore,s.targetId),Id(n,s.targetId)}).catch(rr))):(Id(n,s.targetId),yield xl(n.localStore,s.targetId,!0))}),kf.apply(this,arguments)}function Tl(){return Tl=(0,c.Z)(function*(r,e,n){const s=Ih(r);try{const l=yield function(m,S){const L=Xt(m),K=Rn.now(),ae=S.reduce((Tt,gn)=>Tt.add(gn.key),ln());let Se,ot;return L.persistence.runTransaction("Locally write mutations","readwrite",Tt=>{let gn=p(),xn=ln();return L.ss.getEntries(Tt,ae).next(Tn=>{gn=Tn,gn.forEach((fi,Ii)=>{Ii.isValidDocument()||(xn=xn.add(fi))})}).next(()=>L.localDocuments.getOverlayedDocuments(Tt,gn)).next(Tn=>{Se=Tn;const fi=[];for(const Ii of S){const yi=nl(Ii,Se.get(Ii.key).overlayedDocument);null!=yi&&fi.push(new Ao(Ii.key,yi,Vd(yi.value.mapValue),mn.exists(!0)))}return L.mutationQueue.addMutationBatch(Tt,K,fi,S)}).next(Tn=>{ot=Tn;const fi=Tn.applyToLocalDocumentSet(Se,xn);return L.documentOverlayCache.saveOverlays(Tt,Tn.batchId,fi)})}).then(()=>({batchId:ot.batchId,changes:Q(Se)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(m,S,L){let K=m.Sa[m.currentUser.toKey()];K||(K=new ar(ti)),K=K.insert(S,L),m.Sa[m.currentUser.toKey()]=K}(s,l.batchId,n),yield iu(s,l.changes),yield ec(s.remoteStore)}catch(l){const d=Bu(l,"Failed to persist write");n.reject(d)}}),Tl.apply(this,arguments)}function Uu(r,e){return wm.apply(this,arguments)}function wm(){return wm=(0,c.Z)(function*(r,e){const n=Xt(r);try{const s=yield function Fv(r,e){const n=Xt(r),s=e.snapshotVersion;let l=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const m=n.ss.newChangeBuffer({trackRemovals:!0});l=n.ts;const S=[];e.targetChanges.forEach((ae,Se)=>{const ot=l.get(Se);if(!ot)return;S.push(n.qr.removeMatchingKeys(d,ae.removedDocuments,Se).next(()=>n.qr.addMatchingKeys(d,ae.addedDocuments,Se)));let Tt=ot.withSequenceNumber(d.currentSequenceNumber);var xn,Tn,fi;null!==e.targetMismatches.get(Se)?Tt=Tt.withResumeToken(Or.EMPTY_BYTE_STRING,Bn.min()).withLastLimboFreeSnapshotVersion(Bn.min()):ae.resumeToken.approximateByteSize()>0&&(Tt=Tt.withResumeToken(ae.resumeToken,s)),l=l.insert(Se,Tt),Tn=Tt,fi=ae,(0===(xn=ot).resumeToken.approximateByteSize()||Tn.snapshotVersion.toMicroseconds()-xn.snapshotVersion.toMicroseconds()>=3e8||fi.addedDocuments.size+fi.modifiedDocuments.size+fi.removedDocuments.size>0)&&S.push(n.qr.updateTargetData(d,Tt))});let L=p(),K=ln();if(e.documentUpdates.forEach(ae=>{e.resolvedLimboDocuments.has(ae)&&S.push(n.persistence.referenceDelegate.updateLimboDocument(d,ae))}),S.push(ff(d,m,e.documentUpdates).next(ae=>{L=ae.us,K=ae.cs})),!s.isEqual(Bn.min())){const ae=n.qr.getLastRemoteSnapshotVersion(d).next(Se=>n.qr.setTargetsMetadata(d,d.currentSequenceNumber,s));S.push(ae)}return Et.waitFor(S).next(()=>m.apply(d)).next(()=>n.localDocuments.getLocalViewOfDocuments(d,L,K)).next(()=>L)}).then(d=>(n.ts=l,d))}(n.localStore,e);e.targetChanges.forEach((l,d)=>{const m=n.ya.get(d);m&&(Vn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?m.Ra=!0:l.modifiedDocuments.size>0?Vn(m.Ra):l.removedDocuments.size>0&&(Vn(m.Ra),m.Ra=!1))}),yield iu(n,s,e)}catch(s){yield rr(s)}}),wm.apply(this,arguments)}function i_(r,e,n){const s=Xt(r);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const l=[];s.ma.forEach((d,m)=>{const S=m.view.Q_(e);S.snapshot&&l.push(S.snapshot)}),function(m,S){const L=Xt(m);L.onlineState=S;let K=!1;L.queries.forEach((ae,Se)=>{for(const ot of Se.listeners)ot.Q_(S)&&(K=!0)}),K&&Mf(L)}(s.eventManager,e),l.length&&s.Va.a_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function r_(r,e,n){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,c.Z)(function*(r,e,n){const s=Xt(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.ya.get(e),d=l&&l.key;if(d){let m=new ar(Dn.comparator);m=m.insert(d,_r.newNoDocument(d,Bn.min()));const S=ln().add(d),L=new Il(Bn.min(),new Map,new ar(ti),m,S);yield Uu(s,L),s.pa=s.pa.remove(d),s.ya.delete(e),a_(s)}else yield xl(s.localStore,e,!1).then(()=>Id(s,e,n)).catch(rr)}),Ff.apply(this,arguments)}function Cm(r,e){return ju.apply(this,arguments)}function ju(){return ju=(0,c.Z)(function*(r,e){const n=Xt(r),s=e.batch.batchId;try{const l=yield function Zp(r,e){const n=Xt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),d=n.ss.newChangeBuffer({trackRemovals:!0});return function(S,L,K,ae){const Se=K.batch,ot=Se.keys();let Tt=Et.resolve();return ot.forEach(gn=>{Tt=Tt.next(()=>ae.getEntry(L,gn)).next(xn=>{const Tn=K.docVersions.get(gn);Vn(null!==Tn),xn.version.compareTo(Tn)<0&&(Se.applyToRemoteDocument(xn,K),xn.isValidDocument()&&(xn.setReadTime(K.commitVersion),ae.addEntry(xn)))})}),Tt.next(()=>S.mutationQueue.removeMutationBatch(L,Se))}(n,s,e,d).next(()=>d.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(S){let L=ln();for(let K=0;K<S.mutationResults.length;++K)S.mutationResults[K].transformResults.length>0&&(L=L.add(S.batch.mutations[K].key));return L}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}(n.localStore,e);Tm(n,s,null),xm(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield iu(n,l)}catch(l){yield rr(l)}}),ju.apply(this,arguments)}function Lf(r,e,n){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,c.Z)(function*(r,e,n){const s=Xt(r);try{const l=yield function(m,S){const L=Xt(m);return L.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let ae;return L.mutationQueue.lookupMutationBatch(K,S).next(Se=>(Vn(null!==Se),ae=Se.keys(),L.mutationQueue.removeMutationBatch(K,Se))).next(()=>L.mutationQueue.performConsistencyCheck(K)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(K,ae,S)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,ae)).next(()=>L.localDocuments.getDocuments(K,ae))})}(s.localStore,e);Tm(s,e,n),xm(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield iu(s,l)}catch(l){yield rr(l)}}),Vf.apply(this,arguments)}function Dm(){return Dm=(0,c.Z)(function*(r,e){const n=Xt(r);Jl(n.remoteStore)||Gt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(m){const S=Xt(m);return S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>S.mutationQueue.getHighestUnacknowledgedBatchId(L))}(n.localStore);if(-1===s)return void e.resolve();const l=n.ba.get(s)||[];l.push(e),n.ba.set(s,l)}catch(s){const l=Bu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Dm.apply(this,arguments)}function xm(r,e){(r.ba.get(e)||[]).forEach(n=>{n.resolve()}),r.ba.delete(e)}function Tm(r,e,n){const s=Xt(r);let l=s.Sa[s.currentUser.toKey()];if(l){const d=l.get(e);d&&(n?d.reject(n):d.resolve(),l=l.remove(e)),s.Sa[s.currentUser.toKey()]=l}}function Id(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.fa.get(e))r.ma.delete(s),n&&r.Va.Fa(s,n);r.fa.delete(e),r.isPrimaryClient&&r.wa.Rr(e).forEach(s=>{r.wa.containsKey(s)||Am(r,s)})}function Am(r,e){r.ga.delete(e.path.canonicalString());const n=r.pa.get(e);null!==n&&(mh(r.remoteStore,n),r.pa=r.pa.remove(e),r.ya.delete(n),a_(r))}function s_(r,e,n){for(const s of n)s instanceof Xg?(r.wa.addReference(s.key,e),Zv(r,s)):s instanceof Jg?(Gt("SyncEngine","Document no longer in limbo: "+s.key),r.wa.removeReference(s.key,e),r.wa.containsKey(s.key)||Am(r,s.key)):yn()}function Zv(r,e){const n=e.key,s=n.path.canonicalString();r.pa.get(n)||r.ga.has(s)||(Gt("SyncEngine","New document in limbo: "+n),r.ga.add(s),a_(r))}function a_(r){for(;r.ga.size>0&&r.pa.size<r.maxConcurrentLimboResolutions;){const e=r.ga.values().next().value;r.ga.delete(e);const n=new Dn(Li.fromString(e)),s=r.Da.next();r.ya.set(s,new t_(n)),r.pa=r.pa.insert(n,s),om(r.remoteStore,new Zl(Vo(Xa(n.path)),s,"TargetPurposeLimboResolution",It._e))}}function iu(r,e,n){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,c.Z)(function*(r,e,n){const s=Xt(r),l=[],d=[],m=[];var S;s.ma.isEmpty()||(s.ma.forEach((S,L)=>{m.push(s.va(L,e,n).then(K=>{if((K||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,K?.fromCache?"not-current":"current"),K){l.push(K);const ae=oh.Qi(L.targetId,K);d.push(ae)}}))}),yield Promise.all(m),s.Va.a_(l),yield(S=(0,c.Z)(function*(K,ae){const Se=Xt(K);try{yield Se.persistence.runTransaction("notifyLocalViewChanges","readwrite",ot=>Et.forEach(ae,Tt=>Et.forEach(Tt.ki,gn=>Se.persistence.referenceDelegate.addReference(ot,Tt.targetId,gn)).next(()=>Et.forEach(Tt.qi,gn=>Se.persistence.referenceDelegate.removeReference(ot,Tt.targetId,gn)))))}catch(ot){if(!w(ot))throw ot;Gt("LocalStore","Failed to update sequence numbers: "+ot)}for(const ot of ae){const Tt=ot.targetId;if(!ot.fromCache){const gn=Se.ts.get(Tt),Tn=gn.withLastLimboFreeSnapshotVersion(gn.snapshotVersion);Se.ts=Se.ts.insert(Tt,Tn)}}}),function L(K,ae){return S.apply(this,arguments)})(s.localStore,d))}),Bf.apply(this,arguments)}function l_(r,e){return c_.apply(this,arguments)}function c_(){return c_=(0,c.Z)(function*(r,e){const n=Xt(r);if(!n.currentUser.isEqual(e)){Gt("SyncEngine","User change. New user:",e.toKey());const s=yield eu(n.localStore,e);n.currentUser=e,(d=n).ba.forEach(S=>{S.forEach(L=>{L.reject(new qt(Pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.ba.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield iu(n,s._s)}var d}),c_.apply(this,arguments)}function Uf(r,e){const n=Xt(r),s=n.ya.get(e);if(s&&s.Ra)return ln().add(s.key);{let l=ln();const d=n.fa.get(e);if(!d)return l;for(const m of d){const S=n.ma.get(m);l=l.unionWith(S.view.ua)}return l}}function u_(r,e){return jf.apply(this,arguments)}function jf(){return jf=(0,c.Z)(function*(r,e){const n=Xt(r),s=yield mf(n.localStore,e.query,!0),l=e.view.da(s);return n.isPrimaryClient&&s_(n,e.targetId,l.Ta),l}),jf.apply(this,arguments)}function Qv(r,e){return zf.apply(this,arguments)}function zf(){return zf=(0,c.Z)(function*(r,e){const n=Xt(r);return Qp(n.localStore,e).then(s=>iu(n,s))}),zf.apply(this,arguments)}function d_(r,e,n,s){return Ai.apply(this,arguments)}function Ai(){return Ai=(0,c.Z)(function*(r,e,n,s){const l=Xt(r),d=yield function(S,L){const K=Xt(S),ae=Xt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",Se=>ae.Cn(Se,L).next(ot=>ot?K.localDocuments.getDocuments(Se,ot):Et.resolve(null)))}(l.localStore,e);var L;null!==d?("pending"===n?yield ec(l.remoteStore):"acknowledged"===n||"rejected"===n?(Tm(l,e,s||null),xm(l,e),L=e,Xt(Xt(l.localStore).mutationQueue).Fn(L)):yn(),yield iu(l,d)):Gt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ai.apply(this,arguments)}function Hf(){return Hf=(0,c.Z)(function*(r,e){const n=Xt(r);if(Eh(n),Ih(n),!0===e&&!0!==n.Ca){const s=n.sharedClientState.getAllActiveQueryTargets(),l=yield zu(n,s.toArray());n.Ca=!0,yield Af(n.remoteStore,!0);for(const d of l)om(n.remoteStore,d)}else if(!1===e&&!1!==n.Ca){const s=[];let l=Promise.resolve();n.fa.forEach((d,m)=>{n.sharedClientState.isLocalQueryTarget(m)?s.push(m):l=l.then(()=>(Id(n,m),xl(n.localStore,m,!0))),mh(n.remoteStore,m)}),yield l,yield zu(n,s),function(m){const S=Xt(m);S.ya.forEach((L,K)=>{mh(S.remoteStore,K)}),S.wa.Vr(),S.ya=new Map,S.pa=new ar(Dn.comparator)}(n),n.Ca=!1,yield Af(n.remoteStore,!1)}}),Hf.apply(this,arguments)}function zu(r,e,n){return $f.apply(this,arguments)}function $f(){return $f=(0,c.Z)(function*(r,e,n){const s=Xt(r),l=[],d=[];for(const m of e){let S;const L=s.fa.get(m);if(L&&0!==L.length){S=yield ta(s.localStore,Vo(L[0]));for(const K of L){const ae=s.ma.get(K),Se=yield u_(s,ae);Se.snapshot&&d.push(Se.snapshot)}}else{const K=yield zg(s.localStore,m);S=yield ta(s.localStore,K),yield Im(s,f_(K),m,!1,S.resumeToken)}l.push(S)}return s.Va.a_(d),l}),$f.apply(this,arguments)}function f_(r){return vl(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Wf(r){return n=Xt(r).localStore,Xt(Xt(n).persistence).Bi();var n}function wd(r,e,n,s){return yh.apply(this,arguments)}function yh(){return yh=(0,c.Z)(function*(r,e,n,s){const l=Xt(r);if(l.Ca)return void Gt("SyncEngine","Ignoring unexpected query state notification.");const d=l.fa.get(e);if(d&&d.length>0)switch(n){case"current":case"not-current":{const m=yield Qp(l.localStore,rd(d[0])),S=Il.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Or.EMPTY_BYTE_STRING);yield iu(l,m,S);break}case"rejected":yield xl(l.localStore,e,!0),Id(l,e,s);break;default:yn()}}),yh.apply(this,arguments)}function bh(r,e,n){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,c.Z)(function*(r,e,n){const s=Eh(r);if(s.Ca){for(const l of e){if(s.fa.has(l)){Gt("SyncEngine","Adding an already active target "+l);continue}const d=yield zg(s.localStore,l),m=yield ta(s.localStore,d);yield Im(s,f_(d),m.targetId,!1,m.resumeToken),om(s.remoteStore,m)}for(const l of n)s.fa.has(l)&&(yield xl(s.localStore,l,!1).then(()=>{mh(s.remoteStore,l),Id(s,l)}).catch(rr))}}),Gf.apply(this,arguments)}function Eh(r){const e=Xt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uu.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r_.bind(null,e),e.Va.a_=bm.bind(null,e.eventManager),e.Va.Fa=tc.bind(null,e.eventManager),e}function Ih(r){const e=Xt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lf.bind(null,e),e}class Cd{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,c.Z)(function*(){n.serializer=ku(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return qp(this.persistence,new hf,e.initialUser,this.serializer)}createPersistence(e){return new Pu(ih.jr,this.serializer)}createSharedClientState(e){return new Bv}terminate(){var e=this;return(0,c.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Rm extends Cd{constructor(e,n,s){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,s=this;return(0,c.Z)(function*(){yield n().call(s,e),yield s.xa.initialize(s,e),yield Ih(s.xa.syncEngine),yield ec(s.xa.remoteStore),yield s.persistence.mi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return qp(this.persistence,new hf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new Sv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const s=new Ue(n,this.persistence);return new de(e.asyncQueue,s)}createPersistence(e){const n=Ug(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new df(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,dh(),Ac(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Bv}}class p_ extends Rm{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,s=this;return(0,c.Z)(function*(){yield n().call(s,e);const l=s.xa.syncEngine;s.sharedClientState instanceof $g&&(s.sharedClientState.syncEngine={Ys:d_.bind(null,l),Zs:wd.bind(null,l),Xs:bh.bind(null,l),Bi:Wf.bind(null,l),Js:Qv.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.mi(function(){var d=(0,c.Z)(function*(m){yield function h_(r,e){return Hf.apply(this,arguments)}(s.xa.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start():m||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(m&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():m||s.indexBackfillerScheduler.stop())});return function(m){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const n=dh();if(!$g.D(n))throw new qt(Pt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Ug(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $g(n,e.asyncQueue,s,e.clientId,e.initialUser)}}class Dd{initialize(e,n){var s=this;return(0,c.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>i_(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=l_.bind(null,s.syncEngine),yield Af(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nu}createDatastore(e){const n=ku(e.databaseInfo.databaseId),s=new uh(e.databaseInfo);return new ph(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return s=this.localStore,l=this.datastore,d=e.asyncQueue,m=n=>i_(this.syncEngine,n,0),S=Wg.D()?new Wg:new yf,new zv(s,l,d,m,S);var s,l,d,m,S}createSyncEngine(e,n){return function(l,d,m,S,L,K,ae){const Se=new qv(l,d,m,S,L,K);return ae&&(Se.Ca=!0),Se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,c.Z)(function*(s){const l=Xt(s);Gt("RemoteStore","RemoteStore shutting down."),l.C_.add(5),yield vd(l),l.F_.shutdown(),l.M_.set("Unknown")}),function n(s){return e.apply(this,arguments)})(this.remoteStore);var e}}function Pm(r,e=10240){let n=0;return{read:()=>(0,c.Z)(function*(){if(n<r.byteLength){const s={value:r.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})(),cancel:()=>(0,c.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Kf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Xv{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Fi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(s=>{s&&s.Z_()?this.metadata.resolve(s.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Y_)}`))},s=>this.metadata.reject(s))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,c.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,c.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,c.Z)(function*(){const n=yield e.qa();if(null===n)return null;const s=e.La.decode(n),l=Number(s);isNaN(l)&&e.Qa(`length string (${s}) is not valid number`);const d=yield e.Ka(l);return new Wb(JSON.parse(d),n.length+l)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,c.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),s})()}Ka(e){var n=this;return(0,c.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const s=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),s})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,c.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const s=new Uint8Array(e.buffer.length+n.value.length);s.set(e.buffer),s.set(n.value,e.buffer.length),e.buffer=s}return n.done})()}}class Jv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,c.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new qt(Pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,c.Z)(function*(m,S){const L=Xt(m),K=Wd(L.serializer)+"/documents",ae={documents:S.map(gn=>Gc(L.serializer,gn))},Se=yield L.Co("BatchGetDocuments",K,ae,S.length),ot=new Map;Se.forEach(gn=>{const xn=function bv(r,e){return"found"in e?function(s,l){Vn(!!l.found);const d=wl(s,l.found.name),m=_o(l.found.updateTime),S=l.found.createTime?_o(l.found.createTime):Bn.min(),L=new ro({mapValue:{fields:l.found.fields}});return _r.newFoundDocument(d,m,S,L)}(r,e):"missing"in e?function(s,l){Vn(!!l.missing),Vn(!!l.readTime);const d=wl(s,l.missing),m=_o(l.readTime);return _r.newNoDocument(d,m)}(r,e):yn()}(L.serializer,gn);ot.set(xn.key.toString(),xn)});const Tt=[];return S.forEach(gn=>{const xn=ot.get(gn.toString());Vn(!!xn),Tt.push(xn)}),Tt}),function d(m,S){return l.apply(this,arguments)})(n.datastore,e);var l;return s.forEach(l=>n.recordVersion(l)),s})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new ea(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var s;e.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,l)=>{const d=Dn.fromPath(l);e.mutations.push(new El(d,e.precondition(d)))}),yield(s=(0,c.Z)(function*(d,m){const S=Xt(d),L=Wd(S.serializer)+"/documents",K={writes:m.map(ae=>cd(S.serializer,ae))};yield S.wo("Commit",L,K)}),function l(d,m){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw yn();n=Bn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new qt(Pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Bn.min())?mn.exists(!1):mn.updateTime(n):mn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Bn.min()))throw new qt(Pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mn.updateTime(n)}return mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ey{constructor(e,n,s,l,d){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=l,this.deferred=d,this.Wa=s.maxAttempts,this.zo=new hh(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,c.Z)(function*(){const n=new Jv(e.datastore),s=e.za(n);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(d=>{e.ja(d)}))}).catch(l=>{e.ja(l)})}))}za(e){try{const n=this.updateFunction(e);return!Ct(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!ga(n)}return!1}}class m_{constructor(e,n,s,l){var d=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Qn.UNAUTHENTICATED,this.clientId=xa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var m=(0,c.Z)(function*(S){Gt("FirestoreClient","Received user=",S.uid),yield d.authCredentialListener(S),d.user=S});return function(S){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(s,m=>(Gt("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,c.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qt(Pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const l=Bu(s,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function wh(r,e){return Om.apply(this,arguments)}function Om(){return Om=(0,c.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Gt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(function(){var l=(0,c.Z)(function*(d){s.isEqual(d)||(yield eu(e.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Om.apply(this,arguments)}function Nm(r,e){return na.apply(this,arguments)}function na(){return na=(0,c.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const n=yield km(r);Gt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(n,s),r.setCredentialChangeListener(l=>fm(e.remoteStore,l)),r.setAppCheckTokenChangeListener((l,d)=>fm(e.remoteStore,d)),r._onlineComponents=e}),na.apply(this,arguments)}function g_(r){return"FirebaseError"===r.name?r.code===Pt.FAILED_PRECONDITION||r.code===Pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function km(r){return __.apply(this,arguments)}function __(){return __=(0,c.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Gt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wh(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!g_(n))throw n;or("Error using user provided cache. Falling back to memory cache: "+n),yield wh(r,new Cd)}}else Gt("FirestoreClient","Using default OfflineComponentProvider"),yield wh(r,new Cd);return r._offlineComponents}),__.apply(this,arguments)}function xd(r){return qf.apply(this,arguments)}function qf(){return qf=(0,c.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Gt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Nm(r,r._uninitializedComponentsProvider._online)):(Gt("FirestoreClient","Using default OnlineComponentProvider"),yield Nm(r,new Dd))),r._onlineComponents}),qf.apply(this,arguments)}function v_(r){return km(r).then(e=>e.persistence)}function Td(r){return km(r).then(e=>e.localStore)}function y_(r){return xd(r).then(e=>e.remoteStore)}function Yf(r){return xd(r).then(e=>e.syncEngine)}function Ad(r){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,c.Z)(function*(r){const e=yield xd(r),n=e.eventManager;return n.onListen=n_.bind(null,e.syncEngine),n.onUnlisten=Yv.bind(null,e.syncEngine),n}),Ch.apply(this,arguments)}function E_(r,e,n={}){const s=new Fi;return r.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(d,m,S,L,K){const ae=new Kf({next:ot=>{m.enqueueAndForget(()=>Qg(d,Se));const Tt=ot.docs.has(S);!Tt&&ot.fromCache?K.reject(new qt(Pt.UNAVAILABLE,"Failed to get document because the client is offline.")):Tt&&ot.fromCache&&L&&"server"===L.source?K.reject(new qt(Pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(ot)},error:ot=>K.reject(ot)}),Se=new Em(Xa(S.path),ae,{includeMetadataChanges:!0,J_:!0});return vh(d,Se)}(yield Ad(r),r.asyncQueue,e,n,s)})),s.promise}function Al(r,e,n={}){const s=new Fi;return r.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(d,m,S,L,K){const ae=new Kf({next:ot=>{m.enqueueAndForget(()=>Qg(d,Se)),ot.fromCache&&"server"===L.source?K.reject(new qt(Pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(ot)},error:ot=>K.reject(ot)}),Se=new Em(S,ae,{includeMetadataChanges:!0,J_:!0});return vh(d,Se)}(yield Ad(r),r.asyncQueue,e,n,s)})),s.promise}function Dh(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Zf=new Map;function D_(r,e,n){if(!n)throw new qt(Pt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Lm(r,e,n,s){if(!0===e&&!0===s)throw new qt(Pt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Vm(r){if(!Dn.isDocumentKey(r))throw new qt(Pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Bm(r){if(Dn.isDocumentKey(r))throw new qt(Pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function xh(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(s=r).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof r?"a function":yn()}function qi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new qt(Pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xh(r);throw new qt(Pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function nc(r,e){if(e<=0)throw new qt(Pt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class x_{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new qt(Pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qt(Pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Dh(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new qt(Pt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new qt(Pt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new qt(Pt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Th{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new qt(Pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qt(Pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new lu;switch(s.type){case"firstParty":return new cu(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new qt(Pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Zf.get(n);s&&(Gt("ComponentProvider","Removing Datastore"),Zf.delete(n),s.terminate())}(this),Promise.resolve()}}function Qf(r,e,n,s={}){var l;const d=(r=qi(r,Th))._getSettings(),m=`${e}:${n}`;if("firestore.googleapis.com"!==d.host&&d.host!==m&&or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},d),{host:m,ssl:!1})),s.mockUserToken){let S,L;if("string"==typeof s.mockUserToken)S=s.mockUserToken,L=Qn.MOCK_USER;else{S=(0,j.Sg)(s.mockUserToken,null===(l=r._app)||void 0===l?void 0:l.options.projectId);const K=s.mockUserToken.sub||s.mockUserToken.user_id;if(!K)throw new qt(Pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new Qn(K)}r._authCredentials=new Da(new kc(S,L))}}class Es{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class fo{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fo(this.firestore,e,this._key)}}class ic extends Es{constructor(e,n,s){super(e,n,Xa(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fo(this.firestore,null,new Dn(e))}withConverter(e){return new ic(this.firestore,e,this._path)}}function Xf(r,e,...n){if(r=(0,j.m9)(r),D_("collection","path",e),r instanceof Th){const s=Li.fromString(e,...n);return Bm(s),new ic(r,null,s)}{if(!(r instanceof fo||r instanceof ic))throw new qt(Pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Li.fromString(e,...n));return Bm(s),new ic(r.firestore,null,s)}}function Ah(r,e){if(r=qi(r,Th),D_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new qt(Pt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Es(r,null,(s=e,new Os(Li.emptyPath(),s)));var s}function Um(r,e,...n){if(r=(0,j.m9)(r),1===arguments.length&&(e=xa.newId()),D_("doc","path",e),r instanceof Th){const s=Li.fromString(e,...n);return Vm(s),new fo(r,null,new Dn(s))}{if(!(r instanceof fo||r instanceof ic))throw new qt(Pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Li.fromString(e,...n));return Vm(s),new fo(r.firestore,r instanceof ic?r.converter:null,new Dn(s))}}function Jf(r,e){return r=(0,j.m9)(r),e=(0,j.m9)(e),(r instanceof fo||r instanceof ic)&&(e instanceof fo||e instanceof ic)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function T_(r,e){return r=(0,j.m9)(r),e=(0,j.m9)(e),r instanceof Es&&e instanceof Es&&r.firestore===e.firestore&&yl(r._query,e._query)&&r.converter===e.converter}class ay{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new hh(this,"async_queue_retry"),this.iu=()=>{const n=Ac();n&&Gt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Ac();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Ac();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Fi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,c.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!w(n))throw n;Gt("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{throw this.eu=s,this.tu=!1,nr("INTERNAL UNHANDLED ERROR: ",function(m){let S=m.message||"";return m.stack&&(S=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),S}(s)),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(e,n,s){this.su(),this.ru.indexOf(e)>-1&&(n=0);const l=Sf.createAndSchedule(this,e,n,s,d=>this.au(d));return this.Xa.push(l),l}su(){this.eu&&yn()}verifyOperationInProgress(){}uu(){var e=this;return(0,c.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function ep(r){return function(n,s){if("object"!=typeof n||null===n)return!1;const l=n;for(const d of["next","error","complete"])if(d in l&&"function"==typeof l[d])return!0;return!1}(r)}class A_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,s){this._progressObserver={next:e,error:n,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const ly=-1;class Wr extends Th{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new ay,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||M_(this),this._firestoreClient.terminate()}}function S_(r,e){const n="object"==typeof r?r:(0,F.getApp)(),s="string"==typeof r?r:e||"(default)",l=(0,F._getProvider)(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const d=(0,j.P0)("firestore");d&&Qf(l,...d)}return l}function Gr(r){return r._firestoreClient||M_(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function M_(r){var e,n,s;const l=r._freezeSettings(),d=(L=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Ld(r._databaseId,L,r._persistenceKey,(ae=l).host,ae.ssl,ae.experimentalForceLongPolling,ae.experimentalAutoDetectLongPolling,Dh(ae.experimentalLongPollingOptions),ae.useFetchStreams));var L,ae;r._firestoreClient=new m_(r._authCredentials,r._appCheckCredentials,r._queue,d),null!==(n=l.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function R_(r,e){N_(r=qi(r,Wr));const n=Gr(r);if(n._uninitializedComponentsProvider)throw new qt(Pt.FAILED_PRECONDITION,"SDK cache is already specified.");or("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),l=new Dd;return O_(n,l,new Rm(l,s.cacheSizeBytes,e?.forceOwnership))}function P_(r){N_(r=qi(r,Wr));const e=Gr(r);if(e._uninitializedComponentsProvider)throw new qt(Pt.FAILED_PRECONDITION,"SDK cache is already specified.");or("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=r._freezeSettings(),s=new Dd;return O_(e,s,new p_(s,n.cacheSizeBytes))}function O_(r,e,n){const s=new Fi;return r.asyncQueue.enqueue((0,c.Z)(function*(){try{yield wh(r,n),yield Nm(r,e),s.resolve()}catch(l){const d=l;if(!g_(d))throw d;or("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function uy(r){if(r._initialized&&!r._terminated)throw new qt(Pt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fi;return r._queue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{yield(n=(0,c.Z)(function*(l){if(!gs.D())return Promise.resolve();const d=l+"main";yield gs.delete(d)}),function s(l){return n.apply(this,arguments)})(Ug(r._databaseId,r._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function Sh(r){return function(n){const s=new Fi;return n.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function o_(r,e){return Dm.apply(this,arguments)}(yield Yf(n),s)})),s.promise}(Gr(r=qi(r,Wr)))}function dy(r){return function ty(r){return r.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield v_(r),n=yield y_(r);return e.setNetworkEnabled(!0),function(l){const d=Xt(l);return d.C_.delete(0),Fu(d)}(n)}))}(Gr(r=qi(r,Wr)))}function hy(r){return function ny(r){return r.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield v_(r),n=yield y_(r);return e.setNetworkEnabled(!1),(s=(0,c.Z)(function*(d){const m=Xt(d);m.C_.add(0),yield vd(m),m.M_.set("Offline")}),function l(d){return s.apply(this,arguments)})(n);var s}))}(Gr(r=qi(r,Wr)))}function fy(r,e){const n=Gr(r=qi(r,Wr)),s=new A_;return function oy(r,e,n,s){const l=function(m,S){let L;return L="string"==typeof m?Ki().encode(m):m,ae=function(ae,Se){if(ae instanceof Uint8Array)return Pm(ae,void 0);if(ae instanceof ArrayBuffer)return Pm(new Uint8Array(ae),void 0);if(ae instanceof ReadableStream)return ae.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new Xv(ae,S);var ae}(n,ku(e));r.asyncQueue.enqueueAndForget((0,c.Z)(function*(){!function Sm(r,e,n){const s=Xt(r);var l;(l=(0,c.Z)(function*(m,S,L){try{const K=yield S.getMetadata();if(yield function(gn,xn){const Tn=Xt(gn),fi=_o(xn.createTime);return Tn.persistence.runTransaction("hasNewerBundle","readonly",Ii=>Tn.Kr.getBundleMetadata(Ii,xn.id)).then(Ii=>!!Ii&&Ii.createTime.compareTo(fi)>=0)}(m.localStore,K))return yield S.close(),L._completeWith({taskState:"Success",documentsLoaded:(gn=K).totalDocuments,bytesLoaded:gn.totalBytes,totalDocuments:gn.totalDocuments,totalBytes:gn.totalBytes}),Promise.resolve(new Set);L._updateProgress(Rf(K));const ae=new Kv(K,m.localStore,S.serializer);let Se=yield S.Ma();for(;Se;){const Tt=yield ae.ea(Se);Tt&&L._updateProgress(Tt),Se=yield S.Ma()}const ot=yield ae.complete();return yield iu(m,ot.ra,void 0),yield function(gn,xn){const Tn=Xt(gn);return Tn.persistence.runTransaction("Save bundle","readwrite",fi=>Tn.Kr.saveBundleMetadata(fi,xn))}(m.localStore,K),L._completeWith(ot.progress),Promise.resolve(ot.na)}catch(K){return or("SyncEngine",`Loading bundle failed with ${K}`),L._failWith(K),Promise.resolve(new Set)}var gn}),function d(m,S,L){return l.apply(this,arguments)})(s,e,n).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield Yf(r),l,s)}))}(n,r._databaseId,e,s),s}function py(r,e){return function I_(r,e){return r.asyncQueue.enqueue((0,c.Z)(function*(){return function(s,l){const d=Xt(s);return d.persistence.runTransaction("Get named query","readonly",m=>d.Kr.getNamedQuery(m,l))}(yield Td(r),e)}))}(Gr(r=qi(r,Wr)),e).then(n=>n?new Es(r,null,n.query):null)}function N_(r){if(r._initialized||r._terminated)throw new qt(Pt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sc(Or.fromBase64String(e))}catch(n){throw new qt(Pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sc(Or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new qt(Pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oc{constructor(e){this._methodName=e}}class tp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new qt(Pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new qt(Pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ti(this._lat,e._lat)||ti(this._long,e._long)}}const gy=/^__.*__$/;class _y{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sr(e,this.data,n,this.fieldTransforms)}}class k_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function F_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yn()}}class np{constructor(e,n,s,l,d,m){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===d&&this.Pu(),this.fieldTransforms=d||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new np(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Tu({path:s,du:!1});return l.Au(e),l}Ru(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Tu({path:s,du:!1});return l.Pu(),l}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Md(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(F_(this.Iu)&&gy.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class vy{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ku(e)}pu(e,n,s,l=!1){return new np({Iu:e,methodName:n,gu:s,path:gr.emptyPath(),du:!1,fu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ru(r){const e=r._freezeSettings(),n=ku(r._databaseId);return new vy(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Rh(r,e,n,s,l,d={}){const m=r.pu(d.merge||d.mergeFields?2:0,e,n,l);rs("Data must be an object, but it was:",m,s);const S=Sl(s,m);let L,K;if(d.merge)L=new vs(m.fieldMask),K=m.fieldTransforms;else if(d.mergeFields){const ae=[];for(const Se of d.mergeFields){const ot=Ml(e,Se,n);if(!m.contains(ot))throw new qt(Pt.INVALID_ARGUMENT,`Field '${ot}' is specified in your field mask but missing from your input data.`);$u(ae,ot)||ae.push(ot)}L=new vs(ae),K=m.fieldTransforms.filter(Se=>L.covers(Se.field))}else L=null,K=m.fieldTransforms;return new _y(new ro(S),L,K)}class Ph extends oc{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}function yy(r,e,n){return new np({Iu:3,gu:e.settings.gu,methodName:r._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ip extends oc{_toFieldTransform(e){return new ci(e.path,new k)}isEqual(e){return e instanceof ip}}class L_ extends oc{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=yy(this,e,!0),s=this.yu.map(d=>Hu(d,n)),l=new q(s);return new ci(e.path,l)}isEqual(e){return this===e}}class qb extends oc{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=yy(this,e,!0),s=this.yu.map(d=>Hu(d,n)),l=new Fe(s);return new ci(e.path,l)}isEqual(e){return this===e}}class rp extends oc{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new At(e.serializer,ql(e.serializer,this.wu));return new ci(e.path,n)}isEqual(e){return this===e}}function jm(r,e,n,s){const l=r.pu(1,e,n);rs("Data must be an object, but it was:",l,s);const d=[],m=ro.empty();_s(s,(L,K)=>{const ae=ia(e,L,n);K=(0,j.m9)(K);const Se=l.Ru(ae);if(K instanceof Ph)d.push(ae);else{const ot=Hu(K,Se);null!=ot&&(d.push(ae),m.set(ae,ot))}});const S=new vs(d);return new k_(m,S,l.fieldTransforms)}function zm(r,e,n,s,l,d){const m=r.pu(1,e,n),S=[Ml(e,s,n)],L=[l];if(d.length%2!=0)throw new qt(Pt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ot=0;ot<d.length;ot+=2)S.push(Ml(e,d[ot])),L.push(d[ot+1]);const K=[],ae=ro.empty();for(let ot=S.length-1;ot>=0;--ot)if(!$u(K,S[ot])){const Tt=S[ot];let gn=L[ot];gn=(0,j.m9)(gn);const xn=m.Ru(Tt);if(gn instanceof Ph)K.push(Tt);else{const Tn=Hu(gn,xn);null!=Tn&&(K.push(Tt),ae.set(Tt,Tn))}}const Se=new vs(K);return new k_(ae,Se,m.fieldTransforms)}function op(r,e,n,s=!1){return Hu(n,r.pu(s?4:3,e))}function Hu(r,e){if(Sd(r=(0,j.m9)(r)))return rs("Unsupported field value:",e,r),Sl(r,e);if(r instanceof oc)return function(s,l){if(!F_(l.Iu))throw l.mu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.mu(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(l);d&&l.fieldTransforms.push(d)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(s,l){const d=[];let m=0;for(const S of s){let L=Hu(S,l.Vu(m));null==L&&(L={nullValue:"NULL_VALUE"}),d.push(L),m++}return{arrayValue:{values:d}}}(r,e)}return function(s,l){if(null===(s=(0,j.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return ql(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=Rn.fromDate(s);return{timestampValue:ld(l.serializer,d)}}if(s instanceof Rn){const d=new Rn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ld(l.serializer,d)}}if(s instanceof tp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Sc)return{bytesValue:yg(l.serializer,s._byteString)};if(s instanceof fo){const d=l.databaseId,m=s.firestore._databaseId;if(!m.isEqual(d))throw l.mu(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Zh(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.mu(`Unsupported field value: ${xh(s)}`)}(r,e)}function Sl(r,e){const n={};return Aa(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(r,(s,l)=>{const d=Hu(l,e.Eu(s));null!=d&&(n[s]=d)}),{mapValue:{fields:n}}}function Sd(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Rn||r instanceof tp||r instanceof Sc||r instanceof fo||r instanceof oc)}function rs(r,e,n){if(!Sd(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=xh(n);throw e.mu("an object"===s?r+" a custom object":r+" "+s)}var l}function Ml(r,e,n){if((e=(0,j.m9)(e))instanceof rc)return e._internalPath;if("string"==typeof e)return ia(r,e);throw Md("Field path arguments must be of type string or ",r,!1,void 0,n)}const sp=new RegExp("[~\\*/\\[\\]]");function ia(r,e,n){if(e.search(sp)>=0)throw Md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new rc(...e.split("."))._internalPath}catch{throw Md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Md(r,e,n,s,l){const d=s&&!s.isEmpty(),m=void 0!==l;let S=`Function ${e}() called with invalid data`;n&&(S+=" (via `toFirestore()`)"),S+=". ";let L="";return(d||m)&&(L+=" (found",d&&(L+=` in field ${s}`),m&&(L+=` in document ${l}`),L+=")"),new qt(Pt.INVALID_ARGUMENT,S+r+L)}function $u(r,e){return r.some(n=>n.isEqual(e))}class sc{constructor(e,n,s,l,d){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new fo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Rd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Rd extends sc{data(){return super.data()}}function Mc(r,e){return"string"==typeof e?ia(r,e):e instanceof rc?e._internalPath:e._delegate._internalPath}function Wu(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new qt(Pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ou{}class ac extends ou{}function Pd(r,e,...n){let s=[];e instanceof ou&&s.push(e),s=s.concat(n),function(d){const m=d.filter(L=>L instanceof Gu).length,S=d.filter(L=>L instanceof lc).length;if(m>1||m>0&&S>0)throw new qt(Pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class lc extends ac{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new lc(e,n,s)}_apply(e){const n=this._parse(e);return H_(e._query,n),new Es(e.firestore,e.converter,$c(e._query,n))}_parse(e){const n=ru(e.firestore);return function(d,m,S,L,K,ae,Se){let ot;if(K.isKeyField()){if("array-contains"===ae||"array-contains-any"===ae)throw new qt(Pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ae}' queries on documentId().`);if("in"===ae||"not-in"===ae){xy(Se,ae);const Tt=[];for(const gn of Se)Tt.push(z_(L,d,gn));ot={arrayValue:{values:Tt}}}else ot=z_(L,d,Se)}else"in"!==ae&&"not-in"!==ae&&"array-contains-any"!==ae||xy(Se,ae),ot=op(S,"where",Se,"in"===ae||"not-in"===ae);return Ti.create(K,ae,ot)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function V_(r,e,n){const s=e,l=Mc("where",r);return lc._create(l,s,n)}class Gu extends ou{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gu(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(l,d){let m=l;const S=d.getFlattenedFilters();for(const L of S)H_(m,L),m=$c(m,L)}(e._query,n),new Es(e.firestore,e.converter,$c(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ap extends ac{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ap(e,n)}_apply(e){const n=function(l,d,m){if(null!==l.startAt)throw new qt(Pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new qt(Pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fa(d,m)}(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,function(l,d){const m=l.explicitOrderBy.concat([d]);return new Os(l.path,l.collectionGroup,m,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}function B_(r,e="asc"){const n=e,s=Mc("orderBy",r);return ap._create(s,n)}class Oh extends ac{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Oh(e,n,s)}_apply(e){return new Es(e.firestore,e.converter,Ic(e._query,this._limit,this._limitType))}}function U_(r){return nc("limit",r),Oh._create("limit",r,"F")}function j_(r){return nc("limitToLast",r),Oh._create("limitToLast",r,"L")}class Od extends ac{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Od(e,n,s)}_apply(e){const n=Dy(e,this.type,this._docOrFields,this._inclusive);return new Es(e.firestore,e.converter,(d=n,new Os((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,d,l.endAt)));var l,d}}function Iy(...r){return Od._create("startAt",r,!0)}function Yb(...r){return Od._create("startAfter",r,!1)}class Hm extends ac{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Hm(e,n,s)}_apply(e){const n=Dy(e,this.type,this._docOrFields,this._inclusive);return new Es(e.firestore,e.converter,(d=n,new Os((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,d)));var l,d}}function wy(...r){return Hm._create("endBefore",r,!1)}function Cy(...r){return Hm._create("endAt",r,!0)}function Dy(r,e,n,s){if(n[0]=(0,j.m9)(n[0]),n[0]instanceof sc)return function(d,m,S,L,K){if(!L)throw new qt(Pt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${S}().`);const ae=[];for(const Se of Ja(d))if(Se.field.isKeyField())ae.push(Pa(m,L.key));else{const ot=L.data.field(Se.field);if(Bc(ot))throw new qt(Pt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Se.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ot){const Tt=Se.field.canonicalString();throw new qt(Pt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Tt}' (used as the orderBy) does not exist.`)}ae.push(ot)}return new ka(ae,K)}(r._query,r.firestore._databaseId,e,n[0]._document,s);{const l=ru(r.firestore);return function(m,S,L,K,ae,Se){const ot=m.explicitOrderBy;if(ae.length>ot.length)throw new qt(Pt.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Tt=[];for(let gn=0;gn<ae.length;gn++){const xn=ae[gn];if(ot[gn].field.isKeyField()){if("string"!=typeof xn)throw new qt(Pt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof xn}`);if(!id(m)&&-1!==xn.indexOf("/"))throw new qt(Pt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${xn}' contains a slash.`);const Tn=m.path.child(Li.fromString(xn));if(!Dn.isDocumentKey(Tn))throw new qt(Pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${Tn}' is not because it contains an odd number of segments.`);const fi=new Dn(Tn);Tt.push(Pa(S,fi))}else{const Tn=op(L,K,xn);Tt.push(Tn)}}return new ka(Tt,Se)}(r._query,r.firestore._databaseId,l,e,n,s)}}function z_(r,e,n){if("string"==typeof(n=(0,j.m9)(n))){if(""===n)throw new qt(Pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!id(e)&&-1!==n.indexOf("/"))throw new qt(Pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Li.fromString(n));if(!Dn.isDocumentKey(s))throw new qt(Pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Pa(r,new Dn(s))}if(n instanceof fo)return Pa(r,n._key);throw new qt(Pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(n)}.`)}function xy(r,e){if(!Array.isArray(r)||0===r.length)throw new qt(Pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H_(r,e){const n=function(l,d){for(const m of l)for(const S of m.getFlattenedFilters())if(d.indexOf(S.op)>=0)return S.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new qt(Pt.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $m{convertValue(e,n="none"){switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw yn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return _s(e,(l,d)=>{s[l]=this.convertValue(d,n)}),s}convertGeoPoint(e){return new tp(Nr(e.latitude),Nr(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=jl(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const n=qs(e);return new Rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Li.fromString(e);Vn(Mp(s));const l=new eo(s.get(1),s.get(3)),d=new Dn(s.popFirst(5));return l.isEqual(n)||nr(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}function Nd(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Nh extends $m{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fo(this.firestore,null,n)}}class Ku{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rl extends sc{constructor(e,n,s,l,d,m){super(e,n,s,l,m),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Mc("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class kh extends Rl{data(e={}){return super.data(e)}}class qu{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Ku(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new kh(this._firestore,this._userDataWriter,s.key,s,new Ku(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qt(Pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,d){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(S=>({type:"added",doc:new kh(l._firestore,l._userDataWriter,S.doc.key,S.doc,new Ku(l._snapshot.mutatedKeys.has(S.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:m++}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(S=>d||3!==S.type).map(S=>{const L=new kh(l._firestore,l._userDataWriter,S.doc.key,S.doc,new Ku(l._snapshot.mutatedKeys.has(S.doc.key),l._snapshot.fromCache),l.query.converter);let K=-1,ae=-1;return 0!==S.type&&(K=m.indexOf(S.doc.key),m=m.delete(S.doc.key)),1!==S.type&&(m=m.add(S.doc),ae=m.indexOf(S.doc.key)),{type:Ay(S.type),doc:L,oldIndex:K,newIndex:ae}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ay(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yn()}}function Sy(r,e){return r instanceof Rl&&e instanceof Rl?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof qu&&e instanceof qu&&r._firestore===e._firestore&&T_(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function Gm(r){r=qi(r,fo);const e=qi(r.firestore,Wr);return E_(Gr(e),r._key).then(n=>qm(e,r,n))}class Pl extends $m{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fo(this.firestore,null,n)}}function cp(r){r=qi(r,fo);const e=qi(r.firestore,Wr),n=Gr(e),s=new Pl(e);return function iy(r,e){const n=new Fi;return r.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(s=(0,c.Z)(function*(d,m,S){try{const L=yield function(ae,Se){const ot=Xt(ae);return ot.persistence.runTransaction("read document","readonly",Tt=>ot.localDocuments.getDocument(Tt,Se))}(d,m);L.isFoundDocument()?S.resolve(L):L.isNoDocument()?S.resolve(null):S.reject(new qt(Pt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const K=Bu(L,`Failed to get document '${m} from cache`);S.reject(K)}}),function l(d,m,S){return s.apply(this,arguments)})(yield Td(r),e,n);var s})),n.promise}(n,r._key).then(l=>new Rl(e,s,r._key,l,new Ku(null!==l&&l.hasLocalMutations,!0),r.converter))}function Zb(r){r=qi(r,fo);const e=qi(r.firestore,Wr);return E_(Gr(e),r._key,{source:"server"}).then(n=>qm(e,r,n))}function My(r){r=qi(r,Es);const e=qi(r.firestore,Wr),n=Gr(e),s=new Pl(e);return Wu(r._query),Al(n,r._query).then(l=>new qu(e,s,r,l))}function Ry(r){r=qi(r,Es);const e=qi(r.firestore,Wr),n=Gr(e),s=new Pl(e);return function ry(r,e){const n=new Fi;return r.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(s=(0,c.Z)(function*(d,m,S){try{const L=yield mf(d,m,!0),K=new Pf(m,L.ls),ae=K.ca(L.documents),Se=K.applyChanges(ae,!1);S.resolve(Se.snapshot)}catch(L){const K=Bu(L,`Failed to execute query '${m} against cache`);S.reject(K)}}),function l(d,m,S){return s.apply(this,arguments)})(yield Td(r),e,n);var s})),n.promise}(n,r._query).then(l=>new qu(e,s,r,l))}function Km(r){r=qi(r,Es);const e=qi(r.firestore,Wr),n=Gr(e),s=new Pl(e);return Al(n,r._query,{source:"server"}).then(l=>new qu(e,s,r,l))}function Py(r,e,n){r=qi(r,fo);const s=qi(r.firestore,Wr),l=Nd(r.converter,e,n);return Yu(s,[Rh(ru(s),"setDoc",r._key,l,null!==r.converter,n).toMutation(r._key,mn.none())])}function K_(r,e,n,...s){r=qi(r,fo);const l=qi(r.firestore,Wr),d=ru(l);let m;return m="string"==typeof(e=(0,j.m9)(e))||e instanceof rc?zm(d,"updateDoc",r._key,e,n,s):jm(d,"updateDoc",r._key,e),Yu(l,[m.toMutation(r._key,mn.exists(!0))])}function Oy(r){return Yu(qi(r.firestore,Wr),[new ea(r._key,mn.none())])}function Ny(r,e){const n=qi(r.firestore,Wr),s=Um(r),l=Nd(r.converter,e);return Yu(n,[Rh(ru(r.firestore),"addDoc",s._key,l,null!==r.converter,{}).toMutation(s._key,mn.exists(!1))]).then(()=>s)}function q_(r,...e){var n,s,l;r=(0,j.m9)(r);let d={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||ep(e[m])||(d=e[m],m++);const S={includeMetadataChanges:d.includeMetadataChanges};if(ep(e[m])){const Se=e[m];e[m]=null===(n=Se.next)||void 0===n?void 0:n.bind(Se),e[m+1]=null===(s=Se.error)||void 0===s?void 0:s.bind(Se),e[m+2]=null===(l=Se.complete)||void 0===l?void 0:l.bind(Se)}let L,K,ae;if(r instanceof fo)K=qi(r.firestore,Wr),ae=Xa(r._key.path),L={next:Se=>{e[m]&&e[m](qm(K,r,Se))},error:e[m+1],complete:e[m+2]};else{const Se=qi(r,Es);K=qi(Se.firestore,Wr),ae=Se._query;const ot=new Pl(K);L={next:Tt=>{e[m]&&e[m](new qu(K,ot,Se,Tt))},error:e[m+1],complete:e[m+2]},Wu(r._query)}return function(ot,Tt,gn,xn){const Tn=new Kf(xn),fi=new Em(Tt,Tn,gn);return ot.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return vh(yield Ad(ot),fi)})),()=>{Tn.Na(),ot.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return Qg(yield Ad(ot),fi)}))}}(Gr(K),ae,S,L)}function Y_(r,e){return function Fm(r,e){const n=new Kf(e);return r.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return l=yield Ad(r),d=n,Xt(l).q_.add(d),void d.next();var l,d})),()=>{n.Na(),r.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return l=yield Ad(r),d=n,void Xt(l).q_.delete(d);var l,d}))}}(Gr(r=qi(r,Wr)),ep(e)?e:{next:e})}function Yu(r,e){return function(s,l){const d=new Fi;return s.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function Ed(r,e,n){return Tl.apply(this,arguments)}(yield Yf(s),l,d)})),d.promise}(Gr(r),e)}function qm(r,e,n){const s=n.docs.get(e._key),l=new Pl(r);return new Rl(r,l,e._key,s,new Ku(n.hasPendingWrites,n.fromCache),e.converter)}const up={maxAttempts:5};class eg{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ru(e)}set(e,n,s){this._verifyNotCommitted();const l=Rc(e,this._firestore),d=Nd(l.converter,n,s),m=Rh(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(m.toMutation(l._key,mn.none())),this}update(e,n,s,...l){this._verifyNotCommitted();const d=Rc(e,this._firestore);let m;return m="string"==typeof(n=(0,j.m9)(n))||n instanceof rc?zm(this._dataReader,"WriteBatch.update",d._key,n,s,l):jm(this._dataReader,"WriteBatch.update",d._key,n),this._mutations.push(m.toMutation(d._key,mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Rc(e,this._firestore);return this._mutations=this._mutations.concat(new ea(n._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qt(Pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rc(r,e){if((r=(0,j.m9)(r)).firestore!==e)throw new qt(Pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class zy extends class{constructor(n,s){this._firestore=n,this._transaction=s,this._dataReader=ru(n)}get(n){const s=Rc(n,this._firestore),l=new Nh(this._firestore);return this._transaction.lookup([s._key]).then(d=>{if(!d||1!==d.length)return yn();const m=d[0];if(m.isFoundDocument())return new sc(this._firestore,l,m.key,m,s.converter);if(m.isNoDocument())return new sc(this._firestore,l,s._key,null,s.converter);throw yn()})}set(n,s,l){const d=Rc(n,this._firestore),m=Nd(d.converter,s,l),S=Rh(this._dataReader,"Transaction.set",d._key,m,null!==d.converter,l);return this._transaction.set(d._key,S),this}update(n,s,l,...d){const m=Rc(n,this._firestore);let S;return S="string"==typeof(s=(0,j.m9)(s))||s instanceof rc?zm(this._dataReader,"Transaction.update",m._key,s,l,d):jm(this._dataReader,"Transaction.update",m._key,s),this._transaction.update(m._key,S),this}delete(n){const s=Rc(n,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Rc(e,this._firestore),s=new Pl(this._firestore);return super.get(e).then(l=>new Rl(this._firestore,s,n._key,l._document,new Ku(!1,!1),n.converter))}}function Hy(r,e,n){r=qi(r,Wr);const s=Object.assign(Object.assign({},up),n);return function(d){if(d.maxAttempts<1)throw new qt(Pt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(d,m,S){const L=new Fi;return d.asyncQueue.enqueueAndForget((0,c.Z)(function*(){const K=yield function b_(r){return xd(r).then(e=>e.datastore)}(d);new ey(d.asyncQueue,K,S,m,L).run()})),L.promise}(Gr(r),l=>e(new zy(r,l)),s)}function Q_(){return new Ph("deleteField")}function tg(){return new ip("serverTimestamp")}function X_(...r){return new L_("arrayUnion",r)}function ng(...r){return new qb("arrayRemove",r)}function ig(r){return new rp("increment",r)}!function(e,n=!0){ir=F.SDK_VERSION,(0,F._registerComponent)(new H.wA("firestore",(s,{instanceIdentifier:l,options:d})=>{const m=s.getProvider("app").getImmediate(),S=new Wr(new $o(s.getProvider("auth-internal")),new Ks(s.getProvider("app-check-internal")),function(K,ae){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new qt(Pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eo(K.options.projectId,ae)}(m,l),m);return d=Object.assign({useFetchStreams:n},d),S._setSettings(d),S},"PUBLIC").setMultipleInstances(!0)),(0,F.registerVersion)(Bi,"4.3.2",e),(0,F.registerVersion)(Bi,"4.3.2","esm2017")}()},9058:(jt,He,x)=>{x.d(He,{BH:()=>Me,G6:()=>ht,L:()=>Ee,LL:()=>$e,P0:()=>Ye,Pz:()=>Ce,Sg:()=>Le,UG:()=>Nt,ZB:()=>me,ZR:()=>Ke,aH:()=>ue,b$:()=>hn,eu:()=>ve,hl:()=>oe,jU:()=>Zt,m9:()=>zt,ne:()=>Vt,pd:()=>Ot,q4:()=>Lt,r3:()=>ri,ru:()=>nn,tV:()=>W,uI:()=>Te,vZ:()=>gi,w1:()=>Hn,xO:()=>vt,xb:()=>Si,z$:()=>Xe,zd:()=>ct});const he=function(ie){const B=[];let N=0;for(let O=0;O<ie.length;O++){let V=ie.charCodeAt(O);V<128?B[N++]=V:V<2048?(B[N++]=V>>6|192,B[N++]=63&V|128):55296==(64512&V)&&O+1<ie.length&&56320==(64512&ie.charCodeAt(O+1))?(V=65536+((1023&V)<<10)+(1023&ie.charCodeAt(++O)),B[N++]=V>>18|240,B[N++]=V>>12&63|128,B[N++]=V>>6&63|128,B[N++]=63&V|128):(B[N++]=V>>12|224,B[N++]=V>>6&63|128,B[N++]=63&V|128)}return B},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ie,B){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,O=[];for(let V=0;V<ie.length;V+=3){const we=ie[V],tt=V+1<ie.length,Rt=tt?ie[V+1]:0,$t=V+2<ie.length,Kt=$t?ie[V+2]:0;let Jn=(15&Rt)<<2|Kt>>6,mt=63&Kt;$t||(mt=64,tt||(Jn=64)),O.push(N[we>>2],N[(3&we)<<4|Rt>>4],N[Jn],N[mt])}return O.join("")},encodeString(ie,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(ie):this.encodeByteArray(he(ie),B)},decodeString(ie,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(ie):function(ie){const B=[];let N=0,O=0;for(;N<ie.length;){const V=ie[N++];if(V<128)B[O++]=String.fromCharCode(V);else if(V>191&&V<224){const we=ie[N++];B[O++]=String.fromCharCode((31&V)<<6|63&we)}else if(V>239&&V<365){const $t=((7&V)<<18|(63&ie[N++])<<12|(63&ie[N++])<<6|63&ie[N++])-65536;B[O++]=String.fromCharCode(55296+($t>>10)),B[O++]=String.fromCharCode(56320+(1023&$t))}else{const we=ie[N++],tt=ie[N++];B[O++]=String.fromCharCode((15&V)<<12|(63&we)<<6|63&tt)}}return B.join("")}(this.decodeStringToByteArray(ie,B))},decodeStringToByteArray(ie,B){this.init_();const N=B?this.charToByteMapWebSafe_:this.charToByteMap_,O=[];for(let V=0;V<ie.length;){const we=N[ie.charAt(V++)],Rt=V<ie.length?N[ie.charAt(V)]:0;++V;const Kt=V<ie.length?N[ie.charAt(V)]:64;++V;const Cn=V<ie.length?N[ie.charAt(V)]:64;if(++V,null==we||null==Rt||null==Kt||null==Cn)throw new be;O.push(we<<2|Rt>>4),64!==Kt&&(O.push(Rt<<4&240|Kt>>2),64!==Cn&&O.push(Kt<<6&192|Cn))}return O},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(ie){return function(ie){const B=he(ie);return ye.encodeByteArray(B,!0)}(ie).replace(/\./g,"")},W=function(ie){try{return ye.decodeString(ie,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function me(ie,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===ie&&(ie={});break;case Array:ie=[];break;default:return B}for(const N in B)!B.hasOwnProperty(N)||!Ve(N)||(ie[N]=me(ie[N],B[N]));return ie}function Ve(ie){return"__proto__"!==ie}const qe=()=>{try{return function De(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ie=process.env.__FIREBASE_DEFAULTS__;return ie?JSON.parse(ie):void 0})()||(()=>{if(typeof document>"u")return;let ie;try{ie=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=ie&&W(ie[1]);return B&&JSON.parse(B)})()}catch(ie){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ie}`)}},Lt=ie=>{var B,N;return null===(N=null===(B=qe())||void 0===B?void 0:B.emulatorHosts)||void 0===N?void 0:N[ie]},Ye=ie=>{const B=Lt(ie);if(!B)return;const N=B.lastIndexOf(":");if(N<=0||N+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const O=parseInt(B.substring(N+1),10);return"["===B[0]?[B.substring(1,N-1),O]:[B.substring(0,N),O]},ue=()=>{var ie;return null===(ie=qe())||void 0===ie?void 0:ie.config},Ce=ie=>{var B;return null===(B=qe())||void 0===B?void 0:B[`_${ie}`]};class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,N)=>{this.resolve=B,this.reject=N})}wrapCallback(B){return(N,O)=>{N?this.reject(N):this.resolve(O),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(N):B(N,O))}}}function Le(ie,B){if(ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const O=B||"demo-project",V=ie.iat||0,we=ie.sub||ie.user_id;if(!we)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tt=Object.assign({iss:`https://securetoken.google.com/${O}`,aud:O,iat:V,exp:V+3600,auth_time:V,sub:we,user_id:we,firebase:{sign_in_provider:"custom",identities:{}}},ie);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(tt)),""].join(".")}function Xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Nt(){var ie;const B=null===(ie=qe())||void 0===ie?void 0:ie.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Zt(){return"object"==typeof self&&self.self===self}function nn(){const ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function hn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Hn(){const ie=Xe();return ie.indexOf("MSIE ")>=0||ie.indexOf("Trident/")>=0}function ht(){return!Nt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){try{return"object"==typeof indexedDB}catch{return!1}}function ve(){return new Promise((ie,B)=>{try{let N=!0;const O="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open(O);V.onsuccess=()=>{V.result.close(),N||self.indexedDB.deleteDatabase(O),ie(!0)},V.onupgradeneeded=()=>{N=!1},V.onerror=()=>{var we;B((null===(we=V.error)||void 0===we?void 0:we.message)||"")}}catch(N){B(N)}})}class Ke extends Error{constructor(B,N,O){super(N),this.code=B,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}}class $e{constructor(B,N,O){this.service=B,this.serviceName=N,this.errors=O}create(B,...N){const O=N[0]||{},V=`${this.service}/${B}`,we=this.errors[B],tt=we?function Ge(ie,B){return ie.replace(kt,(N,O)=>{const V=B[O];return null!=V?String(V):`<${O}?>`})}(we,O):"Error";return new Ke(V,`${this.serviceName}: ${tt} (${V}).`,O)}}const kt=/\{\$([^}]+)}/g;function ri(ie,B){return Object.prototype.hasOwnProperty.call(ie,B)}function Si(ie){for(const B in ie)if(Object.prototype.hasOwnProperty.call(ie,B))return!1;return!0}function gi(ie,B){if(ie===B)return!0;const N=Object.keys(ie),O=Object.keys(B);for(const V of N){if(!O.includes(V))return!1;const we=ie[V],tt=B[V];if(ge(we)&&ge(tt)){if(!gi(we,tt))return!1}else if(we!==tt)return!1}for(const V of O)if(!N.includes(V))return!1;return!0}function ge(ie){return null!==ie&&"object"==typeof ie}function vt(ie){const B=[];for(const[N,O]of Object.entries(ie))Array.isArray(O)?O.forEach(V=>{B.push(encodeURIComponent(N)+"="+encodeURIComponent(V))}):B.push(encodeURIComponent(N)+"="+encodeURIComponent(O));return B.length?"&"+B.join("&"):""}function ct(ie){const B={};return ie.replace(/^\?/,"").split("&").forEach(O=>{if(O){const[V,we]=O.split("=");B[decodeURIComponent(V)]=decodeURIComponent(we)}}),B}function Ot(ie){const B=ie.indexOf("?");if(!B)return"";const N=ie.indexOf("#",B);return ie.substring(B,N>0?N:void 0)}function Vt(ie,B){const N=new sn(ie,B);return N.subscribe.bind(N)}class sn{constructor(B,N){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=N,this.task.then(()=>{B(this)}).catch(O=>{this.error(O)})}next(B){this.forEachObserver(N=>{N.next(B)})}error(B){this.forEachObserver(N=>{N.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,N,O){let V;if(void 0===B&&void 0===N&&void 0===O)throw new Error("Missing Observer.");V=function xt(ie,B){if("object"!=typeof ie||null===ie)return!1;for(const N of B)if(N in ie&&"function"==typeof ie[N])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:N,complete:O},void 0===V.next&&(V.next=Oe),void 0===V.error&&(V.error=Oe),void 0===V.complete&&(V.complete=Oe);const we=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?V.error(this.finalError):V.complete()}catch{}}),this.observers.push(V),we}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let N=0;N<this.observers.length;N++)this.sendOne(N,B)}sendOne(B,N){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{N(this.observers[B])}catch(O){typeof console<"u"&&console.error&&console.error(O)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Oe(){}function zt(ie){return ie&&ie._delegate?ie._delegate:ie}},953:(jt,He,x)=>{x.d(He,{S:()=>me});var c=x(5879),F=x(2862),H=x(2333),he=x(6814);function j(Ve,De){1&Ve&&(c.TgZ(0,"div")(1,"a",13)(2,"button",14),c._uU(3,"Iniciar Sesi\xf3n"),c.qZA()()())}function ye(Ve,De){if(1&Ve&&(c.TgZ(0,"div",9)(1,"li",10)(2,"a",11),c._uU(3,"Home"),c.qZA()(),c.TgZ(4,"li",10)(5,"a",12),c._uU(6,"Registro"),c.qZA()(),c.YNc(7,j,4,0,"div",8),c.qZA()),2&Ve){const Je=c.oxw();c.xp6(7),c.Q6J("ngIf",!Je.usuario)}}function be(Ve,De){1&Ve&&(c.TgZ(0,"div",9)(1,"li",10)(2,"a",15),c._uU(3,"Mi Perfil"),c.qZA()(),c.TgZ(4,"li",10)(5,"a",16),c._uU(6,"Usuarios"),c.qZA()(),c.TgZ(7,"li",10)(8,"a",17),c._uU(9,"Registrar Usuarios"),c.qZA()(),c.TgZ(10,"li",10)(11,"a",18),c._uU(12,"Estadisticas"),c.qZA()()())}function se(Ve,De){1&Ve&&(c.TgZ(0,"div",9)(1,"li",10)(2,"a",15),c._uU(3,"Mi Perfil"),c.qZA()(),c.TgZ(4,"li",10)(5,"a",19),c._uU(6,"Mis turnos"),c.qZA()(),c.TgZ(7,"li",10)(8,"a",20),c._uU(9,"Solicitar turno"),c.qZA()()())}function Ee(Ve,De){1&Ve&&(c.TgZ(0,"div",9)(1,"li",10)(2,"a",15),c._uU(3,"Mi Perfil"),c.qZA()(),c.TgZ(4,"li",10)(5,"a",19),c._uU(6,"Mis turnos"),c.qZA()(),c.TgZ(7,"li",10)(8,"a",16),c._uU(9,"Usuarios"),c.qZA()()())}function W(Ve,De){if(1&Ve){const Je=c.EpF();c.TgZ(0,"div",22)(1,"button",23),c._uU(2),c.qZA(),c.TgZ(3,"ul",24)(4,"li",25)(5,"button",26),c.NdJ("click",function(){c.CHM(Je);const it=c.oxw(2);return c.KtG(it.loguot())}),c._uU(6,"Cerrar Sesi\xf3n"),c.qZA()()()()}if(2&Ve){const Je=c.oxw(2);c.xp6(2),c.hij(" ",Je.usuario.email," ")}}function ce(Ve,De){if(1&Ve&&(c.ynx(0),c.YNc(1,W,7,1,"div",21),c.BQk()),2&Ve){const Je=c.oxw();c.xp6(1),c.Q6J("ngIf",Je.usuario)}}let me=(()=>{class Ve{constructor(Je,Qe){this.router=Je,this.auth=Qe,this.items=[],this.usuario=null,this.showButtons=!1,this.loadingEvent=new c.vpe,this.userEvent=new c.vpe}ngOnInit(){}loguot(){this.loadingEvent.emit(!0),setTimeout(()=>{this.auth.logout().then(Je=>{this.usuario=null,this.userEvent.emit(null),this.loadingEvent.emit(!1),this.router.navigate(["/bienvenida"]),localStorage.clear()}).catch(Je=>{})},1e3)}static#e=this.\u0275fac=function(Qe){return new(Qe||Ve)(c.Y36(F.F0),c.Y36(H.e))};static#t=this.\u0275cmp=c.Xpm({type:Ve,selectors:[["app-navbar"]],inputs:{items:"items",usuario:"usuario",showButtons:"showButtons"},outputs:{loadingEvent:"loadingEvent",userEvent:"userEvent"},decls:12,vars:5,consts:[[1,"navbar","fixed-top"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","../../../assets/logo.png","alt","",1,"logo"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-end"],["class","dropdown",4,"ngIf"],[4,"ngIf"],[1,"dropdown"],[1,"nav-item","dropdown"],["routerLink","/bienvenida",1,"dropdown-item"],["routerLink","/registro",1,"dropdown-item"],["routerLink","/login"],[1,"btn","btn-primary"],["routerLink","/login/mi-perfil",1,"dropdown-item"],["routerLink","/login/seccion-usuarios",1,"dropdown-item"],["routerLink","/login/dashboard",1,"dropdown-item"],["routerLink","/login/estadisticas",1,"dropdown-item"],["routerLink","/login/mis-turnos",1,"dropdown-item"],["routerLink","/login/solicitar-turno",1,"dropdown-item"],["class","dropdown-center",4,"ngIf"],[1,"dropdown-center"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","dropdown-toggle","text-light"],[1,"dropdown-menu","w-100"],[1,"p-2"],[1,"btn","text-light","w-100","bg-danger",3,"click"]],template:function(Qe,it){1&Qe&&(c.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),c._UZ(3,"img",3),c.qZA(),c.TgZ(4,"button",4),c._UZ(5,"span",5),c.qZA(),c.TgZ(6,"div",6),c.YNc(7,ye,8,1,"div",7),c.YNc(8,be,13,0,"div",7),c.YNc(9,se,10,0,"div",7),c.YNc(10,Ee,10,0,"div",7),c.YNc(11,ce,2,1,"ng-container",8),c.qZA()()()),2&Qe&&(c.xp6(7),c.Q6J("ngIf",null===it.usuario),c.xp6(1),c.Q6J("ngIf","admin"===(null==it.usuario?null:it.usuario.tipo)),c.xp6(1),c.Q6J("ngIf","paciente"===(null==it.usuario?null:it.usuario.tipo)),c.xp6(1),c.Q6J("ngIf","especialista"===(null==it.usuario?null:it.usuario.tipo)),c.xp6(1),c.Q6J("ngIf",it.showButtons))},dependencies:[he.O5,F.rH],styles:["nav[_ngcontent-%COMP%]{background-color:#004373;z-index:9999}nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{color:#49a22b!important}.logo[_ngcontent-%COMP%]{height:40px;filter:drop-shadow(5px 5px 18px #020202)}.navbar-toggler[_ngcontent-%COMP%]{color:#49a22b!important;background-color:#fff}.navbar-toggler-icon[_ngcontent-%COMP%]{color:#fff!important;background-color:#fff}.offcanvas[_ngcontent-%COMP%]{background-color:#002f50}li[_ngcontent-%COMP%]{list-style:none}.nav-link[_ngcontent-%COMP%]{color:#49a22b;font-size:1.5rem;margin:15px}.btn[_ngcontent-%COMP%]{margin:15px;text-decoration:none;background-color:#49a22b;border:1px solid #49a22b}.btn[_ngcontent-%COMP%]:hover{background-color:#377721}.dropdown-menu[_ngcontent-%COMP%]{background-color:#136199;color:#fff}.dropdown-item[_ngcontent-%COMP%]{color:#49a22b;padding-left:20px}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#004373}"]})}return Ve})()},7290:(jt,He,x)=>{x.d(He,{O:()=>he});var c=x(5879),F=x(6814);function H(j,ye){1&j&&(c.TgZ(0,"div",1),c._UZ(1,"img",2),c.TgZ(2,"h4",3),c._uU(3,"On"),c.TgZ(4,"span",4),c._uU(5,"Line"),c.qZA()()())}let he=(()=>{class j{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(se){return new(se||j)};static#t=this.\u0275cmp=c.Xpm({type:j,selectors:[["app-spinner"]],inputs:{showSpinner:"showSpinner"},decls:1,vars:1,consts:[["class","spinner-container position-fixed d-flex justify-content-center align-items-center",4,"ngIf"],[1,"spinner-container","position-fixed","d-flex","justify-content-center","align-items-center"],["src","../../../assets/logo.png","alt","",1,"spinner","heartbeat"],[1,"logo"],[1,"span-logo"]],template:function(se,Ee){1&se&&c.YNc(0,H,6,0,"div",0),2&se&&c.Q6J("ngIf",Ee.showSpinner)},dependencies:[F.O5],styles:[".spinner-container[_ngcontent-%COMP%]{height:100%;width:100%;z-index:10;background-color:#000000ce;display:flex;flex-direction:column}.spinner[_ngcontent-%COMP%]{height:250px}.heartbeat[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartbeat 3.5s ease-in-out infinite both}.logo[_ngcontent-%COMP%]{text-transform:uppercase;font-size:1.5rem;font-weight:800;text-decoration:none;color:#004373}.span-logo[_ngcontent-%COMP%]{color:#49a22b}@keyframes _ngcontent-%COMP%_heartbeat{0%{transform:scale(1);transform-origin:center center;animation-timing-function:ease-out}10%{transform:scale(.91);animation-timing-function:ease-in}17%{transform:scale(.98);animation-timing-function:ease-out}33%{transform:scale(.87);animation-timing-function:ease-in}45%{transform:scale(1);animation-timing-function:ease-out}}.text-focus-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_text-focus-in 1s cubic-bezier(.55,.085,.68,.53) both}@keyframes _ngcontent-%COMP%_text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]})}return j})()},5565:(jt,He,x)=>{x.d(He,{l:()=>he});var c=x(3960),F=x(5879),H=x(1160);let he=(()=>{class j{constructor(be,se){this.firestore=be,this.angularFire=se,this.especialisteRef=(0,c.hJ)(this.firestore,"administradores")}agregarAdmin(be){let se=(0,c.JU)(this.especialisteRef,be.id);(0,c.pl)(se,be).then(()=>{console.log("Documento guardado con \xe9xito en el ID del especialista:",be.id)}).catch(Ee=>{console.error("Error al guardar el documento:",Ee)})}obtenerAdmins(){return this.angularFire.collection("administradores",be=>be.orderBy("dni","asc")).valueChanges()}static#e=this.\u0275fac=function(se){return new(se||j)(F.LFG(c.gg),F.LFG(H.ST))};static#t=this.\u0275prov=F.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})()},2333:(jt,He,x)=>{x.d(He,{e:()=>j});var c=x(2637),F=x(752),H=x(5879),he=x(1160);let j=(()=>{class ye{constructor(se,Ee){this.auth=se,this.db=Ee,this.autha=this.auth}register(se,Ee){return(0,c.Xb)(this.auth,se,Ee)}login(se,Ee){return(0,c.e5)(this.auth,se,Ee)}confirmarMail(se){return(0,c.w$)(se.user)}logout(){return(0,c.w7)(this.auth)}getCurrentUser(){return this.auth.currentUser}saveLog(se){let Ee=new Date;const W=Ee.toLocaleDateString()+"-"+Ee.toLocaleTimeString();this.db.collection("usuarios").doc().set({email:se,fecha_ingreso:W})}updateUser(se){const Ee=(0,F.v0)();return(0,F.ck)(Ee.currentUser,se)}static#e=this.\u0275fac=function(Ee){return new(Ee||ye)(H.LFG(c.gx),H.LFG(he.ST))};static#t=this.\u0275prov=H.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})()},9255:(jt,He,x)=>{x.d(He,{n:()=>he});var c=x(3960),F=x(5879),H=x(1160);let he=(()=>{class j{constructor(be,se){this.firestore=be,this.angularFire=se,this.especialisteRef=(0,c.hJ)(this.firestore,"especialistas")}agregarEspecialista(be){let se=(0,c.hJ)(this.firestore,"especialistas"),Ee=(0,c.JU)(se,be.id);(0,c.pl)(Ee,be).then(()=>{console.log("Documento guardado con \xe9xito en el ID del especialista:",be.id)}).catch(W=>{console.error("Error al guardar el documento:",W)})}obtenerEspecialistas(){return this.angularFire.collection("especialistas",be=>be.orderBy("dni","asc")).valueChanges()}actualizarEspecialista(be){let se=(0,c.hJ)(this.firestore,"especialistas");const Ee=(0,c.JU)(se,be.id);(0,c.r7)(Ee,{estados:be.estados})}static#e=this.\u0275fac=function(se){return new(se||j)(F.LFG(c.gg),F.LFG(H.ST))};static#t=this.\u0275prov=F.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})()},5235:(jt,He,x)=>{x.d(He,{d:()=>he});var c=x(3960),F=x(5879),H=x(1160);let he=(()=>{class j{constructor(be,se){this.firestore=be,this.angularFire=se,this.pacienteRef=(0,c.hJ)(this.firestore,"pacientes")}agregarPaciente(be){return(0,c.ET)(this.pacienteRef,be)}obtenerPacientes(){return this.angularFire.collection("pacientes",be=>be.orderBy("dni","asc")).valueChanges()}static#e=this.\u0275fac=function(se){return new(se||j)(F.LFG(c.gg),F.LFG(H.ST))};static#t=this.\u0275prov=F.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})()},2759:(jt,He,x)=>{x.d(He,{J:()=>ye});var c=x(8645),F=x(5879),H=x(5235),he=x(9255),j=x(5565);let ye=(()=>{class be{constructor(Ee,W,ce){this.pacienteService=Ee,this.especialistaService=W,this.adminService=ce,this.usuarioLogueado=!1,this.tipoUsuario="",this.estaLogueado$=new c.x,this.estaLogueado$.next(!1),this.especialistas$=new c.x,this.pacientes$=new c.x,this.tipoRegistro$=new c.x,this.tipoRegistro$.next(""),this.pacienteService.obtenerPacientes().subscribe(me=>{this.pacientes=me,this.pacientes$.next(me)}),this.adminService.obtenerAdmins().subscribe(me=>{this.admins=me}),this.especialistaService.obtenerEspecialistas().subscribe(me=>{this.especialistas=me,this.especialistas$.next(me)})}buscarUsuarioPorMail(Ee){let W=null;return this.pacientes.forEach(ce=>{ce.email==Ee&&(W=ce)}),this.especialistas.forEach(ce=>{ce.email==Ee&&(W=ce)}),this.admins.forEach(ce=>{ce.email==Ee&&(W=ce)}),W}setUsuario(Ee,W){localStorage.setItem("usuario",JSON.stringify(W)),this.tipoUsuario=Ee,this.usuarioLogueado=!0}getUsuario(){return JSON.parse(localStorage.getItem("usuario"))}desloguearUsuario(){localStorage.removeItem("usuario"),this.usuarioLogueado=!1,this.tipoUsuario=""}static#e=this.\u0275fac=function(W){return new(W||be)(F.LFG(H.d),F.LFG(he.n),F.LFG(j.l))};static#t=this.\u0275prov=F.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},6208:(jt,He,x)=>{x.d(He,{m:()=>j});var c=x(6814),F=x(6223),H=x(2296),he=x(5879);let j=(()=>{class ye{static#e=this.\u0275fac=function(Ee){return new(Ee||ye)};static#t=this.\u0275mod=he.oAB({type:ye});static#n=this.\u0275inj=he.cJS({imports:[F.UX,c.ez,F.u5,H.ot]})}return ye})()},5768:(jt,He,x)=>{var c=x(6593),F=x(6223),H=x(2862),he=x(6825),j=x(5879),ye=x(2759),be=x(6814),se=x(7290),Ee=x(953);function W(C,g){1&C&&(j.TgZ(0,"div")(1,"div",4)(2,"div",5)(3,"a",6),j._uU(4,"On"),j.TgZ(5,"span",7),j._uU(6,"Line"),j.qZA()()(),j.TgZ(7,"div",8)(8,"h4"),j._uU(9,"Para ingresar con su cuenta presione aqu\xed"),j.qZA(),j.TgZ(10,"button",9),j._uU(11,"Entrar"),j.qZA(),j._UZ(12,"hr"),j.TgZ(13,"h4"),j._uU(14,"Para registrarse presione aqu\xed"),j.qZA(),j.TgZ(15,"button",10),j._uU(16,"Registrarse"),j.qZA()()()()),2&C&&j.Q6J("@slideUp",void 0)}let ce=(()=>{class C{constructor(h){this.usuarioService=h,this.loading=!0,this.user=null}ngOnInit(){setTimeout(()=>{this.loading=!1},2500),this.cargarUsuario()}cargarUsuario(){this.user=this.usuarioService.getUsuario()}static#e=this.\u0275fac=function(y){return new(y||C)(j.Y36(ye.J))};static#t=this.\u0275cmp=j.Xpm({type:C,selectors:[["app-bienvenida"]],decls:4,vars:4,consts:[[1,"container-web"],[3,"showButtons","usuario","loadingEvent"],[3,"showSpinner"],[4,"ngIf"],[1,"row"],[1,"col-12","bg-image"],["href","#",1,"header__navbar__logo"],["id","color",1,"header__navbar__logo__span--green"],[1,"col-12","container-welcome"],["routerLink","/login",1,"btn","btn-primary"],["routerLink","/registro",1,"btn","btn-primary"]],template:function(y,k){1&y&&(j.TgZ(0,"div",0)(1,"app-navbar",1),j.NdJ("loadingEvent",function(pe){return k.loading=pe}),j.qZA(),j._UZ(2,"app-spinner",2),j.YNc(3,W,17,1,"div",3),j.qZA()),2&y&&(j.xp6(1),j.Q6J("showButtons",!0)("usuario",k.user),j.xp6(1),j.Q6J("showSpinner",k.loading),j.xp6(1),j.Q6J("ngIf",!k.loading))},dependencies:[be.O5,H.rH,se.O,Ee.S],styles:[".row[_ngcontent-%COMP%]{width:100vw}.bg-image[_ngcontent-%COMP%]{background-image:url(welcome_2.3c6bb67874fbf4cc.png);background-size:cover;background-position:center;background-repeat:no-repeat;height:50vh;display:flex;align-items:center;justify-content:center;color:#0f0a0a}.container-welcome[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;justify-content:center;align-items:center}hr[_ngcontent-%COMP%]{width:60vw}.btn[_ngcontent-%COMP%]{width:150px}.header__navbar__logo[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{text-transform:uppercase;font-size:3.5rem;font-weight:800;text-decoration:none;color:#0097e6;text-shadow:4px 4px 4px rgba(0,0,0,.75)}.header__navbar__logo__span--green[_ngcontent-%COMP%]{color:#b4f00a}"],data:{animation:[(0,he.X$)("slideUp",[(0,he.eR)(":enter",[(0,he.oB)({transform:"translateY(100%)"}),(0,he.jt)("600ms ease",(0,he.oB)({transform:"translateY(0%)"}))]),(0,he.eR)(":leave",[(0,he.oB)({transform:"translateY(0%)"}),(0,he.jt)("600ms ease",(0,he.oB)({transform:"translateY(-100%)"}))])])]}})}return C})();const Ve=[{path:"",component:ce},{path:"bienvenida",component:ce,data:{animation:"fade"}},{path:"registro",loadChildren:()=>Promise.all([x.e(592),x.e(579)]).then(x.bind(x,2579)).then(C=>C.RegistroModule)},{path:"login",loadChildren:()=>Promise.all([x.e(592),x.e(679)]).then(x.bind(x,8679)).then(C=>C.LoginModule)},{path:"**",component:(()=>{class C{static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275cmp=j.Xpm({type:C,selectors:[["app-not-found"]],decls:13,vars:0,consts:[[1,"container-fluid","contenedor","p-4","h-100"],[1,"error-heading"],[1,"display-4"],["src","../../../assets/logo.png","alt",""],[1,"error-message"],["routerLink","/bienvenida"]],template:function(y,k){1&y&&(j.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),j._uU(3,"Error 404"),j.qZA(),j._UZ(4,"img",3),j.qZA(),j.TgZ(5,"div",4)(6,"p"),j._uU(7,"Lo sentimos, la p\xe1gina que est\xe1s buscando no se encuentra disponible."),j.qZA(),j.TgZ(8,"p"),j._uU(9,"Puedes regresar a la "),j.TgZ(10,"a",5),j._uU(11,"p\xe1gina principal"),j.qZA(),j._uU(12,"."),j.qZA()()())},dependencies:[H.rH],styles:[".container-fluid[_ngcontent-%COMP%]{text-align:center}"]})}return C})()}];let De=(()=>{class C{static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275mod=j.oAB({type:C});static#n=this.\u0275inj=j.cJS({imports:[H.Bz.forRoot(Ve),H.Bz]})}return C})(),Je=(()=>{class C{constructor(){this.title="TPFinal_Labo_IV"}prepareRoute(h){return h&&h.activatedRouteData&&h.activatedRouteData.animation}static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275cmp=j.Xpm({type:C,selectors:[["app-root"]],decls:1,vars:0,template:function(y,k){1&y&&j._UZ(0,"router-outlet")},dependencies:[H.lC]})}return C})();var Qe=x(721),it=x(2637),qe=x(3960),Lt=x(7217);const Ye={apiKey:"AIzaSyB0Y5utNmjLukuGlVEkhaiIPg4ckyAOK54",authDomain:"tpfinal-labo-iv.firebaseapp.com",projectId:"tpfinal-labo-iv",storageBucket:"tpfinal-labo-iv.appspot.com",messagingSenderId:"823789555983",appId:"1:823789555983:web:b87feeed406e0c721eee7a"};var ue=x(6208),Ce=x(7700);function Le(C){return new j.vHH(3e3,!1)}function ut(C){switch(C.length){case 0:return new he.ZN;case 1:return C[0];default:return new he.ZE(C)}}function Vt(C,g,h=new Map,y=new Map){const k=[],q=[];let pe=-1,Fe=null;if(g.forEach(rt=>{const At=rt.get("offset"),bn=At==pe,In=bn&&Fe||new Map;rt.forEach((ci,xi)=>{let Xn=xi,mn=ci;if("offset"!==xi)switch(Xn=C.normalizePropertyName(Xn,k),mn){case he.k1:mn=h.get(xi);break;case he.l3:mn=y.get(xi);break;default:mn=C.normalizeStyleValue(xi,Xn,mn,k)}In.set(Xn,mn)}),bn||q.push(In),Fe=In,pe=At}),k.length)throw function Gn(C){return new j.vHH(3502,!1)}();return q}function sn(C,g,h,y){switch(g){case"start":C.onStart(()=>y(h&&yt(h,"start",C)));break;case"done":C.onDone(()=>y(h&&yt(h,"done",C)));break;case"destroy":C.onDestroy(()=>y(h&&yt(h,"destroy",C)))}}function yt(C,g,h){const q=xt(C.element,C.triggerName,C.fromState,C.toState,g||C.phaseName,h.totalTime??C.totalTime,!!h.disabled),pe=C._data;return null!=pe&&(q._data=pe),q}function xt(C,g,h,y,k="",q=0,pe){return{element:C,triggerName:g,fromState:h,toState:y,phaseName:k,totalTime:q,disabled:!!pe}}function Oe(C,g,h){let y=C.get(g);return y||C.set(g,y=h),y}function pt(C){const g=C.indexOf(":");return[C.substring(1,g),C.slice(g+1)]}const at=(()=>typeof document>"u"?null:document.documentElement)();function Jt(C){const g=C.parentNode||C.host||null;return g===at?null:g}let an=null,kn=!1;function et(C,g){for(;g;){if(g===C)return!0;g=Jt(g)}return!1}function Dt(C,g,h){if(h)return Array.from(C.querySelectorAll(g));const y=C.querySelector(g);return y?[y]:[]}let Ln=(()=>{class C{validateStyleProperty(h){return function gt(C){an||(an=function Ae(){return typeof document<"u"?document.body:null}()||{},kn=!!an.style&&"WebkitAppearance"in an.style);let g=!0;return an.style&&!function Ft(C){return"ebkit"==C.substring(1,6)}(C)&&(g=C in an.style,!g&&kn&&(g="Webkit"+C.charAt(0).toUpperCase()+C.slice(1)in an.style)),g}(h)}matchesElement(h,y){return!1}containsElement(h,y){return et(h,y)}getParentElement(h){return Jt(h)}query(h,y,k){return Dt(h,y,k)}computeStyle(h,y,k){return k||""}animate(h,y,k,q,pe,Fe=[],rt){return new he.ZN(k,q)}static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275prov=j.Yz7({token:C,factory:C.\u0275fac})}return C})(),oi=(()=>{class C{static#e=this.NOOP=new Ln}return C})();const ki=1e3,B="ng-enter",N="ng-leave",O="ng-trigger",V=".ng-trigger",we="ng-animating",tt=".ng-animating";function Rt(C){if("number"==typeof C)return C;const g=C.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:$t(parseFloat(g[1]),g[2])}function $t(C,g){return"s"===g?C*ki:C}function Kt(C,g,h){return C.hasOwnProperty("duration")?C:function fn(C,g,h){let k,q=0,pe="";if("string"==typeof C){const Fe=C.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Fe)return g.push(Le()),{duration:0,delay:0,easing:""};k=$t(parseFloat(Fe[1]),Fe[2]);const rt=Fe[3];null!=rt&&(q=$t(parseFloat(rt),Fe[4]));const At=Fe[5];At&&(pe=At)}else k=C;if(!h){let Fe=!1,rt=g.length;k<0&&(g.push(function Xe(){return new j.vHH(3100,!1)}()),Fe=!0),q<0&&(g.push(function Te(){return new j.vHH(3101,!1)}()),Fe=!0),Fe&&g.splice(rt,0,Le())}return{duration:k,delay:q,easing:pe}}(C,g,h)}function Cn(C,g={}){return Object.keys(C).forEach(h=>{g[h]=C[h]}),g}function Jn(C){const g=new Map;return Object.keys(C).forEach(h=>{g.set(h,C[h])}),g}function Ne(C,g=new Map,h){if(h)for(let[y,k]of h)g.set(y,k);for(let[y,k]of C)g.set(y,k);return g}function xe(C,g,h){g.forEach((y,k)=>{const q=nt(k);h&&!h.has(k)&&h.set(k,C.style[q]),C.style[q]=y})}function Re(C,g){g.forEach((h,y)=>{const k=nt(y);C.style[k]=""})}function wt(C){return Array.isArray(C)?1==C.length?C[0]:(0,he.vP)(C):C}const pn=new RegExp("{{\\s*(.+?)\\s*}}","g");function ze(C){let g=[];if("string"==typeof C){let h;for(;h=pn.exec(C);)g.push(h[1]);pn.lastIndex=0}return g}function ee(C,g,h){const y=C.toString(),k=y.replace(pn,(q,pe)=>{let Fe=g[pe];return null==Fe&&(h.push(function Zt(C){return new j.vHH(3003,!1)}()),Fe=""),Fe.toString()});return k==y?C:k}function te(C){const g=[];let h=C.next();for(;!h.done;)g.push(h.value),h=C.next();return g}const Ie=/-+([a-z0-9])/g;function nt(C){return C.replace(Ie,(...g)=>g[1].toUpperCase())}function _n(C,g,h){switch(g.type){case 7:return C.visitTrigger(g,h);case 0:return C.visitState(g,h);case 1:return C.visitTransition(g,h);case 2:return C.visitSequence(g,h);case 3:return C.visitGroup(g,h);case 4:return C.visitAnimate(g,h);case 5:return C.visitKeyframes(g,h);case 6:return C.visitStyle(g,h);case 8:return C.visitReference(g,h);case 9:return C.visitAnimateChild(g,h);case 10:return C.visitAnimateRef(g,h);case 11:return C.visitQuery(g,h);case 12:return C.visitStagger(g,h);default:throw function nn(C){return new j.vHH(3004,!1)}()}}function un(C,g){return window.getComputedStyle(C)[g]}const Fr="*";function vn(C,g){const h=[];return"string"==typeof C?C.split(/\s*,\s*/).forEach(y=>function tn(C,g,h){if(":"==C[0]){const rt=function Mn(C,g){switch(C){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(h,y)=>parseFloat(y)>parseFloat(h);case":decrement":return(h,y)=>parseFloat(y)<parseFloat(h);default:return g.push(function Nn(C){return new j.vHH(3016,!1)}()),"* => *"}}(C,h);if("function"==typeof rt)return void g.push(rt);C=rt}const y=C.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==y||y.length<4)return h.push(function kt(C){return new j.vHH(3015,!1)}()),g;const k=y[1],q=y[2],pe=y[3];g.push(Ir(k,pe));"<"==q[0]&&!(k==Fr&&pe==Fr)&&g.push(Ir(pe,k))}(y,h,g)):h.push(C),h}const $n=new Set(["true","1"]),sr=new Set(["false","0"]);function Ir(C,g){const h=$n.has(C)||sr.has(C),y=$n.has(g)||sr.has(g);return(k,q)=>{let pe=C==Fr||C==k,Fe=g==Fr||g==q;return!pe&&h&&"boolean"==typeof k&&(pe=k?$n.has(C):sr.has(C)),!Fe&&y&&"boolean"==typeof q&&(Fe=q?$n.has(g):sr.has(g)),pe&&Fe}}const ss=new RegExp("s*:selfs*,?","g");function Mo(C,g,h,y){return new Ko(C).build(g,h,y)}class Ko{constructor(g){this._driver=g}build(g,h,y){const k=new Bs(h);return this._resetContextStyleTimingState(k),_n(this,wt(g),k)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,h){let y=h.queryCount=0,k=h.depCount=0;const q=[],pe=[];return"@"==g.name.charAt(0)&&h.errors.push(function Un(){return new j.vHH(3006,!1)}()),g.definitions.forEach(Fe=>{if(this._resetContextStyleTimingState(h),0==Fe.type){const rt=Fe,At=rt.name;At.toString().split(/\s*,\s*/).forEach(bn=>{rt.name=bn,q.push(this.visitState(rt,h))}),rt.name=At}else if(1==Fe.type){const rt=this.visitTransition(Fe,h);y+=rt.queryCount,k+=rt.depCount,pe.push(rt)}else h.errors.push(function Hn(){return new j.vHH(3007,!1)}())}),{type:7,name:g.name,states:q,transitions:pe,queryCount:y,depCount:k,options:null}}visitState(g,h){const y=this.visitStyle(g.styles,h),k=g.options&&g.options.params||null;if(y.containsDynamicStyles){const q=new Set,pe=k||{};y.styles.forEach(Fe=>{Fe instanceof Map&&Fe.forEach(rt=>{ze(rt).forEach(At=>{pe.hasOwnProperty(At)||q.add(At)})})}),q.size&&(te(q.values()),h.errors.push(function on(C,g){return new j.vHH(3008,!1)}()))}return{type:0,name:g.name,style:y,options:k?{params:k}:null}}visitTransition(g,h){h.queryCount=0,h.depCount=0;const y=_n(this,wt(g.animation),h);return{type:1,matchers:vn(g.expr,h.errors),animation:y,queryCount:h.queryCount,depCount:h.depCount,options:oo(g.options)}}visitSequence(g,h){return{type:2,steps:g.steps.map(y=>_n(this,y,h)),options:oo(g.options)}}visitGroup(g,h){const y=h.currentTime;let k=0;const q=g.steps.map(pe=>{h.currentTime=y;const Fe=_n(this,pe,h);return k=Math.max(k,h.currentTime),Fe});return h.currentTime=k,{type:3,steps:q,options:oo(g.options)}}visitAnimate(g,h){const y=function Bo(C,g){if(C.hasOwnProperty("duration"))return C;if("number"==typeof C)return Kr(Kt(C,g).duration,0,"");const h=C;if(h.split(/\s+/).some(q=>"{"==q.charAt(0)&&"{"==q.charAt(1))){const q=Kr(0,0,"");return q.dynamic=!0,q.strValue=h,q}const k=Kt(h,g);return Kr(k.duration,k.delay,k.easing)}(g.timings,h.errors);h.currentAnimateTimings=y;let k,q=g.styles?g.styles:(0,he.oB)({});if(5==q.type)k=this.visitKeyframes(q,h);else{let pe=g.styles,Fe=!1;if(!pe){Fe=!0;const At={};y.easing&&(At.easing=y.easing),pe=(0,he.oB)(At)}h.currentTime+=y.duration+y.delay;const rt=this.visitStyle(pe,h);rt.isEmptyStep=Fe,k=rt}return h.currentAnimateTimings=null,{type:4,timings:y,style:k,options:null}}visitStyle(g,h){const y=this._makeStyleAst(g,h);return this._validateStyleAst(y,h),y}_makeStyleAst(g,h){const y=[],k=Array.isArray(g.styles)?g.styles:[g.styles];for(let Fe of k)"string"==typeof Fe?Fe===he.l3?y.push(Fe):h.errors.push(new j.vHH(3002,!1)):y.push(Jn(Fe));let q=!1,pe=null;return y.forEach(Fe=>{if(Fe instanceof Map&&(Fe.has("easing")&&(pe=Fe.get("easing"),Fe.delete("easing")),!q))for(let rt of Fe.values())if(rt.toString().indexOf("{{")>=0){q=!0;break}}),{type:6,styles:y,easing:pe,offset:g.offset,containsDynamicStyles:q,options:null}}_validateStyleAst(g,h){const y=h.currentAnimateTimings;let k=h.currentTime,q=h.currentTime;y&&q>0&&(q-=y.duration+y.delay),g.styles.forEach(pe=>{"string"!=typeof pe&&pe.forEach((Fe,rt)=>{const At=h.collectedStyles.get(h.currentQuerySelector),bn=At.get(rt);let In=!0;bn&&(q!=k&&q>=bn.startTime&&k<=bn.endTime&&(h.errors.push(function oe(C,g,h,y,k){return new j.vHH(3010,!1)}()),In=!1),q=bn.startTime),In&&At.set(rt,{startTime:q,endTime:k}),h.options&&function Yt(C,g,h){const y=g.params||{},k=ze(C);k.length&&k.forEach(q=>{y.hasOwnProperty(q)||h.push(function Nt(C){return new j.vHH(3001,!1)}())})}(Fe,h.options,h.errors)})})}visitKeyframes(g,h){const y={type:5,styles:[],options:null};if(!h.currentAnimateTimings)return h.errors.push(function ve(){return new j.vHH(3011,!1)}()),y;let q=0;const pe=[];let Fe=!1,rt=!1,At=0;const bn=g.steps.map(cr=>{const Ar=this._makeStyleAst(cr,h);let Xi=null!=Ar.offset?Ar.offset:function qo(C){if("string"==typeof C)return null;let g=null;if(Array.isArray(C))C.forEach(h=>{if(h instanceof Map&&h.has("offset")){const y=h;g=parseFloat(y.get("offset")),y.delete("offset")}});else if(C instanceof Map&&C.has("offset")){const h=C;g=parseFloat(h.get("offset")),h.delete("offset")}return g}(Ar.styles),Er=0;return null!=Xi&&(q++,Er=Ar.offset=Xi),rt=rt||Er<0||Er>1,Fe=Fe||Er<At,At=Er,pe.push(Er),Ar});rt&&h.errors.push(function Pe(){return new j.vHH(3012,!1)}()),Fe&&h.errors.push(function je(){return new j.vHH(3200,!1)}());const In=g.steps.length;let ci=0;q>0&&q<In?h.errors.push(function Ke(){return new j.vHH(3202,!1)}()):0==q&&(ci=1/(In-1));const xi=In-1,Xn=h.currentTime,mn=h.currentAnimateTimings,Ei=mn.duration;return bn.forEach((cr,Ar)=>{const Xi=ci>0?Ar==xi?1:ci*Ar:pe[Ar],Er=Xi*Ei;h.currentTime=Xn+mn.delay+Er,mn.duration=Er,this._validateStyleAst(cr,h),cr.offset=Xi,y.styles.push(cr)}),y}visitReference(g,h){return{type:8,animation:_n(this,wt(g.animation),h),options:oo(g.options)}}visitAnimateChild(g,h){return h.depCount++,{type:9,options:oo(g.options)}}visitAnimateRef(g,h){return{type:10,animation:this.visitReference(g.animation,h),options:oo(g.options)}}visitQuery(g,h){const y=h.currentQuerySelector,k=g.options||{};h.queryCount++,h.currentQuery=g;const[q,pe]=function Lr(C){const g=!!C.split(/\s*,\s*/).find(h=>":self"==h);return g&&(C=C.replace(ss,"")),C=C.replace(/@\*/g,V).replace(/@\w+/g,h=>V+"-"+h.slice(1)).replace(/:animating/g,tt),[C,g]}(g.selector);h.currentQuerySelector=y.length?y+" "+q:q,Oe(h.collectedStyles,h.currentQuerySelector,new Map);const Fe=_n(this,wt(g.animation),h);return h.currentQuery=null,h.currentQuerySelector=y,{type:11,selector:q,limit:k.limit||0,optional:!!k.optional,includeSelf:pe,animation:Fe,originalSelector:g.selector,options:oo(g.options)}}visitStagger(g,h){h.currentQuery||h.errors.push(function $e(){return new j.vHH(3013,!1)}());const y="full"===g.timings?{duration:0,delay:0,easing:"full"}:Kt(g.timings,h.errors,!0);return{type:12,animation:_n(this,wt(g.animation),h),timings:y,options:null}}}class Bs{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function oo(C){return C?(C=Cn(C)).params&&(C.params=function Vs(C){return C?Cn(C):null}(C.params)):C={},C}function Kr(C,g,h){return{duration:C,delay:g,easing:h}}function Uo(C,g,h,y,k,q,pe=null,Fe=!1){return{type:1,element:C,keyframes:g,preStyleProps:h,postStyleProps:y,duration:k,delay:q,totalTime:k+q,easing:pe,subTimeline:Fe}}class to{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,h){let y=this._map.get(g);y||this._map.set(g,y=[]),y.push(...h)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const bi=new RegExp(":enter","g"),Hi=new RegExp(":leave","g");function Rr(C,g,h,y,k,q=new Map,pe=new Map,Fe,rt,At=[]){return(new ur).buildKeyframes(C,g,h,y,k,q,pe,Fe,rt,At)}class ur{buildKeyframes(g,h,y,k,q,pe,Fe,rt,At,bn=[]){At=At||new to;const In=new Ro(g,h,At,k,q,bn,[]);In.options=rt;const ci=rt.delay?Rt(rt.delay):0;In.currentTimeline.delayNextStep(ci),In.currentTimeline.setStyles([pe],null,In.errors,rt),_n(this,y,In);const xi=In.timelines.filter(Xn=>Xn.containsAnimation());if(xi.length&&Fe.size){let Xn;for(let mn=xi.length-1;mn>=0;mn--){const Ei=xi[mn];if(Ei.element===h){Xn=Ei;break}}Xn&&!Xn.allowOnlyTimelineStyles()&&Xn.setStyles([Fe],null,In.errors,rt)}return xi.length?xi.map(Xn=>Xn.buildKeyframes()):[Uo(h,[],[],[],0,ci,"",!1)]}visitTrigger(g,h){}visitState(g,h){}visitTransition(g,h){}visitAnimateChild(g,h){const y=h.subInstructions.get(h.element);if(y){const k=h.createSubContext(g.options),q=h.currentTimeline.currentTime,pe=this._visitSubInstructions(y,k,k.options);q!=pe&&h.transformIntoNewTimeline(pe)}h.previousNode=g}visitAnimateRef(g,h){const y=h.createSubContext(g.options);y.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],h,y),this.visitReference(g.animation,y),h.transformIntoNewTimeline(y.currentTimeline.currentTime),h.previousNode=g}_applyAnimationRefDelays(g,h,y){for(const k of g){const q=k?.delay;if(q){const pe="number"==typeof q?q:Rt(ee(q,k?.params??{},h.errors));y.delayNextStep(pe)}}}_visitSubInstructions(g,h,y){let q=h.currentTimeline.currentTime;const pe=null!=y.duration?Rt(y.duration):null,Fe=null!=y.delay?Rt(y.delay):null;return 0!==pe&&g.forEach(rt=>{const At=h.appendInstructionToTimeline(rt,pe,Fe);q=Math.max(q,At.duration+At.delay)}),q}visitReference(g,h){h.updateOptions(g.options,!0),_n(this,g.animation,h),h.previousNode=g}visitSequence(g,h){const y=h.subContextCount;let k=h;const q=g.options;if(q&&(q.params||q.delay)&&(k=h.createSubContext(q),k.transformIntoNewTimeline(),null!=q.delay)){6==k.previousNode.type&&(k.currentTimeline.snapshotCurrentStyles(),k.previousNode=vo);const pe=Rt(q.delay);k.delayNextStep(pe)}g.steps.length&&(g.steps.forEach(pe=>_n(this,pe,k)),k.currentTimeline.applyStylesToKeyframe(),k.subContextCount>y&&k.transformIntoNewTimeline()),h.previousNode=g}visitGroup(g,h){const y=[];let k=h.currentTimeline.currentTime;const q=g.options&&g.options.delay?Rt(g.options.delay):0;g.steps.forEach(pe=>{const Fe=h.createSubContext(g.options);q&&Fe.delayNextStep(q),_n(this,pe,Fe),k=Math.max(k,Fe.currentTimeline.currentTime),y.push(Fe.currentTimeline)}),y.forEach(pe=>h.currentTimeline.mergeTimelineCollectedStyles(pe)),h.transformIntoNewTimeline(k),h.previousNode=g}_visitTiming(g,h){if(g.dynamic){const y=g.strValue;return Kt(h.params?ee(y,h.params,h.errors):y,h.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,h){const y=h.currentAnimateTimings=this._visitTiming(g.timings,h),k=h.currentTimeline;y.delay&&(h.incrementTime(y.delay),k.snapshotCurrentStyles());const q=g.style;5==q.type?this.visitKeyframes(q,h):(h.incrementTime(y.duration),this.visitStyle(q,h),k.applyStylesToKeyframe()),h.currentAnimateTimings=null,h.previousNode=g}visitStyle(g,h){const y=h.currentTimeline,k=h.currentAnimateTimings;!k&&y.hasCurrentStyleProperties()&&y.forwardFrame();const q=k&&k.easing||g.easing;g.isEmptyStep?y.applyEmptyStep(q):y.setStyles(g.styles,q,h.errors,h.options),h.previousNode=g}visitKeyframes(g,h){const y=h.currentAnimateTimings,k=h.currentTimeline.duration,q=y.duration,Fe=h.createSubContext().currentTimeline;Fe.easing=y.easing,g.styles.forEach(rt=>{Fe.forwardTime((rt.offset||0)*q),Fe.setStyles(rt.styles,rt.easing,h.errors,h.options),Fe.applyStylesToKeyframe()}),h.currentTimeline.mergeTimelineCollectedStyles(Fe),h.transformIntoNewTimeline(k+q),h.previousNode=g}visitQuery(g,h){const y=h.currentTimeline.currentTime,k=g.options||{},q=k.delay?Rt(k.delay):0;q&&(6===h.previousNode.type||0==y&&h.currentTimeline.hasCurrentStyleProperties())&&(h.currentTimeline.snapshotCurrentStyles(),h.previousNode=vo);let pe=y;const Fe=h.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!k.optional,h.errors);h.currentQueryTotal=Fe.length;let rt=null;Fe.forEach((At,bn)=>{h.currentQueryIndex=bn;const In=h.createSubContext(g.options,At);q&&In.delayNextStep(q),At===h.element&&(rt=In.currentTimeline),_n(this,g.animation,In),In.currentTimeline.applyStylesToKeyframe(),pe=Math.max(pe,In.currentTimeline.currentTime)}),h.currentQueryIndex=0,h.currentQueryTotal=0,h.transformIntoNewTimeline(pe),rt&&(h.currentTimeline.mergeTimelineCollectedStyles(rt),h.currentTimeline.snapshotCurrentStyles()),h.previousNode=g}visitStagger(g,h){const y=h.parentContext,k=h.currentTimeline,q=g.timings,pe=Math.abs(q.duration),Fe=pe*(h.currentQueryTotal-1);let rt=pe*h.currentQueryIndex;switch(q.duration<0?"reverse":q.easing){case"reverse":rt=Fe-rt;break;case"full":rt=y.currentStaggerTime}const bn=h.currentTimeline;rt&&bn.delayNextStep(rt);const In=bn.currentTime;_n(this,g.animation,h),h.previousNode=g,y.currentStaggerTime=k.currentTime-In+(k.startTime-y.currentTimeline.startTime)}}const vo={};class Ro{constructor(g,h,y,k,q,pe,Fe,rt){this._driver=g,this.element=h,this.subInstructions=y,this._enterClassName=k,this._leaveClassName=q,this.errors=pe,this.timelines=Fe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=rt||new Oi(this._driver,h,0),Fe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,h){if(!g)return;const y=g;let k=this.options;null!=y.duration&&(k.duration=Rt(y.duration)),null!=y.delay&&(k.delay=Rt(y.delay));const q=y.params;if(q){let pe=k.params;pe||(pe=this.options.params={}),Object.keys(q).forEach(Fe=>{(!h||!pe.hasOwnProperty(Fe))&&(pe[Fe]=ee(q[Fe],pe,this.errors))})}}_copyOptions(){const g={};if(this.options){const h=this.options.params;if(h){const y=g.params={};Object.keys(h).forEach(k=>{y[k]=h[k]})}}return g}createSubContext(g=null,h,y){const k=h||this.element,q=new Ro(this._driver,k,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(k,y||0));return q.previousNode=this.previousNode,q.currentAnimateTimings=this.currentAnimateTimings,q.options=this._copyOptions(),q.updateOptions(g),q.currentQueryIndex=this.currentQueryIndex,q.currentQueryTotal=this.currentQueryTotal,q.parentContext=this,this.subContextCount++,q}transformIntoNewTimeline(g){return this.previousNode=vo,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,h,y){const k={duration:h??g.duration,delay:this.currentTimeline.currentTime+(y??0)+g.delay,easing:""},q=new zo(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,k,g.stretchStartingKeyframe);return this.timelines.push(q),k}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,h,y,k,q,pe){let Fe=[];if(k&&Fe.push(this.element),g.length>0){g=(g=g.replace(bi,"."+this._enterClassName)).replace(Hi,"."+this._leaveClassName);let At=this._driver.query(this.element,g,1!=y);0!==y&&(At=y<0?At.slice(At.length+y,At.length):At.slice(0,y)),Fe.push(...At)}return!q&&0==Fe.length&&pe.push(function Ge(C){return new j.vHH(3014,!1)}()),Fe}}class Oi{constructor(g,h,y,k){this._driver=g,this.element=h,this.startTime=y,this._elementTimelineStylesLookup=k,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(h),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(h,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const h=1===this._keyframes.size&&this._pendingStyles.size;this.duration||h?(this.forwardTime(this.currentTime+g),h&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,h){return this.applyStylesToKeyframe(),new Oi(this._driver,g,h||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,h){this._localTimelineStyles.set(g,h),this._globalTimelineStyles.set(g,h),this._styleSummary.set(g,{time:this.currentTime,value:h})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[h,y]of this._globalTimelineStyles)this._backFill.set(h,y||he.l3),this._currentKeyframe.set(h,he.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,h,y,k){h&&this._previousKeyframe.set("easing",h);const q=k&&k.params||{},pe=function ji(C,g){const h=new Map;let y;return C.forEach(k=>{if("*"===k){y=y||g.keys();for(let q of y)h.set(q,he.l3)}else Ne(k,h)}),h}(g,this._globalTimelineStyles);for(let[Fe,rt]of pe){const At=ee(rt,q,y);this._pendingStyles.set(Fe,At),this._localTimelineStyles.has(Fe)||this._backFill.set(Fe,this._globalTimelineStyles.get(Fe)??he.l3),this._updateStyle(Fe,At)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,h)=>{this._currentKeyframe.set(h,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,h)=>{this._currentKeyframe.has(h)||this._currentKeyframe.set(h,g)}))}snapshotCurrentStyles(){for(let[g,h]of this._localTimelineStyles)this._pendingStyles.set(g,h),this._updateStyle(g,h)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let h in this._currentKeyframe)g.push(h);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((h,y)=>{const k=this._styleSummary.get(y);(!k||h.time>k.time)&&this._updateStyle(y,h.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,h=new Set,y=1===this._keyframes.size&&0===this.duration;let k=[];this._keyframes.forEach((Fe,rt)=>{const At=Ne(Fe,new Map,this._backFill);At.forEach((bn,In)=>{bn===he.k1?g.add(In):bn===he.l3&&h.add(In)}),y||At.set("offset",rt/this.duration),k.push(At)});const q=g.size?te(g.values()):[],pe=h.size?te(h.values()):[];if(y){const Fe=k[0],rt=new Map(Fe);Fe.set("offset",0),rt.set("offset",1),k=[Fe,rt]}return Uo(this.element,k,q,pe,this.duration,this.startTime,this.easing,!1)}}class zo extends Oi{constructor(g,h,y,k,q,pe,Fe=!1){super(g,h,pe.delay),this.keyframes=y,this.preStyleProps=k,this.postStyleProps=q,this._stretchStartingKeyframe=Fe,this.timings={duration:pe.duration,delay:pe.delay,easing:pe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:h,duration:y,easing:k}=this.timings;if(this._stretchStartingKeyframe&&h){const q=[],pe=y+h,Fe=h/pe,rt=Ne(g[0]);rt.set("offset",0),q.push(rt);const At=Ne(g[0]);At.set("offset",Po(Fe)),q.push(At);const bn=g.length-1;for(let In=1;In<=bn;In++){let ci=Ne(g[In]);const xi=ci.get("offset");ci.set("offset",Po((h+xi*y)/pe)),q.push(ci)}y=pe,h=0,k="",g=q}return Uo(this.element,g,this.preStyleProps,this.postStyleProps,y,h,k,!0)}}function Po(C,g=3){const h=Math.pow(10,g-1);return Math.round(C*h)/h}class ii{}const Vr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class yo extends ii{normalizePropertyName(g,h){return nt(g)}normalizeStyleValue(g,h,y,k){let q="";const pe=y.toString().trim();if(Vr.has(h)&&0!==y&&"0"!==y)if("number"==typeof y)q="px";else{const Fe=y.match(/^[+-]?[\d\.]+([a-z]*)$/);Fe&&0==Fe[1].length&&k.push(function hn(C,g){return new j.vHH(3005,!1)}())}return pe+q}}function Wi(C,g,h,y,k,q,pe,Fe,rt,At,bn,In,ci){return{type:0,element:C,triggerName:g,isRemovalTransition:k,fromState:h,fromStyles:q,toState:y,toStyles:pe,timelines:Fe,queriedElements:rt,preStyleProps:At,postStyleProps:bn,totalTime:In,errors:ci}}const no={};class Vi{constructor(g,h,y){this._triggerName=g,this.ast=h,this._stateStyles=y}match(g,h,y,k){return function ls(C,g,h,y,k){return C.some(q=>q(g,h,y,k))}(this.ast.matchers,g,h,y,k)}buildStyles(g,h,y){let k=this._stateStyles.get("*");return void 0!==g&&(k=this._stateStyles.get(g?.toString())||k),k?k.buildStyles(h,y):new Map}build(g,h,y,k,q,pe,Fe,rt,At,bn){const In=[],ci=this.ast.options&&this.ast.options.params||no,Xn=this.buildStyles(y,Fe&&Fe.params||no,In),mn=rt&&rt.params||no,Ei=this.buildStyles(k,mn,In),cr=new Set,Ar=new Map,Xi=new Map,Er="void"===k,nl={params:ei(mn,ci),delay:this.ast.options?.delay},ts=bn?[]:Rr(g,h,this.ast.animation,q,pe,Xn,Ei,nl,At,In);let Sr=0;if(ts.forEach(Va=>{Sr=Math.max(Va.duration+Va.delay,Sr)}),In.length)return Wi(h,this._triggerName,y,k,Er,Xn,Ei,[],[],Ar,Xi,Sr,In);ts.forEach(Va=>{const Js=Va.element,Wc=Oe(Ar,Js,new Set);Va.preStyleProps.forEach(El=>Wc.add(El));const ea=Oe(Xi,Js,new Set);Va.postStyleProps.forEach(El=>ea.add(El)),Js!==h&&cr.add(Js)});const Ao=te(cr.values());return Wi(h,this._triggerName,y,k,Er,Xn,Ei,ts,Ao,Ar,Xi,Sr)}}function ei(C,g){const h=Cn(g);for(const y in C)C.hasOwnProperty(y)&&null!=C[y]&&(h[y]=C[y]);return h}class bo{constructor(g,h,y){this.styles=g,this.defaultParams=h,this.normalizer=y}buildStyles(g,h){const y=new Map,k=Cn(this.defaultParams);return Object.keys(g).forEach(q=>{const pe=g[q];null!==pe&&(k[q]=pe)}),this.styles.styles.forEach(q=>{"string"!=typeof q&&q.forEach((pe,Fe)=>{pe&&(pe=ee(pe,k,h));const rt=this.normalizer.normalizePropertyName(Fe,h);pe=this.normalizer.normalizeStyleValue(Fe,rt,pe,h),y.set(Fe,pe)})}),y}}class cs{constructor(g,h,y){this.name=g,this.ast=h,this._normalizer=y,this.transitionFactories=[],this.states=new Map,h.states.forEach(k=>{this.states.set(k.name,new bo(k.style,k.options&&k.options.params||{},y))}),ra(this.states,"true","1"),ra(this.states,"false","0"),h.transitions.forEach(k=>{this.transitionFactories.push(new Vi(g,k,this.states))}),this.fallbackTransition=function Gi(C,g,h){return new Vi(C,{type:1,animation:{type:2,steps:[],options:null},matchers:[(pe,Fe)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,h,y,k){return this.transitionFactories.find(pe=>pe.match(g,h,y,k))||null}matchStyles(g,h,y){return this.fallbackTransition.buildStyles(g,h,y)}}function ra(C,g,h){C.has(g)?C.has(h)||C.set(h,C.get(g)):C.has(h)&&C.set(g,C.get(h))}const us=new to;class mo{constructor(g,h,y){this.bodyNode=g,this._driver=h,this._normalizer=y,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,h){const y=[],q=Mo(this._driver,h,y,[]);if(y.length)throw function Zn(C){return new j.vHH(3503,!1)}();this._animations.set(g,q)}_buildPlayer(g,h,y){const k=g.element,q=Vt(this._normalizer,g.keyframes,h,y);return this._driver.animate(k,q,g.duration,g.delay,g.easing,[],!0)}create(g,h,y={}){const k=[],q=this._animations.get(g);let pe;const Fe=new Map;if(q?(pe=Rr(this._driver,h,q,B,N,new Map,new Map,y,us,k),pe.forEach(bn=>{const In=Oe(Fe,bn.element,new Map);bn.postStyleProps.forEach(ci=>In.set(ci,null))})):(k.push(function ni(){return new j.vHH(3300,!1)}()),pe=[]),k.length)throw function ri(C){return new j.vHH(3504,!1)}();Fe.forEach((bn,In)=>{bn.forEach((ci,xi)=>{bn.set(xi,this._driver.computeStyle(In,xi,he.l3))})});const At=ut(pe.map(bn=>{const In=Fe.get(bn.element);return this._buildPlayer(bn,new Map,In)}));return this._playersById.set(g,At),At.onDestroy(()=>this.destroy(g)),this.players.push(At),At}destroy(g){const h=this._getPlayer(g);h.destroy(),this._playersById.delete(g);const y=this.players.indexOf(h);y>=0&&this.players.splice(y,1)}_getPlayer(g){const h=this._playersById.get(g);if(!h)throw function wi(C){return new j.vHH(3301,!1)}();return h}listen(g,h,y,k){const q=xt(h,"","","");return sn(this._getPlayer(g),y,q,k),()=>{}}command(g,h,y,k){if("register"==y)return void this.register(g,k[0]);if("create"==y)return void this.create(g,h,k[0]||{});const q=this._getPlayer(g);switch(y){case"play":q.play();break;case"pause":q.pause();break;case"reset":q.reset();break;case"restart":q.restart();break;case"finish":q.finish();break;case"init":q.init();break;case"setPosition":q.setPosition(parseFloat(k[0]));break;case"destroy":this.destroy(g)}}}const io="ng-animate-queued",Oo="ng-animate-disabled",Yn=[],ws={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Yr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wr="__ng_removed";class Br{get params(){return this.options.params}constructor(g,h=""){this.namespaceId=h;const y=g&&g.hasOwnProperty("value");if(this.value=function dr(C){return C??null}(y?g.value:g),y){const q=Cn(g);delete q.value,this.options=q}else this.options={};this.options.params||(this.options.params={})}absorbOptions(g){const h=g.params;if(h){const y=this.options.params;Object.keys(h).forEach(k=>{null==y[k]&&(y[k]=h[k])})}}}const Ho="void",Eo=new Br(Ho);class Ur{constructor(g,h,y){this.id=g,this.hostElement=h,this._engine=y,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,Zr(h,this._hostClassName)}listen(g,h,y,k){if(!this._triggers.has(h))throw function Si(C,g){return new j.vHH(3302,!1)}();if(null==y||0==y.length)throw function Ni(C){return new j.vHH(3303,!1)}();if(!function jr(C){return"start"==C||"done"==C}(y))throw function gi(C,g){return new j.vHH(3400,!1)}();const q=Oe(this._elementListeners,g,[]),pe={name:h,phase:y,callback:k};q.push(pe);const Fe=Oe(this._engine.statesByElement,g,new Map);return Fe.has(h)||(Zr(g,O),Zr(g,O+"-"+h),Fe.set(h,Eo)),()=>{this._engine.afterFlush(()=>{const rt=q.indexOf(pe);rt>=0&&q.splice(rt,1),this._triggers.has(h)||Fe.delete(h)})}}register(g,h){return!this._triggers.has(g)&&(this._triggers.set(g,h),!0)}_getTrigger(g){const h=this._triggers.get(g);if(!h)throw function ge(C){return new j.vHH(3401,!1)}();return h}trigger(g,h,y,k=!0){const q=this._getTrigger(h),pe=new va(this.id,h,g);let Fe=this._engine.statesByElement.get(g);Fe||(Zr(g,O),Zr(g,O+"-"+h),this._engine.statesByElement.set(g,Fe=new Map));let rt=Fe.get(h);const At=new Br(y,this.id);if(!(y&&y.hasOwnProperty("value"))&&rt&&At.absorbOptions(rt.options),Fe.set(h,At),rt||(rt=Eo),At.value!==Ho&&rt.value===At.value){if(!function J(C,g){const h=Object.keys(C),y=Object.keys(g);if(h.length!=y.length)return!1;for(let k=0;k<h.length;k++){const q=h[k];if(!g.hasOwnProperty(q)||C[q]!==g[q])return!1}return!0}(rt.params,At.params)){const mn=[],Ei=q.matchStyles(rt.value,rt.params,mn),cr=q.matchStyles(At.value,At.params,mn);mn.length?this._engine.reportError(mn):this._engine.afterFlush(()=>{Re(g,Ei),xe(g,cr)})}return}const ci=Oe(this._engine.playersByElement,g,[]);ci.forEach(mn=>{mn.namespaceId==this.id&&mn.triggerName==h&&mn.queued&&mn.destroy()});let xi=q.matchTransition(rt.value,At.value,g,At.params),Xn=!1;if(!xi){if(!k)return;xi=q.fallbackTransition,Xn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:h,transition:xi,fromState:rt,toState:At,player:pe,isFallbackTransition:Xn}),Xn||(Zr(g,io),pe.onStart(()=>{Qo(g,io)})),pe.onDone(()=>{let mn=this.players.indexOf(pe);mn>=0&&this.players.splice(mn,1);const Ei=this._engine.playersByElement.get(g);if(Ei){let cr=Ei.indexOf(pe);cr>=0&&Ei.splice(cr,1)}}),this.players.push(pe),ci.push(pe),pe}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(h=>h.delete(g)),this._elementListeners.forEach((h,y)=>{this._elementListeners.set(y,h.filter(k=>k.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const h=this._engine.playersByElement.get(g);h&&(h.forEach(y=>y.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,h){const y=this._engine.driver.query(g,V,!0);y.forEach(k=>{if(k[wr])return;const q=this._engine.fetchNamespacesByElement(k);q.size?q.forEach(pe=>pe.triggerLeaveAnimation(k,h,!1,!0)):this.clearElementCache(k)}),this._engine.afterFlushAnimationsDone(()=>y.forEach(k=>this.clearElementCache(k)))}triggerLeaveAnimation(g,h,y,k){const q=this._engine.statesByElement.get(g),pe=new Map;if(q){const Fe=[];if(q.forEach((rt,At)=>{if(pe.set(At,rt.value),this._triggers.has(At)){const bn=this.trigger(g,At,Ho,k);bn&&Fe.push(bn)}}),Fe.length)return this._engine.markElementAsRemoved(this.id,g,!0,h,pe),y&&ut(Fe).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const h=this._elementListeners.get(g),y=this._engine.statesByElement.get(g);if(h&&y){const k=new Set;h.forEach(q=>{const pe=q.name;if(k.has(pe))return;k.add(pe);const rt=this._triggers.get(pe).fallbackTransition,At=y.get(pe)||Eo,bn=new Br(Ho),In=new va(this.id,pe,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:pe,transition:rt,fromState:At,toState:bn,player:In,isFallbackTransition:!0})})}}removeNode(g,h){const y=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,h),this.triggerLeaveAnimation(g,h,!0))return;let k=!1;if(y.totalAnimations){const q=y.players.length?y.playersByQueriedElement.get(g):[];if(q&&q.length)k=!0;else{let pe=g;for(;pe=pe.parentNode;)if(y.statesByElement.get(pe)){k=!0;break}}}if(this.prepareLeaveAnimationListeners(g),k)y.markElementAsRemoved(this.id,g,!1,h);else{const q=g[wr];(!q||q===ws)&&(y.afterFlush(()=>this.clearElementCache(g)),y.destroyInnerAnimations(g),y._onRemovalComplete(g,h))}}insertNode(g,h){Zr(g,this._hostClassName)}drainQueuedTransitions(g){const h=[];return this._queue.forEach(y=>{const k=y.player;if(k.destroyed)return;const q=y.element,pe=this._elementListeners.get(q);pe&&pe.forEach(Fe=>{if(Fe.name==y.triggerName){const rt=xt(q,y.triggerName,y.fromState.value,y.toState.value);rt._data=g,sn(y.player,Fe.phase,rt,Fe.callback)}}),k.markedForDestroy?this._engine.afterFlush(()=>{k.destroy()}):h.push(y)}),this._queue=[],h.sort((y,k)=>{const q=y.transition.ast.depCount,pe=k.transition.ast.depCount;return 0==q||0==pe?q-pe:this._engine.driver.containsElement(y.element,k.element)?1:-1})}destroy(g){this.players.forEach(h=>h.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}}class br{_onRemovalComplete(g,h){this.onRemovalComplete(g,h)}constructor(g,h,y){this.bodyNode=g,this.driver=h,this._normalizer=y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(k,q)=>{}}get queuedPlayers(){const g=[];return this._namespaceList.forEach(h=>{h.players.forEach(y=>{y.queued&&g.push(y)})}),g}createNamespace(g,h){const y=new Ur(g,h,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,h)?this._balanceNamespaceList(y,h):(this.newHostElements.set(h,y),this.collectEnterElement(h)),this._namespaceLookup[g]=y}_balanceNamespaceList(g,h){const y=this._namespaceList,k=this.namespacesByHostElement;if(y.length-1>=0){let pe=!1,Fe=this.driver.getParentElement(h);for(;Fe;){const rt=k.get(Fe);if(rt){const At=y.indexOf(rt);y.splice(At+1,0,g),pe=!0;break}Fe=this.driver.getParentElement(Fe)}pe||y.unshift(g)}else y.push(g);return k.set(h,g),g}register(g,h){let y=this._namespaceLookup[g];return y||(y=this.createNamespace(g,h)),y}registerTrigger(g,h,y){let k=this._namespaceLookup[g];k&&k.register(h,y)&&this.totalAnimations++}destroy(g,h){g&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const y=this._fetchNamespace(g);this.namespacesByHostElement.delete(y.hostElement);const k=this._namespaceList.indexOf(y);k>=0&&this._namespaceList.splice(k,1),y.destroy(h),delete this._namespaceLookup[g]}))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const h=new Set,y=this.statesByElement.get(g);if(y)for(let k of y.values())if(k.namespaceId){const q=this._fetchNamespace(k.namespaceId);q&&h.add(q)}return h}trigger(g,h,y,k){if(hs(h)){const q=this._fetchNamespace(g);if(q)return q.trigger(h,y,k),!0}return!1}insertNode(g,h,y,k){if(!hs(h))return;const q=h[wr];if(q&&q.setForRemoval){q.setForRemoval=!1,q.setForMove=!0;const pe=this.collectedLeaveElements.indexOf(h);pe>=0&&this.collectedLeaveElements.splice(pe,1)}if(g){const pe=this._fetchNamespace(g);pe&&pe.insertNode(h,y)}k&&this.collectEnterElement(h)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,h){h?this.disabledNodes.has(g)||(this.disabledNodes.add(g),Zr(g,Oo)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),Qo(g,Oo))}removeNode(g,h,y){if(hs(h)){const k=g?this._fetchNamespace(g):null;k?k.removeNode(h,y):this.markElementAsRemoved(g,h,!1,y);const q=this.namespacesByHostElement.get(h);q&&q.id!==g&&q.removeNode(h,y)}else this._onRemovalComplete(h,y)}markElementAsRemoved(g,h,y,k,q){this.collectedLeaveElements.push(h),h[wr]={namespaceId:g,setForRemoval:k,hasAnimation:y,removedBeforeQueried:!1,previousTriggersValues:q}}listen(g,h,y,k,q){return hs(h)?this._fetchNamespace(g).listen(h,y,k,q):()=>{}}_buildInstruction(g,h,y,k,q){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,y,k,g.fromState.options,g.toState.options,h,q)}destroyInnerAnimations(g){let h=this.driver.query(g,V,!0);h.forEach(y=>this.destroyActiveAnimationsForElement(y)),0!=this.playersByQueriedElement.size&&(h=this.driver.query(g,tt,!0),h.forEach(y=>this.finishActiveQueriedAnimationOnElement(y)))}destroyActiveAnimationsForElement(g){const h=this.playersByElement.get(g);h&&h.forEach(y=>{y.queued?y.markedForDestroy=!0:y.destroy()})}finishActiveQueriedAnimationOnElement(g){const h=this.playersByQueriedElement.get(g);h&&h.forEach(y=>y.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return ut(this.players).onDone(()=>g());g()})}processLeaveNode(g){const h=g[wr];if(h&&h.setForRemoval){if(g[wr]=ws,h.namespaceId){this.destroyInnerAnimations(g);const y=this._fetchNamespace(h.namespaceId);y&&y.clearElementCache(g)}this._onRemovalComplete(g,h.setForRemoval)}g.classList?.contains(Oo)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(g=-1){let h=[];if(this.newHostElements.size&&(this.newHostElements.forEach((y,k)=>this._balanceNamespaceList(y,k)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let y=0;y<this.collectedEnterElements.length;y++)Zr(this.collectedEnterElements[y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const y=[];try{h=this._flushAnimations(y,g)}finally{for(let k=0;k<y.length;k++)y[k]()}}else for(let y=0;y<this.collectedLeaveElements.length;y++)this.processLeaveNode(this.collectedLeaveElements[y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(y=>y()),this._flushFns=[],this._whenQuietFns.length){const y=this._whenQuietFns;this._whenQuietFns=[],h.length?ut(h).onDone(()=>{y.forEach(k=>k())}):y.forEach(k=>k())}}reportError(g){throw function _t(C){return new j.vHH(3402,!1)}()}_flushAnimations(g,h){const y=new to,k=[],q=new Map,pe=[],Fe=new Map,rt=new Map,At=new Map,bn=new Set;this.disabledNodes.forEach(Kn=>{bn.add(Kn);const si=this.driver.query(Kn,".ng-animate-queued",!0);for(let vi=0;vi<si.length;vi++)bn.add(si[vi])});const In=this.bodyNode,ci=Array.from(this.statesByElement.keys()),xi=Cs(ci,this.collectedEnterElements),Xn=new Map;let mn=0;xi.forEach((Kn,si)=>{const vi=B+mn++;Xn.set(si,vi),Kn.forEach(ui=>Zr(ui,vi))});const Ei=[],cr=new Set,Ar=new Set;for(let Kn=0;Kn<this.collectedLeaveElements.length;Kn++){const si=this.collectedLeaveElements[Kn],vi=si[wr];vi&&vi.setForRemoval&&(Ei.push(si),cr.add(si),vi.hasAnimation?this.driver.query(si,".ng-star-inserted",!0).forEach(ui=>cr.add(ui)):Ar.add(si))}const Xi=new Map,Er=Cs(ci,Array.from(cr));Er.forEach((Kn,si)=>{const vi=N+mn++;Xi.set(si,vi),Kn.forEach(ui=>Zr(ui,vi))}),g.push(()=>{xi.forEach((Kn,si)=>{const vi=Xn.get(si);Kn.forEach(ui=>Qo(ui,vi))}),Er.forEach((Kn,si)=>{const vi=Xi.get(si);Kn.forEach(ui=>Qo(ui,vi))}),Ei.forEach(Kn=>{this.processLeaveNode(Kn)})});const nl=[],ts=[];for(let Kn=this._namespaceList.length-1;Kn>=0;Kn--)this._namespaceList[Kn].drainQueuedTransitions(h).forEach(vi=>{const ui=vi.player,hi=vi.element;if(nl.push(ui),this.collectedEnterElements.length){const So=hi[wr];if(So&&So.setForMove){if(So.previousTriggersValues&&So.previousTriggersValues.has(vi.triggerName)){const $r=So.previousTriggersValues.get(vi.triggerName),go=this.statesByElement.get(vi.element);if(go&&go.has(vi.triggerName)){const Il=go.get(vi.triggerName);Il.value=$r,go.set(vi.triggerName,Il)}}return void ui.destroy()}}const ga=!In||!this.driver.containsElement(In,hi),Ns=Xi.get(hi),Ba=Xn.get(hi),Ki=this._buildInstruction(vi,y,Ba,Ns,ga);if(Ki.errors&&Ki.errors.length)return void ts.push(Ki);if(ga)return ui.onStart(()=>Re(hi,Ki.fromStyles)),ui.onDestroy(()=>xe(hi,Ki.toStyles)),void k.push(ui);if(vi.isFallbackTransition)return ui.onStart(()=>Re(hi,Ki.fromStyles)),ui.onDestroy(()=>xe(hi,Ki.toStyles)),void k.push(ui);const ad=[];Ki.timelines.forEach(So=>{So.stretchStartingKeyframe=!0,this.disabledNodes.has(So.element)||ad.push(So)}),Ki.timelines=ad,y.append(hi,Ki.timelines),pe.push({instruction:Ki,player:ui,element:hi}),Ki.queriedElements.forEach(So=>Oe(Fe,So,[]).push(ui)),Ki.preStyleProps.forEach((So,$r)=>{if(So.size){let go=rt.get($r);go||rt.set($r,go=new Set),So.forEach((Il,Yl)=>go.add(Yl))}}),Ki.postStyleProps.forEach((So,$r)=>{let go=At.get($r);go||At.set($r,go=new Set),So.forEach((Il,Yl)=>go.add(Yl))})});if(ts.length){const Kn=[];ts.forEach(si=>{Kn.push(function ct(C,g){return new j.vHH(3505,!1)}())}),nl.forEach(si=>si.destroy()),this.reportError(Kn)}const Sr=new Map,Ao=new Map;pe.forEach(Kn=>{const si=Kn.element;y.has(si)&&(Ao.set(si,si),this._beforeAnimationBuild(Kn.player.namespaceId,Kn.instruction,Sr))}),k.forEach(Kn=>{const si=Kn.element;this._getPreviousPlayers(si,!1,Kn.namespaceId,Kn.triggerName,null).forEach(ui=>{Oe(Sr,si,[]).push(ui),ui.destroy()})});const Va=Ei.filter(Kn=>U(Kn,rt,At)),Js=new Map;zr(Js,this.driver,Ar,At,he.l3).forEach(Kn=>{U(Kn,rt,At)&&Va.push(Kn)});const ea=new Map;xi.forEach((Kn,si)=>{zr(ea,this.driver,new Set(Kn),rt,he.k1)}),Va.forEach(Kn=>{const si=Js.get(Kn),vi=ea.get(Kn);Js.set(Kn,new Map([...si?.entries()??[],...vi?.entries()??[]]))});const El=[],od=[],sd={};pe.forEach(Kn=>{const{element:si,player:vi,instruction:ui}=Kn;if(y.has(si)){if(bn.has(si))return vi.onDestroy(()=>xe(si,ui.toStyles)),vi.disabled=!0,vi.overrideTotalTime(ui.totalTime),void k.push(vi);let hi=sd;if(Ao.size>1){let Ns=si;const Ba=[];for(;Ns=Ns.parentNode;){const Ki=Ao.get(Ns);if(Ki){hi=Ki;break}Ba.push(Ns)}Ba.forEach(Ki=>Ao.set(Ki,hi))}const ga=this._buildAnimation(vi.namespaceId,ui,Sr,q,ea,Js);if(vi.setRealPlayer(ga),hi===sd)El.push(vi);else{const Ns=this.playersByElement.get(hi);Ns&&Ns.length&&(vi.parentPlayer=ut(Ns)),k.push(vi)}}else Re(si,ui.fromStyles),vi.onDestroy(()=>xe(si,ui.toStyles)),od.push(vi),bn.has(si)&&k.push(vi)}),od.forEach(Kn=>{const si=q.get(Kn.element);if(si&&si.length){const vi=ut(si);Kn.setRealPlayer(vi)}}),k.forEach(Kn=>{Kn.parentPlayer?Kn.syncPlayerEvents(Kn.parentPlayer):Kn.destroy()});for(let Kn=0;Kn<Ei.length;Kn++){const si=Ei[Kn],vi=si[wr];if(Qo(si,N),vi&&vi.hasAnimation)continue;let ui=[];if(Fe.size){let ga=Fe.get(si);ga&&ga.length&&ui.push(...ga);let Ns=this.driver.query(si,tt,!0);for(let Ba=0;Ba<Ns.length;Ba++){let Ki=Fe.get(Ns[Ba]);Ki&&Ki.length&&ui.push(...Ki)}}const hi=ui.filter(ga=>!ga.destroyed);hi.length?sl(this,si,hi):this.processLeaveNode(si)}return Ei.length=0,El.forEach(Kn=>{this.players.push(Kn),Kn.onDone(()=>{Kn.destroy();const si=this.players.indexOf(Kn);this.players.splice(si,1)}),Kn.play()}),El}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,h,y,k,q){let pe=[];if(h){const Fe=this.playersByQueriedElement.get(g);Fe&&(pe=Fe)}else{const Fe=this.playersByElement.get(g);if(Fe){const rt=!q||q==Ho;Fe.forEach(At=>{At.queued||!rt&&At.triggerName!=k||pe.push(At)})}}return(y||k)&&(pe=pe.filter(Fe=>!(y&&y!=Fe.namespaceId||k&&k!=Fe.triggerName))),pe}_beforeAnimationBuild(g,h,y){const q=h.element,pe=h.isRemovalTransition?void 0:g,Fe=h.isRemovalTransition?void 0:h.triggerName;for(const rt of h.timelines){const At=rt.element,bn=At!==q,In=Oe(y,At,[]);this._getPreviousPlayers(At,bn,pe,Fe,h.toState).forEach(xi=>{const Xn=xi.getRealPlayer();Xn.beforeDestroy&&Xn.beforeDestroy(),xi.destroy(),In.push(xi)})}Re(q,h.fromStyles)}_buildAnimation(g,h,y,k,q,pe){const Fe=h.triggerName,rt=h.element,At=[],bn=new Set,In=new Set,ci=h.timelines.map(Xn=>{const mn=Xn.element;bn.add(mn);const Ei=mn[wr];if(Ei&&Ei.removedBeforeQueried)return new he.ZN(Xn.duration,Xn.delay);const cr=mn!==rt,Ar=function No(C){const g=[];return Y(C,g),g}((y.get(mn)||Yn).map(Sr=>Sr.getRealPlayer())).filter(Sr=>!!Sr.element&&Sr.element===mn),Xi=q.get(mn),Er=pe.get(mn),nl=Vt(this._normalizer,Xn.keyframes,Xi,Er),ts=this._buildPlayer(Xn,nl,Ar);if(Xn.subTimeline&&k&&In.add(mn),cr){const Sr=new va(g,Fe,mn);Sr.setRealPlayer(ts),At.push(Sr)}return ts});At.forEach(Xn=>{Oe(this.playersByQueriedElement,Xn.element,[]).push(Xn),Xn.onDone(()=>function _i(C,g,h){let y=C.get(g);if(y){if(y.length){const k=y.indexOf(h);y.splice(k,1)}0==y.length&&C.delete(g)}return y}(this.playersByQueriedElement,Xn.element,Xn))}),bn.forEach(Xn=>Zr(Xn,we));const xi=ut(ci);return xi.onDestroy(()=>{bn.forEach(Xn=>Qo(Xn,we)),xe(rt,h.toStyles)}),In.forEach(Xn=>{Oe(k,Xn,[]).push(xi)}),xi}_buildPlayer(g,h,y){return h.length>0?this.driver.animate(g.element,h,g.duration,g.delay,g.easing,y):new he.ZN(g.duration,g.delay)}}class va{constructor(g,h,y){this.namespaceId=g,this.triggerName=h,this.element=y,this._player=new he.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((h,y)=>{h.forEach(k=>sn(g,y,void 0,k))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const h=this._player;h.triggerCallback&&g.onStart(()=>h.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,h){Oe(this._queuedCallbacks,g,[]).push(h)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const h=this._player;h.triggerCallback&&h.triggerCallback(g)}}function hs(C){return C&&1===C.nodeType}function Zo(C,g){const h=C.style.display;return C.style.display=g??"none",h}function zr(C,g,h,y,k){const q=[];h.forEach(rt=>q.push(Zo(rt)));const pe=[];y.forEach((rt,At)=>{const bn=new Map;rt.forEach(In=>{const ci=g.computeStyle(At,In,k);bn.set(In,ci),(!ci||0==ci.length)&&(At[wr]=Yr,pe.push(At))}),C.set(At,bn)});let Fe=0;return h.forEach(rt=>Zo(rt,q[Fe++])),pe}function Cs(C,g){const h=new Map;if(C.forEach(Fe=>h.set(Fe,[])),0==g.length)return h;const k=new Set(g),q=new Map;function pe(Fe){if(!Fe)return 1;let rt=q.get(Fe);if(rt)return rt;const At=Fe.parentNode;return rt=h.has(At)?At:k.has(At)?1:pe(At),q.set(Fe,rt),rt}return g.forEach(Fe=>{const rt=pe(Fe);1!==rt&&h.get(rt).push(Fe)}),h}function Zr(C,g){C.classList?.add(g)}function Qo(C,g){C.classList?.remove(g)}function sl(C,g,h){ut(h).onDone(()=>C.processLeaveNode(g))}function Y(C,g){for(let h=0;h<C.length;h++){const y=C[h];y instanceof he.ZE?Y(y.players,g):g.push(y)}}function U(C,g,h){const y=h.get(C);if(!y)return!1;let k=g.get(C);return k?y.forEach(q=>k.add(q)):g.set(C,y),h.delete(C),!0}class _e{constructor(g,h,y){this.bodyNode=g,this._driver=h,this._normalizer=y,this._triggerCache={},this.onRemovalComplete=(k,q)=>{},this._transitionEngine=new br(g,h,y),this._timelineEngine=new mo(g,h,y),this._transitionEngine.onRemovalComplete=(k,q)=>this.onRemovalComplete(k,q)}registerTrigger(g,h,y,k,q){const pe=g+"-"+k;let Fe=this._triggerCache[pe];if(!Fe){const rt=[],bn=Mo(this._driver,q,rt,[]);if(rt.length)throw function An(C,g){return new j.vHH(3404,!1)}();Fe=function Is(C,g,h){return new cs(C,g,h)}(k,bn,this._normalizer),this._triggerCache[pe]=Fe}this._transitionEngine.registerTrigger(h,k,Fe)}register(g,h){this._transitionEngine.register(g,h)}destroy(g,h){this._transitionEngine.destroy(g,h)}onInsert(g,h,y,k){this._transitionEngine.insertNode(g,h,y,k)}onRemove(g,h,y){this._transitionEngine.removeNode(g,h,y)}disableAnimations(g,h){this._transitionEngine.markElementAsDisabled(g,h)}process(g,h,y,k){if("@"==y.charAt(0)){const[q,pe]=pt(y);this._timelineEngine.command(q,h,pe,k)}else this._transitionEngine.trigger(g,h,y,k)}listen(g,h,y,k,q){if("@"==y.charAt(0)){const[pe,Fe]=pt(y);return this._timelineEngine.listen(pe,h,Fe,q)}return this._transitionEngine.listen(g,h,y,k,q)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(g){this._transitionEngine.afterFlushAnimationsDone(g)}}let Wn=(()=>{class C{static#e=this.initialStylesByElement=new WeakMap;constructor(h,y,k){this._element=h,this._startStyles=y,this._endStyles=k,this._state=0;let q=C.initialStylesByElement.get(h);q||C.initialStylesByElement.set(h,q=new Map),this._initialStyles=q}start(){this._state<1&&(this._startStyles&&xe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xe(this._element,this._initialStyles),this._endStyles&&(xe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(C.initialStylesByElement.delete(this._element),this._startStyles&&(Re(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Re(this._element,this._endStyles),this._endStyles=null),xe(this._element,this._initialStyles),this._state=3)}}return C})();function mi(C){let g=null;return C.forEach((h,y)=>{(function Io(C){return"display"===C||"position"===C})(y)&&(g=g||new Map,g.set(y,h))}),g}class Ds{constructor(g,h,y,k){this.element=g,this.keyframes=h,this.options=y,this._specialStyles=k,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=y.duration,this._delay=y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const h=[];return g.forEach(y=>{h.push(Object.fromEntries(y))}),h}_triggerWebAnimation(g,h,y){return g.animate(this._convertKeyframesToObject(h),y)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((y,k)=>{"offset"!==k&&g.set(k,this._finished?y:un(this.element,k))}),this.currentSnapshot=g}triggerCallback(g){const h="start"===g?this._onStartFns:this._onDoneFns;h.forEach(y=>y()),h.length=0}}class fs{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,h){return!1}containsElement(g,h){return et(g,h)}getParentElement(g){return Jt(g)}query(g,h,y){return Dt(g,h,y)}computeStyle(g,h,y){return window.getComputedStyle(g)[h]}animate(g,h,y,k,q,pe=[]){const rt={duration:y,delay:k,fill:0==k?"both":"forwards"};q&&(rt.easing=q);const At=new Map,bn=pe.filter(xi=>xi instanceof Ds);(function Wt(C,g){return 0===C||0===g})(y,k)&&bn.forEach(xi=>{xi.currentSnapshot.forEach((Xn,mn)=>At.set(mn,Xn))});let In=function mt(C){return C.length?C[0]instanceof Map?C:C.map(g=>Jn(g)):[]}(h).map(xi=>Ne(xi));In=function cn(C,g,h){if(h.size&&g.length){let y=g[0],k=[];if(h.forEach((q,pe)=>{y.has(pe)||k.push(pe),y.set(pe,q)}),k.length)for(let q=1;q<g.length;q++){let pe=g[q];k.forEach(Fe=>pe.set(Fe,un(C,Fe)))}}return g}(g,In,At);const ci=function We(C,g){let h=null,y=null;return Array.isArray(g)&&g.length?(h=mi(g[0]),g.length>1&&(y=mi(g[g.length-1]))):g instanceof Map&&(h=mi(g)),h||y?new Wn(C,h,y):null}(g,In);return new Ds(g,In,rt,ci)}}let cc=(()=>{class C extends he._j{constructor(h,y){super(),this._nextAnimationId=0,this._renderer=h.createRenderer(y.body,{id:"0",encapsulation:j.ifc.None,styles:[],data:{animation:[]}})}build(h){const y=this._nextAnimationId.toString();this._nextAnimationId++;const k=Array.isArray(h)?(0,he.vP)(h):h;return ja(this._renderer,null,y,"register",[k]),new uc(y,this._renderer)}static#e=this.\u0275fac=function(y){return new(y||C)(j.LFG(j.FYo),j.LFG(be.K0))};static#t=this.\u0275prov=j.Yz7({token:C,factory:C.\u0275fac})}return C})();class uc extends he.LC{constructor(g,h){super(),this._id=g,this._renderer=h}create(g,h){return new oa(this._id,g,h||{},this._renderer)}}class oa{constructor(g,h,y,k){this.id=g,this.element=h,this._renderer=k,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",y)}_listen(g,h){return this._renderer.listen(this.element,`@@${this.id}:${g}`,h)}_command(g,...h){return ja(this._renderer,this.element,this.id,g,h)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ja(C,g,h,y,k){return C.setProperty(g,`@@${h}:${y}`,k)}const al="@.disabled";let ya=(()=>{class C{constructor(h,y,k){this.delegate=h,this.engine=y,this._zone=k,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,y.onRemovalComplete=(q,pe)=>{const Fe=pe?.parentNode(q);Fe&&pe.removeChild(Fe,q)}}createRenderer(h,y){const q=this.delegate.createRenderer(h,y);if(!(h&&y&&y.data&&y.data.animation)){let bn=this._rendererCache.get(q);return bn||(bn=new ba("",q,this.engine,()=>this._rendererCache.delete(q)),this._rendererCache.set(q,bn)),bn}const pe=y.id,Fe=y.id+"-"+this._currentId;this._currentId++,this.engine.register(Fe,h);const rt=bn=>{Array.isArray(bn)?bn.forEach(rt):this.engine.registerTrigger(pe,Fe,h,bn.name,bn)};return y.data.animation.forEach(rt),new wo(this,Fe,q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(h,y,k){h>=0&&h<this._microtaskId?this._zone.run(()=>y(k)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(q=>{const[pe,Fe]=q;pe(Fe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([y,k]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(y){return new(y||C)(j.LFG(j.FYo),j.LFG(_e),j.LFG(j.R0b))};static#t=this.\u0275prov=j.Yz7({token:C,factory:C.\u0275fac})}return C})();class ba{constructor(g,h,y,k){this.namespaceId=g,this.delegate=h,this.engine=y,this._onDestroy=k}get data(){return this.delegate.data}destroyNode(g){this.delegate.destroyNode?.(g)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(g,h){return this.delegate.createElement(g,h)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,h){this.delegate.appendChild(g,h),this.engine.onInsert(this.namespaceId,h,g,!1)}insertBefore(g,h,y,k=!0){this.delegate.insertBefore(g,h,y),this.engine.onInsert(this.namespaceId,h,g,k)}removeChild(g,h,y){this.engine.onRemove(this.namespaceId,h,this.delegate)}selectRootElement(g,h){return this.delegate.selectRootElement(g,h)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,h,y,k){this.delegate.setAttribute(g,h,y,k)}removeAttribute(g,h,y){this.delegate.removeAttribute(g,h,y)}addClass(g,h){this.delegate.addClass(g,h)}removeClass(g,h){this.delegate.removeClass(g,h)}setStyle(g,h,y,k){this.delegate.setStyle(g,h,y,k)}removeStyle(g,h,y){this.delegate.removeStyle(g,h,y)}setProperty(g,h,y){"@"==h.charAt(0)&&h==al?this.disableAnimations(g,!!y):this.delegate.setProperty(g,h,y)}setValue(g,h){this.delegate.setValue(g,h)}listen(g,h,y){return this.delegate.listen(g,h,y)}disableAnimations(g,h){this.engine.disableAnimations(g,h)}}class wo extends ba{constructor(g,h,y,k,q){super(h,y,k,q),this.factory=g,this.namespaceId=h}setProperty(g,h,y){"@"==h.charAt(0)?"."==h.charAt(1)&&h==al?this.disableAnimations(g,y=void 0===y||!!y):this.engine.process(this.namespaceId,g,h.slice(1),y):this.delegate.setProperty(g,h,y)}listen(g,h,y){if("@"==h.charAt(0)){const k=function Cr(C){switch(C){case"body":return document.body;case"document":return document;case"window":return window;default:return C}}(g);let q=h.slice(1),pe="";return"@"!=q.charAt(0)&&([q,pe]=function xs(C){const g=C.indexOf(".");return[C.substring(0,g),C.slice(g+1)]}(q)),this.engine.listen(this.namespaceId,k,q,pe,Fe=>{this.factory.scheduleListenerCallback(Fe._data||-1,y,Fe)})}return this.delegate.listen(g,h,y)}}const Pr=[{provide:he._j,useClass:cc},{provide:ii,useFactory:function Dr(){return new yo}},{provide:_e,useClass:(()=>{class C extends _e{constructor(h,y,k,q){super(h.body,y,k)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(y){return new(y||C)(j.LFG(be.K0),j.LFG(oi),j.LFG(ii),j.LFG(j.z2F))};static#t=this.\u0275prov=j.Yz7({token:C,factory:C.\u0275fac})}return C})()},{provide:j.FYo,useFactory:function Ts(C,g,h){return new ya(C,g,h)},deps:[c.se,_e,j.R0b]}],za=[{provide:oi,useFactory:()=>new fs},{provide:j.QbO,useValue:"BrowserAnimations"},...Pr],ps=[{provide:oi,useClass:Ln},{provide:j.QbO,useValue:"NoopAnimations"},...Pr];let so=(()=>{class C{static withConfig(h){return{ngModule:C,providers:h.disableAnimations?ps:za}}static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275mod=j.oAB({type:C});static#n=this.\u0275inj=j.cJS({providers:za,imports:[c.b2]})}return C})();var ll=x(2939),Qr=x(2296),cl=x(7131),Ri=x(3680);let xa=(()=>{class C{static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275mod=j.oAB({type:C});static#n=this.\u0275inj=j.cJS({imports:[Ri.BQ,be.ez,cl.Q8,Ri.BQ]})}return C})();var ti=x(2096),Bn=(x(8504),x(9315),x(9397),x(7398)),Li=(x(6306),x(4716)),gr=(x(3020),x(2459)),Dn=x(5592),Lo=x(6328),fc=x(2181),hr=x(4664);class fl{}class Xo{}class As{constructor(g){this.normalizedNames=new Map,this.lazyUpdate=null,g?"string"==typeof g?this.lazyInit=()=>{this.headers=new Map,g.split("\n").forEach(h=>{const y=h.indexOf(":");if(y>0){const k=h.slice(0,y),q=k.toLowerCase(),pe=h.slice(y+1).trim();this.maybeSetNormalizedName(k,q),this.headers.has(q)?this.headers.get(q).push(pe):this.headers.set(q,[pe])}})}:typeof Headers<"u"&&g instanceof Headers?(this.headers=new Map,g.forEach((h,y)=>{this.setHeaderEntries(y,h)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(g).forEach(([h,y])=>{this.setHeaderEntries(h,y)})}:this.headers=new Map}has(g){return this.init(),this.headers.has(g.toLowerCase())}get(g){this.init();const h=this.headers.get(g.toLowerCase());return h&&h.length>0?h[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(g){return this.init(),this.headers.get(g.toLowerCase())||null}append(g,h){return this.clone({name:g,value:h,op:"a"})}set(g,h){return this.clone({name:g,value:h,op:"s"})}delete(g,h){return this.clone({name:g,value:h,op:"d"})}maybeSetNormalizedName(g,h){this.normalizedNames.has(h)||this.normalizedNames.set(h,g)}init(){this.lazyInit&&(this.lazyInit instanceof As?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(g=>this.applyUpdate(g)),this.lazyUpdate=null))}copyFrom(g){g.init(),Array.from(g.headers.keys()).forEach(h=>{this.headers.set(h,g.headers.get(h)),this.normalizedNames.set(h,g.normalizedNames.get(h))})}clone(g){const h=new As;return h.lazyInit=this.lazyInit&&this.lazyInit instanceof As?this.lazyInit:this,h.lazyUpdate=(this.lazyUpdate||[]).concat([g]),h}applyUpdate(g){const h=g.name.toLowerCase();switch(g.op){case"a":case"s":let y=g.value;if("string"==typeof y&&(y=[y]),0===y.length)return;this.maybeSetNormalizedName(g.name,h);const k=("a"===g.op?this.headers.get(h):void 0)||[];k.push(...y),this.headers.set(h,k);break;case"d":const q=g.value;if(q){let pe=this.headers.get(h);if(!pe)return;pe=pe.filter(Fe=>-1===q.indexOf(Fe)),0===pe.length?(this.headers.delete(h),this.normalizedNames.delete(h)):this.headers.set(h,pe)}else this.headers.delete(h),this.normalizedNames.delete(h)}}setHeaderEntries(g,h){const y=(Array.isArray(h)?h:[h]).map(q=>q.toString()),k=g.toLowerCase();this.headers.set(k,y),this.maybeSetNormalizedName(g,k)}forEach(g){this.init(),Array.from(this.normalizedNames.keys()).forEach(h=>g(this.normalizedNames.get(h),this.headers.get(h)))}}class Ui{encodeKey(g){return Ta(g)}encodeValue(g){return Ta(g)}decodeKey(g){return decodeURIComponent(g)}decodeValue(g){return decodeURIComponent(g)}}const Do=/%(\d[a-f0-9])/gi,Xr={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ta(C){return encodeURIComponent(C).replace(Do,(g,h)=>Xr[h]??g)}function ms(C){return`${C}`}class rr{constructor(g={}){if(this.updates=null,this.cloneFrom=null,this.encoder=g.encoder||new Ui,g.fromString){if(g.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function pc(C,g){const h=new Map;return C.length>0&&C.replace(/^\?/,"").split("&").forEach(k=>{const q=k.indexOf("="),[pe,Fe]=-1==q?[g.decodeKey(k),""]:[g.decodeKey(k.slice(0,q)),g.decodeValue(k.slice(q+1))],rt=h.get(pe)||[];rt.push(Fe),h.set(pe,rt)}),h}(g.fromString,this.encoder)}else g.fromObject?(this.map=new Map,Object.keys(g.fromObject).forEach(h=>{const y=g.fromObject[h],k=Array.isArray(y)?y.map(ms):[ms(y)];this.map.set(h,k)})):this.map=null}has(g){return this.init(),this.map.has(g)}get(g){this.init();const h=this.map.get(g);return h?h[0]:null}getAll(g){return this.init(),this.map.get(g)||null}keys(){return this.init(),Array.from(this.map.keys())}append(g,h){return this.clone({param:g,value:h,op:"a"})}appendAll(g){const h=[];return Object.keys(g).forEach(y=>{const k=g[y];Array.isArray(k)?k.forEach(q=>{h.push({param:y,value:q,op:"a"})}):h.push({param:y,value:k,op:"a"})}),this.clone(h)}set(g,h){return this.clone({param:g,value:h,op:"s"})}delete(g,h){return this.clone({param:g,value:h,op:"d"})}toString(){return this.init(),this.keys().map(g=>{const h=this.encoder.encodeKey(g);return this.map.get(g).map(y=>h+"="+this.encoder.encodeValue(y)).join("&")}).filter(g=>""!==g).join("&")}clone(g){const h=new rr({encoder:this.encoder});return h.cloneFrom=this.cloneFrom||this,h.updates=(this.updates||[]).concat(g),h}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(g=>this.map.set(g,this.cloneFrom.map.get(g))),this.updates.forEach(g=>{switch(g.op){case"a":case"s":const h=("a"===g.op?this.map.get(g.param):void 0)||[];h.push(ms(g.value)),this.map.set(g.param,h);break;case"d":if(void 0===g.value){this.map.delete(g.param);break}{let y=this.map.get(g.param)||[];const k=y.indexOf(ms(g.value));-1!==k&&y.splice(k,1),y.length>0?this.map.set(g.param,y):this.map.delete(g.param)}}}),this.cloneFrom=this.updates=null)}}class Et{constructor(){this.map=new Map}set(g,h){return this.map.set(g,h),this}get(g){return this.map.has(g)||this.map.set(g,g.defaultValue()),this.map.get(g)}delete(g){return this.map.delete(g),this}has(g){return this.map.has(g)}keys(){return this.map.keys()}}function gs(C){return typeof ArrayBuffer<"u"&&C instanceof ArrayBuffer}function Vl(C){return typeof Blob<"u"&&C instanceof Blob}function Jr(C){return typeof FormData<"u"&&C instanceof FormData}class R{constructor(g,h,y,k){let q;if(this.url=h,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=g.toUpperCase(),function pl(C){switch(C){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||k?(this.body=void 0!==y?y:null,q=k):q=y,q&&(this.reportProgress=!!q.reportProgress,this.withCredentials=!!q.withCredentials,q.responseType&&(this.responseType=q.responseType),q.headers&&(this.headers=q.headers),q.context&&(this.context=q.context),q.params&&(this.params=q.params)),this.headers||(this.headers=new As),this.context||(this.context=new Et),this.params){const pe=this.params.toString();if(0===pe.length)this.urlWithParams=h;else{const Fe=h.indexOf("?");this.urlWithParams=h+(-1===Fe?"?":Fe<h.length-1?"&":"")+pe}}else this.params=new rr,this.urlWithParams=h}serializeBody(){return null===this.body?null:gs(this.body)||Vl(this.body)||Jr(this.body)||function w(C){return typeof URLSearchParams<"u"&&C instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Jr(this.body)?null:Vl(this.body)?this.body.type||null:gs(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(g={}){const h=g.method||this.method,y=g.url||this.url,k=g.responseType||this.responseType,q=void 0!==g.body?g.body:this.body,pe=void 0!==g.withCredentials?g.withCredentials:this.withCredentials,Fe=void 0!==g.reportProgress?g.reportProgress:this.reportProgress;let rt=g.headers||this.headers,At=g.params||this.params;const bn=g.context??this.context;return void 0!==g.setHeaders&&(rt=Object.keys(g.setHeaders).reduce((In,ci)=>In.set(ci,g.setHeaders[ci]),rt)),g.setParams&&(At=Object.keys(g.setParams).reduce((In,ci)=>In.set(ci,g.setParams[ci]),At)),new R(h,y,q,{params:At,headers:rt,context:bn,reportProgress:Fe,responseType:k,withCredentials:pe})}}var E=function(C){return C[C.Sent=0]="Sent",C[C.UploadProgress=1]="UploadProgress",C[C.ResponseHeader=2]="ResponseHeader",C[C.DownloadProgress=3]="DownloadProgress",C[C.Response=4]="Response",C[C.User=5]="User",C}(E||{});class P{constructor(g,h=200,y="OK"){this.headers=g.headers||new As,this.status=void 0!==g.status?g.status:h,this.statusText=g.statusText||y,this.url=g.url||null,this.ok=this.status>=200&&this.status<300}}class G extends P{constructor(g={}){super(g),this.type=E.ResponseHeader}clone(g={}){return new G({headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class de extends P{constructor(g={}){super(g),this.type=E.Response,this.body=void 0!==g.body?g.body:null}clone(g={}){return new de({body:void 0!==g.body?g.body:this.body,headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class Ue extends P{constructor(g){super(g,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${g.url||"(unknown url)"}`:`Http failure response for ${g.url||"(unknown url)"}: ${g.status} ${g.statusText}`,this.error=g.error||null}}function It(C,g){return{body:g,headers:C.headers,context:C.context,observe:C.observe,params:C.params,reportProgress:C.reportProgress,responseType:C.responseType,withCredentials:C.withCredentials}}let Ct=(()=>{class C{constructor(h){this.handler=h}request(h,y,k={}){let q;if(h instanceof R)q=h;else{let rt,At;rt=k.headers instanceof As?k.headers:new As(k.headers),k.params&&(At=k.params instanceof rr?k.params:new rr({fromObject:k.params})),q=new R(h,y,void 0!==k.body?k.body:null,{headers:rt,context:k.context,params:At,reportProgress:k.reportProgress,responseType:k.responseType||"json",withCredentials:k.withCredentials})}const pe=(0,ti.of)(q).pipe((0,Lo.b)(rt=>this.handler.handle(rt)));if(h instanceof R||"events"===k.observe)return pe;const Fe=pe.pipe((0,fc.h)(rt=>rt instanceof de));switch(k.observe||"body"){case"body":switch(q.responseType){case"arraybuffer":return Fe.pipe((0,Bn.U)(rt=>{if(null!==rt.body&&!(rt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return rt.body}));case"blob":return Fe.pipe((0,Bn.U)(rt=>{if(null!==rt.body&&!(rt.body instanceof Blob))throw new Error("Response is not a Blob.");return rt.body}));case"text":return Fe.pipe((0,Bn.U)(rt=>{if(null!==rt.body&&"string"!=typeof rt.body)throw new Error("Response is not a string.");return rt.body}));default:return Fe.pipe((0,Bn.U)(rt=>rt.body))}case"response":return Fe;default:throw new Error(`Unreachable: unhandled observe type ${k.observe}}`)}}delete(h,y={}){return this.request("DELETE",h,y)}get(h,y={}){return this.request("GET",h,y)}head(h,y={}){return this.request("HEAD",h,y)}jsonp(h,y){return this.request("JSONP",h,{params:(new rr).append(y,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(h,y={}){return this.request("OPTIONS",h,y)}patch(h,y,k={}){return this.request("PATCH",h,It(k,y))}post(h,y,k={}){return this.request("POST",h,It(k,y))}put(h,y,k={}){return this.request("PUT",h,It(k,y))}static#e=this.\u0275fac=function(y){return new(y||C)(j.LFG(fl))};static#t=this.\u0275prov=j.Yz7({token:C,factory:C.\u0275fac})}return C})();function da(C,g){return g(C)}function ha(C,g){return(h,y)=>g.intercept(h,{handle:k=>C(k,y)})}const du=new j.OlP(""),mc=new j.OlP(""),hu=new j.OlP("");function Wo(){let C=null;return(g,h)=>{null===C&&(C=((0,j.f3M)(du,{optional:!0})??[]).reduceRight(ha,da));const y=(0,j.f3M)(j.HDt),k=y.add();return C(g,h).pipe((0,Li.x)(()=>y.remove(k)))}}let Ga=(()=>{class C extends fl{constructor(h,y){super(),this.backend=h,this.injector=y,this.chain=null,this.pendingTasks=(0,j.f3M)(j.HDt)}handle(h){if(null===this.chain){const k=Array.from(new Set([...this.injector.get(mc),...this.injector.get(hu,[])]));this.chain=k.reduceRight((q,pe)=>function Fc(C,g,h){return(y,k)=>h.runInContext(()=>g(y,q=>C(q,k)))}(q,pe,this.injector),da)}const y=this.pendingTasks.add();return this.chain(h,k=>this.backend.handle(k)).pipe((0,Li.x)(()=>this.pendingTasks.remove(y)))}static#e=this.\u0275fac=function(y){return new(y||C)(j.LFG(Xo),j.LFG(j.lqb))};static#t=this.\u0275prov=j.Yz7({token:C,factory:C.\u0275fac})}return C})();const ml=/^\)\]\}',?\n/;let fa=(()=>{class C{constructor(h){this.xhrFactory=h}handle(h){if("JSONP"===h.method)throw new j.vHH(-2800,!1);const y=this.xhrFactory;return(y.\u0275loadImpl?(0,gr.D)(y.\u0275loadImpl()):(0,ti.of)(null)).pipe((0,hr.w)(()=>new Dn.y(q=>{const pe=y.build();if(pe.open(h.method,h.urlWithParams),h.withCredentials&&(pe.withCredentials=!0),h.headers.forEach((mn,Ei)=>pe.setRequestHeader(mn,Ei.join(","))),h.headers.has("Accept")||pe.setRequestHeader("Accept","application/json, text/plain, */*"),!h.headers.has("Content-Type")){const mn=h.detectContentTypeHeader();null!==mn&&pe.setRequestHeader("Content-Type",mn)}if(h.responseType){const mn=h.responseType.toLowerCase();pe.responseType="json"!==mn?mn:"text"}const Fe=h.serializeBody();let rt=null;const At=()=>{if(null!==rt)return rt;const mn=pe.statusText||"OK",Ei=new As(pe.getAllResponseHeaders()),cr=function gc(C){return"responseURL"in C&&C.responseURL?C.responseURL:/^X-Request-URL:/m.test(C.getAllResponseHeaders())?C.getResponseHeader("X-Request-URL"):null}(pe)||h.url;return rt=new G({headers:Ei,status:pe.status,statusText:mn,url:cr}),rt},bn=()=>{let{headers:mn,status:Ei,statusText:cr,url:Ar}=At(),Xi=null;204!==Ei&&(Xi=typeof pe.response>"u"?pe.responseText:pe.response),0===Ei&&(Ei=Xi?200:0);let Er=Ei>=200&&Ei<300;if("json"===h.responseType&&"string"==typeof Xi){const nl=Xi;Xi=Xi.replace(ml,"");try{Xi=""!==Xi?JSON.parse(Xi):null}catch(ts){Xi=nl,Er&&(Er=!1,Xi={error:ts,text:Xi})}}Er?(q.next(new de({body:Xi,headers:mn,status:Ei,statusText:cr,url:Ar||void 0})),q.complete()):q.error(new Ue({error:Xi,headers:mn,status:Ei,statusText:cr,url:Ar||void 0}))},In=mn=>{const{url:Ei}=At(),cr=new Ue({error:mn,status:pe.status||0,statusText:pe.statusText||"Unknown Error",url:Ei||void 0});q.error(cr)};let ci=!1;const xi=mn=>{ci||(q.next(At()),ci=!0);let Ei={type:E.DownloadProgress,loaded:mn.loaded};mn.lengthComputable&&(Ei.total=mn.total),"text"===h.responseType&&pe.responseText&&(Ei.partialText=pe.responseText),q.next(Ei)},Xn=mn=>{let Ei={type:E.UploadProgress,loaded:mn.loaded};mn.lengthComputable&&(Ei.total=mn.total),q.next(Ei)};return pe.addEventListener("load",bn),pe.addEventListener("error",In),pe.addEventListener("timeout",In),pe.addEventListener("abort",In),h.reportProgress&&(pe.addEventListener("progress",xi),null!==Fe&&pe.upload&&pe.upload.addEventListener("progress",Xn)),pe.send(Fe),q.next({type:E.Sent}),()=>{pe.removeEventListener("error",In),pe.removeEventListener("abort",In),pe.removeEventListener("load",bn),pe.removeEventListener("timeout",In),h.reportProgress&&(pe.removeEventListener("progress",xi),null!==Fe&&pe.upload&&pe.upload.removeEventListener("progress",Xn)),pe.readyState!==pe.DONE&&pe.abort()}})))}static#e=this.\u0275fac=function(y){return new(y||C)(j.LFG(be.JF))};static#t=this.\u0275prov=j.Yz7({token:C,factory:C.\u0275fac})}return C})();const Ka=new j.OlP("XSRF_ENABLED"),mu=new j.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Aa=new j.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ar{}let gu=(()=>{class C{constructor(h,y,k){this.doc=h,this.platform=y,this.cookieName=k,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const h=this.doc.cookie||"";return h!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,be.Mx)(h,this.cookieName),this.lastCookieString=h),this.lastToken}static#e=this.\u0275fac=function(y){return new(y||C)(j.LFG(be.K0),j.LFG(j.Lbi),j.LFG(mu))};static#t=this.\u0275prov=j.Yz7({token:C,factory:C.\u0275fac})}return C})();function uo(C,g){const h=C.url.toLowerCase();if(!(0,j.f3M)(Ka)||"GET"===C.method||"HEAD"===C.method||h.startsWith("http://")||h.startsWith("https://"))return g(C);const y=(0,j.f3M)(ar).getToken(),k=(0,j.f3M)(Aa);return null!=y&&!C.headers.has(k)&&(C=C.clone({headers:C.headers.set(k,y)})),g(C)}var Sa=function(C){return C[C.Interceptors=0]="Interceptors",C[C.LegacyInterceptors=1]="LegacyInterceptors",C[C.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",C[C.NoXsrfProtection=3]="NoXsrfProtection",C[C.JsonpSupport=4]="JsonpSupport",C[C.RequestsMadeViaParent=5]="RequestsMadeViaParent",C[C.Fetch=6]="Fetch",C}(Sa||{});function vs(...C){const g=[Ct,fa,Ga,{provide:fl,useExisting:Ga},{provide:Xo,useExisting:fa},{provide:mc,useValue:uo,multi:!0},{provide:Ka,useValue:!0},{provide:ar,useClass:gu}];for(const h of C)g.push(...h.\u0275providers);return(0,j.MR2)(g)}const Ul=new j.OlP("LEGACY_INTERCEPTOR_FN");function Or(){return function Jo(C,g){return{\u0275kind:C,\u0275providers:g}}(Sa.LegacyInterceptors,[{provide:Ul,useFactory:Wo},{provide:mc,useExisting:Ul,multi:!0}])}let zl=(()=>{class C{static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275mod=j.oAB({type:C});static#n=this.\u0275inj=j.cJS({providers:[vs(Or())]})}return C})(),yu=(()=>{class C{static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275mod=j.oAB({type:C});static#n=this.\u0275inj=j.cJS({imports:[Ri.BQ,Ri.BQ]})}return C})(),nd=(()=>{class C{static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275mod=j.oAB({type:C});static#n=this.\u0275inj=j.cJS({})}return C})(),jd=(()=>{class C{static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275mod=j.oAB({type:C});static#n=this.\u0275inj=j.cJS({imports:[Ri.BQ,xa,xa,nd,Ri.BQ]})}return C})();var ho=x(2530),bu=x(2500),Tr=x(3161),Eu=x(8180);let Qa,Rs=(()=>{class C{constructor(){this._focusTrapStack=[]}register(h){this._focusTrapStack=this._focusTrapStack.filter(k=>k!==h);let y=this._focusTrapStack;y.length&&y[y.length-1]._disable(),y.push(h),h._enable()}deregister(h){h._disable();const y=this._focusTrapStack,k=y.indexOf(h);-1!==k&&(y.splice(k,1),y.length&&y[y.length-1]._enable())}static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275prov=j.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();try{Qa=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Qa=!1}let Iu=(()=>{class C{constructor(h){this._platformId=h,this.isBrowser=this._platformId?(0,be.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Qa)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(y){return new(y||C)(j.LFG(j.Lbi))};static#t=this.\u0275prov=j.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),Ps=(()=>{class C{constructor(h){this._platform=h}isDisabled(h){return h.hasAttribute("disabled")}isVisible(h){return function Ec(C){return!!(C.offsetWidth||C.offsetHeight||"function"==typeof C.getClientRects&&C.getClientRects().length)}(h)&&"visible"===getComputedStyle(h).visibility}isTabbable(h){if(!this._platform.isBrowser)return!1;const y=function _l(C){try{return C.frameElement}catch{return null}}(function Vo(C){return C.ownerDocument&&C.ownerDocument.defaultView||window}(h));if(y&&(-1===Hc(y)||!this.isVisible(y)))return!1;let k=h.nodeName.toLowerCase(),q=Hc(h);return h.hasAttribute("contenteditable")?-1!==q:!("iframe"===k||"object"===k||this._platform.WEBKIT&&this._platform.IOS&&!function id(C){let g=C.nodeName.toLowerCase(),h="input"===g&&C.type;return"text"===h||"password"===h||"select"===g||"textarea"===g}(h))&&("audio"===k?!!h.hasAttribute("controls")&&-1!==q:"video"===k?-1!==q&&(null!==q||this._platform.FIREFOX||h.hasAttribute("controls")):h.tabIndex>=0)}isFocusable(h,y){return function Ja(C){return!function wu(C){return function Os(C){return"input"==C.nodeName.toLowerCase()}(C)&&"hidden"==C.type}(C)&&(function zc(C){let g=C.nodeName.toLowerCase();return"input"===g||"select"===g||"button"===g||"textarea"===g}(C)||function es(C){return function vl(C){return"a"==C.nodeName.toLowerCase()}(C)&&C.hasAttribute("href")}(C)||C.hasAttribute("contenteditable")||Xa(C))}(h)&&!this.isDisabled(h)&&(y?.ignoreVisibility||this.isVisible(h))}static#e=this.\u0275fac=function(y){return new(y||C)(j.LFG(Iu))};static#t=this.\u0275prov=j.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Xa(C){if(!C.hasAttribute("tabindex")||void 0===C.tabIndex)return!1;let g=C.getAttribute("tabindex");return"-32768"!=g&&!(!g||isNaN(parseInt(g,10)))}function Hc(C){if(!Xa(C))return null;const g=parseInt(C.getAttribute("tabindex")||"",10);return isNaN(g)?-1:g}function Gl(C){return null!=C&&"false"!=`${C}`}class $c{get enabled(){return this._enabled}set enabled(g){this._enabled=g,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(g,this._startAnchor),this._toggleAnchorTabIndex(g,this._endAnchor))}constructor(g,h,y,k,q=!1){this._element=g,this._checker=h,this._ngZone=y,this._document=k,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,q||this.attachAnchors()}destroy(){const g=this._startAnchor,h=this._endAnchor;g&&(g.removeEventListener("focus",this.startAnchorListener),g.parentNode&&g.parentNode.removeChild(g)),h&&(h.removeEventListener("focus",this.endAnchorListener),h.parentNode&&h.parentNode.removeChild(h)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(g=>{this._executeOnStable(()=>g(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(g=>{this._executeOnStable(()=>g(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(g=>{this._executeOnStable(()=>g(this.focusLastTabbableElement()))})}_getRegionBoundary(g){let h=this._element.querySelectorAll(`[cdk-focus-region-${g}], [cdkFocusRegion${g}], [cdk-focus-${g}]`);for(let y=0;y<h.length;y++)h[y].hasAttribute(`cdk-focus-${g}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${g}', use 'cdkFocusRegion${g}' instead. The deprecated attribute will be removed in 8.0.0.`,h[y]):h[y].hasAttribute(`cdk-focus-region-${g}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${g}', use 'cdkFocusRegion${g}' instead. The deprecated attribute will be removed in 8.0.0.`,h[y]);return"start"==g?h.length?h[0]:this._getFirstTabbableElement(this._element):h.length?h[h.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const g=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(g){if(g.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",g),!this._checker.isFocusable(g)){const h=this._getFirstTabbableElement(g);return h?.focus(),!!h}return g.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const g=this._getRegionBoundary("start");return g&&g.focus(),!!g}focusLastTabbableElement(){const g=this._getRegionBoundary("end");return g&&g.focus(),!!g}hasAttached(){return this._hasAttached}_getFirstTabbableElement(g){if(this._checker.isFocusable(g)&&this._checker.isTabbable(g))return g;let h=g.children||g.childNodes;for(let y=0;y<h.length;y++){let k=h[y].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(h[y]):null;if(k)return k}return null}_getLastTabbableElement(g){if(this._checker.isFocusable(g)&&this._checker.isTabbable(g))return g;let h=g.children||g.childNodes;for(let y=h.length-1;y>=0;y--){let k=h[y].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(h[y]):null;if(k)return k}return null}_createAnchor(){const g=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,g),g.classList.add("cdk-visually-hidden"),g.classList.add("cdk-focus-trap-anchor"),g.setAttribute("aria-hidden","true"),g}_toggleAnchorTabIndex(g,h){g?h.setAttribute("tabindex","0"):h.removeAttribute("tabindex")}toggleAnchors(g){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(g,this._startAnchor),this._toggleAnchorTabIndex(g,this._endAnchor))}_executeOnStable(g){this._ngZone.isStable?g():this._ngZone.onStable.pipe((0,Eu.q)(1)).subscribe(g)}}let Ic=(()=>{class C{constructor(h,y,k){this._checker=h,this._ngZone=y,this._document=k}create(h,y=!1){return new $c(h,this._checker,this._ngZone,this._document,y)}static#e=this.\u0275fac=function(y){return new(y||C)(j.LFG(Ps),j.LFG(j.R0b),j.LFG(be.K0))};static#t=this.\u0275prov=j.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),yl=(()=>{class C{get enabled(){return this.focusTrap.enabled}set enabled(h){this.focusTrap.enabled=Gl(h)}get autoCapture(){return this._autoCapture}set autoCapture(h){this._autoCapture=Gl(h)}constructor(h,y,k){this._elementRef=h,this._focusTrapFactory=y,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=k,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(h){const y=h.autoCapture;y&&!y.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(y){return new(y||C)(j.Y36(j.SBq),j.Y36(Ic),j.Y36(be.K0))};static#t=this.\u0275dir=j.lG2({type:C,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[j.TTD]})}return C})(),Kl=(()=>{class C{static forRoot(){return{ngModule:C,providers:[Rs,Iu,Ps]}}static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275mod=j.oAB({type:C});static#n=this.\u0275inj=j.cJS({imports:[be.ez]})}return C})();var el=x(1835),La=x(4060);const rd=["*"];let bl=(()=>{class C{constructor(){this.hide=()=>{},this.setClass=()=>{}}static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275prov=j.Yz7({token:C,factory:C.\u0275fac,providedIn:"platform"})}return C})(),Xs=(()=>{class C{static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275prov=j.Yz7({token:C,factory:C.\u0275fac,providedIn:"platform"})}return C})();const b={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},p=new j.OlP("override-default-config");let st=(()=>{class C{constructor(h,y,k){this._element=y,this._renderer=k,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},h)}ngOnInit(){this._focusEl=Tr.tj.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),Tr.tj&&Tr.tj.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(Tr.tj.body,"modal-open"),this._renderer.setStyle(Tr.tj.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(h){this.clickStartedInContent=h.target!==this._element.nativeElement}onClickStop(h){this.config.ignoreBackdropClick||"static"===this.config.backdrop||h.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(h){this.isShown&&((27===h.keyCode||"Escape"===h.key)&&h.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,Tr.tj&&Tr.tj.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(Tr.tj.body,"modal-open"),this._renderer.setStyle(Tr.tj.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static#e=this.\u0275fac=function(y){return new(y||C)(j.Y36(Xs),j.Y36(j.SBq),j.Y36(j.Qsj))};static#t=this.\u0275cmp=j.Xpm({type:C,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(y,k){1&y&&j.NdJ("mousedown",function(pe){return k.onClickStarted(pe)})("click",function(pe){return k.onClickStop(pe)})("popstate",function(){return k.onPopState()},!1,j.Jf7)("keydown.esc",function(pe){return k.onEsc(pe)},!1,j.Jf7),2&y&&j.uIk("aria-modal",!0)("aria-labelledby",k.config.ariaLabelledBy)("aria-describedby",k.config.ariaDescribedby)},ngContentSelectors:rd,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(y,k){1&y&&(j.F$t(),j.TgZ(0,"div",0)(1,"div",1),j.Hsn(2),j.qZA()()),2&y&&j.Tol("modal-dialog"+(k.config.class?" "+k.config.class:""))},dependencies:[yl],encapsulation:2})}return C})(),Mt=(()=>{class C{get isAnimated(){return this._isAnimated}set isAnimated(h){this._isAnimated=h}get isShown(){return this._isShown}set isShown(h){this._isShown=h,h?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(h,y){this._isAnimated=!1,this._isShown=!1,this.element=h,this.renderer=y}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),Tr.cQ.reflow(this.element.nativeElement)),this.isShown=!0}static#e=this.\u0275fac=function(y){return new(y||C)(j.Y36(j.SBq),j.Y36(j.Qsj))};static#t=this.\u0275cmp=j.Xpm({type:C,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(y,k){},encapsulation:2})}return C})(),Zi=1,To=(()=>{class C{constructor(h,y,k){this.clf=y,this.modalDefaultOption=k,this.onShow=new j.vpe,this.onShown=new j.vpe,this.onHide=new j.vpe,this.onHidden=new j.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=h.createRenderer(null,null),this.config=k?Object.assign({},b,k):b}show(h,y){this._focusEl=Tr.tj.activeElement,this.modalsCount++,this._createLoaders();const k=y?.id||Zi++;return this.config=this.modalDefaultOption?Object.assign({},b,this.modalDefaultOption,y):Object.assign({},b,y),this.config.id=k,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(h)}hide(h){(1===this.modalsCount||null==h)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=h?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(h),this.removeLoaders(h)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const h=!0===this.config.backdrop||"static"===this.config.backdrop,y=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),h&&y&&(this._backdropLoader.attach(Mt).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(h){const y=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const pe of this.config.providers)y.provide(pe);const k=new bl,q=y.provide({provide:Xs,useValue:this.config}).provide({provide:bl,useValue:k}).attach(st).to("body");return k.hide=()=>this.hide(k.id),k.setClass=pe=>{q.instance&&(q.instance.config.class=pe)},k.onHidden=new j.vpe,k.onHide=new j.vpe,this.copyEvent(y.onBeforeHide,k.onHide),this.copyEvent(y.onHidden,k.onHidden),q.show({content:h,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),q.instance&&(q.instance.level=this.getModalsCount(),k.content=y.getInnerComponent(),k.id=q.instance.config?.id),k}_hideModal(h){if(null!=h){const y=this.loaders.findIndex(q=>q.instance?.config.id===h),k=this.loaders[y];k&&k.hide(h)}else this.loaders.forEach(y=>{y.instance&&y.hide(y.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(h){this.lastDismissReason=h}removeBackdrop(){this._renderer.removeClass(Tr.tj.body,"modal-open"),this._renderer.setStyle(Tr.tj.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=Tr.tj.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){Tr.tj&&(this.originalBodyPadding=parseInt(window.getComputedStyle(Tr.tj.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(Tr.tj.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){Tr.tj.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const h=this._renderer.createElement("div");this._renderer.addClass(h,"modal-scrollbar-measure"),this._renderer.appendChild(Tr.tj.body,h);const y=h.offsetWidth-h.clientWidth;return this._renderer.removeChild(Tr.tj.body,h),y}_createLoaders(){const h=this.clf.createLoader();this.copyEvent(h.onBeforeShow,this.onShow),this.copyEvent(h.onShown,this.onShown),this.copyEvent(h.onBeforeHide,this.onHide),this.copyEvent(h.onHidden,this.onHidden),this.loaders.push(h)}removeLoaders(h){if(null!=h){const y=this.loaders.findIndex(k=>k.instance?.config.id===h);y>=0&&(this.loaders.splice(y,1),this.loaders.forEach((k,q)=>{k.instance&&(k.instance.level=q+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(h,y){h.subscribe(k=>{y.emit(this.lastDismissReason||k)})}static#e=this.\u0275fac=function(y){return new(y||C)(j.LFG(j.FYo),j.LFG(el.oj),j.LFG(p,8))};static#t=this.\u0275prov=j.Yz7({token:C,factory:C.\u0275fac,providedIn:"platform"})}return C})();Kl.forRoot();let wc=(()=>{class C{static forRoot(){return{ngModule:C,providers:[To,el.oj,La.sA]}}static forChild(){return{ngModule:C,providers:[To,el.oj,La.sA]}}static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275mod=j.oAB({type:C});static#n=this.\u0275inj=j.cJS({imports:[Kl]})}return C})(),ql=(()=>{class C{static#e=this.\u0275fac=function(y){return new(y||C)};static#t=this.\u0275mod=j.oAB({type:C,bootstrap:[Je]});static#n=this.\u0275inj=j.cJS({providers:[bu.fc,{provide:Lt.Dh,useValue:Ye}],imports:[c.b2,De,F.UX,ll.ZX,xa,jd,Qr.ot,yu,ue.m,(0,Qe.hX)(()=>(0,Qe.ZF)(Ye)),(0,it.AR)(()=>(0,it.v0)()),(0,qe.Cm)(()=>(0,qe.ad)()),so,F.u5,ho.e7,zl,be.ez,bu.mr.forRoot(),wc.forRoot(),Ce.Is]})}return C})();c.q6().bootstrapModule(ql).catch(C=>console.error(C))},5619:(jt,He,x)=>{x.d(He,{X:()=>F});var c=x(8645);class F extends c.x{constructor(he){super(),this._value=he}get value(){return this.getValue()}_subscribe(he){const j=super._subscribe(he);return!j.closed&&he.next(this._value),j}getValue(){const{hasError:he,thrownError:j,_value:ye}=this;if(he)throw j;return this._throwIfClosed(),ye}next(he){super.next(this._value=he)}}},5592:(jt,He,x)=>{x.d(He,{y:()=>se});var c=x(305),F=x(7394),H=x(4850),he=x(8407),j=x(2653),ye=x(4674),be=x(1441);let se=(()=>{class me{constructor(De){De&&(this._subscribe=De)}lift(De){const Je=new me;return Je.source=this,Je.operator=De,Je}subscribe(De,Je,Qe){const it=function ce(me){return me&&me instanceof c.Lv||function W(me){return me&&(0,ye.m)(me.next)&&(0,ye.m)(me.error)&&(0,ye.m)(me.complete)}(me)&&(0,F.Nn)(me)}(De)?De:new c.Hp(De,Je,Qe);return(0,be.x)(()=>{const{operator:qe,source:Lt}=this;it.add(qe?qe.call(it,Lt):Lt?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(De){try{return this._subscribe(De)}catch(Je){De.error(Je)}}forEach(De,Je){return new(Je=Ee(Je))((Qe,it)=>{const qe=new c.Hp({next:Lt=>{try{De(Lt)}catch(Ye){it(Ye),qe.unsubscribe()}},error:it,complete:Qe});this.subscribe(qe)})}_subscribe(De){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(De)}[H.L](){return this}pipe(...De){return(0,he.U)(De)(this)}toPromise(De){return new(De=Ee(De))((Je,Qe)=>{let it;this.subscribe(qe=>it=qe,qe=>Qe(qe),()=>Je(it))})}}return me.create=Ve=>new me(Ve),me})();function Ee(me){var Ve;return null!==(Ve=me??j.config.Promise)&&void 0!==Ve?Ve:Promise}},8645:(jt,He,x)=>{x.d(He,{x:()=>be});var c=x(5592),F=x(7394);const he=(0,x(2306).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var j=x(9039),ye=x(1441);let be=(()=>{class Ee extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const me=new se(this,this);return me.operator=ce,me}_throwIfClosed(){if(this.closed)throw new he}next(ce){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(ce)}})}error(ce){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:me}=this;for(;me.length;)me.shift().error(ce)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:me,isStopped:Ve,observers:De}=this;return me||Ve?F.Lc:(this.currentObservers=null,De.push(ce),new F.w0(()=>{this.currentObservers=null,(0,j.P)(De,ce)}))}_checkFinalizedStatuses(ce){const{hasError:me,thrownError:Ve,isStopped:De}=this;me?ce.error(Ve):De&&ce.complete()}asObservable(){const ce=new c.y;return ce.source=this,ce}}return Ee.create=(W,ce)=>new se(W,ce),Ee})();class se extends be{constructor(W,ce){super(),this.destination=W,this.source=ce}next(W){var ce,me;null===(me=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===me||me.call(ce,W)}error(W){var ce,me;null===(me=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===me||me.call(ce,W)}complete(){var W,ce;null===(ce=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===ce||ce.call(W)}_subscribe(W){var ce,me;return null!==(me=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(W))&&void 0!==me?me:F.Lc}}},305:(jt,He,x)=>{x.d(He,{Hp:()=>Qe,Lv:()=>me});var c=x(4674),F=x(7394),H=x(2653),he=x(3894),j=x(2420);const ye=Ee("C",void 0,void 0);function Ee(ue,Ce,Me){return{kind:ue,value:Ce,error:Me}}var W=x(7599),ce=x(1441);class me extends F.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,F.Nn)(Ce)&&Ce.add(this)):this.destination=Ye}static create(Ce,Me,Le){return new Qe(Ce,Me,Le)}next(Ce){this.isStopped?Lt(function se(ue){return Ee("N",ue,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?Lt(function be(ue){return Ee("E",void 0,ue)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?Lt(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function De(ue,Ce){return Ve.call(ue,Ce)}class Je{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Me}=this;if(Me.next)try{Me.next(Ce)}catch(Le){it(Le)}}error(Ce){const{partialObserver:Me}=this;if(Me.error)try{Me.error(Ce)}catch(Le){it(Le)}else it(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Me){it(Me)}}}class Qe extends me{constructor(Ce,Me,Le){let Xe;if(super(),(0,c.m)(Ce)||!Ce)Xe={next:Ce??void 0,error:Me??void 0,complete:Le??void 0};else{let Te;this&&H.config.useDeprecatedNextContext?(Te=Object.create(Ce),Te.unsubscribe=()=>this.unsubscribe(),Xe={next:Ce.next&&De(Ce.next,Te),error:Ce.error&&De(Ce.error,Te),complete:Ce.complete&&De(Ce.complete,Te)}):Xe=Ce}this.destination=new Je(Xe)}}function it(ue){H.config.useDeprecatedSynchronousErrorHandling?(0,ce.O)(ue):(0,he.h)(ue)}function Lt(ue,Ce){const{onStoppedNotification:Me}=H.config;Me&&W.z.setTimeout(()=>Me(ue,Ce))}const Ye={closed:!0,next:j.Z,error:function qe(ue){throw ue},complete:j.Z}},7394:(jt,He,x)=>{x.d(He,{Lc:()=>ye,w0:()=>j,Nn:()=>be});var c=x(4674);const H=(0,x(2306).d)(Ee=>function(ce){Ee(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((me,Ve)=>`${Ve+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var he=x(9039);class j{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const De of ce)De.remove(this);else ce.remove(this);const{initialTeardown:me}=this;if((0,c.m)(me))try{me()}catch(De){W=De instanceof H?De.errors:[De]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const De of Ve)try{se(De)}catch(Je){W=W??[],Je instanceof H?W=[...W,...Je.errors]:W.push(Je)}}if(W)throw new H(W)}}add(W){var ce;if(W&&W!==this)if(this.closed)se(W);else{if(W instanceof j){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(W)}}_hasParent(W){const{_parentage:ce}=this;return ce===W||Array.isArray(ce)&&ce.includes(W)}_addParent(W){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(W),ce):ce?[ce,W]:W}_removeParent(W){const{_parentage:ce}=this;ce===W?this._parentage=null:Array.isArray(ce)&&(0,he.P)(ce,W)}remove(W){const{_finalizers:ce}=this;ce&&(0,he.P)(ce,W),W instanceof j&&W._removeParent(this)}}j.EMPTY=(()=>{const Ee=new j;return Ee.closed=!0,Ee})();const ye=j.EMPTY;function be(Ee){return Ee instanceof j||Ee&&"closed"in Ee&&(0,c.m)(Ee.remove)&&(0,c.m)(Ee.add)&&(0,c.m)(Ee.unsubscribe)}function se(Ee){(0,c.m)(Ee)?Ee():Ee.unsubscribe()}},2653:(jt,He,x)=>{x.d(He,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(jt,He,x)=>{x.d(He,{a:()=>W});var c=x(5592),F=x(7453),H=x(2459),he=x(2737),j=x(7400),ye=x(9940),be=x(2714),se=x(8251),Ee=x(7103);function W(...Ve){const De=(0,ye.yG)(Ve),Je=(0,ye.jO)(Ve),{args:Qe,keys:it}=(0,F.D)(Ve);if(0===Qe.length)return(0,H.D)([],De);const qe=new c.y(function ce(Ve,De,Je=he.y){return Qe=>{me(De,()=>{const{length:it}=Ve,qe=new Array(it);let Lt=it,Ye=it;for(let ue=0;ue<it;ue++)me(De,()=>{const Ce=(0,H.D)(Ve[ue],De);let Me=!1;Ce.subscribe((0,se.x)(Qe,Le=>{qe[ue]=Le,Me||(Me=!0,Ye--),Ye||Qe.next(Je(qe.slice()))},()=>{--Lt||Qe.complete()}))},Qe)},Qe)}}(Qe,De,it?Lt=>(0,be.n)(it,Lt):he.y));return Je?qe.pipe((0,j.Z)(Je)):qe}function me(Ve,De,Je){Ve?(0,Ee.f)(Je,Ve,De):De()}},5211:(jt,He,x)=>{x.d(He,{z:()=>j});var c=x(7537),H=x(9940),he=x(2459);function j(...ye){return function F(){return(0,c.J)(1)}()((0,he.D)(ye,(0,H.yG)(ye)))}},4911:(jt,He,x)=>{x.d(He,{P:()=>H});var c=x(5592),F=x(4829);function H(he){return new c.y(j=>{(0,F.Xf)(he()).subscribe(j)})}},6232:(jt,He,x)=>{x.d(He,{E:()=>F});const F=new(x(5592).y)(j=>j.complete())},9315:(jt,He,x)=>{x.d(He,{D:()=>se});var c=x(5592),F=x(7453),H=x(4829),he=x(9940),j=x(8251),ye=x(7400),be=x(2714);function se(...Ee){const W=(0,he.jO)(Ee),{args:ce,keys:me}=(0,F.D)(Ee),Ve=new c.y(De=>{const{length:Je}=ce;if(!Je)return void De.complete();const Qe=new Array(Je);let it=Je,qe=Je;for(let Lt=0;Lt<Je;Lt++){let Ye=!1;(0,H.Xf)(ce[Lt]).subscribe((0,j.x)(De,ue=>{Ye||(Ye=!0,qe--),Qe[Lt]=ue},()=>it--,void 0,()=>{(!it||!Ye)&&(qe||De.next(me?(0,be.n)(me,Qe):Qe),De.complete())}))}});return W?Ve.pipe((0,ye.Z)(W)):Ve}},2459:(jt,He,x)=>{x.d(He,{D:()=>Ce});var c=x(4829),F=x(3093),H=x(5137),ye=x(5592),se=x(4971),Ee=x(4674),W=x(7103);function me(Me,Le){if(!Me)throw new Error("Iterable cannot be null");return new ye.y(Xe=>{(0,W.f)(Xe,Le,()=>{const Te=Me[Symbol.asyncIterator]();(0,W.f)(Xe,Le,()=>{Te.next().then(Nt=>{Nt.done?Xe.complete():Xe.next(Nt.value)})},0,!0)})})}var Ve=x(8382),De=x(4026),Je=x(4266),Qe=x(3664),it=x(5726),qe=x(9853),Lt=x(541);function Ce(Me,Le){return Le?function ue(Me,Le){if(null!=Me){if((0,Ve.c)(Me))return function he(Me,Le){return(0,c.Xf)(Me).pipe((0,H.R)(Le),(0,F.Q)(Le))}(Me,Le);if((0,Je.z)(Me))return function be(Me,Le){return new ye.y(Xe=>{let Te=0;return Le.schedule(function(){Te===Me.length?Xe.complete():(Xe.next(Me[Te++]),Xe.closed||this.schedule())})})}(Me,Le);if((0,De.t)(Me))return function j(Me,Le){return(0,c.Xf)(Me).pipe((0,H.R)(Le),(0,F.Q)(Le))}(Me,Le);if((0,it.D)(Me))return me(Me,Le);if((0,Qe.T)(Me))return function ce(Me,Le){return new ye.y(Xe=>{let Te;return(0,W.f)(Xe,Le,()=>{Te=Me[se.h](),(0,W.f)(Xe,Le,()=>{let Nt,Zt;try{({value:Nt,done:Zt}=Te.next())}catch(nn){return void Xe.error(nn)}Zt?Xe.complete():Xe.next(Nt)},0,!0)}),()=>(0,Ee.m)(Te?.return)&&Te.return()})}(Me,Le);if((0,Lt.L)(Me))return function Ye(Me,Le){return me((0,Lt.Q)(Me),Le)}(Me,Le)}throw(0,qe.z)(Me)}(Me,Le):(0,c.Xf)(Me)}},2438:(jt,He,x)=>{x.d(He,{R:()=>W});var c=x(4829),F=x(5592),H=x(1631),he=x(4266),j=x(4674),ye=x(7400);const be=["addListener","removeListener"],se=["addEventListener","removeEventListener"],Ee=["on","off"];function W(Je,Qe,it,qe){if((0,j.m)(it)&&(qe=it,it=void 0),qe)return W(Je,Qe,it).pipe((0,ye.Z)(qe));const[Lt,Ye]=function De(Je){return(0,j.m)(Je.addEventListener)&&(0,j.m)(Je.removeEventListener)}(Je)?se.map(ue=>Ce=>Je[ue](Qe,Ce,it)):function me(Je){return(0,j.m)(Je.addListener)&&(0,j.m)(Je.removeListener)}(Je)?be.map(ce(Je,Qe)):function Ve(Je){return(0,j.m)(Je.on)&&(0,j.m)(Je.off)}(Je)?Ee.map(ce(Je,Qe)):[];if(!Lt&&(0,he.z)(Je))return(0,H.z)(ue=>W(ue,Qe,it))((0,c.Xf)(Je));if(!Lt)throw new TypeError("Invalid event target");return new F.y(ue=>{const Ce=(...Me)=>ue.next(1<Me.length?Me:Me[0]);return Lt(Ce),()=>Ye(Ce)})}function ce(Je,Qe){return it=>qe=>Je[it](Qe,qe)}},4829:(jt,He,x)=>{x.d(He,{Xf:()=>Ve});var c=x(7582),F=x(4266),H=x(4026),he=x(5592),j=x(8382),ye=x(5726),be=x(9853),se=x(3664),Ee=x(541),W=x(4674),ce=x(3894),me=x(4850);function Ve(ue){if(ue instanceof he.y)return ue;if(null!=ue){if((0,j.c)(ue))return function De(ue){return new he.y(Ce=>{const Me=ue[me.L]();if((0,W.m)(Me.subscribe))return Me.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ue);if((0,F.z)(ue))return function Je(ue){return new he.y(Ce=>{for(let Me=0;Me<ue.length&&!Ce.closed;Me++)Ce.next(ue[Me]);Ce.complete()})}(ue);if((0,H.t)(ue))return function Qe(ue){return new he.y(Ce=>{ue.then(Me=>{Ce.closed||(Ce.next(Me),Ce.complete())},Me=>Ce.error(Me)).then(null,ce.h)})}(ue);if((0,ye.D)(ue))return qe(ue);if((0,se.T)(ue))return function it(ue){return new he.y(Ce=>{for(const Me of ue)if(Ce.next(Me),Ce.closed)return;Ce.complete()})}(ue);if((0,Ee.L)(ue))return function Lt(ue){return qe((0,Ee.Q)(ue))}(ue)}throw(0,be.z)(ue)}function qe(ue){return new he.y(Ce=>{(function Ye(ue,Ce){var Me,Le,Xe,Te;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Me=(0,c.KL)(ue);!(Le=yield Me.next()).done;)if(Ce.next(Le.value),Ce.closed)return}catch(Nt){Xe={error:Nt}}finally{try{Le&&!Le.done&&(Te=Me.return)&&(yield Te.call(Me))}finally{if(Xe)throw Xe.error}}Ce.complete()})})(ue,Ce).catch(Me=>Ce.error(Me))})}},3019:(jt,He,x)=>{x.d(He,{T:()=>ye});var c=x(7537),F=x(4829),H=x(6232),he=x(9940),j=x(2459);function ye(...be){const se=(0,he.yG)(be),Ee=(0,he._6)(be,1/0),W=be;return W.length?1===W.length?(0,F.Xf)(W[0]):(0,c.J)(Ee)((0,j.D)(W,se)):H.E}},2096:(jt,He,x)=>{x.d(He,{of:()=>H});var c=x(9940),F=x(2459);function H(...he){const j=(0,c.yG)(he);return(0,F.D)(he,j)}},8504:(jt,He,x)=>{x.d(He,{_:()=>H});var c=x(5592),F=x(4674);function H(he,j){const ye=(0,F.m)(he)?he:()=>he,be=se=>se.error(ye());return new c.y(j?se=>j.schedule(be,0,se):be)}},8251:(jt,He,x)=>{x.d(He,{x:()=>F});var c=x(305);function F(he,j,ye,be,se){return new H(he,j,ye,be,se)}class H extends c.Lv{constructor(j,ye,be,se,Ee,W){super(j),this.onFinalize=Ee,this.shouldUnsubscribe=W,this._next=ye?function(ce){try{ye(ce)}catch(me){j.error(me)}}:super._next,this._error=se?function(ce){try{se(ce)}catch(me){j.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(ce){j.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var j;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(j=this.onFinalize)||void 0===j||j.call(this))}}}},6306:(jt,He,x)=>{x.d(He,{K:()=>he});var c=x(4829),F=x(8251),H=x(9360);function he(j){return(0,H.e)((ye,be)=>{let W,se=null,Ee=!1;se=ye.subscribe((0,F.x)(be,void 0,void 0,ce=>{W=(0,c.Xf)(j(ce,he(j)(ye))),se?(se.unsubscribe(),se=null,W.subscribe(be)):Ee=!0})),Ee&&(se.unsubscribe(),se=null,W.subscribe(be))})}},6328:(jt,He,x)=>{x.d(He,{b:()=>H});var c=x(1631),F=x(4674);function H(he,j){return(0,F.m)(j)?(0,c.z)(he,j,1):(0,c.z)(he,1)}},3620:(jt,He,x)=>{x.d(He,{b:()=>he});var c=x(6321),F=x(9360),H=x(8251);function he(j,ye=c.z){return(0,F.e)((be,se)=>{let Ee=null,W=null,ce=null;const me=()=>{if(Ee){Ee.unsubscribe(),Ee=null;const De=W;W=null,se.next(De)}};function Ve(){const De=ce+j,Je=ye.now();if(Je<De)return Ee=this.schedule(void 0,De-Je),void se.add(Ee);me()}be.subscribe((0,H.x)(se,De=>{W=De,ce=ye.now(),Ee||(Ee=ye.schedule(Ve,j),se.add(Ee))},()=>{me(),se.complete()},void 0,()=>{W=Ee=null}))})}},3572:(jt,He,x)=>{x.d(He,{d:()=>H});var c=x(9360),F=x(8251);function H(he){return(0,c.e)((j,ye)=>{let be=!1;j.subscribe((0,F.x)(ye,se=>{be=!0,ye.next(se)},()=>{be||ye.next(he),ye.complete()}))})}},3997:(jt,He,x)=>{x.d(He,{x:()=>he});var c=x(2737),F=x(9360),H=x(8251);function he(ye,be=c.y){return ye=ye??j,(0,F.e)((se,Ee)=>{let W,ce=!0;se.subscribe((0,H.x)(Ee,me=>{const Ve=be(me);(ce||!ye(W,Ve))&&(ce=!1,W=Ve,Ee.next(me))}))})}function j(ye,be){return ye===be}},2181:(jt,He,x)=>{x.d(He,{h:()=>H});var c=x(9360),F=x(8251);function H(he,j){return(0,c.e)((ye,be)=>{let se=0;ye.subscribe((0,F.x)(be,Ee=>he.call(j,Ee,se++)&&be.next(Ee)))})}},4716:(jt,He,x)=>{x.d(He,{x:()=>F});var c=x(9360);function F(H){return(0,c.e)((he,j)=>{try{he.subscribe(j)}finally{j.add(H)}})}},1374:(jt,He,x)=>{x.d(He,{P:()=>be});var c=x(6973),F=x(2181),H=x(8180),he=x(3572),j=x(3026),ye=x(2737);function be(se,Ee){const W=arguments.length>=2;return ce=>ce.pipe(se?(0,F.h)((me,Ve)=>se(me,Ve,ce)):ye.y,(0,H.q)(1),W?(0,he.d)(Ee):(0,j.T)(()=>new c.K))}},2032:(jt,He,x)=>{x.d(He,{Z:()=>be});var c=x(6973),F=x(2181),H=x(4418),he=x(3026),j=x(3572),ye=x(2737);function be(se,Ee){const W=arguments.length>=2;return ce=>ce.pipe(se?(0,F.h)((me,Ve)=>se(me,Ve,ce)):ye.y,(0,H.h)(1),W?(0,j.d)(Ee):(0,he.T)(()=>new c.K))}},7398:(jt,He,x)=>{x.d(He,{U:()=>H});var c=x(9360),F=x(8251);function H(he,j){return(0,c.e)((ye,be)=>{let se=0;ye.subscribe((0,F.x)(be,Ee=>{be.next(he.call(j,Ee,se++))}))})}},7537:(jt,He,x)=>{x.d(He,{J:()=>H});var c=x(1631),F=x(2737);function H(he=1/0){return(0,c.z)(F.y,he)}},1631:(jt,He,x)=>{x.d(He,{z:()=>se});var c=x(7398),F=x(4829),H=x(9360),he=x(7103),j=x(8251),be=x(4674);function se(Ee,W,ce=1/0){return(0,be.m)(W)?se((me,Ve)=>(0,c.U)((De,Je)=>W(me,De,Ve,Je))((0,F.Xf)(Ee(me,Ve))),ce):("number"==typeof W&&(ce=W),(0,H.e)((me,Ve)=>function ye(Ee,W,ce,me,Ve,De,Je,Qe){const it=[];let qe=0,Lt=0,Ye=!1;const ue=()=>{Ye&&!it.length&&!qe&&W.complete()},Ce=Le=>qe<me?Me(Le):it.push(Le),Me=Le=>{De&&W.next(Le),qe++;let Xe=!1;(0,F.Xf)(ce(Le,Lt++)).subscribe((0,j.x)(W,Te=>{Ve?.(Te),De?Ce(Te):W.next(Te)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(qe--;it.length&&qe<me;){const Te=it.shift();Je?(0,he.f)(W,Je,()=>Me(Te)):Me(Te)}ue()}catch(Te){W.error(Te)}}))};return Ee.subscribe((0,j.x)(W,Ce,()=>{Ye=!0,ue()})),()=>{Qe?.()}}(me,Ve,Ee,ce)))}},3093:(jt,He,x)=>{x.d(He,{Q:()=>he});var c=x(7103),F=x(9360),H=x(8251);function he(j,ye=0){return(0,F.e)((be,se)=>{be.subscribe((0,H.x)(se,Ee=>(0,c.f)(se,j,()=>se.next(Ee),ye),()=>(0,c.f)(se,j,()=>se.complete(),ye),Ee=>(0,c.f)(se,j,()=>se.error(Ee),ye)))})}},6699:(jt,He,x)=>{x.d(He,{R:()=>he});var c=x(9360),F=x(8251);function he(j,ye){return(0,c.e)(function H(j,ye,be,se,Ee){return(W,ce)=>{let me=be,Ve=ye,De=0;W.subscribe((0,F.x)(ce,Je=>{const Qe=De++;Ve=me?j(Ve,Je,Qe):(me=!0,Je),se&&ce.next(Ve)},Ee&&(()=>{me&&ce.next(Ve),ce.complete()})))}}(j,ye,arguments.length>=2,!0))}},3020:(jt,He,x)=>{x.d(He,{B:()=>j});var c=x(4829),F=x(8645),H=x(305),he=x(9360);function j(be={}){const{connector:se=(()=>new F.x),resetOnError:Ee=!0,resetOnComplete:W=!0,resetOnRefCountZero:ce=!0}=be;return me=>{let Ve,De,Je,Qe=0,it=!1,qe=!1;const Lt=()=>{De?.unsubscribe(),De=void 0},Ye=()=>{Lt(),Ve=Je=void 0,it=qe=!1},ue=()=>{const Ce=Ve;Ye(),Ce?.unsubscribe()};return(0,he.e)((Ce,Me)=>{Qe++,!qe&&!it&&Lt();const Le=Je=Je??se();Me.add(()=>{Qe--,0===Qe&&!qe&&!it&&(De=ye(ue,ce))}),Le.subscribe(Me),!Ve&&Qe>0&&(Ve=new H.Hp({next:Xe=>Le.next(Xe),error:Xe=>{qe=!0,Lt(),De=ye(Ye,Ee,Xe),Le.error(Xe)},complete:()=>{it=!0,Lt(),De=ye(Ye,W),Le.complete()}}),(0,c.Xf)(Ce).subscribe(Ve))})(me)}}function ye(be,se,...Ee){if(!0===se)return void be();if(!1===se)return;const W=new H.Hp({next:()=>{W.unsubscribe(),be()}});return(0,c.Xf)(se(...Ee)).subscribe(W)}},836:(jt,He,x)=>{x.d(He,{T:()=>F});var c=x(2181);function F(H){return(0,c.h)((he,j)=>H<=j)}},7921:(jt,He,x)=>{x.d(He,{O:()=>he});var c=x(5211),F=x(9940),H=x(9360);function he(...j){const ye=(0,F.yG)(j);return(0,H.e)((be,se)=>{(ye?(0,c.z)(j,be,ye):(0,c.z)(j,be)).subscribe(se)})}},5137:(jt,He,x)=>{x.d(He,{R:()=>F});var c=x(9360);function F(H,he=0){return(0,c.e)((j,ye)=>{ye.add(H.schedule(()=>j.subscribe(ye),he))})}},4664:(jt,He,x)=>{x.d(He,{w:()=>he});var c=x(4829),F=x(9360),H=x(8251);function he(j,ye){return(0,F.e)((be,se)=>{let Ee=null,W=0,ce=!1;const me=()=>ce&&!Ee&&se.complete();be.subscribe((0,H.x)(se,Ve=>{Ee?.unsubscribe();let De=0;const Je=W++;(0,c.Xf)(j(Ve,Je)).subscribe(Ee=(0,H.x)(se,Qe=>se.next(ye?ye(Ve,Qe,Je,De++):Qe),()=>{Ee=null,me()}))},()=>{ce=!0,me()}))})}},8180:(jt,He,x)=>{x.d(He,{q:()=>he});var c=x(6232),F=x(9360),H=x(8251);function he(j){return j<=0?()=>c.E:(0,F.e)((ye,be)=>{let se=0;ye.subscribe((0,H.x)(be,Ee=>{++se<=j&&(be.next(Ee),j<=se&&be.complete())}))})}},4418:(jt,He,x)=>{x.d(He,{h:()=>he});var c=x(6232),F=x(9360),H=x(8251);function he(j){return j<=0?()=>c.E:(0,F.e)((ye,be)=>{let se=[];ye.subscribe((0,H.x)(be,Ee=>{se.push(Ee),j<se.length&&se.shift()},()=>{for(const Ee of se)be.next(Ee);be.complete()},void 0,()=>{se=null}))})}},9773:(jt,He,x)=>{x.d(He,{R:()=>j});var c=x(9360),F=x(8251),H=x(4829),he=x(2420);function j(ye){return(0,c.e)((be,se)=>{(0,H.Xf)(ye).subscribe((0,F.x)(se,()=>se.complete(),he.Z)),!se.closed&&be.subscribe(se)})}},9397:(jt,He,x)=>{x.d(He,{b:()=>j});var c=x(4674),F=x(9360),H=x(8251),he=x(2737);function j(ye,be,se){const Ee=(0,c.m)(ye)||be||se?{next:ye,error:be,complete:se}:ye;return Ee?(0,F.e)((W,ce)=>{var me;null===(me=Ee.subscribe)||void 0===me||me.call(Ee);let Ve=!0;W.subscribe((0,H.x)(ce,De=>{var Je;null===(Je=Ee.next)||void 0===Je||Je.call(Ee,De),ce.next(De)},()=>{var De;Ve=!1,null===(De=Ee.complete)||void 0===De||De.call(Ee),ce.complete()},De=>{var Je;Ve=!1,null===(Je=Ee.error)||void 0===Je||Je.call(Ee,De),ce.error(De)},()=>{var De,Je;Ve&&(null===(De=Ee.unsubscribe)||void 0===De||De.call(Ee)),null===(Je=Ee.finalize)||void 0===Je||Je.call(Ee)}))}):he.y}},3026:(jt,He,x)=>{x.d(He,{T:()=>he});var c=x(6973),F=x(9360),H=x(8251);function he(ye=j){return(0,F.e)((be,se)=>{let Ee=!1;be.subscribe((0,H.x)(se,W=>{Ee=!0,se.next(W)},()=>Ee?se.complete():se.error(ye())))})}function j(){return new c.K}},1954:(jt,He,x)=>{x.d(He,{o:()=>j});var c=x(7394);class F extends c.w0{constructor(be,se){super()}schedule(be,se=0){return this}}const H={setInterval(ye,be,...se){const{delegate:Ee}=H;return Ee?.setInterval?Ee.setInterval(ye,be,...se):setInterval(ye,be,...se)},clearInterval(ye){const{delegate:be}=H;return(be?.clearInterval||clearInterval)(ye)},delegate:void 0};var he=x(9039);class j extends F{constructor(be,se){super(be,se),this.scheduler=be,this.work=se,this.pending=!1}schedule(be,se=0){var Ee;if(this.closed)return this;this.state=be;const W=this.id,ce=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(ce,W,se)),this.pending=!0,this.delay=se,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(ce,this.id,se),this}requestAsyncId(be,se,Ee=0){return H.setInterval(be.flush.bind(be,this),Ee)}recycleAsyncId(be,se,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return se;null!=se&&H.clearInterval(se)}execute(be,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(be,se);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,se){let W,Ee=!1;try{this.work(be)}catch(ce){Ee=!0,W=ce||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:be,scheduler:se}=this,{actions:Ee}=se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(Ee,this),null!=be&&(this.id=this.recycleAsyncId(se,be,null)),this.delay=null,super.unsubscribe()}}}},2631:(jt,He,x)=>{x.d(He,{v:()=>H});var c=x(4552);class F{constructor(j,ye=F.now){this.schedulerActionCtor=j,this.now=ye}schedule(j,ye=0,be){return new this.schedulerActionCtor(this,j).schedule(be,ye)}}F.now=c.l.now;class H extends F{constructor(j,ye=F.now){super(j,ye),this.actions=[],this._active=!1}flush(j){const{actions:ye}=this;if(this._active)return void ye.push(j);let be;this._active=!0;do{if(be=j.execute(j.state,j.delay))break}while(j=ye.shift());if(this._active=!1,be){for(;j=ye.shift();)j.unsubscribe();throw be}}}},927:(jt,He,x)=>{x.d(He,{Z:()=>be});var c=x(1954),F=x(7394);const H={schedule(Ee){let W=requestAnimationFrame,ce=cancelAnimationFrame;const{delegate:me}=H;me&&(W=me.requestAnimationFrame,ce=me.cancelAnimationFrame);const Ve=W(De=>{ce=void 0,Ee(De)});return new F.w0(()=>ce?.(Ve))},requestAnimationFrame(...Ee){const{delegate:W}=H;return(W?.requestAnimationFrame||requestAnimationFrame)(...Ee)},cancelAnimationFrame(...Ee){const{delegate:W}=H;return(W?.cancelAnimationFrame||cancelAnimationFrame)(...Ee)},delegate:void 0};var j=x(2631);const be=new class ye extends j.v{flush(W){this._active=!0;const ce=this._scheduled;this._scheduled=void 0;const{actions:me}=this;let Ve;W=W||me.shift();do{if(Ve=W.execute(W.state,W.delay))break}while((W=me[0])&&W.id===ce&&me.shift());if(this._active=!1,Ve){for(;(W=me[0])&&W.id===ce&&me.shift();)W.unsubscribe();throw Ve}}}(class he extends c.o{constructor(W,ce){super(W,ce),this.scheduler=W,this.work=ce}requestAsyncId(W,ce,me=0){return null!==me&&me>0?super.requestAsyncId(W,ce,me):(W.actions.push(this),W._scheduled||(W._scheduled=H.requestAnimationFrame(()=>W.flush(void 0))))}recycleAsyncId(W,ce,me=0){var Ve;if(null!=me?me>0:this.delay>0)return super.recycleAsyncId(W,ce,me);const{actions:De}=W;null!=ce&&(null===(Ve=De[De.length-1])||void 0===Ve?void 0:Ve.id)!==ce&&(H.cancelAnimationFrame(ce),W._scheduled=void 0)}})},6321:(jt,He,x)=>{x.d(He,{P:()=>he,z:()=>H});var c=x(1954);const H=new(x(2631).v)(c.o),he=H},4552:(jt,He,x)=>{x.d(He,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(jt,He,x)=>{x.d(He,{z:()=>c});const c={setTimeout(F,H,...he){const{delegate:j}=c;return j?.setTimeout?j.setTimeout(F,H,...he):setTimeout(F,H,...he)},clearTimeout(F){const{delegate:H}=c;return(H?.clearTimeout||clearTimeout)(F)},delegate:void 0}},4971:(jt,He,x)=>{x.d(He,{h:()=>F});const F=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(jt,He,x)=>{x.d(He,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(jt,He,x)=>{x.d(He,{K:()=>F});const F=(0,x(2306).d)(H=>function(){H(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(jt,He,x)=>{x.d(He,{_6:()=>ye,jO:()=>he,yG:()=>j});var c=x(4674),F=x(671);function H(be){return be[be.length-1]}function he(be){return(0,c.m)(H(be))?be.pop():void 0}function j(be){return(0,F.K)(H(be))?be.pop():void 0}function ye(be,se){return"number"==typeof H(be)?be.pop():se}},7453:(jt,He,x)=>{x.d(He,{D:()=>j});const{isArray:c}=Array,{getPrototypeOf:F,prototype:H,keys:he}=Object;function j(be){if(1===be.length){const se=be[0];if(c(se))return{args:se,keys:null};if(function ye(be){return be&&"object"==typeof be&&F(be)===H}(se)){const Ee=he(se);return{args:Ee.map(W=>se[W]),keys:Ee}}}return{args:be,keys:null}}},9039:(jt,He,x)=>{function c(F,H){if(F){const he=F.indexOf(H);0<=he&&F.splice(he,1)}}x.d(He,{P:()=>c})},2306:(jt,He,x)=>{function c(F){const he=F(j=>{Error.call(j),j.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}x.d(He,{d:()=>c})},2714:(jt,He,x)=>{function c(F,H){return F.reduce((he,j,ye)=>(he[j]=H[ye],he),{})}x.d(He,{n:()=>c})},1441:(jt,He,x)=>{x.d(He,{O:()=>he,x:()=>H});var c=x(2653);let F=null;function H(j){if(c.config.useDeprecatedSynchronousErrorHandling){const ye=!F;if(ye&&(F={errorThrown:!1,error:null}),j(),ye){const{errorThrown:be,error:se}=F;if(F=null,be)throw se}}else j()}function he(j){c.config.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=j)}},7103:(jt,He,x)=>{function c(F,H,he,j=0,ye=!1){const be=H.schedule(function(){he(),ye?F.add(this.schedule(null,j)):this.unsubscribe()},j);if(F.add(be),!ye)return be}x.d(He,{f:()=>c})},2737:(jt,He,x)=>{function c(F){return F}x.d(He,{y:()=>c})},4266:(jt,He,x)=>{x.d(He,{z:()=>c});const c=F=>F&&"number"==typeof F.length&&"function"!=typeof F},5726:(jt,He,x)=>{x.d(He,{D:()=>F});var c=x(4674);function F(H){return Symbol.asyncIterator&&(0,c.m)(H?.[Symbol.asyncIterator])}},4674:(jt,He,x)=>{function c(F){return"function"==typeof F}x.d(He,{m:()=>c})},8382:(jt,He,x)=>{x.d(He,{c:()=>H});var c=x(4850),F=x(4674);function H(he){return(0,F.m)(he[c.L])}},3664:(jt,He,x)=>{x.d(He,{T:()=>H});var c=x(4971),F=x(4674);function H(he){return(0,F.m)(he?.[c.h])}},4026:(jt,He,x)=>{x.d(He,{t:()=>F});var c=x(4674);function F(H){return(0,c.m)(H?.then)}},541:(jt,He,x)=>{x.d(He,{L:()=>he,Q:()=>H});var c=x(7582),F=x(4674);function H(j){return(0,c.FC)(this,arguments,function*(){const be=j.getReader();try{for(;;){const{value:se,done:Ee}=yield(0,c.qq)(be.read());if(Ee)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(se)}}finally{be.releaseLock()}})}function he(j){return(0,F.m)(j?.getReader)}},671:(jt,He,x)=>{x.d(He,{K:()=>F});var c=x(4674);function F(H){return H&&(0,c.m)(H.schedule)}},9360:(jt,He,x)=>{x.d(He,{A:()=>F,e:()=>H});var c=x(4674);function F(he){return(0,c.m)(he?.lift)}function H(he){return j=>{if(F(j))return j.lift(function(ye){try{return he(ye,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(jt,He,x)=>{x.d(He,{Z:()=>he});var c=x(7398);const{isArray:F}=Array;function he(j){return(0,c.U)(ye=>function H(j,ye){return F(ye)?j(...ye):j(ye)}(j,ye))}},2420:(jt,He,x)=>{function c(){}x.d(He,{Z:()=>c})},8407:(jt,He,x)=>{x.d(He,{U:()=>H,z:()=>F});var c=x(2737);function F(...he){return H(he)}function H(he){return 0===he.length?c.y:1===he.length?he[0]:function(ye){return he.reduce((be,se)=>se(be),ye)}}},3894:(jt,He,x)=>{x.d(He,{h:()=>H});var c=x(2653),F=x(7599);function H(he){F.z.setTimeout(()=>{const{onUnhandledError:j}=c.config;if(!j)throw he;j(he)})}},9853:(jt,He,x)=>{function c(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(He,{z:()=>c})},6825:(jt,He,x)=>{x.d(He,{IO:()=>Je,LC:()=>F,SB:()=>Ee,X$:()=>he,ZE:()=>qe,ZN:()=>it,_j:()=>c,eR:()=>ce,jt:()=>j,k1:()=>Lt,l3:()=>H,oB:()=>se,pV:()=>Ve,ru:()=>ye,vP:()=>be});class c{}class F{}const H="*";function he(Ye,ue){return{type:7,name:Ye,definitions:ue,options:{}}}function j(Ye,ue=null){return{type:4,styles:ue,timings:Ye}}function ye(Ye,ue=null){return{type:3,steps:Ye,options:ue}}function be(Ye,ue=null){return{type:2,steps:Ye,options:ue}}function se(Ye){return{type:6,styles:Ye,offset:null}}function Ee(Ye,ue,Ce){return{type:0,name:Ye,styles:ue,options:Ce}}function ce(Ye,ue,Ce=null){return{type:1,expr:Ye,animation:ue,options:Ce}}function Ve(Ye=null){return{type:9,options:Ye}}function Je(Ye,ue,Ce=null){return{type:11,selector:Ye,animation:ue,options:Ce}}class it{constructor(ue=0,Ce=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ue+Ce}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ue=>ue()),this._onDoneFns=[])}onStart(ue){this._originalOnStartFns.push(ue),this._onStartFns.push(ue)}onDone(ue){this._originalOnDoneFns.push(ue),this._onDoneFns.push(ue)}onDestroy(ue){this._onDestroyFns.push(ue)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ue=>ue()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ue=>ue()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ue){this._position=this.totalTime?ue*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ue){const Ce="start"==ue?this._onStartFns:this._onDoneFns;Ce.forEach(Me=>Me()),Ce.length=0}}class qe{constructor(ue){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ue;let Ce=0,Me=0,Le=0;const Xe=this.players.length;0==Xe?queueMicrotask(()=>this._onFinish()):this.players.forEach(Te=>{Te.onDone(()=>{++Ce==Xe&&this._onFinish()}),Te.onDestroy(()=>{++Me==Xe&&this._onDestroy()}),Te.onStart(()=>{++Le==Xe&&this._onStart()})}),this.totalTime=this.players.reduce((Te,Nt)=>Math.max(Te,Nt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ue=>ue()),this._onDoneFns=[])}init(){this.players.forEach(ue=>ue.init())}onStart(ue){this._onStartFns.push(ue)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ue=>ue()),this._onStartFns=[])}onDone(ue){this._onDoneFns.push(ue)}onDestroy(ue){this._onDestroyFns.push(ue)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ue=>ue.play())}pause(){this.players.forEach(ue=>ue.pause())}restart(){this.players.forEach(ue=>ue.restart())}finish(){this._onFinish(),this.players.forEach(ue=>ue.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ue=>ue.destroy()),this._onDestroyFns.forEach(ue=>ue()),this._onDestroyFns=[])}reset(){this.players.forEach(ue=>ue.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ue){const Ce=ue*this.totalTime;this.players.forEach(Me=>{const Le=Me.totalTime?Math.min(1,Ce/Me.totalTime):1;Me.setPosition(Le)})}getPosition(){const ue=this.players.reduce((Ce,Me)=>null===Ce||Me.totalTime>Ce.totalTime?Me:Ce,null);return null!=ue?ue.getPosition():0}beforeDestroy(){this.players.forEach(ue=>{ue.beforeDestroy&&ue.beforeDestroy()})}triggerCallback(ue){const Ce="start"==ue?this._onStartFns:this._onDoneFns;Ce.forEach(Me=>Me()),Ce.length=0}}const Lt="!"},4300:(jt,He,x)=>{x.d(He,{Kd:()=>Vt,X6:()=>ri,ic:()=>hn,qV:()=>Nn,qm:()=>an,rt:()=>kn,tE:()=>Oe,yG:()=>wi});var c=x(6814),F=x(5879),H=x(2831),he=x(5619),j=x(8645),ye=x(2096),be=x(6028),se=x(8180),Ee=x(836),W=x(3997),ce=x(9773),me=x(2495),Ve=x(7131),De=x(1088);let hn=(()=>{class gt{constructor(Ae){this._platform=Ae}isDisabled(Ae){return Ae.hasAttribute("disabled")}isVisible(Ae){return function Hn(gt){return!!(gt.offsetWidth||gt.offsetHeight||"function"==typeof gt.getClientRects&&gt.getClientRects().length)}(Ae)&&"visible"===getComputedStyle(Ae).visibility}isTabbable(Ae){if(!this._platform.isBrowser)return!1;const et=function Un(gt){try{return gt.frameElement}catch{return null}}(function Ge(gt){return gt.ownerDocument&&gt.ownerDocument.defaultView||window}(Ae));if(et&&(-1===je(et)||!this.isVisible(et)))return!1;let Dt=Ae.nodeName.toLowerCase(),Qt=je(Ae);return Ae.hasAttribute("contenteditable")?-1!==Qt:!("iframe"===Dt||"object"===Dt||this._platform.WEBKIT&&this._platform.IOS&&!function Ke(gt){let Ze=gt.nodeName.toLowerCase(),Ae="input"===Ze&&gt.type;return"text"===Ae||"password"===Ae||"select"===Ze||"textarea"===Ze}(Ae))&&("audio"===Dt?!!Ae.hasAttribute("controls")&&-1!==Qt:"video"===Dt?-1!==Qt&&(null!==Qt||this._platform.FIREFOX||Ae.hasAttribute("controls")):Ae.tabIndex>=0)}isFocusable(Ae,et){return function $e(gt){return!function ft(gt){return function oe(gt){return"input"==gt.nodeName.toLowerCase()}(gt)&&"hidden"==gt.type}(gt)&&(function on(gt){let Ze=gt.nodeName.toLowerCase();return"input"===Ze||"select"===Ze||"button"===Ze||"textarea"===Ze}(gt)||function ht(gt){return function ve(gt){return"a"==gt.nodeName.toLowerCase()}(gt)&&gt.hasAttribute("href")}(gt)||gt.hasAttribute("contenteditable")||Pe(gt))}(Ae)&&!this.isDisabled(Ae)&&(et?.ignoreVisibility||this.isVisible(Ae))}static#e=this.\u0275fac=function(et){return new(et||gt)(F.LFG(H.t4))};static#t=this.\u0275prov=F.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"})}return gt})();function Pe(gt){if(!gt.hasAttribute("tabindex")||void 0===gt.tabIndex)return!1;let Ze=gt.getAttribute("tabindex");return!(!Ze||isNaN(parseInt(Ze,10)))}function je(gt){if(!Pe(gt))return null;const Ze=parseInt(gt.getAttribute("tabindex")||"",10);return isNaN(Ze)?-1:Ze}class kt{get enabled(){return this._enabled}set enabled(Ze){this._enabled=Ze,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ze,this._startAnchor),this._toggleAnchorTabIndex(Ze,this._endAnchor))}constructor(Ze,Ae,et,Dt,Qt=!1){this._element=Ze,this._checker=Ae,this._ngZone=et,this._document=Dt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Qt||this.attachAnchors()}destroy(){const Ze=this._startAnchor,Ae=this._endAnchor;Ze&&(Ze.removeEventListener("focus",this.startAnchorListener),Ze.remove()),Ae&&(Ae.removeEventListener("focus",this.endAnchorListener),Ae.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Ze){return new Promise(Ae=>{this._executeOnStable(()=>Ae(this.focusInitialElement(Ze)))})}focusFirstTabbableElementWhenReady(Ze){return new Promise(Ae=>{this._executeOnStable(()=>Ae(this.focusFirstTabbableElement(Ze)))})}focusLastTabbableElementWhenReady(Ze){return new Promise(Ae=>{this._executeOnStable(()=>Ae(this.focusLastTabbableElement(Ze)))})}_getRegionBoundary(Ze){const Ae=this._element.querySelectorAll(`[cdk-focus-region-${Ze}], [cdkFocusRegion${Ze}], [cdk-focus-${Ze}]`);return"start"==Ze?Ae.length?Ae[0]:this._getFirstTabbableElement(this._element):Ae.length?Ae[Ae.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Ze){const Ae=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Ae){if(!this._checker.isFocusable(Ae)){const et=this._getFirstTabbableElement(Ae);return et?.focus(Ze),!!et}return Ae.focus(Ze),!0}return this.focusFirstTabbableElement(Ze)}focusFirstTabbableElement(Ze){const Ae=this._getRegionBoundary("start");return Ae&&Ae.focus(Ze),!!Ae}focusLastTabbableElement(Ze){const Ae=this._getRegionBoundary("end");return Ae&&Ae.focus(Ze),!!Ae}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Ze){if(this._checker.isFocusable(Ze)&&this._checker.isTabbable(Ze))return Ze;const Ae=Ze.children;for(let et=0;et<Ae.length;et++){const Dt=Ae[et].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Ae[et]):null;if(Dt)return Dt}return null}_getLastTabbableElement(Ze){if(this._checker.isFocusable(Ze)&&this._checker.isTabbable(Ze))return Ze;const Ae=Ze.children;for(let et=Ae.length-1;et>=0;et--){const Dt=Ae[et].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Ae[et]):null;if(Dt)return Dt}return null}_createAnchor(){const Ze=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Ze),Ze.classList.add("cdk-visually-hidden"),Ze.classList.add("cdk-focus-trap-anchor"),Ze.setAttribute("aria-hidden","true"),Ze}_toggleAnchorTabIndex(Ze,Ae){Ze?Ae.setAttribute("tabindex","0"):Ae.removeAttribute("tabindex")}toggleAnchors(Ze){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ze,this._startAnchor),this._toggleAnchorTabIndex(Ze,this._endAnchor))}_executeOnStable(Ze){this._ngZone.isStable?Ze():this._ngZone.onStable.pipe((0,se.q)(1)).subscribe(Ze)}}let Nn=(()=>{class gt{constructor(Ae,et,Dt){this._checker=Ae,this._ngZone=et,this._document=Dt}create(Ae,et=!1){return new kt(Ae,this._checker,this._ngZone,this._document,et)}static#e=this.\u0275fac=function(et){return new(et||gt)(F.LFG(hn),F.LFG(F.R0b),F.LFG(c.K0))};static#t=this.\u0275prov=F.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"})}return gt})();function ri(gt){return 0===gt.buttons||0===gt.offsetX&&0===gt.offsetY}function wi(gt){const Ze=gt.touches&&gt.touches[0]||gt.changedTouches&&gt.changedTouches[0];return!(!Ze||-1!==Ze.identifier||null!=Ze.radiusX&&1!==Ze.radiusX||null!=Ze.radiusY&&1!==Ze.radiusY)}const Si=new F.OlP("cdk-input-modality-detector-options"),Ni={ignoreKeys:[be.zL,be.jx,be.b2,be.MW,be.JU]},ge=(0,H.i$)({passive:!0,capture:!0});let _t=(()=>{class gt{get mostRecentModality(){return this._modality.value}constructor(Ae,et,Dt,Qt){this._platform=Ae,this._mostRecentTarget=null,this._modality=new he.X(null),this._lastTouchMs=0,this._onKeydown=Ln=>{this._options?.ignoreKeys?.some(oi=>oi===Ln.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,H.sA)(Ln))},this._onMousedown=Ln=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ri(Ln)?"keyboard":"mouse"),this._mostRecentTarget=(0,H.sA)(Ln))},this._onTouchstart=Ln=>{wi(Ln)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,H.sA)(Ln))},this._options={...Ni,...Qt},this.modalityDetected=this._modality.pipe((0,Ee.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,W.x)()),Ae.isBrowser&&et.runOutsideAngular(()=>{Dt.addEventListener("keydown",this._onKeydown,ge),Dt.addEventListener("mousedown",this._onMousedown,ge),Dt.addEventListener("touchstart",this._onTouchstart,ge)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ge),document.removeEventListener("mousedown",this._onMousedown,ge),document.removeEventListener("touchstart",this._onTouchstart,ge))}static#e=this.\u0275fac=function(et){return new(et||gt)(F.LFG(H.t4),F.LFG(F.R0b),F.LFG(c.K0),F.LFG(Si,8))};static#t=this.\u0275prov=F.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"})}return gt})();const vt=new F.OlP("liveAnnouncerElement",{providedIn:"root",factory:function ct(){return null}}),Ot=new F.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ut=0,Vt=(()=>{class gt{constructor(Ae,et,Dt,Qt){this._ngZone=et,this._defaultOptions=Qt,this._document=Dt,this._liveElement=Ae||this._createLiveElement()}announce(Ae,...et){const Dt=this._defaultOptions;let Qt,Ln;return 1===et.length&&"number"==typeof et[0]?Ln=et[0]:[Qt,Ln]=et,this.clear(),clearTimeout(this._previousTimeout),Qt||(Qt=Dt&&Dt.politeness?Dt.politeness:"polite"),null==Ln&&Dt&&(Ln=Dt.duration),this._liveElement.setAttribute("aria-live",Qt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(oi=>this._currentResolve=oi)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Ae,"number"==typeof Ln&&(this._previousTimeout=setTimeout(()=>this.clear(),Ln)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Ae="cdk-live-announcer-element",et=this._document.getElementsByClassName(Ae),Dt=this._document.createElement("div");for(let Qt=0;Qt<et.length;Qt++)et[Qt].remove();return Dt.classList.add(Ae),Dt.classList.add("cdk-visually-hidden"),Dt.setAttribute("aria-atomic","true"),Dt.setAttribute("aria-live","polite"),Dt.id="cdk-live-announcer-"+ut++,this._document.body.appendChild(Dt),Dt}_exposeAnnouncerToModals(Ae){const et=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Dt=0;Dt<et.length;Dt++){const Qt=et[Dt],Ln=Qt.getAttribute("aria-owns");Ln?-1===Ln.indexOf(Ae)&&Qt.setAttribute("aria-owns",Ln+" "+Ae):Qt.setAttribute("aria-owns",Ae)}}static#e=this.\u0275fac=function(et){return new(et||gt)(F.LFG(vt,8),F.LFG(F.R0b),F.LFG(c.K0),F.LFG(Ot,8))};static#t=this.\u0275prov=F.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"})}return gt})();const yt=new F.OlP("cdk-focus-monitor-default-options"),xt=(0,H.i$)({passive:!0,capture:!0});let Oe=(()=>{class gt{constructor(Ae,et,Dt,Qt,Ln){this._ngZone=Ae,this._platform=et,this._inputModalityDetector=Dt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new j.x,this._rootNodeFocusAndBlurListener=oi=>{for(let zt=(0,H.sA)(oi);zt;zt=zt.parentElement)"focus"===oi.type?this._onFocus(oi,zt):this._onBlur(oi,zt)},this._document=Qt,this._detectionMode=Ln?.detectionMode||0}monitor(Ae,et=!1){const Dt=(0,me.fI)(Ae);if(!this._platform.isBrowser||1!==Dt.nodeType)return(0,ye.of)();const Qt=(0,H.kV)(Dt)||this._getDocument(),Ln=this._elementInfo.get(Dt);if(Ln)return et&&(Ln.checkChildren=!0),Ln.subject;const oi={checkChildren:et,subject:new j.x,rootNode:Qt};return this._elementInfo.set(Dt,oi),this._registerGlobalListeners(oi),oi.subject}stopMonitoring(Ae){const et=(0,me.fI)(Ae),Dt=this._elementInfo.get(et);Dt&&(Dt.subject.complete(),this._setClasses(et),this._elementInfo.delete(et),this._removeGlobalListeners(Dt))}focusVia(Ae,et,Dt){const Qt=(0,me.fI)(Ae);Qt===this._getDocument().activeElement?this._getClosestElementsInfo(Qt).forEach(([oi,ki])=>this._originChanged(oi,et,ki)):(this._setOrigin(et),"function"==typeof Qt.focus&&Qt.focus(Dt))}ngOnDestroy(){this._elementInfo.forEach((Ae,et)=>this.stopMonitoring(et))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Ae){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ae)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Ae&&this._isLastInteractionFromInputLabel(Ae)?"mouse":"program"}_shouldBeAttributedToTouch(Ae){return 1===this._detectionMode||!!Ae?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Ae,et){Ae.classList.toggle("cdk-focused",!!et),Ae.classList.toggle("cdk-touch-focused","touch"===et),Ae.classList.toggle("cdk-keyboard-focused","keyboard"===et),Ae.classList.toggle("cdk-mouse-focused","mouse"===et),Ae.classList.toggle("cdk-program-focused","program"===et)}_setOrigin(Ae,et=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ae,this._originFromTouchInteraction="touch"===Ae&&et,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ae,et){const Dt=this._elementInfo.get(et),Qt=(0,H.sA)(Ae);!Dt||!Dt.checkChildren&&et!==Qt||this._originChanged(et,this._getFocusOrigin(Qt),Dt)}_onBlur(Ae,et){const Dt=this._elementInfo.get(et);!Dt||Dt.checkChildren&&Ae.relatedTarget instanceof Node&&et.contains(Ae.relatedTarget)||(this._setClasses(et),this._emitOrigin(Dt,null))}_emitOrigin(Ae,et){Ae.subject.observers.length&&this._ngZone.run(()=>Ae.subject.next(et))}_registerGlobalListeners(Ae){if(!this._platform.isBrowser)return;const et=Ae.rootNode,Dt=this._rootNodeFocusListenerCount.get(et)||0;Dt||this._ngZone.runOutsideAngular(()=>{et.addEventListener("focus",this._rootNodeFocusAndBlurListener,xt),et.addEventListener("blur",this._rootNodeFocusAndBlurListener,xt)}),this._rootNodeFocusListenerCount.set(et,Dt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ce.R)(this._stopInputModalityDetector)).subscribe(Qt=>{this._setOrigin(Qt,!0)}))}_removeGlobalListeners(Ae){const et=Ae.rootNode;if(this._rootNodeFocusListenerCount.has(et)){const Dt=this._rootNodeFocusListenerCount.get(et);Dt>1?this._rootNodeFocusListenerCount.set(et,Dt-1):(et.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xt),et.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xt),this._rootNodeFocusListenerCount.delete(et))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ae,et,Dt){this._setClasses(Ae,et),this._emitOrigin(Dt,et),this._lastFocusOrigin=et}_getClosestElementsInfo(Ae){const et=[];return this._elementInfo.forEach((Dt,Qt)=>{(Qt===Ae||Dt.checkChildren&&Qt.contains(Ae))&&et.push([Qt,Dt])}),et}_isLastInteractionFromInputLabel(Ae){const{_mostRecentTarget:et,mostRecentModality:Dt}=this._inputModalityDetector;if("mouse"!==Dt||!et||et===Ae||"INPUT"!==Ae.nodeName&&"TEXTAREA"!==Ae.nodeName||Ae.disabled)return!1;const Qt=Ae.labels;if(Qt)for(let Ln=0;Ln<Qt.length;Ln++)if(Qt[Ln].contains(et))return!0;return!1}static#e=this.\u0275fac=function(et){return new(et||gt)(F.LFG(F.R0b),F.LFG(H.t4),F.LFG(_t),F.LFG(c.K0,8),F.LFG(yt,8))};static#t=this.\u0275prov=F.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"})}return gt})();const at="cdk-high-contrast-black-on-white",Jt="cdk-high-contrast-white-on-black",Ft="cdk-high-contrast-active";let an=(()=>{class gt{constructor(Ae,et){this._platform=Ae,this._document=et,this._breakpointSubscription=(0,F.f3M)(De.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Ae=this._document.createElement("div");Ae.style.backgroundColor="rgb(1,2,3)",Ae.style.position="absolute",this._document.body.appendChild(Ae);const et=this._document.defaultView||window,Dt=et&&et.getComputedStyle?et.getComputedStyle(Ae):null,Qt=(Dt&&Dt.backgroundColor||"").replace(/ /g,"");switch(Ae.remove(),Qt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ae=this._document.body.classList;Ae.remove(Ft,at,Jt),this._hasCheckedHighContrastMode=!0;const et=this.getHighContrastMode();1===et?Ae.add(Ft,at):2===et&&Ae.add(Ft,Jt)}}static#e=this.\u0275fac=function(et){return new(et||gt)(F.LFG(H.t4),F.LFG(c.K0))};static#t=this.\u0275prov=F.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"})}return gt})(),kn=(()=>{class gt{constructor(Ae){Ae._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(et){return new(et||gt)(F.LFG(an))};static#t=this.\u0275mod=F.oAB({type:gt});static#n=this.\u0275inj=F.cJS({imports:[Ve.Q8]})}return gt})()},9388:(jt,He,x)=>{x.d(He,{Is:()=>be,vT:()=>Ee});var c=x(5879),F=x(6814);const H=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function he(){return(0,c.f3M)(F.K0)}}),j=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let be=(()=>{class W{constructor(me){this.value="ltr",this.change=new c.vpe,me&&(this.value=function ye(W){const ce=W?.toLowerCase()||"";return"auto"===ce&&typeof navigator<"u"&&navigator?.language?j.test(navigator.language)?"rtl":"ltr":"rtl"===ce?"rtl":"ltr"}((me.body?me.body.dir:null)||(me.documentElement?me.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(Ve){return new(Ve||W)(c.LFG(H,8))};static#t=this.\u0275prov=c.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),Ee=(()=>{class W{static#e=this.\u0275fac=function(Ve){return new(Ve||W)};static#t=this.\u0275mod=c.oAB({type:W});static#n=this.\u0275inj=c.cJS({})}return W})()},2495:(jt,He,x)=>{x.d(He,{Eq:()=>j,HM:()=>ye,Ig:()=>F,fI:()=>be,su:()=>H});var c=x(5879);function F(Ee){return null!=Ee&&"false"!=`${Ee}`}function H(Ee,W=0){return function he(Ee){return!isNaN(parseFloat(Ee))&&!isNaN(Number(Ee))}(Ee)?Number(Ee):W}function j(Ee){return Array.isArray(Ee)?Ee:[Ee]}function ye(Ee){return null==Ee?"":"string"==typeof Ee?Ee:`${Ee}px`}function be(Ee){return Ee instanceof c.SBq?Ee.nativeElement:Ee}},6028:(jt,He,x)=>{x.d(He,{JU:()=>ye,MW:()=>xt,Vb:()=>Fr,b2:()=>er,hY:()=>ce,jx:()=>be,zL:()=>se});const ye=16,be=17,se=18,ce=27,xt=91,er=224;function Fr(vn,...tn){return tn.length?tn.some(Mn=>vn[Mn]):vn.altKey||vn.shiftKey||vn.ctrlKey||vn.metaKey}},1088:(jt,He,x)=>{x.d(He,{Yg:()=>Ye,u3:()=>Ce});var c=x(5879),F=x(2495),H=x(8645),he=x(2572),j=x(5211),ye=x(5592),be=x(8180),se=x(836),Ee=x(3620),W=x(7398),ce=x(7921),me=x(9773),Ve=x(2831);const Je=new Set;let Qe,it=(()=>{class Me{constructor(Xe,Te){this._platform=Xe,this._nonce=Te,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Lt}matchMedia(Xe){return(this._platform.WEBKIT||this._platform.BLINK)&&function qe(Me,Le){if(!Je.has(Me))try{Qe||(Qe=document.createElement("style"),Le&&(Qe.nonce=Le),Qe.setAttribute("type","text/css"),document.head.appendChild(Qe)),Qe.sheet&&(Qe.sheet.insertRule(`@media ${Me} {body{ }}`,0),Je.add(Me))}catch(Xe){console.error(Xe)}}(Xe,this._nonce),this._matchMedia(Xe)}static#e=this.\u0275fac=function(Te){return new(Te||Me)(c.LFG(Ve.t4),c.LFG(c.Ojb,8))};static#t=this.\u0275prov=c.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})();function Lt(Me){return{matches:"all"===Me||""===Me,media:Me,addListener:()=>{},removeListener:()=>{}}}let Ye=(()=>{class Me{constructor(Xe,Te){this._mediaMatcher=Xe,this._zone=Te,this._queries=new Map,this._destroySubject=new H.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Xe){return ue((0,F.Eq)(Xe)).some(Nt=>this._registerQuery(Nt).mql.matches)}observe(Xe){const Nt=ue((0,F.Eq)(Xe)).map(nn=>this._registerQuery(nn).observable);let Zt=(0,he.a)(Nt);return Zt=(0,j.z)(Zt.pipe((0,be.q)(1)),Zt.pipe((0,se.T)(1),(0,Ee.b)(0))),Zt.pipe((0,W.U)(nn=>{const hn={matches:!1,breakpoints:{}};return nn.forEach(({matches:Un,query:Hn})=>{hn.matches=hn.matches||Un,hn.breakpoints[Hn]=Un}),hn}))}_registerQuery(Xe){if(this._queries.has(Xe))return this._queries.get(Xe);const Te=this._mediaMatcher.matchMedia(Xe),Zt={observable:new ye.y(nn=>{const hn=Un=>this._zone.run(()=>nn.next(Un));return Te.addListener(hn),()=>{Te.removeListener(hn)}}).pipe((0,ce.O)(Te),(0,W.U)(({matches:nn})=>({query:Xe,matches:nn})),(0,me.R)(this._destroySubject)),mql:Te};return this._queries.set(Xe,Zt),Zt}static#e=this.\u0275fac=function(Te){return new(Te||Me)(c.LFG(it),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})();function ue(Me){return Me.map(Le=>Le.split(",")).reduce((Le,Xe)=>Le.concat(Xe)).map(Le=>Le.trim())}const Ce={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(jt,He,x)=>{x.d(He,{Q8:()=>j});var c=x(5879);let F=(()=>{class ye{create(se){return typeof MutationObserver>"u"?null:new MutationObserver(se)}static#e=this.\u0275fac=function(Ee){return new(Ee||ye)};static#t=this.\u0275prov=c.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})(),j=(()=>{class ye{static#e=this.\u0275fac=function(Ee){return new(Ee||ye)};static#t=this.\u0275mod=c.oAB({type:ye});static#n=this.\u0275inj=c.cJS({providers:[F]})}return ye})()},4887:(jt,He,x)=>{x.d(He,{aV:()=>Jn,X_:()=>kn,Xj:()=>ki,U8:()=>Yt,Iu:()=>zt});var c=x(2495),F=x(5879),H=x(8645),he=x(2096),j=x(5592),ye=x(2438),se=(x(927),x(1954));let W,Ee=1;const ce={};function me(ze){return ze in ce&&(delete ce[ze],!0)}const Ve={setImmediate(ze){const ee=Ee++;return ce[ee]=!0,W||(W=Promise.resolve()),W.then(()=>me(ee)&&ze()),ee},clearImmediate(ze){me(ze)}},{setImmediate:Je,clearImmediate:Qe}=Ve,it={setImmediate(...ze){const{delegate:ee}=it;return(ee?.setImmediate||Je)(...ze)},clearImmediate(ze){const{delegate:ee}=it;return(ee?.clearImmediate||Qe)(ze)},delegate:void 0};var Lt=x(2631);new class Ye extends Lt.v{flush(ee){this._active=!0;const te=this._scheduled;this._scheduled=void 0;const{actions:Ie}=this;let nt;ee=ee||Ie.shift();do{if(nt=ee.execute(ee.state,ee.delay))break}while((ee=Ie[0])&&ee.id===te&&Ie.shift());if(this._active=!1,nt){for(;(ee=Ie[0])&&ee.id===te&&Ie.shift();)ee.unsubscribe();throw nt}}}(class qe extends se.o{constructor(ee,te){super(ee,te),this.scheduler=ee,this.work=te}requestAsyncId(ee,te,Ie=0){return null!==Ie&&Ie>0?super.requestAsyncId(ee,te,Ie):(ee.actions.push(this),ee._scheduled||(ee._scheduled=it.setImmediate(ee.flush.bind(ee,void 0))))}recycleAsyncId(ee,te,Ie=0){var nt;if(null!=Ie?Ie>0:this.delay>0)return super.recycleAsyncId(ee,te,Ie);const{actions:dt}=ee;null!=te&&(null===(nt=dt[dt.length-1])||void 0===nt?void 0:nt.id)!==te&&(it.clearImmediate(te),ee._scheduled===te&&(ee._scheduled=void 0))}});var Me=x(6321),Le=x(9360),Xe=x(4829),Te=x(8251),Zt=x(671);function Un(ze,ee=Me.z){return function Nt(ze){return(0,Le.e)((ee,te)=>{let Ie=!1,nt=null,dt=null,Wt=!1;const cn=()=>{if(dt?.unsubscribe(),dt=null,Ie){Ie=!1;const un=nt;nt=null,te.next(un)}Wt&&te.complete()},_n=()=>{dt=null,Wt&&te.complete()};ee.subscribe((0,Te.x)(te,un=>{Ie=!0,nt=un,dt||(0,Xe.Xf)(ze(un)).subscribe(dt=(0,Te.x)(te,cn,_n))},()=>{Wt=!0,(!Ie||!dt||dt.closed)&&te.complete()}))})}(()=>function hn(ze=0,ee,te=Me.P){let Ie=-1;return null!=ee&&((0,Zt.K)(ee)?te=ee:Ie=ee),new j.y(nt=>{let dt=function nn(ze){return ze instanceof Date&&!isNaN(ze)}(ze)?+ze-te.now():ze;dt<0&&(dt=0);let Wt=0;return te.schedule(function(){nt.closed||(nt.next(Wt++),0<=Ie?this.schedule(void 0,Ie):nt.complete())},dt)})}(ze,ee))}var Hn=x(2181),on=x(2831),ft=x(6814),ht=x(9388);let kt=(()=>{class ze{constructor(te,Ie,nt){this._ngZone=te,this._platform=Ie,this._scrolled=new H.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=nt}register(te){this.scrollContainers.has(te)||this.scrollContainers.set(te,te.elementScrolled().subscribe(()=>this._scrolled.next(te)))}deregister(te){const Ie=this.scrollContainers.get(te);Ie&&(Ie.unsubscribe(),this.scrollContainers.delete(te))}scrolled(te=20){return this._platform.isBrowser?new j.y(Ie=>{this._globalSubscription||this._addGlobalListener();const nt=te>0?this._scrolled.pipe(Un(te)).subscribe(Ie):this._scrolled.subscribe(Ie);return this._scrolledCount++,()=>{nt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,he.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((te,Ie)=>this.deregister(Ie)),this._scrolled.complete()}ancestorScrolled(te,Ie){const nt=this.getAncestorScrollContainers(te);return this.scrolled(Ie).pipe((0,Hn.h)(dt=>!dt||nt.indexOf(dt)>-1))}getAncestorScrollContainers(te){const Ie=[];return this.scrollContainers.forEach((nt,dt)=>{this._scrollableContainsElement(dt,te)&&Ie.push(dt)}),Ie}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(te,Ie){let nt=(0,c.fI)(Ie),dt=te.getElementRef().nativeElement;do{if(nt==dt)return!0}while(nt=nt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const te=this._getWindow();return(0,ye.R)(te.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Ie){return new(Ie||ze)(F.LFG(F.R0b),F.LFG(on.t4),F.LFG(ft.K0,8))};static#t=this.\u0275prov=F.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})}return ze})(),qn=(()=>{class ze{constructor(te,Ie,nt){this._platform=te,this._change=new H.x,this._changeListener=dt=>{this._change.next(dt)},this._document=nt,Ie.runOutsideAngular(()=>{if(te.isBrowser){const dt=this._getWindow();dt.addEventListener("resize",this._changeListener),dt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const te=this._getWindow();te.removeEventListener("resize",this._changeListener),te.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const te={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),te}getViewportRect(){const te=this.getViewportScrollPosition(),{width:Ie,height:nt}=this.getViewportSize();return{top:te.top,left:te.left,bottom:te.top+nt,right:te.left+Ie,height:nt,width:Ie}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const te=this._document,Ie=this._getWindow(),nt=te.documentElement,dt=nt.getBoundingClientRect();return{top:-dt.top||te.body.scrollTop||Ie.scrollY||nt.scrollTop||0,left:-dt.left||te.body.scrollLeft||Ie.scrollX||nt.scrollLeft||0}}change(te=20){return te>0?this._change.pipe(Un(te)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const te=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:te.innerWidth,height:te.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Ie){return new(Ie||ze)(F.LFG(on.t4),F.LFG(F.R0b),F.LFG(ft.K0,8))};static#t=this.\u0275prov=F.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})}return ze})(),ge=(()=>{class ze{static#e=this.\u0275fac=function(Ie){return new(Ie||ze)};static#t=this.\u0275mod=F.oAB({type:ze});static#n=this.\u0275inj=F.cJS({})}return ze})(),_t=(()=>{class ze{static#e=this.\u0275fac=function(Ie){return new(Ie||ze)};static#t=this.\u0275mod=F.oAB({type:ze});static#n=this.\u0275inj=F.cJS({imports:[ht.vT,ge,ht.vT,ge]})}return ze})();var vt=x(8180),ct=x(9773),Ot=x(8484),ut=x(7394),Vt=x(3019);const sn=(0,on.Mq)();class yt{constructor(ee,te){this._viewportRuler=ee,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=te}attach(){}enable(){if(this._canBeEnabled()){const ee=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ee.style.left||"",this._previousHTMLStyles.top=ee.style.top||"",ee.style.left=(0,c.HM)(-this._previousScrollPosition.left),ee.style.top=(0,c.HM)(-this._previousScrollPosition.top),ee.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ee=this._document.documentElement,Ie=ee.style,nt=this._document.body.style,dt=Ie.scrollBehavior||"",Wt=nt.scrollBehavior||"";this._isEnabled=!1,Ie.left=this._previousHTMLStyles.left,Ie.top=this._previousHTMLStyles.top,ee.classList.remove("cdk-global-scrollblock"),sn&&(Ie.scrollBehavior=nt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),sn&&(Ie.scrollBehavior=dt,nt.scrollBehavior=Wt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const te=this._document.body,Ie=this._viewportRuler.getViewportSize();return te.scrollHeight>Ie.height||te.scrollWidth>Ie.width}}class Oe{constructor(ee,te,Ie,nt){this._scrollDispatcher=ee,this._ngZone=te,this._viewportRuler=Ie,this._config=nt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ee){this._overlayRef=ee}enable(){if(this._scrollSubscription)return;const ee=this._scrollDispatcher.scrolled(0).pipe((0,Hn.h)(te=>!te||!this._overlayRef.overlayElement.contains(te.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ee.subscribe(()=>{const te=this._viewportRuler.getViewportScrollPosition().top;Math.abs(te-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ee.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class pt{enable(){}disable(){}attach(){}}function at(ze,ee){return ee.some(te=>ze.bottom<te.top||ze.top>te.bottom||ze.right<te.left||ze.left>te.right)}function Jt(ze,ee){return ee.some(te=>ze.top<te.top||ze.bottom>te.bottom||ze.left<te.left||ze.right>te.right)}class Ft{constructor(ee,te,Ie,nt){this._scrollDispatcher=ee,this._viewportRuler=te,this._ngZone=Ie,this._config=nt,this._scrollSubscription=null}attach(ee){this._overlayRef=ee}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const te=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ie,height:nt}=this._viewportRuler.getViewportSize();at(te,[{width:Ie,height:nt,bottom:nt,right:Ie,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let an=(()=>{class ze{constructor(te,Ie,nt,dt){this._scrollDispatcher=te,this._viewportRuler=Ie,this._ngZone=nt,this.noop=()=>new pt,this.close=Wt=>new Oe(this._scrollDispatcher,this._ngZone,this._viewportRuler,Wt),this.block=()=>new yt(this._viewportRuler,this._document),this.reposition=Wt=>new Ft(this._scrollDispatcher,this._viewportRuler,this._ngZone,Wt),this._document=dt}static#e=this.\u0275fac=function(Ie){return new(Ie||ze)(F.LFG(kt),F.LFG(qn),F.LFG(F.R0b),F.LFG(ft.K0))};static#t=this.\u0275prov=F.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})}return ze})();class kn{constructor(ee){if(this.scrollStrategy=new pt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ee){const te=Object.keys(ee);for(const Ie of te)void 0!==ee[Ie]&&(this[Ie]=ee[Ie])}}}class Ae{constructor(ee,te){this.connectionPair=ee,this.scrollableViewProperties=te}}let Qt=(()=>{class ze{constructor(te){this._attachedOverlays=[],this._document=te}ngOnDestroy(){this.detach()}add(te){this.remove(te),this._attachedOverlays.push(te)}remove(te){const Ie=this._attachedOverlays.indexOf(te);Ie>-1&&this._attachedOverlays.splice(Ie,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Ie){return new(Ie||ze)(F.LFG(ft.K0))};static#t=this.\u0275prov=F.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})}return ze})(),Ln=(()=>{class ze extends Qt{constructor(te,Ie){super(te),this._ngZone=Ie,this._keydownListener=nt=>{const dt=this._attachedOverlays;for(let Wt=dt.length-1;Wt>-1;Wt--)if(dt[Wt]._keydownEvents.observers.length>0){const cn=dt[Wt]._keydownEvents;this._ngZone?this._ngZone.run(()=>cn.next(nt)):cn.next(nt);break}}}add(te){super.add(te),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Ie){return new(Ie||ze)(F.LFG(ft.K0),F.LFG(F.R0b,8))};static#t=this.\u0275prov=F.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})}return ze})(),oi=(()=>{class ze extends Qt{constructor(te,Ie,nt){super(te),this._platform=Ie,this._ngZone=nt,this._cursorStyleIsSet=!1,this._pointerDownListener=dt=>{this._pointerDownEventTarget=(0,on.sA)(dt)},this._clickListener=dt=>{const Wt=(0,on.sA)(dt),cn="click"===dt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Wt;this._pointerDownEventTarget=null;const _n=this._attachedOverlays.slice();for(let un=_n.length-1;un>-1;un--){const Pn=_n[un];if(Pn._outsidePointerEvents.observers.length<1||!Pn.hasAttached())continue;if(Pn.overlayElement.contains(Wt)||Pn.overlayElement.contains(cn))break;const jn=Pn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>jn.next(dt)):jn.next(dt)}}}add(te){if(super.add(te),!this._isAttached){const Ie=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ie)):this._addEventListeners(Ie),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ie.style.cursor,Ie.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const te=this._document.body;te.removeEventListener("pointerdown",this._pointerDownListener,!0),te.removeEventListener("click",this._clickListener,!0),te.removeEventListener("auxclick",this._clickListener,!0),te.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(te.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(te){te.addEventListener("pointerdown",this._pointerDownListener,!0),te.addEventListener("click",this._clickListener,!0),te.addEventListener("auxclick",this._clickListener,!0),te.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Ie){return new(Ie||ze)(F.LFG(ft.K0),F.LFG(on.t4),F.LFG(F.R0b,8))};static#t=this.\u0275prov=F.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})}return ze})(),ki=(()=>{class ze{constructor(te,Ie){this._platform=Ie,this._document=te}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const te="cdk-overlay-container";if(this._platform.isBrowser||(0,on.Oy)()){const nt=this._document.querySelectorAll(`.${te}[platform="server"], .${te}[platform="test"]`);for(let dt=0;dt<nt.length;dt++)nt[dt].remove()}const Ie=this._document.createElement("div");Ie.classList.add(te),(0,on.Oy)()?Ie.setAttribute("platform","test"):this._platform.isBrowser||Ie.setAttribute("platform","server"),this._document.body.appendChild(Ie),this._containerElement=Ie}static#e=this.\u0275fac=function(Ie){return new(Ie||ze)(F.LFG(ft.K0),F.LFG(on.t4))};static#t=this.\u0275prov=F.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})}return ze})();class zt{constructor(ee,te,Ie,nt,dt,Wt,cn,_n,un,Pn=!1){this._portalOutlet=ee,this._host=te,this._pane=Ie,this._config=nt,this._ngZone=dt,this._keyboardDispatcher=Wt,this._document=cn,this._location=_n,this._outsideClickDispatcher=un,this._animationsDisabled=Pn,this._backdropElement=null,this._backdropClick=new H.x,this._attachments=new H.x,this._detachments=new H.x,this._locationChanges=ut.w0.EMPTY,this._backdropClickHandler=jn=>this._backdropClick.next(jn),this._backdropTransitionendHandler=jn=>{this._disposeBackdrop(jn.target)},this._keydownEvents=new H.x,this._outsidePointerEvents=new H.x,nt.scrollStrategy&&(this._scrollStrategy=nt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=nt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ee){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const te=this._portalOutlet.attach(ee);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,vt.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof te?.onDestroy&&te.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),te}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ee=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ee}dispose(){const ee=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ee&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ee){ee!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ee,this.hasAttached()&&(ee.attach(this),this.updatePosition()))}updateSize(ee){this._config={...this._config,...ee},this._updateElementSize()}setDirection(ee){this._config={...this._config,direction:ee},this._updateElementDirection()}addPanelClass(ee){this._pane&&this._toggleClasses(this._pane,ee,!0)}removePanelClass(ee){this._pane&&this._toggleClasses(this._pane,ee,!1)}getDirection(){const ee=this._config.direction;return ee?"string"==typeof ee?ee:ee.value:"ltr"}updateScrollStrategy(ee){ee!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ee,this.hasAttached()&&(ee.attach(this),ee.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ee=this._pane.style;ee.width=(0,c.HM)(this._config.width),ee.height=(0,c.HM)(this._config.height),ee.minWidth=(0,c.HM)(this._config.minWidth),ee.minHeight=(0,c.HM)(this._config.minHeight),ee.maxWidth=(0,c.HM)(this._config.maxWidth),ee.maxHeight=(0,c.HM)(this._config.maxHeight)}_togglePointerEvents(ee){this._pane.style.pointerEvents=ee?"":"none"}_attachBackdrop(){const ee="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ee)})}):this._backdropElement.classList.add(ee)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ee=this._backdropElement;if(ee){if(this._animationsDisabled)return void this._disposeBackdrop(ee);ee.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ee.addEventListener("transitionend",this._backdropTransitionendHandler)}),ee.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ee)},500))}}_toggleClasses(ee,te,Ie){const nt=(0,c.Eq)(te||[]).filter(dt=>!!dt);nt.length&&(Ie?ee.classList.add(...nt):ee.classList.remove(...nt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ee=this._ngZone.onStable.pipe((0,ct.R)((0,Vt.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ee.unsubscribe())})})}_disposeScrollStrategy(){const ee=this._scrollStrategy;ee&&(ee.disable(),ee.detach&&ee.detach())}_disposeBackdrop(ee){ee&&(ee.removeEventListener("click",this._backdropClickHandler),ee.removeEventListener("transitionend",this._backdropTransitionendHandler),ee.remove(),this._backdropElement===ee&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ie="cdk-overlay-connected-position-bounding-box",B=/([A-Za-z%]+)$/;class N{get positions(){return this._preferredPositions}constructor(ee,te,Ie,nt,dt){this._viewportRuler=te,this._document=Ie,this._platform=nt,this._overlayContainer=dt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new H.x,this._resizeSubscription=ut.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ee)}attach(ee){this._validatePositions(),ee.hostElement.classList.add(ie),this._overlayRef=ee,this._boundingBox=ee.hostElement,this._pane=ee.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ee=this._originRect,te=this._overlayRect,Ie=this._viewportRect,nt=this._containerRect,dt=[];let Wt;for(let cn of this._preferredPositions){let _n=this._getOriginPoint(ee,nt,cn),un=this._getOverlayPoint(_n,te,cn),Pn=this._getOverlayFit(un,te,Ie,cn);if(Pn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(cn,_n);this._canFitWithFlexibleDimensions(Pn,un,Ie)?dt.push({position:cn,origin:_n,overlayRect:te,boundingBoxRect:this._calculateBoundingBoxRect(_n,cn)}):(!Wt||Wt.overlayFit.visibleArea<Pn.visibleArea)&&(Wt={overlayFit:Pn,overlayPoint:un,originPoint:_n,position:cn,overlayRect:te})}if(dt.length){let cn=null,_n=-1;for(const un of dt){const Pn=un.boundingBoxRect.width*un.boundingBoxRect.height*(un.position.weight||1);Pn>_n&&(_n=Pn,cn=un)}return this._isPushed=!1,void this._applyPosition(cn.position,cn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Wt.position,Wt.originPoint);this._applyPosition(Wt.position,Wt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&O(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ie),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ee=this._lastPosition;if(ee){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const te=this._getOriginPoint(this._originRect,this._containerRect,ee);this._applyPosition(ee,te)}else this.apply()}withScrollableContainers(ee){return this._scrollables=ee,this}withPositions(ee){return this._preferredPositions=ee,-1===ee.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ee){return this._viewportMargin=ee,this}withFlexibleDimensions(ee=!0){return this._hasFlexibleDimensions=ee,this}withGrowAfterOpen(ee=!0){return this._growAfterOpen=ee,this}withPush(ee=!0){return this._canPush=ee,this}withLockedPosition(ee=!0){return this._positionLocked=ee,this}setOrigin(ee){return this._origin=ee,this}withDefaultOffsetX(ee){return this._offsetX=ee,this}withDefaultOffsetY(ee){return this._offsetY=ee,this}withTransformOriginOn(ee){return this._transformOriginSelector=ee,this}_getOriginPoint(ee,te,Ie){let nt,dt;if("center"==Ie.originX)nt=ee.left+ee.width/2;else{const Wt=this._isRtl()?ee.right:ee.left,cn=this._isRtl()?ee.left:ee.right;nt="start"==Ie.originX?Wt:cn}return te.left<0&&(nt-=te.left),dt="center"==Ie.originY?ee.top+ee.height/2:"top"==Ie.originY?ee.top:ee.bottom,te.top<0&&(dt-=te.top),{x:nt,y:dt}}_getOverlayPoint(ee,te,Ie){let nt,dt;return nt="center"==Ie.overlayX?-te.width/2:"start"===Ie.overlayX?this._isRtl()?-te.width:0:this._isRtl()?0:-te.width,dt="center"==Ie.overlayY?-te.height/2:"top"==Ie.overlayY?0:-te.height,{x:ee.x+nt,y:ee.y+dt}}_getOverlayFit(ee,te,Ie,nt){const dt=we(te);let{x:Wt,y:cn}=ee,_n=this._getOffset(nt,"x"),un=this._getOffset(nt,"y");_n&&(Wt+=_n),un&&(cn+=un);let li=0-cn,pi=cn+dt.height-Ie.height,Ji=this._subtractOverflows(dt.width,0-Wt,Wt+dt.width-Ie.width),er=this._subtractOverflows(dt.height,li,pi),Fr=Ji*er;return{visibleArea:Fr,isCompletelyWithinViewport:dt.width*dt.height===Fr,fitsInViewportVertically:er===dt.height,fitsInViewportHorizontally:Ji==dt.width}}_canFitWithFlexibleDimensions(ee,te,Ie){if(this._hasFlexibleDimensions){const nt=Ie.bottom-te.y,dt=Ie.right-te.x,Wt=V(this._overlayRef.getConfig().minHeight),cn=V(this._overlayRef.getConfig().minWidth);return(ee.fitsInViewportVertically||null!=Wt&&Wt<=nt)&&(ee.fitsInViewportHorizontally||null!=cn&&cn<=dt)}return!1}_pushOverlayOnScreen(ee,te,Ie){if(this._previousPushAmount&&this._positionLocked)return{x:ee.x+this._previousPushAmount.x,y:ee.y+this._previousPushAmount.y};const nt=we(te),dt=this._viewportRect,Wt=Math.max(ee.x+nt.width-dt.width,0),cn=Math.max(ee.y+nt.height-dt.height,0),_n=Math.max(dt.top-Ie.top-ee.y,0),un=Math.max(dt.left-Ie.left-ee.x,0);let Pn=0,jn=0;return Pn=nt.width<=dt.width?un||-Wt:ee.x<this._viewportMargin?dt.left-Ie.left-ee.x:0,jn=nt.height<=dt.height?_n||-cn:ee.y<this._viewportMargin?dt.top-Ie.top-ee.y:0,this._previousPushAmount={x:Pn,y:jn},{x:ee.x+Pn,y:ee.y+jn}}_applyPosition(ee,te){if(this._setTransformOrigin(ee),this._setOverlayElementStyles(te,ee),this._setBoundingBoxStyles(te,ee),ee.panelClass&&this._addPanelClasses(ee.panelClass),this._lastPosition=ee,this._positionChanges.observers.length){const Ie=this._getScrollVisibility(),nt=new Ae(ee,Ie);this._positionChanges.next(nt)}this._isInitialRender=!1}_setTransformOrigin(ee){if(!this._transformOriginSelector)return;const te=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ie,nt=ee.overlayY;Ie="center"===ee.overlayX?"center":this._isRtl()?"start"===ee.overlayX?"right":"left":"start"===ee.overlayX?"left":"right";for(let dt=0;dt<te.length;dt++)te[dt].style.transformOrigin=`${Ie} ${nt}`}_calculateBoundingBoxRect(ee,te){const Ie=this._viewportRect,nt=this._isRtl();let dt,Wt,cn,Pn,jn,li;if("top"===te.overlayY)Wt=ee.y,dt=Ie.height-Wt+this._viewportMargin;else if("bottom"===te.overlayY)cn=Ie.height-ee.y+2*this._viewportMargin,dt=Ie.height-cn+this._viewportMargin;else{const pi=Math.min(Ie.bottom-ee.y+Ie.top,ee.y),Ji=this._lastBoundingBoxSize.height;dt=2*pi,Wt=ee.y-pi,dt>Ji&&!this._isInitialRender&&!this._growAfterOpen&&(Wt=ee.y-Ji/2)}if("end"===te.overlayX&&!nt||"start"===te.overlayX&&nt)li=Ie.width-ee.x+this._viewportMargin,Pn=ee.x-this._viewportMargin;else if("start"===te.overlayX&&!nt||"end"===te.overlayX&&nt)jn=ee.x,Pn=Ie.right-ee.x;else{const pi=Math.min(Ie.right-ee.x+Ie.left,ee.x),Ji=this._lastBoundingBoxSize.width;Pn=2*pi,jn=ee.x-pi,Pn>Ji&&!this._isInitialRender&&!this._growAfterOpen&&(jn=ee.x-Ji/2)}return{top:Wt,left:jn,bottom:cn,right:li,width:Pn,height:dt}}_setBoundingBoxStyles(ee,te){const Ie=this._calculateBoundingBoxRect(ee,te);!this._isInitialRender&&!this._growAfterOpen&&(Ie.height=Math.min(Ie.height,this._lastBoundingBoxSize.height),Ie.width=Math.min(Ie.width,this._lastBoundingBoxSize.width));const nt={};if(this._hasExactPosition())nt.top=nt.left="0",nt.bottom=nt.right=nt.maxHeight=nt.maxWidth="",nt.width=nt.height="100%";else{const dt=this._overlayRef.getConfig().maxHeight,Wt=this._overlayRef.getConfig().maxWidth;nt.height=(0,c.HM)(Ie.height),nt.top=(0,c.HM)(Ie.top),nt.bottom=(0,c.HM)(Ie.bottom),nt.width=(0,c.HM)(Ie.width),nt.left=(0,c.HM)(Ie.left),nt.right=(0,c.HM)(Ie.right),nt.alignItems="center"===te.overlayX?"center":"end"===te.overlayX?"flex-end":"flex-start",nt.justifyContent="center"===te.overlayY?"center":"bottom"===te.overlayY?"flex-end":"flex-start",dt&&(nt.maxHeight=(0,c.HM)(dt)),Wt&&(nt.maxWidth=(0,c.HM)(Wt))}this._lastBoundingBoxSize=Ie,O(this._boundingBox.style,nt)}_resetBoundingBoxStyles(){O(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){O(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ee,te){const Ie={},nt=this._hasExactPosition(),dt=this._hasFlexibleDimensions,Wt=this._overlayRef.getConfig();if(nt){const Pn=this._viewportRuler.getViewportScrollPosition();O(Ie,this._getExactOverlayY(te,ee,Pn)),O(Ie,this._getExactOverlayX(te,ee,Pn))}else Ie.position="static";let cn="",_n=this._getOffset(te,"x"),un=this._getOffset(te,"y");_n&&(cn+=`translateX(${_n}px) `),un&&(cn+=`translateY(${un}px)`),Ie.transform=cn.trim(),Wt.maxHeight&&(nt?Ie.maxHeight=(0,c.HM)(Wt.maxHeight):dt&&(Ie.maxHeight="")),Wt.maxWidth&&(nt?Ie.maxWidth=(0,c.HM)(Wt.maxWidth):dt&&(Ie.maxWidth="")),O(this._pane.style,Ie)}_getExactOverlayY(ee,te,Ie){let nt={top:"",bottom:""},dt=this._getOverlayPoint(te,this._overlayRect,ee);return this._isPushed&&(dt=this._pushOverlayOnScreen(dt,this._overlayRect,Ie)),"bottom"===ee.overlayY?nt.bottom=this._document.documentElement.clientHeight-(dt.y+this._overlayRect.height)+"px":nt.top=(0,c.HM)(dt.y),nt}_getExactOverlayX(ee,te,Ie){let Wt,nt={left:"",right:""},dt=this._getOverlayPoint(te,this._overlayRect,ee);return this._isPushed&&(dt=this._pushOverlayOnScreen(dt,this._overlayRect,Ie)),Wt=this._isRtl()?"end"===ee.overlayX?"left":"right":"end"===ee.overlayX?"right":"left","right"===Wt?nt.right=this._document.documentElement.clientWidth-(dt.x+this._overlayRect.width)+"px":nt.left=(0,c.HM)(dt.x),nt}_getScrollVisibility(){const ee=this._getOriginRect(),te=this._pane.getBoundingClientRect(),Ie=this._scrollables.map(nt=>nt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Jt(ee,Ie),isOriginOutsideView:at(ee,Ie),isOverlayClipped:Jt(te,Ie),isOverlayOutsideView:at(te,Ie)}}_subtractOverflows(ee,...te){return te.reduce((Ie,nt)=>Ie-Math.max(nt,0),ee)}_getNarrowedViewportRect(){const ee=this._document.documentElement.clientWidth,te=this._document.documentElement.clientHeight,Ie=this._viewportRuler.getViewportScrollPosition();return{top:Ie.top+this._viewportMargin,left:Ie.left+this._viewportMargin,right:Ie.left+ee-this._viewportMargin,bottom:Ie.top+te-this._viewportMargin,width:ee-2*this._viewportMargin,height:te-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ee,te){return"x"===te?null==ee.offsetX?this._offsetX:ee.offsetX:null==ee.offsetY?this._offsetY:ee.offsetY}_validatePositions(){}_addPanelClasses(ee){this._pane&&(0,c.Eq)(ee).forEach(te=>{""!==te&&-1===this._appliedPanelClasses.indexOf(te)&&(this._appliedPanelClasses.push(te),this._pane.classList.add(te))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ee=>{this._pane.classList.remove(ee)}),this._appliedPanelClasses=[])}_getOriginRect(){const ee=this._origin;if(ee instanceof F.SBq)return ee.nativeElement.getBoundingClientRect();if(ee instanceof Element)return ee.getBoundingClientRect();const te=ee.width||0,Ie=ee.height||0;return{top:ee.y,bottom:ee.y+Ie,left:ee.x,right:ee.x+te,height:Ie,width:te}}}function O(ze,ee){for(let te in ee)ee.hasOwnProperty(te)&&(ze[te]=ee[te]);return ze}function V(ze){if("number"!=typeof ze&&null!=ze){const[ee,te]=ze.split(B);return te&&"px"!==te?null:parseFloat(ee)}return ze||null}function we(ze){return{top:Math.floor(ze.top),right:Math.floor(ze.right),bottom:Math.floor(ze.bottom),left:Math.floor(ze.left),width:Math.floor(ze.width),height:Math.floor(ze.height)}}const $t="cdk-global-overlay-wrapper";class Kt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ee){const te=ee.getConfig();this._overlayRef=ee,this._width&&!te.width&&ee.updateSize({width:this._width}),this._height&&!te.height&&ee.updateSize({height:this._height}),ee.hostElement.classList.add($t),this._isDisposed=!1}top(ee=""){return this._bottomOffset="",this._topOffset=ee,this._alignItems="flex-start",this}left(ee=""){return this._xOffset=ee,this._xPosition="left",this}bottom(ee=""){return this._topOffset="",this._bottomOffset=ee,this._alignItems="flex-end",this}right(ee=""){return this._xOffset=ee,this._xPosition="right",this}start(ee=""){return this._xOffset=ee,this._xPosition="start",this}end(ee=""){return this._xOffset=ee,this._xPosition="end",this}width(ee=""){return this._overlayRef?this._overlayRef.updateSize({width:ee}):this._width=ee,this}height(ee=""){return this._overlayRef?this._overlayRef.updateSize({height:ee}):this._height=ee,this}centerHorizontally(ee=""){return this.left(ee),this._xPosition="center",this}centerVertically(ee=""){return this.top(ee),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ee=this._overlayRef.overlayElement.style,te=this._overlayRef.hostElement.style,Ie=this._overlayRef.getConfig(),{width:nt,height:dt,maxWidth:Wt,maxHeight:cn}=Ie,_n=!("100%"!==nt&&"100vw"!==nt||Wt&&"100%"!==Wt&&"100vw"!==Wt),un=!("100%"!==dt&&"100vh"!==dt||cn&&"100%"!==cn&&"100vh"!==cn),Pn=this._xPosition,jn=this._xOffset,li="rtl"===this._overlayRef.getConfig().direction;let pi="",Ji="",er="";_n?er="flex-start":"center"===Pn?(er="center",li?Ji=jn:pi=jn):li?"left"===Pn||"end"===Pn?(er="flex-end",pi=jn):("right"===Pn||"start"===Pn)&&(er="flex-start",Ji=jn):"left"===Pn||"start"===Pn?(er="flex-start",pi=jn):("right"===Pn||"end"===Pn)&&(er="flex-end",Ji=jn),ee.position=this._cssPosition,ee.marginLeft=_n?"0":pi,ee.marginTop=un?"0":this._topOffset,ee.marginBottom=this._bottomOffset,ee.marginRight=_n?"0":Ji,te.justifyContent=er,te.alignItems=un?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ee=this._overlayRef.overlayElement.style,te=this._overlayRef.hostElement,Ie=te.style;te.classList.remove($t),Ie.justifyContent=Ie.alignItems=ee.marginTop=ee.marginBottom=ee.marginLeft=ee.marginRight=ee.position="",this._overlayRef=null,this._isDisposed=!0}}let fn=(()=>{class ze{constructor(te,Ie,nt,dt){this._viewportRuler=te,this._document=Ie,this._platform=nt,this._overlayContainer=dt}global(){return new Kt}flexibleConnectedTo(te){return new N(te,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Ie){return new(Ie||ze)(F.LFG(qn),F.LFG(ft.K0),F.LFG(on.t4),F.LFG(ki))};static#t=this.\u0275prov=F.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})}return ze})(),Cn=0,Jn=(()=>{class ze{constructor(te,Ie,nt,dt,Wt,cn,_n,un,Pn,jn,li,pi){this.scrollStrategies=te,this._overlayContainer=Ie,this._componentFactoryResolver=nt,this._positionBuilder=dt,this._keyboardDispatcher=Wt,this._injector=cn,this._ngZone=_n,this._document=un,this._directionality=Pn,this._location=jn,this._outsideClickDispatcher=li,this._animationsModuleType=pi}create(te){const Ie=this._createHostElement(),nt=this._createPaneElement(Ie),dt=this._createPortalOutlet(nt),Wt=new kn(te);return Wt.direction=Wt.direction||this._directionality.value,new zt(dt,Ie,nt,Wt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(te){const Ie=this._document.createElement("div");return Ie.id="cdk-overlay-"+Cn++,Ie.classList.add("cdk-overlay-pane"),te.appendChild(Ie),Ie}_createHostElement(){const te=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(te),te}_createPortalOutlet(te){return this._appRef||(this._appRef=this._injector.get(F.z2F)),new Ot.u0(te,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Ie){return new(Ie||ze)(F.LFG(an),F.LFG(ki),F.LFG(F._Vd),F.LFG(fn),F.LFG(Ln),F.LFG(F.zs3),F.LFG(F.R0b),F.LFG(ft.K0),F.LFG(ht.Is),F.LFG(ft.Ye),F.LFG(oi),F.LFG(F.QbO,8))};static#t=this.\u0275prov=F.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})}return ze})();const wt={provide:new F.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Jn],useFactory:function Re(ze){return()=>ze.scrollStrategies.reposition()}};let Yt=(()=>{class ze{static#e=this.\u0275fac=function(Ie){return new(Ie||ze)};static#t=this.\u0275mod=F.oAB({type:ze});static#n=this.\u0275inj=F.cJS({providers:[Jn,wt],imports:[ht.vT,Ot.eL,_t,_t]})}return ze})()},2831:(jt,He,x)=>{x.d(He,{Mq:()=>De,Oy:()=>ue,ht:()=>Lt,i$:()=>ce,kV:()=>qe,sA:()=>Ye,t4:()=>he});var c=x(5879),F=x(6814);let H;try{H=typeof Intl<"u"&&Intl.v8BreakIterator}catch{H=!1}let Ee,Ve,Qe,he=(()=>{class Ce{constructor(Le){this._platformId=Le,this.isBrowser=this._platformId?(0,F.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!H)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Xe){return new(Xe||Ce)(c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})();function ce(Ce){return function W(){if(null==Ee&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ee=!0}))}finally{Ee=Ee||!1}return Ee}()?Ce:!!Ce.capture}function De(){if(null==Ve){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ve=!1,Ve;if("scrollBehavior"in document.documentElement.style)Ve=!0;else{const Ce=Element.prototype.scrollTo;Ve=!!Ce&&!/\{\s*\[native code\]\s*\}/.test(Ce.toString())}}return Ve}function qe(Ce){if(function it(){if(null==Qe){const Ce=typeof document<"u"?document.head:null;Qe=!(!Ce||!Ce.createShadowRoot&&!Ce.attachShadow)}return Qe}()){const Me=Ce.getRootNode?Ce.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Me instanceof ShadowRoot)return Me}return null}function Lt(){let Ce=typeof document<"u"&&document?document.activeElement:null;for(;Ce&&Ce.shadowRoot;){const Me=Ce.shadowRoot.activeElement;if(Me===Ce)break;Ce=Me}return Ce}function Ye(Ce){return Ce.composedPath?Ce.composedPath()[0]:Ce.target}function ue(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(jt,He,x)=>{x.d(He,{C5:()=>W,Pl:()=>Lt,UE:()=>ce,eL:()=>ue,en:()=>Ve,u0:()=>Je});var c=x(5879),F=x(6814);class Ee{attach(Le){return this._attachedHost=Le,Le.attach(this)}detach(){let Le=this._attachedHost;null!=Le&&(this._attachedHost=null,Le.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Le){this._attachedHost=Le}}class W extends Ee{constructor(Le,Xe,Te,Nt,Zt){super(),this.component=Le,this.viewContainerRef=Xe,this.injector=Te,this.componentFactoryResolver=Nt,this.projectableNodes=Zt}}class ce extends Ee{constructor(Le,Xe,Te,Nt){super(),this.templateRef=Le,this.viewContainerRef=Xe,this.context=Te,this.injector=Nt}get origin(){return this.templateRef.elementRef}attach(Le,Xe=this.context){return this.context=Xe,super.attach(Le)}detach(){return this.context=void 0,super.detach()}}class me extends Ee{constructor(Le){super(),this.element=Le instanceof c.SBq?Le.nativeElement:Le}}class Ve{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Le){return Le instanceof W?(this._attachedPortal=Le,this.attachComponentPortal(Le)):Le instanceof ce?(this._attachedPortal=Le,this.attachTemplatePortal(Le)):this.attachDomPortal&&Le instanceof me?(this._attachedPortal=Le,this.attachDomPortal(Le)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Le){this._disposeFn=Le}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Je extends Ve{constructor(Le,Xe,Te,Nt,Zt){super(),this.outletElement=Le,this._componentFactoryResolver=Xe,this._appRef=Te,this._defaultInjector=Nt,this.attachDomPortal=nn=>{const hn=nn.element,Un=this._document.createComment("dom-portal");hn.parentNode.insertBefore(Un,hn),this.outletElement.appendChild(hn),this._attachedPortal=nn,super.setDisposeFn(()=>{Un.parentNode&&Un.parentNode.replaceChild(hn,Un)})},this._document=Zt}attachComponentPortal(Le){const Te=(Le.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Le.component);let Nt;return Le.viewContainerRef?(Nt=Le.viewContainerRef.createComponent(Te,Le.viewContainerRef.length,Le.injector||Le.viewContainerRef.injector,Le.projectableNodes||void 0),this.setDisposeFn(()=>Nt.destroy())):(Nt=Te.create(Le.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(Nt.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Nt.hostView),Nt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Nt)),this._attachedPortal=Le,Nt}attachTemplatePortal(Le){let Xe=Le.viewContainerRef,Te=Xe.createEmbeddedView(Le.templateRef,Le.context,{injector:Le.injector});return Te.rootNodes.forEach(Nt=>this.outletElement.appendChild(Nt)),Te.detectChanges(),this.setDisposeFn(()=>{let Nt=Xe.indexOf(Te);-1!==Nt&&Xe.remove(Nt)}),this._attachedPortal=Le,Te}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Le){return Le.hostView.rootNodes[0]}}let Lt=(()=>{class Me extends Ve{constructor(Xe,Te,Nt){super(),this._componentFactoryResolver=Xe,this._viewContainerRef=Te,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=Zt=>{const nn=Zt.element,hn=this._document.createComment("dom-portal");Zt.setAttachedHost(this),nn.parentNode.insertBefore(hn,nn),this._getRootNode().appendChild(nn),this._attachedPortal=Zt,super.setDisposeFn(()=>{hn.parentNode&&hn.parentNode.replaceChild(nn,hn)})},this._document=Nt}get portal(){return this._attachedPortal}set portal(Xe){this.hasAttached()&&!Xe&&!this._isInitialized||(this.hasAttached()&&super.detach(),Xe&&super.attach(Xe),this._attachedPortal=Xe||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Xe){Xe.setAttachedHost(this);const Te=null!=Xe.viewContainerRef?Xe.viewContainerRef:this._viewContainerRef,Zt=(Xe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Xe.component),nn=Te.createComponent(Zt,Te.length,Xe.injector||Te.injector,Xe.projectableNodes||void 0);return Te!==this._viewContainerRef&&this._getRootNode().appendChild(nn.hostView.rootNodes[0]),super.setDisposeFn(()=>nn.destroy()),this._attachedPortal=Xe,this._attachedRef=nn,this.attached.emit(nn),nn}attachTemplatePortal(Xe){Xe.setAttachedHost(this);const Te=this._viewContainerRef.createEmbeddedView(Xe.templateRef,Xe.context,{injector:Xe.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Xe,this._attachedRef=Te,this.attached.emit(Te),Te}_getRootNode(){const Xe=this._viewContainerRef.element.nativeElement;return Xe.nodeType===Xe.ELEMENT_NODE?Xe:Xe.parentNode}static#e=this.\u0275fac=function(Te){return new(Te||Me)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(F.K0))};static#t=this.\u0275dir=c.lG2({type:Me,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]})}return Me})(),ue=(()=>{class Me{static#e=this.\u0275fac=function(Te){return new(Te||Me)};static#t=this.\u0275mod=c.oAB({type:Me});static#n=this.\u0275inj=c.cJS({})}return Me})()},6814:(jt,He,x)=>{x.d(He,{Do:()=>Qe,EM:()=>us,HT:()=>he,JF:()=>Oo,K0:()=>ye,Mx:()=>dt,NF:()=>bo,O5:()=>er,PC:()=>Mo,PM:()=>Is,S$:()=>Ve,V_:()=>se,Ye:()=>it,b0:()=>Je,bD:()=>Vi,ez:()=>no,mk:()=>_n,q:()=>H,sg:()=>li,w_:()=>j});var c=x(5879);let F=null;function H(){return F}function he(T){F||(F=T)}class j{}const ye=new c.OlP("DocumentToken");let be=(()=>{class T{historyGo(z){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||T)};static#t=this.\u0275prov=c.Yz7({token:T,factory:function(){return(0,c.f3M)(Ee)},providedIn:"platform"})}return T})();const se=new c.OlP("Location Initialized");let Ee=(()=>{class T extends be{constructor(){super(),this._doc=(0,c.f3M)(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(z){const X=H().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",z,!1),()=>X.removeEventListener("popstate",z)}onHashChange(z){const X=H().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",z,!1),()=>X.removeEventListener("hashchange",z)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(z){this._location.pathname=z}pushState(z,X,Be){this._history.pushState(z,X,Be)}replaceState(z,X,Be){this._history.replaceState(z,X,Be)}forward(){this._history.forward()}back(){this._history.back()}historyGo(z=0){this._history.go(z)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||T)};static#t=this.\u0275prov=c.Yz7({token:T,factory:function(){return new T},providedIn:"platform"})}return T})();function W(T,ne){if(0==T.length)return ne;if(0==ne.length)return T;let z=0;return T.endsWith("/")&&z++,ne.startsWith("/")&&z++,2==z?T+ne.substring(1):1==z?T+ne:T+"/"+ne}function ce(T){const ne=T.match(/#|\?|$/),z=ne&&ne.index||T.length;return T.slice(0,z-("/"===T[z-1]?1:0))+T.slice(z)}function me(T){return T&&"?"!==T[0]?"?"+T:T}let Ve=(()=>{class T{historyGo(z){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||T)};static#t=this.\u0275prov=c.Yz7({token:T,factory:function(){return(0,c.f3M)(Je)},providedIn:"root"})}return T})();const De=new c.OlP("appBaseHref");let Je=(()=>{class T extends Ve{constructor(z,X){super(),this._platformLocation=z,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}prepareExternalUrl(z){return W(this._baseHref,z)}path(z=!1){const X=this._platformLocation.pathname+me(this._platformLocation.search),Be=this._platformLocation.hash;return Be&&z?`${X}${Be}`:X}pushState(z,X,Be,St){const Bt=this.prepareExternalUrl(Be+me(St));this._platformLocation.pushState(z,X,Bt)}replaceState(z,X,Be,St){const Bt=this.prepareExternalUrl(Be+me(St));this._platformLocation.replaceState(z,X,Bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}static#e=this.\u0275fac=function(X){return new(X||T)(c.LFG(be),c.LFG(De,8))};static#t=this.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),Qe=(()=>{class T extends Ve{constructor(z,X){super(),this._platformLocation=z,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}path(z=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(z){const X=W(this._baseHref,z);return X.length>0?"#"+X:X}pushState(z,X,Be,St){let Bt=this.prepareExternalUrl(Be+me(St));0==Bt.length&&(Bt=this._platformLocation.pathname),this._platformLocation.pushState(z,X,Bt)}replaceState(z,X,Be,St){let Bt=this.prepareExternalUrl(Be+me(St));0==Bt.length&&(Bt=this._platformLocation.pathname),this._platformLocation.replaceState(z,X,Bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}static#e=this.\u0275fac=function(X){return new(X||T)(c.LFG(be),c.LFG(De,8))};static#t=this.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac})}return T})(),it=(()=>{class T{constructor(z){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=z;const X=this._locationStrategy.getBaseHref();this._basePath=function ue(T){if(new RegExp("^(https?:)?//").test(T)){const[,z]=T.split(/\/\/[^\/]+/);return z}return T}(ce(Ye(X))),this._locationStrategy.onPopState(Be=>{this._subject.emit({url:this.path(!0),pop:!0,state:Be.state,type:Be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(z=!1){return this.normalize(this._locationStrategy.path(z))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(z,X=""){return this.path()==this.normalize(z+me(X))}normalize(z){return T.stripTrailingSlash(function Lt(T,ne){if(!T||!ne.startsWith(T))return ne;const z=ne.substring(T.length);return""===z||["/",";","?","#"].includes(z[0])?z:ne}(this._basePath,Ye(z)))}prepareExternalUrl(z){return z&&"/"!==z[0]&&(z="/"+z),this._locationStrategy.prepareExternalUrl(z)}go(z,X="",Be=null){this._locationStrategy.pushState(Be,"",z,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+me(X)),Be)}replaceState(z,X="",Be=null){this._locationStrategy.replaceState(Be,"",z,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+me(X)),Be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(z=0){this._locationStrategy.historyGo?.(z)}onUrlChange(z){return this._urlChangeListeners.push(z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(z);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(z="",X){this._urlChangeListeners.forEach(Be=>Be(z,X))}subscribe(z,X,Be){return this._subject.subscribe({next:z,error:X,complete:Be})}static#e=this.normalizeQueryParams=me;static#t=this.joinWithSlash=W;static#n=this.stripTrailingSlash=ce;static#i=this.\u0275fac=function(X){return new(X||T)(c.LFG(Ve))};static#r=this.\u0275prov=c.Yz7({token:T,factory:function(){return function qe(){return new it((0,c.LFG)(Ve))}()},providedIn:"root"})}return T})();function Ye(T){return T.replace(/\/index.html$/,"")}function dt(T,ne){ne=encodeURIComponent(ne);for(const z of T.split(";")){const X=z.indexOf("="),[Be,St]=-1==X?[z,""]:[z.slice(0,X),z.slice(X+1)];if(Be.trim()===ne)return decodeURIComponent(St)}return null}const Wt=/\s+/,cn=[];let _n=(()=>{class T{constructor(z,X,Be,St){this._iterableDiffers=z,this._keyValueDiffers=X,this._ngEl=Be,this._renderer=St,this.initialClasses=cn,this.stateMap=new Map}set klass(z){this.initialClasses=null!=z?z.trim().split(Wt):cn}set ngClass(z){this.rawClass="string"==typeof z?z.trim().split(Wt):z}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const z=this.rawClass;if(Array.isArray(z)||z instanceof Set)for(const X of z)this._updateState(X,!0);else if(null!=z)for(const X of Object.keys(z))this._updateState(X,!!z[X]);this._applyStateDiff()}_updateState(z,X){const Be=this.stateMap.get(z);void 0!==Be?(Be.enabled!==X&&(Be.changed=!0,Be.enabled=X),Be.touched=!0):this.stateMap.set(z,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const z of this.stateMap){const X=z[0],Be=z[1];Be.changed?(this._toggleClass(X,Be.enabled),Be.changed=!1):Be.touched||(Be.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),Be.touched=!1}}_toggleClass(z,X){(z=z.trim()).length>0&&z.split(Wt).forEach(Be=>{X?this._renderer.addClass(this._ngEl.nativeElement,Be):this._renderer.removeClass(this._ngEl.nativeElement,Be)})}static#e=this.\u0275fac=function(X){return new(X||T)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))};static#t=this.\u0275dir=c.lG2({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return T})();class jn{constructor(ne,z,X,Be){this.$implicit=ne,this.ngForOf=z,this.index=X,this.count=Be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let li=(()=>{class T{set ngForOf(z){this._ngForOf=z,this._ngForOfDirty=!0}set ngForTrackBy(z){this._trackByFn=z}get ngForTrackBy(){return this._trackByFn}constructor(z,X,Be){this._viewContainer=z,this._template=X,this._differs=Be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(z){z&&(this._template=z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const z=this._ngForOf;!this._differ&&z&&(this._differ=this._differs.find(z).create(this.ngForTrackBy))}if(this._differ){const z=this._differ.diff(this._ngForOf);z&&this._applyChanges(z)}}_applyChanges(z){const X=this._viewContainer;z.forEachOperation((Be,St,Bt)=>{if(null==Be.previousIndex)X.createEmbeddedView(this._template,new jn(Be.item,this._ngForOf,-1,-1),null===Bt?void 0:Bt);else if(null==Bt)X.remove(null===St?void 0:St);else if(null!==St){const Fn=X.get(St);X.move(Fn,Bt),pi(Fn,Be)}});for(let Be=0,St=X.length;Be<St;Be++){const Fn=X.get(Be).context;Fn.index=Be,Fn.count=St,Fn.ngForOf=this._ngForOf}z.forEachIdentityChange(Be=>{pi(X.get(Be.currentIndex),Be)})}static ngTemplateContextGuard(z,X){return!0}static#e=this.\u0275fac=function(X){return new(X||T)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return T})();function pi(T,ne){T.context.$implicit=ne.item}let er=(()=>{class T{constructor(z,X){this._viewContainer=z,this._context=new Fr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(z){this._context.$implicit=this._context.ngIf=z,this._updateView()}set ngIfThen(z){vn("ngIfThen",z),this._thenTemplateRef=z,this._thenViewRef=null,this._updateView()}set ngIfElse(z){vn("ngIfElse",z),this._elseTemplateRef=z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(z,X){return!0}static#e=this.\u0275fac=function(X){return new(X||T)(c.Y36(c.s_b),c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return T})();class Fr{constructor(){this.$implicit=null,this.ngIf=null}}function vn(T,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,c.AaK)(ne)}'.`)}let Mo=(()=>{class T{constructor(z,X,Be){this._ngEl=z,this._differs=X,this._renderer=Be,this._ngStyle=null,this._differ=null}set ngStyle(z){this._ngStyle=z,!this._differ&&z&&(this._differ=this._differs.find(z).create())}ngDoCheck(){if(this._differ){const z=this._differ.diff(this._ngStyle);z&&this._applyChanges(z)}}_setStyle(z,X){const[Be,St]=z.split("."),Bt=-1===Be.indexOf("-")?void 0:c.JOm.DashCase;null!=X?this._renderer.setStyle(this._ngEl.nativeElement,Be,St?`${X}${St}`:X,Bt):this._renderer.removeStyle(this._ngEl.nativeElement,Be,Bt)}_applyChanges(z){z.forEachRemovedItem(X=>this._setStyle(X.key,null)),z.forEachAddedItem(X=>this._setStyle(X.key,X.currentValue)),z.forEachChangedItem(X=>this._setStyle(X.key,X.currentValue))}static#e=this.\u0275fac=function(X){return new(X||T)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))};static#t=this.\u0275dir=c.lG2({type:T,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return T})(),no=(()=>{class T{static#e=this.\u0275fac=function(X){return new(X||T)};static#t=this.\u0275mod=c.oAB({type:T});static#n=this.\u0275inj=c.cJS({})}return T})();const Vi="browser",yr="server";function bo(T){return T===Vi}function Is(T){return T===yr}let us=(()=>{class T{static#e=this.\u0275prov=(0,c.Yz7)({token:T,providedIn:"root",factory:()=>new mo((0,c.LFG)(ye),window)})}return T})();class mo{constructor(ne,z){this.document=ne,this.window=z,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const z=function io(T,ne){const z=T.getElementById(ne)||T.getElementsByName(ne)[0];if(z)return z;if("function"==typeof T.createTreeWalker&&T.body&&"function"==typeof T.body.attachShadow){const X=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let Be=X.currentNode;for(;Be;){const St=Be.shadowRoot;if(St){const Bt=St.getElementById(ne)||St.querySelector(`[name="${ne}"]`);if(Bt)return Bt}Be=X.nextNode()}}return null}(this.document,ne);z&&(this.scrollToElement(z),z.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const z=ne.getBoundingClientRect(),X=z.left+this.window.pageXOffset,Be=z.top+this.window.pageYOffset,St=this.offset();this.window.scrollTo(X-St[0],Be-St[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Oo{}},5879:(jt,He,x)=>{x.d(He,{$8M:()=>ka,$WT:()=>Rr,$Z:()=>$f,AFp:()=>Jp,ALo:()=>CE,AaK:()=>me,AsE:()=>Xy,BQk:()=>up,CHM:()=>pc,CRH:()=>jE,DdM:()=>mE,EJc:()=>ND,EiD:()=>$p,EpF:()=>Q_,F$t:()=>Gy,F4k:()=>X_,FYo:()=>Gg,FiY:()=>La,Gf:()=>BE,GfV:()=>Yg,Gpc:()=>Je,Gre:()=>b0,HDt:()=>cI,Hsn:()=>Ky,Ikx:()=>eb,JOm:()=>ea,JVY:()=>Pg,JZr:()=>Ye,Jf7:()=>Nf,KtG:()=>Do,L6k:()=>hd,LAX:()=>fd,LFG:()=>$t,LSH:()=>cf,Lbi:()=>md,Lck:()=>wC,MGl:()=>Fh,MMx:()=>aE,MR2:()=>uf,NdJ:()=>ng,Ojb:()=>em,OlP:()=>at,Oqu:()=>Qy,P3R:()=>Bg,PXZ:()=>cx,Q6J:()=>Ym,QGY:()=>tg,QbO:()=>vf,Qsj:()=>Wv,R0b:()=>Go,RDi:()=>Zc,Rgc:()=>pg,SBq:()=>ec,Sil:()=>LD,Suo:()=>UE,TTD:()=>Qn,TgZ:()=>Qm,Tol:()=>o0,VKq:()=>gE,VuI:()=>Wx,WFA:()=>ig,WLB:()=>_E,X6Q:()=>_x,XFs:()=>ct,Xpm:()=>Bs,Xq5:()=>L_,Xts:()=>nh,Y36:()=>zu,YKP:()=>oE,YNc:()=>q_,Yjl:()=>Us,Yz7:()=>An,Z0I:()=>ri,ZZ4:()=>kb,_Bn:()=>rE,_UZ:()=>Z_,_Vd:()=>tu,_c5:()=>Ox,_uU:()=>h0,aQg:()=>Fb,c2e:()=>lI,cJS:()=>Zn,cg1:()=>nb,d8E:()=>tb,dDg:()=>ox,dqk:()=>xt,eBb:()=>Xd,eFA:()=>yI,eJc:()=>yb,ekj:()=>Yy,eoX:()=>mI,f3M:()=>fn,g9A:()=>gf,h0i:()=>Bh,hGG:()=>Nx,hYB:()=>ev,hij:()=>nv,iGM:()=>VE,ifc:()=>Yt,ip1:()=>aI,jDz:()=>lE,kL8:()=>M0,l5B:()=>vE,lG2:()=>jo,lcZ:()=>DE,lnq:()=>Jy,lqb:()=>ta,lri:()=>fI,mCW:()=>Jd,n5z:()=>vu,oAB:()=>Kr,oxw:()=>Wy,pB0:()=>Og,q3G:()=>Jc,q4F:()=>xf,qFp:()=>Kx,qLn:()=>nu,qOj:()=>rc,qZA:()=>Xm,qzn:()=>xc,rWj:()=>pI,rg0:()=>St,s9C:()=>dp,sBO:()=>vx,s_b:()=>cv,soG:()=>dv,tb:()=>Sb,tp0:()=>bl,uIk:()=>Md,vHH:()=>ue,vpe:()=>tc,wAp:()=>mp,xi3:()=>xE,xp6:()=>h_,ynx:()=>Jm,z2F:()=>yp,z3N:()=>Dl,zSh:()=>Zp,zs3:()=>Ls});var c=x(8645),F=x(7394),H=x(5592),he=x(3019),j=x(5619),ye=x(2096),be=x(3020),se=x(4664),Ee=x(3997);function W(t){for(let i in t)if(t[i]===W)return i;throw Error("Could not find renamed property on target object.")}function ce(t,i){for(const o in i)i.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=i[o])}function me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ve(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const De=W({__forward_ref__:W});function Je(t){return t.__forward_ref__=Je,t.toString=function(){return me(this())},t}function Qe(t){return it(t)?t():t}function it(t){return"function"==typeof t&&t.hasOwnProperty(De)&&t.__forward_ref__===Je}function qe(t){return t&&!!t.\u0275providers}const Ye="https://g.co/ng/security#xss";class ue extends Error{constructor(i,o){super(function Ce(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}(i,o)),this.code=i}}function Me(t){return"string"==typeof t?t:null==t?"":String(t)}function Zt(t,i){throw new ue(-201,!1)}function Ge(t,i){null==t&&function kt(t,i,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${i} <=Actual]`))}(i,t,null,"!=")}function An(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ni(t){return wi(t,gi)||wi(t,_t)}function ri(t){return null!==ni(t)}function wi(t,i){return t.hasOwnProperty(i)?t[i]:null}function Ni(t){return t&&(t.hasOwnProperty(ge)||t.hasOwnProperty(vt))?t[ge]:null}const gi=W({\u0275prov:W}),ge=W({\u0275inj:W}),_t=W({ngInjectableDef:W}),vt=W({ngInjectorDef:W});var ct=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ct||{});let Ot;function Vt(t){const i=Ot;return Ot=t,i}function sn(t,i,o){const a=ni(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&ct.Optional?null:void 0!==i?i:void Zt(me(t))}const xt=globalThis;class at{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=An({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const oi={},ki="__NG_DI_FLAG__",zt="ngTempTokenPath",B=/\n/gm,O="__source";let V;function tt(t){const i=V;return V=t,i}function Rt(t,i=ct.Default){if(void 0===V)throw new ue(-203,!1);return null===V?sn(t,void 0,i):V.get(t,i&ct.Optional?null:void 0,i)}function $t(t,i=ct.Default){return(function ut(){return Ot}()||Rt)(Qe(t),i)}function fn(t,i=ct.Default){return $t(t,Cn(i))}function Cn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Jn(t){const i=[];for(let o=0;o<t.length;o++){const a=Qe(t[o]);if(Array.isArray(a)){if(0===a.length)throw new ue(900,!1);let u,f=ct.Default;for(let v=0;v<a.length;v++){const I=a[v],M=re(I);"number"==typeof M?-1===M?u=I.token:f|=M:u=I}i.push($t(u,f))}else i.push($t(a))}return i}function mt(t,i){return t[ki]=i,t.prototype[ki]=i,t}function re(t){return t[ki]}function Re(t){return{toString:t}.toString()}var wt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(wt||{}),Yt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yt||{});const pn={},ze=[],ee=W({\u0275cmp:W}),te=W({\u0275dir:W}),Ie=W({\u0275pipe:W}),nt=W({\u0275mod:W}),dt=W({\u0275fac:W}),Wt=W({__NG_ELEMENT_ID__:W}),cn=W({__NG_ENV_ID__:W});function _n(t,i,o){let a=t.length;for(;;){const u=t.indexOf(i,o);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const f=i.length;if(u+f===a||t.charCodeAt(u+f)<=32)return u}o=u+1}}function un(t,i,o){let a=0;for(;a<o.length;){const u=o[a];if("number"==typeof u){if(0!==u)break;a++;const f=o[a++],v=o[a++],I=o[a++];t.setAttribute(i,v,I,f)}else{const f=u,v=o[++a];jn(f)?t.setProperty(i,f,v):t.setAttribute(i,f,v),a++}}return a}function Pn(t){return 3===t||4===t||6===t}function jn(t){return 64===t.charCodeAt(0)}function li(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let o=-1;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u?o=u:0===o||pi(t,o,u,null,-1===o||2===o?i[++a]:null)}}return t}function pi(t,i,o,a,u){let f=0,v=t.length;if(-1===i)v=-1;else for(;f<t.length;){const I=t[f++];if("number"==typeof I){if(I===i){v=-1;break}if(I>i){v=f-1;break}}}for(;f<t.length;){const I=t[f];if("number"==typeof I)break;if(I===o){if(null===a)return void(null!==u&&(t[f+1]=u));if(a===t[f+1])return void(t[f+2]=u)}f++,null!==a&&f++,null!==u&&f++}-1!==v&&(t.splice(v,0,i),f=v+1),t.splice(f++,0,o),null!==a&&t.splice(f++,0,a),null!==u&&t.splice(f++,0,u)}const Ji="ng-template";function er(t,i,o){let a=0,u=!0;for(;a<t.length;){let f=t[a++];if("string"==typeof f&&u){const v=t[a++];if(o&&"class"===f&&-1!==_n(v.toLowerCase(),i,0))return!0}else{if(1===f){for(;a<t.length&&"string"==typeof(f=t[a++]);)if(f.toLowerCase()===i)return!0;return!1}"number"==typeof f&&(u=!1)}}return!1}function Fr(t){return 4===t.type&&t.value!==Ji}function vn(t,i,o){return i===(4!==t.type||o?t.value:Ji)}function tn(t,i,o){let a=4;const u=t.attrs||[],f=function po(t){for(let i=0;i<t.length;i++)if(Pn(t[i]))return i;return t.length}(u);let v=!1;for(let I=0;I<i.length;I++){const M=i[I];if("number"!=typeof M){if(!v)if(4&a){if(a=2|1&a,""!==M&&!vn(t,M,o)||""===M&&1===i.length){if(Mn(a))return!1;v=!0}}else{const $=8&a?M:i[++I];if(8&a&&null!==t.attrs){if(!er(t.attrs,$,o)){if(Mn(a))return!1;v=!0}continue}const ke=$n(8&a?"class":M,u,Fr(t),o);if(-1===ke){if(Mn(a))return!1;v=!0;continue}if(""!==$){let lt;lt=ke>f?"":u[ke+1].toLowerCase();const bt=8&a?lt:null;if(bt&&-1!==_n(bt,$,0)||2&a&&$!==lt){if(Mn(a))return!1;v=!0}}}}else{if(!v&&!Mn(a)&&!Mn(M))return!1;if(v&&Mn(M))continue;v=!1,a=M|1&a}}return Mn(a)||v}function Mn(t){return 0==(1&t)}function $n(t,i,o,a){if(null===i)return-1;let u=0;if(a||!o){let f=!1;for(;u<i.length;){const v=i[u];if(v===t)return u;if(3===v||6===v)f=!0;else{if(1===v||2===v){let I=i[++u];for(;"string"==typeof I;)I=i[++u];continue}if(4===v)break;if(0===v){u+=4;continue}}u+=f?1:2}return-1}return function ss(t,i){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===i)return o;o++}return-1}(i,t)}function sr(t,i,o=!1){for(let a=0;a<i.length;a++)if(tn(t,i[a],o))return!0;return!1}function Mo(t,i){e:for(let o=0;o<i.length;o++){const a=i[o];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function as(t,i){return t?":not("+i.trim()+")":i}function Ko(t){let i=t[0],o=1,a=2,u="",f=!1;for(;o<t.length;){let v=t[o];if("string"==typeof v)if(2&a){const I=t[++o];u+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&a?u+="."+v:4&a&&(u+=" "+v);else""!==u&&!Mn(v)&&(i+=as(f,u),u=""),a=v,f=f||!Mn(a);o++}return""!==u&&(i+=as(f,u)),i}function Bs(t){return Re(()=>{const i=vo(t),o={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yt.Emulated,styles:t.styles||ze,_:null,schemas:t.schemas||null,tView:null,id:""};Ro(o);const a=t.dependencies;return o.directiveDefs=Oi(a,!1),o.pipeDefs=Oi(a,!0),o.id=function Po(t){let i=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of o)i=Math.imul(31,i)+u.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(o),o})}function Bo(t){return bi(t)||pr(t)}function oo(t){return null!==t}function Kr(t){return Re(()=>({type:t.type,bootstrap:t.bootstrap||ze,declarations:t.declarations||ze,imports:t.imports||ze,exports:t.exports||ze,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function to(t,i){if(null==t)return pn;const o={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),o[u]=a,i&&(i[u]=f)}return o}function jo(t){return Re(()=>{const i=vo(t);return Ro(i),i})}function Us(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function bi(t){return t[ee]||null}function pr(t){return t[te]||null}function Hi(t){return t[Ie]||null}function Rr(t){const i=bi(t)||pr(t)||Hi(t);return null!==i&&i.standalone}function ur(t,i){const o=t[nt]||null;if(!o&&!0===i)throw new Error(`Type ${me(t)} does not have '\u0275mod' property.`);return o}function vo(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||pn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ze,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:to(t.inputs,i),outputs:to(t.outputs)}}function Ro(t){t.features?.forEach(i=>i(t))}function Oi(t,i){if(!t)return null;const o=i?Hi:Bo;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(oo)}const ji=0,wn=1,ii=2,$i=3,Vr=4,yo=5,Wi=6,no=7,Vi=8,yr=9,ls=10,ei=11,bo=12,Is=13,cs=14,Gi=15,ra=16,us=17,mo=18,io=19,_a=20,Oo=21,qr=22,ds=23,Yo=24,Yn=25,Yr=1,wr=2,Br=7,Eo=9,br=11;function _i(t){return Array.isArray(t)&&"object"==typeof t[Yr]}function dr(t){return Array.isArray(t)&&!0===t[Yr]}function hs(t){return 0!=(4&t.flags)}function jr(t){return t.componentOffset>-1}function Zo(t){return 1==(1&t.flags)}function zr(t){return!!t.template}function Cs(t){return 0!=(512&t[ii])}function wo(t,i){return t.hasOwnProperty(dt)?t[dt]:null}let Dr=null,Ts=!1;function Pr(t){const i=Dr;return Dr=t,i}const za={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function so(t){if(!Co(t)||t.dirty){if(!t.producerMustRecompute(t)&&!cl(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Hs(t){t.dirty=!0,function Ea(t){if(void 0===t.liveConsumerNode)return;const i=Ts;Ts=!0;try{for(const o of t.liveConsumerNode)o.dirty||Hs(o)}finally{Ts=i}}(t),t.consumerMarkedDirty?.(t)}function ll(t){return t&&(t.nextProducerIndex=0),Pr(t)}function Qr(t,i){if(Pr(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Co(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)sa(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function cl(t){Ia(t);for(let i=0;i<t.producerNode.length;i++){const o=t.producerNode[i],a=t.producerLastReadVersion[i];if(a!==o.version||(so(o),a!==o.version))return!0}return!1}function Ri(t){if(Ia(t),Co(t))for(let i=0;i<t.producerNode.length;i++)sa(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function sa(t,i){if(function aa(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ia(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)sa(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[i],u=t.liveConsumerNode[i];Ia(u),u.producerIndexOfThis[a]=i}}function Co(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ia(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let la=null;function St(t){const i=Pr(null);try{return t()}finally{Pr(i)}}const Fn=()=>{},tr=(()=>({...za,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Fn}))();class Bi{constructor(i,o,a){this.previousValue=i,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Qn(){return ir}function ir(t){return t.type.prototype.ngOnChanges&&(t.setInput=mr),Pi}function Pi(){const t=Gt(this),i=t?.current;if(i){const o=t.previous;if(o===pn)t.previous=i;else for(let a in i)o[a]=i[a];t.current=null,this.ngOnChanges(i)}}function mr(t,i,o,a){const u=this.declaredInputs[o],f=Gt(t)||function nr(t,i){return t[Ws]=i}(t,{previous:pn,current:null}),v=f.current||(f.current={}),I=f.previous,M=I[u];v[u]=new Bi(M&&M.currentValue,i,I===pn),t[a]=i}Qn.ngInherit=!0;const Ws="__ngSimpleChanges__";function Gt(t){return t[Ws]||null}const yn=function(t,i,o){};function Xt(t){for(;Array.isArray(t);)t=t[ji];return t}function qt(t,i){return Xt(i[t])}function Fi(t,i){return Xt(i[t.index])}function lu(t,i){return t.data[i]}function Da(t,i){return t[i]}function $o(t,i){const o=i[t];return _i(o)?o:o[ji]}function Ks(t,i){return null==i?null:t[i]}function uu(t){t[us]=0}function Fd(t){1024&t[ii]||(t[ii]|=1024,ti(t,1))}function xa(t){1024&t[ii]&&(t[ii]&=-1025,ti(t,-1))}function ti(t,i){let o=t[$i];if(null===o)return;o[yo]+=i;let a=o;for(o=o[$i];null!==o&&(1===i&&1===a[yo]||-1===i&&0===a[yo]);)o[yo]+=i,a=o,o=o[$i]}const Rn={lFrame:da(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Dn(){return Rn.bindingsEnabled}function Lo(){return null!==Rn.skipHydrationRootTNode}function Ht(){return Rn.lFrame.lView}function Ui(){return Rn.lFrame.tView}function pc(t){return Rn.lFrame.contextLView=t,t[Vi]}function Do(t){return Rn.lFrame.contextLView=null,t}function Xr(){let t=Ta();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ta(){return Rn.lFrame.currentTNode}function rr(t,i){const o=Rn.lFrame;o.currentTNode=t,o.isParent=i}function Wa(){return Rn.lFrame.isParent}function Et(){Rn.lFrame.isParent=!1}function Jr(){const t=Rn.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function w(){return Rn.lFrame.bindingIndex}function E(){return Rn.lFrame.bindingIndex++}function P(t){const i=Rn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,o}function Ue(t,i){const o=Rn.lFrame;o.bindingIndex=o.bindingRootIndex=t,Ct(i)}function Ct(t){Rn.lFrame.currentDirectiveIndex=t}function Sn(t){const i=Rn.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}function Di(){return Rn.lFrame.currentQueryIndex}function Ci(t){Rn.lFrame.currentQueryIndex=t}function zi(t){const i=t[wn];return 2===i.type?i.declTNode:1===i.type?t[Wi]:null}function Ss(t,i,o){if(o&ct.SkipSelf){let u=i,f=t;for(;!(u=u.parent,null!==u||o&ct.Host||(u=zi(f),null===u||(f=f[cs],10&u.type))););if(null===u)return!1;i=u,t=f}const a=Rn.lFrame=ua();return a.currentTNode=i,a.lView=t,!0}function lo(t){const i=ua(),o=t[wn];Rn.lFrame=i,i.currentTNode=o.firstChild,i.lView=t,i.tView=o,i.contextLView=t,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function ua(){const t=Rn.lFrame,i=null===t?null:t.child;return null===i?da(t):i}function da(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function ha(){const t=Rn.lFrame;return Rn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Fc=ha;function du(){const t=ha();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Wo(){return Rn.lFrame.selectedIndex}function Ga(t){Rn.lFrame.selectedIndex=t}function Hr(){const t=Rn.lFrame;return lu(t.tView,t.selectedIndex)}let Ju=!0;function Bl(){return Ju}function Ms(t){Ju=t}function pu(t,i){for(let o=i.directiveStart,a=i.directiveEnd;o<a;o++){const f=t.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:M,ngAfterViewChecked:$,ngOnDestroy:le}=f;v&&(t.contentHooks??=[]).push(-o,v),I&&((t.contentHooks??=[]).push(o,I),(t.contentCheckHooks??=[]).push(o,I)),M&&(t.viewHooks??=[]).push(-o,M),$&&((t.viewHooks??=[]).push(o,$),(t.viewCheckHooks??=[]).push(o,$)),null!=le&&(t.destroyHooks??=[]).push(o,le)}}function ml(t,i,o){Ka(t,i,3,o)}function gc(t,i,o,a){(3&t[ii])===o&&Ka(t,i,o,a)}function fa(t,i){let o=t[ii];(3&o)===i&&(o&=8191,o+=1,t[ii]=o)}function Ka(t,i,o,a){const f=a??-1,v=i.length-1;let I=0;for(let M=void 0!==a?65535&t[us]:0;M<v;M++)if("number"==typeof i[M+1]){if(I=i[M],null!=a&&I>=a)break}else i[M]<0&&(t[us]+=65536),(I<f||-1==f)&&(mu(t,o,i,M),t[us]=(4294901760&t[us])+M+2),M++}function co(t,i){yn(4,t,i);const o=Pr(null);try{i.call(t)}finally{Pr(o),yn(5,t,i)}}function mu(t,i,o,a){const u=o[a]<0,f=o[a+1],I=t[u?-o[a]:o[a]];u?t[ii]>>13<t[us]>>16&&(3&t[ii])===i&&(t[ii]+=8192,co(I,f)):co(I,f)}const _s=-1;class Aa{constructor(i,o,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Ul(t){return t!==_s}function Or(t){return 32767&t}function qs(t,i){let o=function Vc(t){return t>>16}(t),a=i;for(;o>0;)a=a[cs],o--;return a}let Nr=!0;function ys(t){const i=Nr;return Nr=t,i}const jl=255,zl=5;let Ld=0;const eo={};function gl(t,i){const o=bs(t,i);if(-1!==o)return o;const a=i[wn];a.firstCreatePass&&(t.injectorIndex=i.length,pa(a.data,t),pa(i,null),pa(a.blueprint,null));const u=qa(t,i),f=t.injectorIndex;if(Ul(u)){const v=Or(u),I=qs(u,i),M=I[wn].data;for(let $=0;$<8;$++)i[f+$]=I[v+$]|M[v+$]}return i[f+8]=u,f}function pa(t,i){t.push(0,0,0,0,0,0,0,0,i)}function bs(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function qa(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,u=i;for(;null!==u;){if(a=_r(u),null===a)return _s;if(o++,u=u[cs],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return _s}function Ra(t,i,o){!function Ma(t,i,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Wt)&&(a=o[Wt]),null==a&&(a=o[Wt]=Ld++);const u=a&jl;i.data[t+(u>>zl)]|=1<<u}(t,i,o)}function ma(t,i,o){if(o&ct.Optional||void 0!==t)return t;Zt()}function Uc(t,i,o,a){if(o&ct.Optional&&void 0===a&&(a=null),!(o&(ct.Self|ct.Host))){const u=t[yr],f=Vt(void 0);try{return u?u.get(i,a,o&ct.Optional):sn(i,a,o&ct.Optional)}finally{Vt(f)}}return ma(a,0,o)}function Ys(t,i,o,a=ct.Default,u){if(null!==t){if(2048&i[ii]&&!(a&ct.Self)){const v=function Vd(t,i,o,a,u){let f=t,v=i;for(;null!==f&&null!==v&&2048&v[ii]&&!(512&v[ii]);){const I=Pa(f,v,o,a|ct.Self,eo);if(I!==eo)return I;let M=f.parent;if(!M){const $=v[_a];if($){const le=$.get(o,eo,a);if(le!==eo)return le}M=_r(v),v=v[cs]}f=M}return u}(t,i,o,a,eo);if(v!==eo)return v}const f=Pa(t,i,o,a,eo);if(f!==eo)return f}return Uc(i,o,a,u)}function Pa(t,i,o,a,u){const f=function Oa(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(Wt)?t[Wt]:void 0;return"number"==typeof i?i>=0?i&jl:td:i}(o);if("function"==typeof f){if(!Ss(i,t,a))return a&ct.Host?ma(u,0,a):Uc(i,o,a,u);try{let v;if(v=f(a),null!=v||a&ct.Optional)return v;Zt()}finally{Fc()}}else if("number"==typeof f){let v=null,I=bs(t,i),M=_s,$=a&ct.Host?i[Gi][Wi]:null;for((-1===I||a&ct.SkipSelf)&&(M=-1===I?qa(t,i):i[I+8],M!==_s&&Hl(a,!1)?(v=i[wn],I=Or(M),i=qs(M,i)):I=-1);-1!==I;){const le=i[wn];if(Na(f,I,le.data)){const ke=_c(I,i,o,v,a,$);if(ke!==eo)return ke}M=i[I+8],M!==_s&&Hl(a,i[wn].data[I+8]===$)&&Na(f,I,i)?(v=le,I=Or(M),i=qs(M,i)):I=-1}}return u}function _c(t,i,o,a,u,f){const v=i[wn],I=v.data[t+8],le=Zs(I,v,o,null==a?jr(I)&&Nr:a!=v&&0!=(3&I.type),u&ct.Host&&f===I);return null!==le?Qs(i,v,le,I):eo}function Zs(t,i,o,a,u){const f=t.providerIndexes,v=i.data,I=1048575&f,M=t.directiveStart,le=f>>20,lt=u?I+le:t.directiveEnd;for(let bt=a?I:I+le;bt<lt;bt++){const Ut=v[bt];if(bt<M&&o===Ut||bt>=M&&Ut.type===o)return bt}if(u){const bt=v[M];if(bt&&zr(bt)&&bt.type===o)return M}return null}function Qs(t,i,o,a){let u=t[o];const f=i.data;if(function ar(t){return t instanceof Aa}(u)){const v=u;v.resolving&&function Xe(t,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new ue(-200,`Circular dependency in DI detected for ${t}${o}`)}(function Le(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Me(t)}(f[o]));const I=ys(v.canSeeViewProviders);v.resolving=!0;const $=v.injectImpl?Vt(v.injectImpl):null;Ss(t,a,ct.Default);try{u=t[o]=v.factory(void 0,f,t,a),i.firstCreatePass&&o>=a.directiveStart&&function Lc(t,i,o){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:f}=i.type.prototype;if(a){const v=ir(i);(o.preOrderHooks??=[]).push(t,v),(o.preOrderCheckHooks??=[]).push(t,v)}u&&(o.preOrderHooks??=[]).push(0-t,u),f&&((o.preOrderHooks??=[]).push(t,f),(o.preOrderCheckHooks??=[]).push(t,f))}(o,f[o],i)}finally{null!==$&&Vt($),ys(I),v.resolving=!1,Fc()}}return u}function Na(t,i,o){return!!(o[i+(t>>zl)]&1<<t)}function Hl(t,i){return!(t&ct.Self||t&ct.Host&&i)}class xo{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,a){return Ys(this._tNode,this._lView,i,Cn(a),o)}}function td(){return new xo(Xr(),Ht())}function vu(t){return Re(()=>{const i=t.prototype.constructor,o=i[dt]||ro(i),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const f=u[dt]||ro(u);if(f&&f!==o)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function ro(t){return it(t)?()=>{const i=ro(Qe(t));return i&&i()}:wo(t)}function _r(t){const i=t[wn],o=i.type;return 2===o?i.declTNode:1===o?t[Wi]:null}function ka(t){return function _u(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const o=t.attrs;if(o){const a=o.length;let u=0;for(;u<a;){const f=o[u];if(Pn(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<a&&"string"==typeof o[u];)u++;else{if(f===i)return o[u+1];u+=2}}}return null}(Xr(),t)}const Wl="__parameters__";function Ti(t,i,o){return Re(()=>{const a=function jc(t){return function(...o){if(t){const a=t(...o);for(const u in a)this[u]=a[u]}}}(i);function u(...f){if(this instanceof u)return a.apply(this,f),this;const v=new u(...f);return I.annotation=v,I;function I(M,$,le){const ke=M.hasOwnProperty(Wl)?M[Wl]:Object.defineProperty(M,Wl,{value:[]})[Wl];for(;ke.length<=le;)ke.push(null);return(ke[le]=ke[le]||[]).push(v),M}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function Qa(t,i){t.forEach(o=>Array.isArray(o)?Qa(o,i):i(o))}function Iu(t,i,o){i>=t.length?t.push(o):t.splice(i,0,o)}function bc(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function Ps(t,i){const o=[];for(let a=0;a<t;a++)o.push(i);return o}function es(t,i,o){let a=vl(t,i);return a>=0?t[1|a]=o:(a=~a,function zc(t,i,o,a){let u=t.length;if(u==i)t.push(o,a);else if(1===u)t.push(a,t[0]),t[0]=o;else{for(u--,t.push(t[u-1],t[u]);u>i;)t[u]=t[u-2],u--;t[i]=o,t[i+1]=a}}(t,a,i,o)),a}function Os(t,i){const o=vl(t,i);if(o>=0)return t[1|o]}function vl(t,i){return function Hc(t,i,o){let a=0,u=t.length>>o;for(;u!==a;){const f=a+(u-a>>1),v=t[f<<o];if(i===v)return f<<o;v>i?u=f:a=f+1}return~(u<<o)}(t,i,1)}const La=mt(Ti("Optional"),8),bl=mt(Ti("SkipSelf"),4);function Js(t){return 128==(128&t.flags)}var ea=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ea||{});const El=/^>|^->|<!--|-->|--!>|<!-$/g,od=/(<|>)/g,sd="\u200b$1\u200b";const si=new Map;let vi=0;const So="__ngContext__";function $r(t,i){_i(i)?(t[So]=i[io],function hi(t){si.set(t[io],t)}(i)):t[So]=i}let Cp;function Dp(t,i){return Cp(t,i)}function Cu(t){const i=t[$i];return dr(i)?i[$i]:i}function bg(t){return Zh(t[bo])}function _o(t){return Zh(t[Vr])}function Zh(t){for(;null!==t&&!dr(t);)t=t[Vr];return t}function Du(t,i,o,a,u){if(null!=a){let f,v=!1;dr(a)?f=a:_i(a)&&(v=!0,a=a[ji]);const I=Xt(a);0===t&&null!==o?null==u?Dg(i,o,I):xu(i,o,I,u||null,!0):1===t&&null!==o?xu(i,o,I,u||null,!0):2===t?function Yc(t,i,o){const a=Kd(t,i);a&&function Kc(t,i,o,a){t.removeChild(i,o,a)}(t,a,i,o)}(i,I,v):3===t&&i.destroyNode(I),null!=f&&function wv(t,i,o,a,u){const f=o[Br];f!==Xt(o)&&Du(i,t,a,f,u);for(let I=br;I<o.length;I++){const M=o[I];Au(M[wn],M,t,i,a,f)}}(i,t,f,o,u)}}function Hd(t,i){return t.createComment(function Kn(t){return t.replace(El,i=>i.replace(od,sd))}(i))}function $d(t,i,o){return t.createElement(i,o)}function cd(t,i){const o=t[Eo],a=o.indexOf(i);xa(i),o.splice(a,1)}function ud(t,i){if(t.length<=br)return;const o=br+i,a=t[o];if(a){const u=a[ra];null!==u&&u!==t&&cd(u,a),i>0&&(t[o-1][Vr]=a[Vr]);const f=bc(t,br+i);!function Wd(t,i){Au(t,i,i[ei],2,null,null),i[ji]=null,i[Wi]=null}(a[wn],a);const v=f[mo];null!==v&&v.detachView(f[wn]),a[$i]=null,a[Vr]=null,a[ii]&=-129}return a}function xp(t,i){if(!(256&i[ii])){const o=i[ei];i[ds]&&Ri(i[ds]),i[Yo]&&Ri(i[Yo]),o.destroyNode&&Au(t,i,o,3,null,null),function wg(t){let i=t[bo];if(!i)return Qh(t[wn],t);for(;i;){let o=null;if(_i(i))o=i[bo];else{const a=i[br];a&&(o=a)}if(!o){for(;i&&!i[Vr]&&i!==t;)_i(i)&&Qh(i[wn],i),i=i[$i];null===i&&(i=t),_i(i)&&Qh(i[wn],i),o=i&&i[Vr]}i=o}}(i)}}function Qh(t,i){if(!(256&i[ii])){i[ii]&=-129,i[ii]|=256,function Cg(t,i){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const u=i[o[a]];if(!(u instanceof Aa)){const f=o[a+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const I=u[f[v]],M=f[v+1];yn(4,I,M);try{M.call(I)}finally{yn(5,I,M)}}else{yn(4,u,f);try{f.call(u)}finally{yn(5,u,f)}}}}}(t,i),function Tp(t,i){const o=t.cleanup,a=i[no];if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const v=o[f+3];v>=0?a[v]():a[-v].unsubscribe(),f+=2}else o[f].call(a[o[f+1]]);null!==a&&(i[no]=null);const u=i[Oo];if(null!==u){i[Oo]=null;for(let f=0;f<u.length;f++)(0,u[f])()}}(t,i),1===i[wn].type&&i[ei].destroy();const o=i[ra];if(null!==o&&dr(i[$i])){o!==i[$i]&&cd(o,i);const a=i[mo];null!==a&&a.detachView(t)}!function Ns(t){si.delete(t[io])}(i)}}function Ap(t,i,o){return function Sp(t,i,o){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return o[ji];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:f}=t.data[a.directiveStart+u];if(f===Yt.None||f===Yt.Emulated)return null}return Fi(a,o)}}(t,i.parent,o)}function xu(t,i,o,a,u){t.insertBefore(i,o,a,u)}function Dg(t,i,o){t.appendChild(i,o)}function xg(t,i,o,a,u){null!==a?xu(t,i,o,a,u):Dg(t,i,o)}function Kd(t,i){return t.parentNode(i)}function Mp(t,i,o){return Rp(t,i,o)}let Pp,Ql,Dc,Qd,Rp=function Zl(t,i,o){return 40&t.type?Fi(t,o):null};function Tu(t,i,o,a){const u=Ap(t,a,i),f=i[ei],I=Mp(a.parent||i[Wi],a,i);if(null!=u)if(Array.isArray(o))for(let M=0;M<o.length;M++)xg(f,u,o[M],I,!1);else xg(f,u,o,I,!1);void 0!==Pp&&Pp(f,a,i,o,u)}function Cl(t,i){if(null!==i){const o=i.type;if(3&o)return Fi(i,t);if(4&o)return Cc(-1,t[i.index]);if(8&o){const a=i.child;if(null!==a)return Cl(t,a);{const u=t[i.index];return dr(u)?Cc(-1,u):Xt(u)}}if(32&o)return Dp(i,t)()||Xt(t[i.index]);{const a=qc(t,i);return null!==a?Array.isArray(a)?a[0]:Cl(Cu(t[Gi]),a):Cl(t,i.next)}}return null}function qc(t,i){return null!==i?t[Gi][Wi].projection[i.projection]:null}function Cc(t,i){const o=br+t+1;if(o<i.length){const a=i[o],u=a[wn].firstChild;if(null!==u)return Cl(a,u)}return i[Br]}function qd(t,i,o,a,u,f,v){for(;null!=o;){const I=a[o.index],M=o.type;if(v&&0===i&&(I&&$r(Xt(I),a),o.flags|=2),32!=(32&o.flags))if(8&M)qd(t,i,o.child,a,u,f,!1),Du(i,t,u,I,f);else if(32&M){const $=Dp(o,a);let le;for(;le=$();)Du(i,t,u,le,f);Du(i,t,u,I,f)}else 16&M?kp(t,i,a,o,u,f):Du(i,t,u,I,f);o=v?o.projectionNext:o.next}}function Au(t,i,o,a,u,f){qd(o,a,t.firstChild,i,u,f,!1)}function kp(t,i,o,a,u,f){const v=o[Gi],M=v[Wi].projection[a.projection];if(Array.isArray(M))for(let $=0;$<M.length;$++)Du(i,t,u,M[$],f);else{let $=M;const le=v[$i];Js(a)&&($.flags|=128),qd(t,i,$,le,u,f,!0)}}function Yd(t,i,o){""===o?t.removeAttribute(i,"class"):t.setAttribute(i,"class",o)}function dd(t,i,o){const{mergedAttrs:a,classes:u,styles:f}=o;null!==a&&un(t,i,a),null!==u&&Yd(t,i,u),null!==f&&function Sg(t,i,o){t.setAttribute(i,"style",o)}(t,i,f)}function Su(t){return function Fp(){if(void 0===Ql&&(Ql=null,xt.trustedTypes))try{Ql=xt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ql}()?.createHTML(t)||t}function Zc(t){Dc=t}function ef(t){return function Xh(){if(void 0===Qd&&(Qd=null,xt.trustedTypes))try{Qd=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qd}()?.createScriptURL(t)||t}class Qc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ye})`}}class Lp extends Qc{getTypeName(){return"HTML"}}class Vp extends Qc{getTypeName(){return"Style"}}class Rg extends Qc{getTypeName(){return"Script"}}class tf extends Qc{getTypeName(){return"URL"}}class xv extends Qc{getTypeName(){return"ResourceURL"}}function Dl(t){return t instanceof Qc?t.changingThisBreaksApplicationSecurity:t}function xc(t,i){const o=function Tv(t){return t instanceof Qc&&t.getTypeName()||null}(t);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Ye})`)}return o===i}function Pg(t){return new Lp(t)}function hd(t){return new Vp(t)}function Xd(t){return new Rg(t)}function fd(t){return new tf(t)}function Og(t){return new xv(t)}class ks{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Su(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class Ng{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=Su(i),o}}const rf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jd(t){return(t=String(t)).match(rf)?t:"unsafe:"+t}function Fs(t){const i={};for(const o of t.split(","))i[o]=!0;return i}function Xl(...t){const i={};for(const o of t)for(const a in o)o.hasOwnProperty(a)&&(i[a]=!0);return i}const Up=Fs("area,br,col,hr,img,wbr"),Xc=Fs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kg=Fs("rp,rt"),sf=Xl(Up,Xl(Xc,Fs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xl(kg,Fs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xl(kg,Xc)),jp=Fs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zp=Xl(jp,Fs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mv=Fs("script,style,template");class af{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!sf.hasOwnProperty(o))return this.sanitizedSomething=!0,!Mv.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=i.attributes;for(let u=0;u<a.length;u++){const f=a.item(u),v=f.name,I=v.toLowerCase();if(!zp.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let M=f.value;jp[I]&&(M=Jd(M)),this.buf.push(" ",v,'="',Hp(M),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();sf.hasOwnProperty(o)&&!Up.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Hp(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Fg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rv=/([^\#-~ |!])/g;function Hp(t){return t.replace(/&/g,"&amp;").replace(Fg,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Rv,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let lf;function $p(t,i){let o=null;try{lf=lf||function Bp(t){const i=new Ng(t);return function nf(){try{return!!(new window.DOMParser).parseFromString(Su(""),"text/html")}catch{return!1}}()?new ks(i):i}(t);let a=i?String(i):"";o=lf.getInertBodyElement(a);let u=5,f=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=f,f=o.innerHTML,o=lf.getInertBodyElement(a)}while(a!==f);return Su((new af).sanitizeChildren(Tc(o)||o))}finally{if(o){const a=Tc(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Tc(t){return"content"in t&&function th(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Jc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Jc||{});function cf(t){const i=Pu();return i?i.sanitize(Jc.URL,t)||"":xc(t,"URL")?Dl(t):Jd(Me(t))}function Vg(t){const i=Pu();if(i)return ef(i.sanitize(Jc.RESOURCE_URL,t)||"");if(xc(t,"ResourceURL"))return ef(Dl(t));throw new ue(904,!1)}function Bg(t,i,o){return function Nv(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?Vg:cf}(i,o)(t)}function Pu(){const t=Ht();return t&&t[ls].sanitizer}const nh=new at("ENVIRONMENT_INITIALIZER"),ih=new at("INJECTOR",-1),rh=new at("INJECTOR_DEF_TYPES");class Gp{get(i,o=oi){if(o===oi){const a=new Error(`NullInjectorError: No provider for ${me(i)}!`);throw a.name="NullInjectorError",a}return o}}function uf(t){return{\u0275providers:t}}function Kp(...t){return{\u0275providers:df(0,t),\u0275fromNgModule:!0}}function df(t,...i){const o=[],a=new Set;let u;const f=v=>{o.push(v)};return Qa(i,v=>{const I=v;Ou(I,f,[],a)&&(u||=[],u.push(I))}),void 0!==u&&pd(u,f),o}function pd(t,i){for(let o=0;o<t.length;o++){const{ngModule:a,providers:u}=t[o];oh(u,f=>{i(f,a)})}}function Ou(t,i,o,a){if(!(t=Qe(t)))return!1;let u=null,f=Ni(t);const v=!f&&bi(t);if(f||v){if(v&&!v.standalone)return!1;u=t}else{const M=t.ngModule;if(f=Ni(M),!f)return!1;u=M}const I=a.has(u);if(v){if(I)return!1;if(a.add(u),v.dependencies){const M="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const $ of M)Ou($,i,o,a)}}else{if(!f)return!1;{if(null!=f.imports&&!I){let $;a.add(u);try{Qa(f.imports,le=>{Ou(le,i,o,a)&&($||=[],$.push(le))})}finally{}void 0!==$&&pd($,i)}if(!I){const $=wo(u)||(()=>new u);i({provide:u,useFactory:$,deps:ze},u),i({provide:rh,useValue:u,multi:!0},u),i({provide:nh,useValue:()=>$t(u),multi:!0},u)}const M=f.providers;if(null!=M&&!I){const $=t;oh(M,le=>{i(le,$)})}}}return u!==t&&void 0!==t.providers}function oh(t,i){for(let o of t)qe(o)&&(o=o.\u0275providers),Array.isArray(o)?oh(o,i):i(o)}const kv=W({provide:String,useValue:W});function hf(t){return null!==t&&"object"==typeof t&&kv in t}function eu(t){return"function"==typeof t}const Zp=new at("Set Injector scope."),sh={},Fv={};let ff;function pf(){return void 0===ff&&(ff=new Gp),ff}class ta{}class xl extends ta{get destroyed(){return this._destroyed}constructor(i,o,a,u){super(),this.parent=o,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lh(i,v=>this.processProvider(v)),this.records.set(ih,Nu(void 0,this)),u.has("environment")&&this.records.set(ta,Nu(void 0,this));const f=this.records.get(Zp);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(rh.multi,ze,ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const o=tt(this),a=Vt(void 0);try{return i()}finally{tt(o),Vt(a)}}get(i,o=oi,a=ct.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(cn))return i[cn](this);a=Cn(a);const f=tt(this),v=Vt(void 0);try{if(!(a&ct.SkipSelf)){let M=this.records.get(i);if(void 0===M){const $=function Vv(t){return"function"==typeof t||"object"==typeof t&&t instanceof at}(i)&&ni(i);M=$&&this.injectableDefInScope($)?Nu(ah(i),sh):null,this.records.set(i,M)}if(null!=M)return this.hydrate(i,M)}return(a&ct.Self?pf():this.parent).get(i,o=a&ct.Optional&&o===oi?null:o)}catch(I){if("NullInjectorError"===I.name){if((I[zt]=I[zt]||[]).unshift(me(i)),f)throw I;return function Ne(t,i,o,a){const u=t[zt];throw i[O]&&u.unshift(i[O]),t.message=function xe(t,i,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=me(i);if(Array.isArray(i))u=i.map(me).join(" -> ");else if("object"==typeof i){let f=[];for(let v in i)if(i.hasOwnProperty(v)){let I=i[v];f.push(v+":"+("string"==typeof I?JSON.stringify(I):me(I)))}u=`{${f.join(", ")}}`}return`${o}${a?"("+a+")":""}[${u}]: ${t.replace(B,"\n  ")}`}("\n"+t.message,u,o,a),t.ngTokenPath=u,t[zt]=null,t}(I,i,"R3InjectorError",this.source)}throw I}finally{Vt(v),tt(f)}}resolveInjectorInitializers(){const i=tt(this),o=Vt(void 0);try{const u=this.get(nh.multi,ze,ct.Self);for(const f of u)f()}finally{tt(i),Vt(o)}}toString(){const i=[],o=this.records;for(const a of o.keys())i.push(me(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(i){let o=eu(i=Qe(i))?i:Qe(i&&i.provide);const a=function zg(t){return hf(t)?Nu(void 0,t.useValue):Nu(Qp(t),sh)}(i);if(eu(i)||!0!==i.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=Nu(void 0,sh,!0),u.factory=()=>Jn(u.multi),this.records.set(o,u)),o=i,u.multi.push(i)}this.records.set(o,a)}hydrate(i,o){return o.value===sh&&(o.value=Fv,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Xp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Qe(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(i){const o=this._onDestroyHooks.indexOf(i);-1!==o&&this._onDestroyHooks.splice(o,1)}}function ah(t){const i=ni(t),o=null!==i?i.factory:wo(t);if(null!==o)return o;if(t instanceof at)throw new ue(204,!1);if(t instanceof Function)return function mf(t){const i=t.length;if(i>0)throw Ps(i,"?"),new ue(204,!1);const o=function Si(t){return t&&(t[gi]||t[_t])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new ue(204,!1)}function Qp(t,i,o){let a;if(eu(t)){const u=Qe(t);return wo(u)||ah(u)}if(hf(t))a=()=>Qe(t.useValue);else if(function qp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Jn(t.deps||[]));else if(function jg(t){return!(!t||!t.useExisting)}(t))a=()=>$t(Qe(t.useExisting));else{const u=Qe(t&&(t.useClass||t.provide));if(!function Lv(t){return!!t.deps}(t))return wo(u)||ah(u);a=()=>new u(...Jn(t.deps))}return a}function Nu(t,i,o=!1){return{factory:t,value:i,multi:o?[]:void 0}}function lh(t,i){for(const o of t)Array.isArray(o)?lh(o,i):o&&qe(o)?lh(o.\u0275providers,i):i(o)}const Jp=new at("AppId",{providedIn:"root",factory:()=>Hg}),Hg="ng",gf=new at("Platform Initializer"),md=new at("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vf=new at("AnimationModuleType"),em=new at("CSP nonce",{providedIn:"root",factory:()=>function Mu(){if(void 0!==Dc)return Dc;if(typeof document<"u")return document;throw new ue(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let bf=(t,i,o)=>null;function Fu(t,i,o=!1){return bf(t,i,o)}class Hv{}class Cf{}class am{resolveComponentFactory(i){throw function $v(t){const i=Error(`No component factory found for ${me(t)}.`);return i.ngComponent=t,i}(i)}}let tu=(()=>{class t{static#e=this.NULL=new am}return t})();function lm(){return Lu(Xr(),Ht())}function Lu(t,i){return new ec(Fi(t,i))}let ec=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=lm}return t})();function cm(t){return t instanceof ec?t.nativeElement:t}class Gg{}let Wv=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Kg(){const t=Ht(),o=$o(Xr().index,t);return(_i(o)?o:t)[ei]}()}return t})(),qg=(()=>{class t{static#e=this.\u0275prov=An({token:t,providedIn:"root",factory:()=>null})}return t})();class Yg{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const xf=new Yg("16.2.11"),um={};function Sf(t,i=null,o=null,a){const u=Bu(t,i,o,a);return u.resolveInjectorInitializers(),u}function Bu(t,i=null,o=null,a,u=new Set){const f=[o||ze,Kp(t)];return a=a||("object"==typeof t?void 0:me(t)),new xl(f,i||pf(),a||null,u)}let Ls=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=oi;static#t=this.NULL=new Gp;static create(o,a){if(Array.isArray(o))return Sf({name:""},a,o,"");{const u=o.name??"";return Sf({name:u},o.parent,o.providers,u)}}static#n=this.\u0275prov=An({token:t,providedIn:"any",factory:()=>$t(ih)});static#i=this.__NG_ELEMENT_ID__=-1}return t})();function _m(t){return t.ngOriginalError}class nu{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&_m(i);for(;o&&_m(o);)o=_m(o);return o||null}}function bm(t){return i=>{setTimeout(t,void 0,i)}}const tc=class ym extends c.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,a){let u=i,f=o||(()=>null),v=a;if(i&&"object"==typeof i){const M=i;u=M.next?.bind(M),f=M.error?.bind(M),v=M.complete?.bind(M)}this.__isAsync&&(f=bm(f),u&&(u=bm(u)),v&&(v=bm(v)));const I=super.subscribe({next:u,error:f,complete:v});return i instanceof F.w0&&i.add(I),I}};function Mf(...t){}class Go{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tc(!1),this.onMicrotaskEmpty=new tc(!1),this.onStable=new tc(!1),this.onError=new tc(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&o,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Em(){const t="function"==typeof xt.requestAnimationFrame;let i=xt[t?"requestAnimationFrame":"setTimeout"],o=xt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Jg(t){const i=()=>{!function Xg(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Pf(t),t.isCheckStableRunning=!0,Rf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Pf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,u,f,v,I)=>{if(function Im(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(I))return o.invokeTask(u,f,v,I);try{return e_(t),o.invokeTask(u,f,v,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&i(),t_(t)}},onInvoke:(o,a,u,f,v,I,M)=>{try{return e_(t),o.invoke(u,f,v,I,M)}finally{t.shouldCoalesceRunChangeDetection&&i(),t_(t)}},onHasTask:(o,a,u,f)=>{o.hasTask(u,f),a===u&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,Pf(t),Rf(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,a,u,f)=>(o.handleError(u,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Go.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(Go.isInAngularZone())throw new ue(909,!1)}run(i,o,a){return this._inner.run(i,o,a)}runTask(i,o,a,u){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+u,i,Kv,Mf,Mf);try{return f.runTask(v,o,a)}finally{f.cancelTask(v)}}runGuarded(i,o,a){return this._inner.runGuarded(i,o,a)}runOutsideAngular(i){return this._outer.run(i)}}const Kv={};function Rf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Pf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function e_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function t_(t){t._nesting--,Rf(t)}class qv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tc,this.onMicrotaskEmpty=new tc,this.onStable=new tc,this.onError=new tc}run(i,o,a){return i.apply(o,a)}runGuarded(i,o,a){return i.apply(o,a)}runOutsideAngular(i){return i()}runTask(i,o,a,u){return i.apply(o,a)}}const n_=new at("",{providedIn:"root",factory:Of});function Of(){const t=fn(Go);let i=!0;const o=new H.y(u=>{i=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(i),u.complete()})}),a=new H.y(u=>{let f;t.runOutsideAngular(()=>{f=t.onStable.subscribe(()=>{Go.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(i=!0,u.next(!0))})})});const v=t.onUnstable.subscribe(()=>{Go.assertInAngularZone(),i&&(i=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{f.unsubscribe(),v.unsubscribe()}});return(0,he.T)(o,a.pipe((0,be.B)()))}function Nf(t){return t.ownerDocument.defaultView}function Tl(t){return t instanceof Function?t():t}let Cm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=An({token:t,providedIn:"root",factory:()=>new t})}return t})();function ju(t){for(;t;){t[ii]|=64;const i=Cu(t);if(Cs(t)&&!i)return t;t=i}return null}const o_=new at("",{providedIn:"root",factory:()=>!1});let Uf=null;function u_(t,i){return t[i]??d_()}function jf(t,i){const o=d_();o.producerNode?.length&&(t[i]=Uf,o.lView=t,Uf=zf())}const Qv={...za,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ju(t.lView)},lView:null};function zf(){return Object.create(Qv)}function d_(){return Uf??=zf(),Uf}const Ai={};function h_(t){Hf(Ui(),Ht(),Wo()+t,!1)}function Hf(t,i,o,a){if(!a)if(3==(3&i[ii])){const f=t.preOrderCheckHooks;null!==f&&ml(i,f,o)}else{const f=t.preOrderHooks;null!==f&&gc(i,f,0,o)}Ga(o)}function zu(t,i=ct.Default){const o=Ht();return null===o?$t(t,i):Ys(Xr(),o,Qe(t),i)}function $f(){throw new Error("invalid")}function Wf(t,i,o,a,u,f,v,I,M,$,le){const ke=i.blueprint.slice();return ke[ji]=u,ke[ii]=140|a,(null!==$||t&&2048&t[ii])&&(ke[ii]|=2048),uu(ke),ke[$i]=ke[cs]=t,ke[Vi]=o,ke[ls]=v||t&&t[ls],ke[ei]=I||t&&t[ei],ke[yr]=M||t&&t[yr]||null,ke[Wi]=f,ke[io]=function ui(){return vi++}(),ke[qr]=le,ke[_a]=$,ke[Gi]=2==i.type?t[Gi]:ke,ke}function wd(t,i,o,a,u){let f=t.data[i];if(null===f)f=function yh(t,i,o,a,u){const f=Ta(),v=Wa(),M=t.data[i]=function ey(t,i,o,a,u,f){let v=i?i.injectorIndex:-1,I=0;return Lo()&&(I|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,o,i,a,u);return null===t.firstChild&&(t.firstChild=M),null!==f&&(v?null==f.child&&null!==M.parent&&(f.child=M):null===f.next&&(f.next=M,M.prev=f)),M}(t,i,o,a,u),function G(){return Rn.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=o,f.value=a,f.attrs=u;const v=function ms(){const t=Rn.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return rr(f,!0),f}function bh(t,i,o,a){if(0===o)return-1;const u=i.length;for(let f=0;f<o;f++)i.push(a),t.blueprint.push(a),t.data.push(null);return u}function Gf(t,i,o,a,u){const f=u_(i,ds),v=Wo(),I=2&a;try{Ga(-1),I&&i.length>Yn&&Hf(t,i,Yn,!1),yn(I?2:0,u);const $=I?f:null,le=ll($);try{null!==$&&($.dirty=!1),o(a,u)}finally{Qr($,le)}}finally{I&&null===i[ds]&&jf(i,ds),Ga(v),yn(I?3:1,u)}}function Eh(t,i,o){if(hs(i)){const a=Pr(null);try{const f=i.directiveEnd;for(let v=i.directiveStart;v<f;v++){const I=t.data[v];I.contentQueries&&I.contentQueries(1,o[v],v)}}finally{Pr(a)}}}function Ih(t,i,o){Dn()&&(function y_(t,i,o,a){const u=o.directiveStart,f=o.directiveEnd;jr(o)&&function ry(t,i,o){const a=Fi(i,t),u=Cd(o);let v=16;o.signals?v=4096:o.onPush&&(v=64);const I=Dh(t,Wf(t,u,null,v,a,i,null,t[ls].rendererFactory.createRenderer(a,o),null,null,null));t[i.index]=I}(i,o,t.data[u+o.componentOffset]),t.firstCreatePass||gl(o,i),$r(a,i);const v=o.initialInputs;for(let I=u;I<f;I++){const M=t.data[I],$=Qs(i,t,I,o);$r($,i),null!==v&&oy(0,I-u,$,M,0,v),zr(M)&&($o(o.index,i)[Vi]=Qs(i,t,I,o))}}(t,i,o,Fi(o,i)),64==(64&o.flags)&&Yf(t,i,o))}function Sm(t,i,o=Fi){const a=i.localNames;if(null!==a){let u=i.index+1;for(let f=0;f<a.length;f+=2){const v=a[f+1],I=-1===v?o(i,t):t[v];t[u++]=I}}}function Cd(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=Mm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function Mm(t,i,o,a,u,f,v,I,M,$,le){const ke=Yn+a,lt=ke+u,bt=function Rm(t,i){const o=[];for(let a=0;a<i;a++)o.push(a<t?null:Ai);return o}(ke,lt),Ut="function"==typeof $?$():$;return bt[wn]={type:t,blueprint:bt,template:o,queries:null,viewQuery:I,declTNode:i,data:bt.slice().fill(null,ke),bindingStartIndex:ke,expandoStartIndex:lt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:M,consts:Ut,incompleteFirstPass:!1,ssrId:le}}let Pm=t=>null;function m_(t,i,o,a){for(let u in t)if(t.hasOwnProperty(u)){o=null===o?{}:o;const f=t[u];null===a?wh(o,i,u,f):a.hasOwnProperty(u)&&wh(o,i,a[u],f)}return o}function wh(t,i,o,a){t.hasOwnProperty(o)?t[o].push(i,a):t[o]=[i,a]}function na(t,i,o,a,u,f,v,I){const M=Fi(i,o);let le,$=i.inputs;!I&&null!=$&&(le=$[a])?(qi(t,o,le,a,u),jr(i)&&function g_(t,i){const o=$o(i,t);16&o[ii]||(o[ii]|=64)}(o,i.index)):3&i.type&&(a=function Nm(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=v?v(u,i.value||"",a):u,f.setProperty(M,a,u))}function xd(t,i,o,a){if(Dn()){const u=null===a?null:{"":-1},f=function Ad(t,i){const o=t.directiveRegistry;let a=null,u=null;if(o)for(let f=0;f<o.length;f++){const v=o[f];if(sr(i,v.selectors,!1))if(a||(a=[]),zr(v))if(null!==v.findHostDirectiveDefs){const I=[];u=u||new Map,v.findHostDirectiveDefs(v,I,u),a.unshift(...I,v),Ch(t,i,I.length)}else a.unshift(v),Ch(t,i,0);else u=u||new Map,v.findHostDirectiveDefs?.(v,a,u),a.push(v)}return null===a?null:[a,u]}(t,o);let v,I;null===f?v=I=null:[v,I]=f,null!==v&&qf(t,i,o,v,u,I),u&&function ty(t,i,o){if(i){const a=t.localNames=[];for(let u=0;u<i.length;u+=2){const f=o[i[u+1]];if(null==f)throw new ue(-301,!1);a.push(i[u],f)}}}(o,a,u)}o.mergedAttrs=li(o.mergedAttrs,o.attrs)}function qf(t,i,o,a,u,f){for(let $=0;$<a.length;$++)Ra(gl(o,i),t,a[$].type);!function iy(t,i,o){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+o,t.providerIndexes=i}(o,t.data.length,a.length);for(let $=0;$<a.length;$++){const le=a[$];le.providersResolver&&le.providersResolver(le)}let v=!1,I=!1,M=bh(t,i,a.length,null);for(let $=0;$<a.length;$++){const le=a[$];o.mergedAttrs=li(o.mergedAttrs,le.hostAttrs),E_(t,o,i,M,le),ny(M,le,u),null!==le.contentQueries&&(o.flags|=4),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(o.flags|=64);const ke=le.type.prototype;!v&&(ke.ngOnChanges||ke.ngOnInit||ke.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),v=!0),!I&&(ke.ngOnChanges||ke.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),I=!0),M++}!function Om(t,i,o){const u=i.directiveEnd,f=t.data,v=i.attrs,I=[];let M=null,$=null;for(let le=i.directiveStart;le<u;le++){const ke=f[le],lt=o?o.get(ke):null,Ut=lt?lt.outputs:null;M=m_(ke.inputs,le,M,lt?lt.inputs:null),$=m_(ke.outputs,le,$,Ut);const dn=null===M||null===v||Fr(i)?null:sy(M,le,v);I.push(dn)}null!==M&&(M.hasOwnProperty("class")&&(i.flags|=8),M.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=I,i.inputs=M,i.outputs=$}(t,o,f)}function Yf(t,i,o){const a=o.directiveStart,u=o.directiveEnd,f=o.index,v=function It(){return Rn.lFrame.currentDirectiveIndex}();try{Ga(f);for(let I=a;I<u;I++){const M=t.data[I],$=i[I];Ct(I),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&b_(M,$)}}finally{Ga(-1),Ct(v)}}function b_(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function Ch(t,i,o){i.componentOffset=o,(t.components??=[]).push(i.index)}function ny(t,i,o){if(o){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)o[i.exportAs[a]]=t;zr(i)&&(o[""]=t)}}function E_(t,i,o,a,u){t.data[a]=u;const f=u.factory||(u.factory=wo(u.type)),v=new Aa(f,zr(u),zu);t.blueprint[a]=v,o[a]=v,function v_(t,i,o,a,u){const f=u.hostBindings;if(f){let v=t.hostBindingOpCodes;null===v&&(v=t.hostBindingOpCodes=[]);const I=~i.index;(function Td(t){let i=t.length;for(;i>0;){const o=t[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=I&&v.push(I),v.push(o,a,f)}}(t,i,a,bh(t,o,u.hostVars,Ai),u)}function Al(t,i,o,a,u,f){const v=Fi(t,i);!function Fm(t,i,o,a,u,f,v){if(null==f)t.removeAttribute(i,u,o);else{const I=null==v?Me(f):v(f,a||"",u);t.setAttribute(i,u,I,o)}}(i[ei],v,f,t.value,o,a,u)}function oy(t,i,o,a,u,f){const v=f[i];if(null!==v)for(let I=0;I<v.length;)I_(a,o,v[I++],v[I++],v[I++])}function I_(t,i,o,a,u){const f=Pr(null);try{const v=t.inputTransforms;null!==v&&v.hasOwnProperty(a)&&(u=v[a].call(i,u)),null!==t.setInput?t.setInput(i,u,o,a):i[a]=u}finally{Pr(f)}}function sy(t,i,o){let a=null,u=0;for(;u<o.length;){const f=o[u];if(0!==f)if(5!==f){if("number"==typeof f)break;if(t.hasOwnProperty(f)){null===a&&(a=[]);const v=t[f];for(let I=0;I<v.length;I+=2)if(v[I]===i){a.push(f,v[I+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function w_(t,i,o,a){return[t,!0,!1,i,null,0,a,o,null,null,null]}function C_(t,i){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const f=o[a+1];if(-1!==f){const v=t.data[f];Ci(o[a]),v.contentQueries(2,i[f],f)}}}function Dh(t,i){return t[bo]?t[Is][Vr]=i:t[bo]=i,t[Is]=i,i}function Zf(t,i,o){Ci(0);const a=Pr(null);try{i(t,o)}finally{Pr(a)}}function Lm(t){return t[no]||(t[no]=[])}function Vm(t){return t.cleanup||(t.cleanup=[])}function Bm(t,i,o){return(null===t||zr(t))&&(o=function Pt(t){for(;Array.isArray(t);){if("object"==typeof t[Yr])return t;t=t[ji]}return null}(o[i.index])),o[ei]}function xh(t,i){const o=t[yr],a=o?o.get(nu,null):null;a&&a.handleError(i)}function qi(t,i,o,a,u){for(let f=0;f<o.length;){const v=o[f++],I=o[f++];I_(t.data[v],i[v],a,I,u)}}function nc(t,i,o){const a=qt(i,t);!function wl(t,i,o){t.setValue(i,o)}(t[ei],a,o)}function x_(t,i){const o=$o(i,t),a=o[wn];!function Th(t,i){for(let o=i.length;o<t.blueprint.length;o++)i.push(t.blueprint[o])}(a,o);const u=o[ji];null!==u&&null===o[qr]&&(o[qr]=Fu(u,o[yr])),Qf(a,o,o[Vi])}function Qf(t,i,o){lo(i);try{const a=t.viewQuery;null!==a&&Zf(1,a,o);const u=t.template;null!==u&&Gf(t,i,u,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&C_(t,i),t.staticViewQueries&&Zf(2,t.viewQuery,o);const f=t.components;null!==f&&function Es(t,i){for(let o=0;o<i.length;o++)x_(t,i[o])}(i,f)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{i[ii]&=-5,du()}}let fo=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,u){const f=typeof Zone>"u"?null:Zone.current,v=function Bt(t,i,o){const a=Object.create(tr);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=i;const u=v=>{a.cleanupFn=v};return a.ref={notify:()=>Hs(a),run:()=>{if(a.dirty=!1,a.hasRun&&!cl(a))return;a.hasRun=!0;const v=ll(a);try{a.cleanupFn(),a.cleanupFn=Fn,a.fn(u)}finally{Qr(a,v)}},cleanup:()=>a.cleanupFn()},a.ref}(o,$=>{this.all.has($)&&this.queue.set($,f)},u);let I;this.all.add(v),v.notify();const M=()=>{v.cleanup(),I?.(),this.all.delete(v),this.queue.delete(v)};return I=a?.onDestroy(M),{destroy:M}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=An({token:t,providedIn:"root",factory:()=>new t})}return t})();function Xf(t,i,o){let a=o?t.styles:null,u=o?t.classes:null,f=0;if(null!==i)for(let v=0;v<i.length;v++){const I=i[v];"number"==typeof I?f=I:1==f?u=Ve(u,I):2==f&&(a=Ve(a,I+": "+i[++v]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=u:t.classesWithoutHost=u}function Ah(t,i,o,a,u=!1){for(;null!==o;){const f=i[o.index];null!==f&&a.push(Xt(f)),dr(f)&&Um(f,a);const v=o.type;if(8&v)Ah(t,i,o.child,a);else if(32&v){const I=Dp(o,i);let M;for(;M=I();)a.push(M)}else if(16&v){const I=qc(i,o);if(Array.isArray(I))a.push(...I);else{const M=Cu(i[Gi]);Ah(M[wn],M,I,a,!0)}}o=u?o.projectionNext:o.next}return a}function Um(t,i){for(let o=br;o<t.length;o++){const a=t[o],u=a[wn].firstChild;null!==u&&Ah(a[wn],a,u,i)}t[Br]!==t[ji]&&i.push(t[Br])}function Jf(t,i,o,a=!0){const u=i[ls],f=u.rendererFactory,v=u.afterRenderEventManager;f.begin?.(),v?.begin();try{ep(t,i,t.template,o)}catch(M){throw a&&xh(i,M),M}finally{f.end?.(),u.effectManager?.flush(),v?.end()}}function ep(t,i,o,a){const u=i[ii];if(256!=(256&u)){i[ls].effectManager?.flush(),lo(i);try{uu(i),function R(t){return Rn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Gf(t,i,o,2,a);const v=3==(3&u);if(v){const $=t.preOrderCheckHooks;null!==$&&ml(i,$,null)}else{const $=t.preOrderHooks;null!==$&&gc(i,$,0,null),fa(i,0)}if(function ly(t){for(let i=bg(t);null!==i;i=_o(i)){if(!i[wr])continue;const o=i[Eo];for(let a=0;a<o.length;a++){Fd(o[a])}}}(i),A_(i,2),null!==t.contentQueries&&C_(t,i),v){const $=t.contentCheckHooks;null!==$&&ml(i,$)}else{const $=t.contentHooks;null!==$&&gc(i,$,1),fa(i,1)}!function f_(t,i){const o=t.hostBindingOpCodes;if(null===o)return;const a=u_(i,Yo);try{for(let u=0;u<o.length;u++){const f=o[u];if(f<0)Ga(~f);else{const v=f,I=o[++u],M=o[++u];Ue(I,v),a.dirty=!1;const $=ll(a);try{M(2,i[v])}finally{Qr(a,$)}}}}finally{null===i[Yo]&&jf(i,Yo),Ga(-1)}}(t,i);const I=t.components;null!==I&&S_(i,I,0);const M=t.viewQuery;if(null!==M&&Zf(2,M,a),v){const $=t.viewCheckHooks;null!==$&&ml(i,$)}else{const $=t.viewHooks;null!==$&&gc(i,$,2),fa(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[ii]&=-73,xa(i)}finally{du()}}}function A_(t,i){for(let o=bg(t);null!==o;o=_o(o))for(let a=br;a<o.length;a++)cy(o[a],i)}function Wr(t,i,o){cy($o(i,t),o)}function cy(t,i){if(!function cu(t){return 128==(128&t[ii])}(t))return;const o=t[wn],a=t[ii];if(80&a&&0===i||1024&a||2===i)ep(o,t,o.template,t[Vi]);else if(t[yo]>0){A_(t,1);const u=o.components;null!==u&&S_(t,u,1)}}function S_(t,i,o){for(let a=0;a<i.length;a++)Wr(t,i[a],o)}class Gr{get rootNodes(){const i=this._lView,o=i[wn];return Ah(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vi]}set context(i){this._lView[Vi]=i}get destroyed(){return 256==(256&this._lView[ii])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[$i];if(dr(i)){const o=i[8],a=o?o.indexOf(this):-1;a>-1&&(ud(i,a),bc(o,a))}this._attachedToViewContainer=!1}xp(this._lView[wn],this._lView)}onDestroy(i){!function ca(t,i){if(256==(256&t[ii]))throw new ue(911,!1);null===t[Oo]&&(t[Oo]=[]),t[Oo].push(i)}(this._lView,i)}markForCheck(){ju(this._cdRefInjectingView||this._lView)}detach(){this._lView[ii]&=-129}reattach(){this._lView[ii]|=128}detectChanges(){Jf(this._lView[wn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ig(t,i){Au(t,i,i[ei],2,null,null)}(this._lView[wn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=i}}class M_ extends Gr{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Jf(i[wn],i,i[Vi],!1)}checkNoChanges(){}get context(){return null}}class R_ extends tu{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=bi(i);return new Sh(o,this.ngModule)}}function P_(t){const i=[];for(let o in t)t.hasOwnProperty(o)&&i.push({propName:t[o],templateName:o});return i}class uy{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,a){a=Cn(a);const u=this.injector.get(i,um,a);return u!==um||o===um?u:this.parentInjector.get(i,o,a)}}class Sh extends Cf{get inputs(){const i=this.componentDef,o=i.inputTransforms,a=P_(i.inputs);if(null!==o)for(const u of a)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return a}get outputs(){return P_(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Lr(t){return t.map(Ko).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,a,u){let f=(u=u||this.ngModule)instanceof ta?u:u?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const v=f?new uy(i,f):i,I=v.get(Gg,null);if(null===I)throw new ue(407,!1);const ke={rendererFactory:I,sanitizer:v.get(qg,null),effectManager:v.get(fo,null),afterRenderEventManager:v.get(Cm,null)},lt=I.createRenderer(null,this.componentDef),bt=this.componentDef.selectors[0][0]||"div",Ut=a?function p_(t,i,o,a){const f=a.get(o_,!1)||o===Yt.ShadowDom,v=t.selectRootElement(i,f);return function Dd(t){Pm(t)}(v),v}(lt,a,this.componentDef.encapsulation,v):$d(lt,bt,function O_(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(bt)),ai=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let en=null;null!==Ut&&(en=Fu(Ut,v,!0));const Mi=Mm(0,null,null,1,0,null,null,null,null,null,null),Qi=Wf(null,Mi,null,ai,null,null,ke,lt,v,null,en);let kr,ol;lo(Qi);try{const Zu=this.componentDef;let bp,Vb=null;Zu.findHostDirectiveDefs?(bp=[],Vb=new Map,Zu.findHostDirectiveDefs(Zu,bp,Vb),bp.push(Zu)):bp=[Zu];const qx=function hy(t,i){const o=t[wn],a=Yn;return t[a]=i,wd(o,a,2,"#host",null)}(Qi,Ut),Yx=function Gb(t,i,o,a,u,f,v){const I=u[wn];!function fy(t,i,o,a){for(const u of t)i.mergedAttrs=li(i.mergedAttrs,u.hostAttrs);null!==i.mergedAttrs&&(Xf(i,i.mergedAttrs,!0),null!==o&&dd(a,o,i))}(a,t,i,v);let M=null;null!==i&&(M=Fu(i,u[yr]));const $=f.rendererFactory.createRenderer(i,o);let le=16;o.signals?le=4096:o.onPush&&(le=64);const ke=Wf(u,Cd(o),null,le,u[t.index],t,f,$,null,null,M);return I.firstCreatePass&&Ch(I,t,a.length-1),Dh(u,ke),u[t.index]=ke}(qx,Ut,Zu,bp,Qi,ke,lt);ol=lu(Mi,Yn),Ut&&function N_(t,i,o,a){if(a)un(t,o,["ng-version",xf.full]);else{const{attrs:u,classes:f}=function Vs(t){const i=[],o=[];let a=1,u=2;for(;a<t.length;){let f=t[a];if("string"==typeof f)2===u?""!==f&&i.push(f,t[++a]):8===u&&o.push(f);else{if(!Mn(u))break;u=f}a++}return{attrs:i,classes:o}}(i.selectors[0]);u&&un(t,o,u),f&&f.length>0&&Yd(t,o,f.join(" "))}}(lt,Zu,Ut,a),void 0!==o&&function Mh(t,i,o){const a=t.projection=[];for(let u=0;u<i.length;u++){const f=o[u];a.push(null!=f?Array.from(f):null)}}(ol,this.ngContentSelectors,o),kr=function py(t,i,o,a,u,f){const v=Xr(),I=u[wn],M=Fi(v,u);qf(I,u,v,o,null,a);for(let le=0;le<o.length;le++)$r(Qs(u,I,v.directiveStart+le,v),u);Yf(I,u,v),M&&$r(M,u);const $=Qs(u,I,v.directiveStart+v.componentOffset,v);if(t[Vi]=u[Vi]=$,null!==f)for(const le of f)le($,i);return Eh(I,v,t),$}(Yx,Zu,bp,Vb,Qi,[my]),Qf(Mi,Qi,null)}finally{du()}return new dy(this.componentType,kr,Lu(ol,Qi),Qi,ol)}}class dy extends Hv{constructor(i,o,a,u,f){super(),this.location=a,this._rootLView=u,this._tNode=f,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new M_(u),this.componentType=i}setInput(i,o){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),o))return;const f=this._rootLView;qi(f[wn],f,u,i,o),this.previousInputValues.set(i,o),ju($o(this._tNode.index,f))}}get injector(){return new xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function my(){const t=Xr();pu(Ht()[wn],t)}function rc(t){let i=function Sc(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;i;){let u;if(zr(t))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ue(903,!1);u=i.\u0275dir}if(u){if(o){a.push(u);const v=t;v.inputs=oc(t.inputs),v.inputTransforms=oc(t.inputTransforms),v.declaredInputs=oc(t.declaredInputs),v.outputs=oc(t.outputs);const I=u.hostBindings;I&&_y(t,I);const M=u.viewQuery,$=u.contentQueries;if(M&&tp(t,M),$&&gy(t,$),ce(t.inputs,u.inputs),ce(t.declaredInputs,u.declaredInputs),ce(t.outputs,u.outputs),null!==u.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),ce(v.inputTransforms,u.inputTransforms)),zr(u)&&u.data.animation){const le=t.data;le.animation=(le.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let v=0;v<f.length;v++){const I=f[v];I&&I.ngInherit&&I(t),I===rc&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Kb(t){let i=0,o=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=i+=u.hostVars,u.hostAttrs=li(u.hostAttrs,o=li(o,u.hostAttrs))}}(a)}function oc(t){return t===pn?{}:t===ze?[]:t}function tp(t,i){const o=t.viewQuery;t.viewQuery=o?(a,u)=>{i(a,u),o(a,u)}:i}function gy(t,i){const o=t.contentQueries;t.contentQueries=o?(a,u,f)=>{i(a,u,f),o(a,u,f)}:i}function _y(t,i){const o=t.hostBindings;t.hostBindings=o?(a,u)=>{i(a,u),o(a,u)}:i}function L_(t){const i=t.inputConfig,o={};for(const a in i)if(i.hasOwnProperty(a)){const u=i[a];Array.isArray(u)&&u[2]&&(o[a]=u[2])}t.inputTransforms=o}function rp(t){return!!op(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function op(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Sl(t,i,o){return t[i]=o}function rs(t,i,o){return!Object.is(t[i],o)&&(t[i]=o,!0)}function Ml(t,i,o,a){const u=rs(t,i,o);return rs(t,i+1,a)||u}function Md(t,i,o,a){const u=Ht();return rs(u,E(),i)&&(Ui(),Al(Hr(),u,t,i,o,a)),Md}function sc(t,i,o,a){return rs(t,E(),o)?i+Me(o)+a:Ai}function Rd(t,i,o,a,u,f){const I=Ml(t,w(),o,u);return P(2),I?i+Me(o)+a+Me(u)+f:Ai}function Mc(t,i,o,a,u,f,v,I){const $=function sp(t,i,o,a,u){const f=Ml(t,i,o,a);return rs(t,i+2,u)||f}(t,w(),o,u,v);return P(3),$?i+Me(o)+a+Me(u)+f+Me(v)+I:Ai}function q_(t,i,o,a,u,f,v,I){const M=Ht(),$=Ui(),le=t+Yn,ke=$.firstCreatePass?function Ny(t,i,o,a,u,f,v,I,M){const $=i.consts,le=wd(i,t,4,v||null,Ks($,I));xd(i,o,le,Ks($,M)),pu(i,le);const ke=le.tView=Mm(2,le,a,u,f,i.directiveRegistry,i.pipeRegistry,null,i.schemas,$,null);return null!==i.queries&&(i.queries.template(i,le),ke.queries=i.queries.embeddedTView(le)),le}(le,$,M,i,o,a,u,f,v):$.data[le];rr(ke,!1);const lt=Y_($,M,ke,t);Bl()&&Tu($,M,lt,ke),$r(lt,M),Dh(M,M[le]=w_(lt,M,lt,ke)),Zo(ke)&&Ih($,M,ke),null!=v&&Sm(M,ke,I)}let Y_=function Yu(t,i,o,a){return Ms(!0),i[ei].createComment("")};function Ym(t,i,o){const a=Ht();return rs(a,E(),i)&&na(Ui(),Hr(),a,t,i,a[ei],o,!1),Ym}function Zm(t,i,o,a,u){const v=u?"class":"style";qi(t,o,i.inputs[v],v,a)}function Qm(t,i,o,a){const u=Ht(),f=Ui(),v=Yn+t,I=u[ei],M=f.firstCreatePass?function Ly(t,i,o,a,u,f){const v=i.consts,M=wd(i,t,2,a,Ks(v,u));return xd(i,o,M,Ks(v,f)),null!==M.attrs&&Xf(M,M.attrs,!1),null!==M.mergedAttrs&&Xf(M,M.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,M),M}(v,f,u,i,o,a):f.data[v],$=Vy(f,u,M,I,i,t);u[v]=$;const le=Zo(M);return rr(M,!0),dd(I,$,M),32!=(32&M.flags)&&Bl()&&Tu(f,u,$,M),0===function Li(){return Rn.lFrame.elementDepthCount}()&&$r($,u),function hc(){Rn.lFrame.elementDepthCount++}(),le&&(Ih(f,u,M),Eh(f,M,u)),null!==a&&Sm(u,M),Qm}function Xm(){let t=Xr();Wa()?Et():(t=t.parent,rr(t,!1));const i=t;(function fc(t){return Rn.skipHydrationRootTNode===t})(i)&&function As(){Rn.skipHydrationRootTNode=null}(),function gr(){Rn.lFrame.elementDepthCount--}();const o=Ui();return o.firstCreatePass&&(pu(o,t),hs(t)&&o.queries.elementEnd(t)),null!=i.classesWithoutHost&&function Sa(t){return 0!=(8&t.flags)}(i)&&Zm(o,i,Ht(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Jo(t){return 0!=(16&t.flags)}(i)&&Zm(o,i,Ht(),i.stylesWithoutHost,!1),Xm}function Z_(t,i,o,a){return Qm(t,i,o,a),Xm(),Z_}let Vy=(t,i,o,a,u,f)=>(Ms(!0),$d(a,u,function fu(){return Rn.lFrame.currentNamespace}()));function Jm(t,i,o){const a=Ht(),u=Ui(),f=t+Yn,v=u.firstCreatePass?function jy(t,i,o,a,u){const f=i.consts,v=Ks(f,a),I=wd(i,t,8,"ng-container",v);return null!==v&&Xf(I,v,!0),xd(i,o,I,Ks(f,u)),null!==i.queries&&i.queries.elementStart(i,I),I}(f,u,a,i,o):u.data[f];rr(v,!0);const I=Rc(u,a,v,t);return a[f]=I,Bl()&&Tu(u,a,I,v),$r(I,a),Zo(v)&&(Ih(u,a,v),Eh(u,v,a)),null!=o&&Sm(a,v),Jm}function up(){let t=Xr();const i=Ui();return Wa()?Et():(t=t.parent,rr(t,!1)),i.firstCreatePass&&(pu(i,t),hs(t)&&i.queries.elementEnd(t)),up}let Rc=(t,i,o,a)=>(Ms(!0),Hd(i[ei],""));function Q_(){return Ht()}function tg(t){return!!t&&"function"==typeof t.then}function X_(t){return!!t&&"function"==typeof t.subscribe}function ng(t,i,o,a){const u=Ht(),f=Ui(),v=Xr();return $y(f,u,u[ei],v,t,i,a),ng}function ig(t,i){const o=Xr(),a=Ht(),u=Ui();return $y(u,a,Bm(Sn(u.data),o,a),o,t,i),ig}function $y(t,i,o,a,u,f,v){const I=Zo(a),$=t.firstCreatePass&&Vm(t),le=i[Vi],ke=Lm(i);let lt=!0;if(3&a.type||v){const dn=Fi(a,i),On=v?v(dn):dn,ai=ke.length,en=v?Qi=>v(Xt(Qi[a.index])):a.index;let Mi=null;if(!v&&I&&(Mi=function Xb(t,i,o,a){const u=t.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const v=u[f];if(v===o&&u[f+1]===a){const I=i[no],M=u[f+2];return I.length>M?I[M]:null}"string"==typeof v&&(f+=2)}return null}(t,i,u,a.index)),null!==Mi)(Mi.__ngLastListenerFn__||Mi).__ngNextListenerFn__=f,Mi.__ngLastListenerFn__=f,lt=!1;else{f=J_(a,i,le,f,!1);const Qi=o.listen(On,u,f);ke.push(f,Qi),$&&$.push(u,en,ai,ai+1)}}else f=J_(a,i,le,f,!1);const bt=a.outputs;let Ut;if(lt&&null!==bt&&(Ut=bt[u])){const dn=Ut.length;if(dn)for(let On=0;On<dn;On+=2){const kr=i[Ut[On]][Ut[On+1]].subscribe(f),ol=ke.length;ke.push(f,kr),$&&$.push(u,a.index,ol,-(ol+1))}}}function rg(t,i,o,a){try{return yn(6,i,o),!1!==o(a)}catch(u){return xh(t,u),!1}finally{yn(7,i,o)}}function J_(t,i,o,a,u){return function f(v){if(v===Function)return a;ju(t.componentOffset>-1?$o(t.index,i):i);let M=rg(i,o,a,v),$=f.__ngNextListenerFn__;for(;$;)M=rg(i,o,$,v)&&M,$=$.__ngNextListenerFn__;return u&&!1===M&&v.preventDefault(),M}}function Wy(t=1){return function mc(t){return(Rn.lFrame.contextLView=function hu(t,i){for(;t>0;)i=i[cs],t--;return i}(t,Rn.lFrame.contextLView))[Vi]}(t)}function Jb(t,i){let o=null;const a=function Ir(t){const i=t.attrs;if(null!=i){const o=i.indexOf(5);if(!(1&o))return i[o+1]}return null}(t);for(let u=0;u<i.length;u++){const f=i[u];if("*"!==f){if(null===a?sr(t,f,!0):Mo(a,f))return u}else o=u}return o}function Gy(t){const i=Ht()[Gi][Wi];if(!i.projection){const a=i.projection=Ps(t?t.length:1,null),u=a.slice();let f=i.child;for(;null!==f;){const v=t?Jb(f,t):0;null!==v&&(u[v]?u[v].projectionNext=f:a[v]=f,u[v]=f),f=f.next}}}function Ky(t,i=0,o){const a=Ht(),u=Ui(),f=wd(u,Yn+t,16,null,o||null);null===f.projection&&(f.projection=i),Et(),(!a[qr]||Lo())&&32!=(32&f.flags)&&function Tg(t,i,o){kp(i[ei],0,i,o,Ap(t,o,i),Mp(o.parent||i[Wi],o,i))}(u,a,f)}function dp(t,i,o){return Fh(t,"",i,"",o),dp}function Fh(t,i,o,a,u){const f=Ht(),v=sc(f,i,o,a);return v!==Ai&&na(Ui(),Hr(),f,t,v,f[ei],u,!1),Fh}function ev(t,i,o,a,u,f,v){const I=Ht(),M=Rd(I,i,o,a,u,f);return M!==Ai&&na(Ui(),Hr(),I,t,M,I[ei],v,!1),ev}function d(t,i){return t<<17|i<<2}function m(t){return t>>17&32767}function K(t){return 2|t}function ae(t){return(131068&t)>>2}function Se(t,i){return-131069&t|i<<2}function Tt(t){return 1|t}function Ii(t,i,o,a,u){const f=t[o+1],v=null===i;let I=a?m(f):ae(f),M=!1;for(;0!==I&&(!1===M||v);){const le=t[I+1];yi(t[I],i)&&(M=!0,t[I+1]=a?Tt(le):K(le)),I=a?m(le):ae(le)}M&&(t[o+1]=a?K(f):Tt(f))}function yi(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&vl(t,i)>=0}const di={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Mr(t){return t.substring(di.key,di.keyEnd)}function Ol(t,i){const o=di.textEnd;return o===i?-1:(i=di.keyEnd=function WI(t,i,o){for(;i<o&&t.charCodeAt(i)>32;)i++;return i}(t,di.key=i,o),fp(t,i,o))}function fp(t,i,o){for(;i<o&&t.charCodeAt(i)<=32;)i++;return i}function Yy(t,i){return function Pc(t,i,o,a){const u=Ht(),f=Ui(),v=P(2);f.firstUpdatePass&&a0(f,t,v,a),i!==Ai&&rs(u,v,i)&&c0(f,f.data[Wo()],u,u[ei],t,u[v+1]=function nw(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=me(Dl(t)))),t}(i,o),a,v)}(t,i,null,!0),Yy}function o0(t){Oc(ew,au,t,!0)}function au(t,i){for(let o=function os(t){return function e0(t){di.key=0,di.keyEnd=0,di.value=0,di.valueEnd=0,di.textEnd=t.length}(t),Ol(t,fp(t,0,di.textEnd))}(i);o>=0;o=Ol(i,o))es(t,Mr(i),!0)}function Oc(t,i,o,a){const u=Ui(),f=P(2);u.firstUpdatePass&&a0(u,null,f,a);const v=Ht();if(o!==Ai&&rs(v,f,o)){const I=u.data[Wo()];if(d0(I,a)&&!s0(u,f)){let M=a?I.classesWithoutHost:I.stylesWithoutHost;null!==M&&(o=Ve(M,o||"")),Zm(u,I,v,o,a)}else!function tw(t,i,o,a,u,f,v,I){u===Ai&&(u=ze);let M=0,$=0,le=0<u.length?u[0]:null,ke=0<f.length?f[0]:null;for(;null!==le||null!==ke;){const lt=M<u.length?u[M+1]:void 0,bt=$<f.length?f[$+1]:void 0;let dn,Ut=null;le===ke?(M+=2,$+=2,lt!==bt&&(Ut=ke,dn=bt)):null===ke||null!==le&&le<ke?(M+=2,Ut=le):($+=2,Ut=ke,dn=bt),null!==Ut&&c0(t,i,o,a,Ut,dn,v,I),le=M<u.length?u[M]:null,ke=$<f.length?f[$]:null}}(u,I,v,v[ei],v[f+1],v[f+1]=function JI(t,i,o){if(null==o||""===o)return ze;const a=[],u=Dl(o);if(Array.isArray(u))for(let f=0;f<u.length;f++)t(a,u[f],!0);else if("object"==typeof u)for(const f in u)u.hasOwnProperty(f)&&t(a,f,u[f]);else"string"==typeof u&&i(a,u);return a}(t,i,o),a,f)}}function s0(t,i){return i>=t.expandoStartIndex}function a0(t,i,o,a){const u=t.data;if(null===u[o+1]){const f=u[Wo()],v=s0(t,o);d0(f,a)&&null===i&&!v&&(i=!1),i=function YI(t,i,o,a){const u=Sn(t);let f=a?i.residualClasses:i.residualStyles;if(null===u)0===(a?i.classBindings:i.styleBindings)&&(o=sg(o=Zy(null,t,i,o,a),i.attrs,a),f=null);else{const v=i.directiveStylingLast;if(-1===v||t[v]!==u)if(o=Zy(u,t,i,o,a),null===f){let M=function ZI(t,i,o){const a=o?i.classBindings:i.styleBindings;if(0!==ae(a))return t[m(a)]}(t,i,a);void 0!==M&&Array.isArray(M)&&(M=Zy(null,t,i,M[1],a),M=sg(M,i.attrs,a),function QI(t,i,o,a){t[m(o?i.classBindings:i.styleBindings)]=a}(t,i,a,M))}else f=function XI(t,i,o){let a;const u=i.directiveEnd;for(let f=1+i.directiveStylingLast;f<u;f++)a=sg(a,t[f].hostAttrs,o);return sg(a,i.attrs,o)}(t,i,a)}return void 0!==f&&(a?i.residualClasses=f:i.residualStyles=f),o}(u,f,i,a),function Tn(t,i,o,a,u,f){let v=f?i.classBindings:i.styleBindings,I=m(v),M=ae(v);t[a]=o;let le,$=!1;if(Array.isArray(o)?(le=o[1],(null===le||vl(o,le)>0)&&($=!0)):le=o,u)if(0!==M){const lt=m(t[I+1]);t[a+1]=d(lt,I),0!==lt&&(t[lt+1]=Se(t[lt+1],a)),t[I+1]=function L(t,i){return 131071&t|i<<17}(t[I+1],a)}else t[a+1]=d(I,0),0!==I&&(t[I+1]=Se(t[I+1],a)),I=a;else t[a+1]=d(M,0),0===I?I=a:t[M+1]=Se(t[M+1],a),M=a;$&&(t[a+1]=K(t[a+1])),Ii(t,le,a,!0),Ii(t,le,a,!1),function fi(t,i,o,a,u){const f=u?t.residualClasses:t.residualStyles;null!=f&&"string"==typeof i&&vl(f,i)>=0&&(o[a+1]=Tt(o[a+1]))}(i,le,t,a,f),v=d(I,M),f?i.classBindings=v:i.styleBindings=v}(u,f,i,o,v,a)}}function Zy(t,i,o,a,u){let f=null;const v=o.directiveEnd;let I=o.directiveStylingLast;for(-1===I?I=o.directiveStart:I++;I<v&&(f=i[I],a=sg(a,f.hostAttrs,u),f!==t);)I++;return null!==t&&(o.directiveStylingLast=I),a}function sg(t,i,o){const a=o?1:2;let u=-1;if(null!==i)for(let f=0;f<i.length;f++){const v=i[f];"number"==typeof v?u=v:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),es(t,v,!!o||i[++f]))}return void 0===t?null:t}function ew(t,i,o){const a=String(i);""!==a&&!a.includes(" ")&&es(t,a,o)}function c0(t,i,o,a,u,f,v,I){if(!(3&i.type))return;const M=t.data,$=M[I+1],le=function ot(t){return 1==(1&t)}($)?u0(M,i,o,u,ae($),v):void 0;tv(le)||(tv(f)||function S(t){return 2==(2&t)}($)&&(f=u0(M,null,o,u,I,v)),function Ag(t,i,o,a,u){if(i)u?t.addClass(o,a):t.removeClass(o,a);else{let f=-1===a.indexOf("-")?void 0:ea.DashCase;null==u?t.removeStyle(o,a,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=ea.Important),t.setStyle(o,a,u,f))}}(a,v,qt(Wo(),o),u,f))}function u0(t,i,o,a,u,f){const v=null===i;let I;for(;u>0;){const M=t[u],$=Array.isArray(M),le=$?M[1]:M,ke=null===le;let lt=o[u+1];lt===Ai&&(lt=ke?ze:void 0);let bt=ke?Os(lt,a):le===a?lt:void 0;if($&&!tv(bt)&&(bt=Os(M,a)),tv(bt)&&(I=bt,v))return I;const Ut=t[u+1];u=v?m(Ut):ae(Ut)}if(null!==i){let M=f?i.residualClasses:i.residualStyles;null!=M&&(I=Os(M,a))}return I}function tv(t){return void 0!==t}function d0(t,i){return 0!=(t.flags&(i?8:16))}function h0(t,i=""){const o=Ht(),a=Ui(),u=t+Yn,f=a.firstCreatePass?wd(a,u,1,i,null):a.data[u],v=f0(a,o,f,i,t);o[u]=v,Bl()&&Tu(a,o,v,f),rr(f,!1)}let f0=(t,i,o,a,u)=>(Ms(!0),function Gc(t,i){return t.createText(i)}(i[ei],a));function Qy(t){return nv("",t,""),Qy}function nv(t,i,o){const a=Ht(),u=sc(a,t,i,o);return u!==Ai&&nc(a,Wo(),u),nv}function Xy(t,i,o,a,u){const f=Ht(),v=Rd(f,t,i,o,a,u);return v!==Ai&&nc(f,Wo(),v),Xy}function Jy(t,i,o,a,u,f,v){const I=Ht(),M=Mc(I,t,i,o,a,u,f,v);return M!==Ai&&nc(I,Wo(),M),Jy}function b0(t,i,o){Oc(es,au,sc(Ht(),t,i,o),!0)}function eb(t,i,o){const a=Ht();return rs(a,E(),i)&&na(Ui(),Hr(),a,t,i,a[ei],o,!0),eb}function tb(t,i,o){const a=Ht();if(rs(a,E(),i)){const f=Ui(),v=Hr();na(f,v,a,t,i,Bm(Sn(f.data),v,a),o,!0)}return tb}const Vh=void 0;var ww=["en",[["a","p"],["AM","PM"],Vh],[["AM","PM"],Vh,Vh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vh,"{1} 'at' {0}",Vh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Iw(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let pp={};function nb(t){const i=function Cw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=R0(i);if(o)return o;const a=i.split("-")[0];if(o=R0(a),o)return o;if("en"===a)return ww;throw new ue(701,!1)}function M0(t){return nb(t)[mp.PluralCase]}function R0(t){return t in pp||(pp[t]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[t]),pp[t]}var mp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(mp||{});const gp="en-US";let P0=gp;function ob(t,i,o,a,u){if(t=Qe(t),Array.isArray(t))for(let f=0;f<t.length;f++)ob(t[f],i,o,a,u);else{const f=Ui(),v=Ht(),I=Xr();let M=eu(t)?t:Qe(t.provide);const $=Qp(t),le=1048575&I.providerIndexes,ke=I.directiveStart,lt=I.providerIndexes>>20;if(eu(t)||!t.multi){const bt=new Aa($,u,zu),Ut=ab(M,i,u?le:le+lt,ke);-1===Ut?(Ra(gl(I,v),f,M),sb(f,t,i.length),i.push(M),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),o.push(bt),v.push(bt)):(o[Ut]=bt,v[Ut]=bt)}else{const bt=ab(M,i,le+lt,ke),Ut=ab(M,i,le,le+lt),On=Ut>=0&&o[Ut];if(u&&!On||!u&&!(bt>=0&&o[bt])){Ra(gl(I,v),f,M);const ai=function IC(t,i,o,a,u){const f=new Aa(t,o,zu);return f.multi=[],f.index=i,f.componentProviders=0,iE(f,u,a&&!o),f}(u?EC:bC,o.length,u,a,$);!u&&On&&(o[Ut].providerFactory=ai),sb(f,t,i.length,0),i.push(M),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),o.push(ai),v.push(ai)}else sb(f,t,bt>-1?bt:Ut,iE(o[u?Ut:bt],$,!u&&a));!u&&a&&On&&o[Ut].componentProviders++}}}function sb(t,i,o,a){const u=eu(i),f=function Yp(t){return!!t.useClass}(i);if(u||f){const M=(f?Qe(i.useClass):i).prototype.ngOnDestroy;if(M){const $=t.destroyHooks||(t.destroyHooks=[]);if(!u&&i.multi){const le=$.indexOf(o);-1===le?$.push(o,[a,M]):$[le+1].push(a,M)}else $.push(o,M)}}}function iE(t,i,o){return o&&t.componentProviders++,t.multi.push(i)-1}function ab(t,i,o,a){for(let u=o;u<a;u++)if(i[u]===t)return u;return-1}function bC(t,i,o,a){return lb(this.multi,[])}function EC(t,i,o,a){const u=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=Qs(o,o[wn],this.providerFactory.index,a);f=I.slice(0,v),lb(u,f);for(let M=v;M<I.length;M++)f.push(I[M])}else f=[],lb(u,f);return f}function lb(t,i){for(let o=0;o<t.length;o++)i.push((0,t[o])());return i}function rE(t,i=[]){return o=>{o.providersResolver=(a,u)=>function yC(t,i,o){const a=Ui();if(a.firstCreatePass){const u=zr(t);ob(o,a.data,a.blueprint,u,!0),ob(i,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,i)}}class Bh{}class oE{}function wC(t,i){return new cb(t,i??null,[])}class cb extends Bh{constructor(i,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new R_(this);const u=ur(i);this._bootstrapComponents=Tl(u.bootstrap),this._r3Injector=Bu(i,o,[{provide:Bh,useValue:this},{provide:tu,useValue:this.componentFactoryResolver},...a],me(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class ub extends oE{constructor(i){super(),this.moduleType=i}create(i){return new cb(this.moduleType,i,[])}}class sE extends Bh{constructor(i){super(),this.componentFactoryResolver=new R_(this),this.instance=null;const o=new xl([...i.providers,{provide:Bh,useValue:this},{provide:tu,useValue:this.componentFactoryResolver}],i.parent||pf(),i.debugName,new Set(["environment"]));this.injector=o,i.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function aE(t,i,o=null){return new sE({providers:t,parent:i,debugName:o,runEnvironmentInitializers:!0}).injector}let DC=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=df(0,o.type),u=a.length>0?aE([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,u)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=An({token:t,providedIn:"environment",factory:()=>new t($t(ta))})}return t})();function lE(t){t.getStandaloneInjector=i=>i.get(DC).getOrCreateStandaloneInjector(t)}function mE(t,i,o){const a=Jr()+t,u=Ht();return u[a]===Ai?Sl(u,a,o?i.call(o):i()):function Sd(t,i){return t[i]}(u,a)}function gE(t,i,o,a){return yE(Ht(),Jr(),t,i,o,a)}function _E(t,i,o,a,u){return bE(Ht(),Jr(),t,i,o,a,u)}function vE(t,i,o,a,u,f,v){return function IE(t,i,o,a,u,f,v,I,M){const $=i+o;return function ia(t,i,o,a,u,f){const v=Ml(t,i,o,a);return Ml(t,i+2,u,f)||v}(t,$,u,f,v,I)?Sl(t,$+4,M?a.call(M,u,f,v,I):a(u,f,v,I)):hg(t,$+4)}(Ht(),Jr(),t,i,o,a,u,f,v)}function hg(t,i){const o=t[i];return o===Ai?void 0:o}function yE(t,i,o,a,u,f){const v=i+o;return rs(t,v,u)?Sl(t,v+1,f?a.call(f,u):a(u)):hg(t,v+1)}function bE(t,i,o,a,u,f,v){const I=i+o;return Ml(t,I,u,f)?Sl(t,I+2,v?a.call(v,u,f):a(u,f)):hg(t,I+2)}function CE(t,i){const o=Ui();let a;const u=t+Yn;o.firstCreatePass?(a=function UC(t,i){if(i)for(let o=i.length-1;o>=0;o--){const a=i[o];if(t===a.name)return a}}(i,o.pipeRegistry),o.data[u]=a,a.onDestroy&&(o.destroyHooks??=[]).push(u,a.onDestroy)):a=o.data[u];const f=a.factory||(a.factory=wo(a.type)),I=Vt(zu);try{const M=ys(!1),$=f();return ys(M),function ky(t,i,o,a){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),i[o]=a}(o,Ht(),u,$),$}finally{Vt(I)}}function DE(t,i,o){const a=t+Yn,u=Ht(),f=Da(u,a);return fg(u,a)?yE(u,Jr(),i,f.transform,o,f):f.transform(o)}function xE(t,i,o,a){const u=t+Yn,f=Ht(),v=Da(f,u);return fg(f,u)?bE(f,Jr(),i,v.transform,o,a,v):v.transform(o,a)}function fg(t,i){return t[wn].data[i].pure}function $C(){return this._results[Symbol.iterator]()}class hb{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new tc)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=hb.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=$C)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const a=this;a.dirty=!1;const u=function Rs(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Eu(t,i,o){if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],f=i[a];if(o&&(u=o(u),f=o(f)),f!==u)return!1}return!0}(a._results,u,o))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function GC(t,i,o,a=!0){const u=i[wn];if(function bv(t,i,o,a){const u=br+a,f=o.length;a>0&&(o[u-1][Vr]=i),a<f-br?(i[Vr]=o[u],Iu(o,br+a,i)):(o.push(i),i[Vr]=null),i[$i]=o;const v=i[ra];null!==v&&o!==v&&function Ev(t,i){const o=t[Eo];i[Gi]!==i[$i][$i][Gi]&&(t[wr]=!0),null===o?t[Eo]=[i]:o.push(i)}(v,i);const I=i[mo];null!==I&&I.insertView(t),i[ii]|=128}(u,i,t,o),a){const f=Cc(o,t),v=i[ei],I=Kd(v,t[Br]);null!==I&&function Eg(t,i,o,a,u,f){a[ji]=u,a[Wi]=i,Au(t,a,o,1,u,f)}(u,t[Wi],v,i,I,f)}}let pg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=YC}return t})();const KC=pg,qC=class extends KC{constructor(i,o,a){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,o){return this.createEmbeddedViewImpl(i,o)}createEmbeddedViewImpl(i,o,a){const u=function WC(t,i,o,a){const u=i.tView,I=Wf(t,u,o,4096&t[ii]?4096:16,null,i,null,null,null,a?.injector??null,a?.hydrationInfo??null);I[ra]=t[i.index];const $=t[mo];return null!==$&&(I[mo]=$.createEmbeddedView(u)),Qf(u,I,o),I}(this._declarationLView,this._declarationTContainer,i,{injector:o,hydrationInfo:a});return new Gr(u)}};function YC(){return av(Xr(),Ht())}function av(t,i){return 4&t.type?new qC(i,t,Lu(t,i)):null}let cv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=tD}return t})();function tD(){return OE(Xr(),Ht())}const nD=cv,RE=class extends nD{constructor(i,o,a){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=a}get element(){return Lu(this._hostTNode,this._hostLView)}get injector(){return new xo(this._hostTNode,this._hostLView)}get parentInjector(){const i=qa(this._hostTNode,this._hostLView);if(Ul(i)){const o=qs(i,this._hostLView),a=Or(i);return new xo(o[wn].data[a+8],o)}return new xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=PE(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-br}createEmbeddedView(i,o,a){let u,f;"number"==typeof a?u=a:null!=a&&(u=a.index,f=a.injector);const I=i.createEmbeddedViewImpl(o||{},f,null);return this.insertImpl(I,u,false),I}createComponent(i,o,a,u,f){const v=i&&!function Tr(t){return"function"==typeof t}(i);let I;if(v)I=o;else{const dn=o||{};I=dn.index,a=dn.injector,u=dn.projectableNodes,f=dn.environmentInjector||dn.ngModuleRef}const M=v?i:new Sh(bi(i)),$=a||this.parentInjector;if(!f&&null==M.ngModule){const On=(v?$:this.parentInjector).get(ta,null);On&&(f=On)}bi(M.componentType??{});const bt=M.create($,u,null,f);return this.insertImpl(bt.hostView,I,false),bt}insert(i,o){return this.insertImpl(i,o,!1)}insertImpl(i,o,a){const u=i._lView;if(function Gs(t){return dr(t[$i])}(u)){const M=this.indexOf(i);if(-1!==M)this.detach(M);else{const $=u[$i],le=new RE($,$[Wi],$[$i]);le.detach(le.indexOf(i))}}const v=this._adjustIndex(o),I=this._lContainer;return GC(I,u,v,!a),i.attachToViewContainerRef(),Iu(fb(I),v,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=PE(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),a=ud(this._lContainer,o);a&&(bc(fb(this._lContainer),o),xp(a[wn],a))}detach(i){const o=this._adjustIndex(i,-1),a=ud(this._lContainer,o);return a&&null!=bc(fb(this._lContainer),o)?new Gr(a):null}_adjustIndex(i,o=0){return i??this.length+o}};function PE(t){return t[8]}function fb(t){return t[8]||(t[8]=[])}function OE(t,i){let o;const a=i[t.index];return dr(a)?o=a:(o=w_(a,i,null,t),i[t.index]=o,Dh(i,o)),NE(o,i,t,a),new RE(o,t,i)}let NE=function kE(t,i,o,a){if(t[Br])return;let u;u=8&o.type?Xt(a):function iD(t,i){const o=t[ei],a=o.createComment(""),u=Fi(i,t);return xu(o,Kd(o,u),a,function Iv(t,i){return t.nextSibling(i)}(o,u),!1),a}(i,o),t[Br]=u};class pb{constructor(i){this.queryList=i,this.matches=null}clone(){return new pb(this.queryList)}setDirty(){this.queryList.setDirty()}}class mb{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const a=null!==i.contentQueries?i.contentQueries[0]:o.length,u=[];for(let f=0;f<a;f++){const v=o.getByIndex(f);u.push(this.queries[v.indexInDeclarationView].clone())}return new mb(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==$E(i,o).matches&&this.queries[o].setDirty()}}class FE{constructor(i,o,a=null){this.predicate=i,this.flags=o,this.read=a}}class gb{constructor(i=[]){this.queries=i}elementStart(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let a=0;a<this.length;a++){const u=null!==o?o.length:0,f=this.getByIndex(a).embeddedTView(i,u);f&&(f.indexInDeclarationView=a,null!==o?o.push(f):o=[f])}return null!==o?new gb(o):null}template(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class _b{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new _b(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const f=a[u];this.matchTNodeWithReadOption(i,o,sD(o,f)),this.matchTNodeWithReadOption(i,o,Zs(o,i,f,!1,!1))}else a===pg?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Zs(o,i,a,!1,!1))}matchTNodeWithReadOption(i,o,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===ec||u===cv||u===pg&&4&o.type)this.addMatch(o.index,-2);else{const f=Zs(o,i,u,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,a)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function sD(t,i){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===i)return o[a+1];return null}function lD(t,i,o,a){return-1===o?function aD(t,i){return 11&t.type?Lu(t,i):4&t.type?av(t,i):null}(i,t):-2===o?function cD(t,i,o){return o===ec?Lu(i,t):o===pg?av(i,t):o===cv?OE(i,t):void 0}(t,i,a):Qs(t,t[wn],o,i)}function LE(t,i,o,a){const u=i[mo].queries[a];if(null===u.matches){const f=t.data,v=o.matches,I=[];for(let M=0;M<v.length;M+=2){const $=v[M];I.push($<0?null:lD(i,f[$],v[M+1],o.metadata.read))}u.matches=I}return u.matches}function vb(t,i,o,a){const u=t.queries.getByIndex(o),f=u.matches;if(null!==f){const v=LE(t,i,u,o);for(let I=0;I<f.length;I+=2){const M=f[I];if(M>0)a.push(v[I/2]);else{const $=f[I+1],le=i[-M];for(let ke=br;ke<le.length;ke++){const lt=le[ke];lt[ra]===lt[$i]&&vb(lt[wn],lt,$,a)}if(null!==le[Eo]){const ke=le[Eo];for(let lt=0;lt<ke.length;lt++){const bt=ke[lt];vb(bt[wn],bt,$,a)}}}}}return a}function VE(t){const i=Ht(),o=Ui(),a=Di();Ci(a+1);const u=$E(o,a);if(t.dirty&&function jh(t){return 4==(4&t[ii])}(i)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const f=u.crossesNgTemplate?vb(o,i,a,[]):LE(o,i,u,a);t.reset(f,cm),t.notifyOnChanges()}return!0}return!1}function BE(t,i,o){const a=Ui();a.firstCreatePass&&(HE(a,new FE(t,i,o),-1),2==(2&i)&&(a.staticViewQueries=!0)),zE(a,Ht(),i)}function UE(t,i,o,a){const u=Ui();if(u.firstCreatePass){const f=Xr();HE(u,new FE(i,o,a),f.index),function dD(t,i){const o=t.contentQueries||(t.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,i)}(u,t),2==(2&o)&&(u.staticContentQueries=!0)}zE(u,Ht(),o)}function jE(){return function uD(t,i){return t[mo].queries[i].queryList}(Ht(),Di())}function zE(t,i,o){const a=new hb(4==(4&o));(function Jv(t,i,o,a){const u=Lm(i);u.push(o),t.firstCreatePass&&Vm(t).push(a,u.length-1)})(t,i,a,a.destroy),null===i[mo]&&(i[mo]=new mb),i[mo].queries.push(new pb(a))}function HE(t,i,o){null===t.queries&&(t.queries=new gb),t.queries.track(new _b(i,o))}function $E(t,i){return t.queries.getByIndex(i)}function yb(t){return!!ur(t)}const aI=new at("Application Initializer");let Cb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=fn(aI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const u of this.appInits){const f=u();if(tg(f))o.push(f);else if(X_(f)){const v=new Promise((I,M)=>{f.subscribe({complete:I,error:M})});o.push(v)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(u=>{this.reject(u)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=An({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lI=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=An({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const dv=new at("LocaleId",{providedIn:"root",factory:()=>fn(dv,ct.Optional|ct.SkipSelf)||function OD(){return typeof $localize<"u"&&$localize.locale||gp}()}),ND=new at("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let cI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new j.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=An({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class FD{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let LD=(()=>{class t{compileModuleSync(o){return new ub(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),f=Tl(ur(o).declarations).reduce((v,I)=>{const M=bi(I);return M&&v.push(new Sh(M)),v},[]);return new FD(a,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=An({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const fI=new at(""),pI=new at("");let Tb,ox=(()=>{class t{constructor(o,a,u){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Tb||(function sx(t){Tb=t}(u),u.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Go.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,u){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:u})}whenStable(o,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,u){return[]}static#e=this.\u0275fac=function(a){return new(a||t)($t(Go),$t(mI),$t(pI))};static#t=this.\u0275prov=An({token:t,factory:t.\u0275fac})}return t})(),mI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return Tb?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=An({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),kd=null;const gI=new at("AllowMultipleToken"),Ab=new at("PlatformDestroyListeners"),Sb=new at("appBootstrapListener");class cx{constructor(i,o){this.name=i,this.token=o}}function yI(t,i,o=[]){const a=`Platform: ${i}`,u=new at(a);return(f=[])=>{let v=Mb();if(!v||v.injector.get(gI,!1)){const I=[...o,...f,{provide:u,useValue:!0}];t?t(I):function ux(t){if(kd&&!kd.get(gI,!1))throw new ue(400,!1);(function _I(){!function wa(t){la=t}(()=>{throw new ue(600,!1)})})(),kd=t;const i=t.get(EI);(function vI(t){t.get(gf,null)?.forEach(o=>o())})(t)}(function bI(t=[],i){return Ls.create({name:i,providers:[{provide:Zp,useValue:"platform"},{provide:Ab,useValue:new Set([()=>kd=null])},...t]})}(I,a))}return function hx(t){const i=Mb();if(!i)throw new ue(401,!1);return i}()}}function Mb(){return kd?.get(EI)??null}let EI=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const u=function fx(t="zone.js",i){return"noop"===t?new qv:"zone.js"===t?new Go(i):t}(a?.ngZone,function II(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return u.run(()=>{const f=function CC(t,i,o){return new cb(t,i,o)}(o.moduleType,this.injector,function TI(t){return[{provide:Go,useFactory:t},{provide:nh,multi:!0,useFactory:()=>{const i=fn(mx,{optional:!0});return()=>i.initialize()}},{provide:xI,useFactory:px},{provide:n_,useFactory:Of}]}(()=>u)),v=f.injector.get(nu,null);return u.runOutsideAngular(()=>{const I=u.onError.subscribe({next:M=>{v.handleError(M)}});f.onDestroy(()=>{fv(this._modules,f),I.unsubscribe()})}),function wI(t,i,o){try{const a=o();return tg(a)?a.catch(u=>{throw i.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw i.runOutsideAngular(()=>t.handleError(a)),a}}(v,u,()=>{const I=f.injector.get(Cb);return I.runInitializers(),I.donePromise.then(()=>(function O0(t){Ge(t,"Expected localeId to be defined"),"string"==typeof t&&(P0=t.toLowerCase().replace(/_/g,"-"))}(f.injector.get(dv,gp)||gp),this._moduleDoBootstrap(f),f))})})}bootstrapModule(o,a=[]){const u=CI({},a);return function ax(t,i,o){const a=new ub(o);return Promise.resolve(a)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(o){const a=o.injector.get(yp);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new ue(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(Ab,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)($t(Ls))};static#t=this.\u0275prov=An({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function CI(t,i){return Array.isArray(i)?i.reduce(CI,t):{...t,...i}}let yp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fn(xI),this.zoneIsStable=fn(n_),this.componentTypes=[],this.components=[],this.isStable=fn(cI).hasPendingTasks.pipe((0,se.w)(o=>o?(0,ye.of)(!1):this.zoneIsStable),(0,Ee.x)(),(0,be.B)()),this._injector=fn(ta)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const u=o instanceof Cf;if(!this._injector.get(Cb).done)throw!u&&Rr(o),new ue(405,!1);let v;v=u?o:this._injector.get(tu).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const I=function lx(t){return t.isBoundToModule}(v)?void 0:this._injector.get(Bh),$=v.create(Ls.NULL,[],a||v.selector,I),le=$.location.nativeElement,ke=$.injector.get(fI,null);return ke?.registerApplication(le),$.onDestroy(()=>{this.detachView($.hostView),fv(this.components,$),ke?.unregisterApplication(le)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;fv(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(Sb,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>fv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ue(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=An({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fv(t,i){const o=t.indexOf(i);o>-1&&t.splice(o,1)}const xI=new at("",{providedIn:"root",factory:()=>fn(nu).handleError.bind(void 0)});function px(){const t=fn(Go),i=fn(nu);return o=>t.runOutsideAngular(()=>i.handleError(o))}let mx=(()=>{class t{constructor(){this.zone=fn(Go),this.applicationRef=fn(yp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=An({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _x(){return!1}let vx=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=yx}return t})();function yx(t){return function bx(t,i,o){if(jr(t)&&!o){const a=$o(t.index,i);return new Gr(a,a)}return 47&t.type?new Gr(i[Gi],i):null}(Xr(),Ht(),16==(16&t))}class RI{constructor(){}supports(i){return rp(i)}create(i){return new xx(i)}}const Dx=(t,i)=>i;class xx{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Dx}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,a=this._removalsHead,u=0,f=null;for(;o||a;){const v=!a||o&&o.currentIndex<OI(a,u,f)?o:a,I=OI(v,u,f),M=v.currentIndex;if(v===a)u--,a=a._nextRemoved;else if(o=o._next,null==v.previousIndex)u++;else{f||(f=[]);const $=I-u,le=M-u;if($!=le){for(let lt=0;lt<$;lt++){const bt=lt<f.length?f[lt]:f[lt]=0,Ut=bt+lt;le<=Ut&&Ut<$&&(f[lt]=bt+1)}f[v.previousIndex]=le-$}}I!==M&&i(v,I,M)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!rp(i))throw new ue(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,f,v,o=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let I=0;I<this.length;I++)f=i[I],v=this._trackByFn(I,f),null!==o&&Object.is(o.trackById,v)?(a&&(o=this._verifyReinsertion(o,f,v,I)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,v,I),a=!0),o=o._next}else u=0,function zm(t,i){if(Array.isArray(t))for(let o=0;o<t.length;o++)i(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)i(a.value)}}(i,I=>{v=this._trackByFn(u,I),null!==o&&Object.is(o.trackById,v)?(a&&(o=this._verifyReinsertion(o,I,v,u)),Object.is(o.item,I)||this._addIdentityChange(o,I)):(o=this._mismatch(o,I,v,u),a=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,a,u){let f;return null===i?f=this._itTail:(f=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,f,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,f,u)):i=this._addAfter(new Tx(o,a),f,u),i}_verifyReinsertion(i,o,a,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?i=this._reinsertAfter(f,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,f=i._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(i,o,a),this._addToMoves(i,a),i}_moveAfter(i,o,a){return this._unlink(i),this._insertAfter(i,o,a),this._addToMoves(i,a),i}_addAfter(i,o,a){return this._insertAfter(i,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,a){const u=null===o?this._itHead:o._next;return i._next=u,i._prev=o,null===u?this._itTail=i:u._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new PI),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,a=i._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PI),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Tx{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ax{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const o=i._prevDup,a=i._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class PI{constructor(){this.map=new Map}put(i){const o=i.trackById;let a=this.map.get(o);a||(a=new Ax,this.map.set(o,a)),a.add(i)}get(i,o){const u=this.map.get(i);return u?u.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OI(t,i,o){const a=t.previousIndex;if(null===a)return a;let u=0;return o&&a<o.length&&(u=o[a]),a+i+u}class NI{constructor(){}supports(i){return i instanceof Map||op(i)}create(){return new Sx}}class Sx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||op(i)))throw new ue(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(u,a);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const a=i._prev;return o._next=i,o._prev=a,i._prev=o,a&&(a._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,o);const f=u._prev,v=u._next;return f&&(f._next=v),v&&(v._prev=f),u._next=null,u._prev=null,u}const a=new Mx(i);return this._records.set(i,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(a=>o(i[a],a))}}class Mx{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kI(){return new kb([new RI])}let kb=(()=>{class t{static#e=this.\u0275prov=An({token:t,providedIn:"root",factory:kI});constructor(o){this.factories=o}static create(o,a){if(null!=a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||kI()),deps:[[t,new bl,new La]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(null!=a)return a;throw new ue(901,!1)}}return t})();function FI(){return new Fb([new NI])}let Fb=(()=>{class t{static#e=this.\u0275prov=An({token:t,providedIn:"root",factory:FI});constructor(o){this.factories=o}static create(o,a){if(a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||FI()),deps:[[t,new bl,new La]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(a)return a;throw new ue(901,!1)}}return t})();const Ox=yI(null,"core",[]);let Nx=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||t)($t(yp))};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Zn({})}return t})();function Wx(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Kx(t){const i=bi(t);if(!i)return null;const o=new Sh(i);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},721:(jt,He,x)=>{x.d(He,{Ot:()=>he,ZF:()=>it,hX:()=>Ve,z6:()=>j});var c=x(3182),F=x(5879),H=x(1920);class he{constructor(Ce){return Ce}}class j{constructor(){return(0,c.C6)()}}const se=new F.OlP("angularfire2._apps"),Ee={provide:he,useFactory:function be(ue){return ue&&1===ue.length?ue[0]:new he((0,c.Mq)())},deps:[[new F.FiY,se]]},W={provide:j,deps:[[new F.FiY,se]]};function ce(ue){return(Ce,Me)=>{const Le=Ce.runOutsideAngular(()=>ue(Me));return new he(Le)}}let me=(()=>{class ue{constructor(Me){(0,c.KN)("angularfire",H.q4.full,"core"),(0,c.KN)("angularfire",H.q4.full,"app"),(0,c.KN)("angular",F.q4F.full,Me.toString())}static \u0275fac=function(Le){return new(Le||ue)(F.LFG(F.Lbi))};static \u0275mod=F.oAB({type:ue});static \u0275inj=F.cJS({providers:[Ee,W]})}return ue})();function Ve(ue,...Ce){return{ngModule:me,providers:[{provide:se,useFactory:ce(ue),multi:!0,deps:[F.R0b,F.zs3,H.HU,...Ce]}]}}const it=(0,H.u3)(c.ZF,!0)},2637:(jt,He,x)=>{x.d(He,{AR:()=>Qe,Xb:()=>Xe,dh:()=>se,e5:()=>_t,gx:()=>be,v0:()=>nn,w$:()=>ni,w7:()=>Vt});var c=x(1920),F=x(5879),H=x(721),he=x(3182),j=x(752);class be{constructor(Ze){return Ze}}class se{constructor(){return(0,c.vb)("auth")}}const W=new F.OlP("angularfire2.auth-instances");function me(gt){return(Ze,Ae)=>{const et=Ze.runOutsideAngular(()=>gt(Ae));return new be(et)}}const Ve={provide:se,deps:[[new F.FiY,W]]},De={provide:be,useFactory:function ce(gt,Ze){const Ae=(0,c.JM)("auth",gt,Ze);return Ae&&new be(Ae)},deps:[[new F.FiY,W],H.Ot]};let Je=(()=>{class gt{constructor(){(0,he.KN)("angularfire",c.q4.full,"auth")}static \u0275fac=function(et){return new(et||gt)};static \u0275mod=F.oAB({type:gt});static \u0275inj=F.cJS({providers:[De,Ve]})}return gt})();function Qe(gt,...Ze){return{ngModule:Je,providers:[{provide:W,useFactory:me(gt),multi:!0,deps:[F.R0b,F.zs3,c.HU,H.z6,[new F.FiY,c.Rf],...Ze]}]}}const Xe=(0,c.u3)(j.Xb,!0),nn=(0,c.u3)(j.v0,!0),ni=(0,c.u3)(j.w$,!0),_t=(0,c.u3)(j.e5,!0),Vt=(0,c.u3)(j.w7,!0)},1160:(jt,He,x)=>{x.d(He,{ST:()=>Cn});var c=x(6814),F=x(5879),H=x(1920),he=x(7217),ye=(x(6365),x(8645)),be=x(2096),se=x(5592),Ee=x(2459),W=x(3019),ce=x(3093),me=x(4664),Ve=x(7398),De=x(4552);class Je extends ye.x{constructor(re=1/0,Ne=1/0,xe=De.l){super(),this._bufferSize=re,this._windowTime=Ne,this._timestampProvider=xe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ne===1/0,this._bufferSize=Math.max(1,re),this._windowTime=Math.max(1,Ne)}next(re){const{isStopped:Ne,_buffer:xe,_infiniteTimeWindow:Re,_timestampProvider:wt,_windowTime:Yt}=this;Ne||(xe.push(re),!Re&&xe.push(wt.now()+Yt)),this._trimBuffer(),super.next(re)}_subscribe(re){this._throwIfClosed(),this._trimBuffer();const Ne=this._innerSubscribe(re),{_infiniteTimeWindow:xe,_buffer:Re}=this,wt=Re.slice();for(let Yt=0;Yt<wt.length&&!re.closed;Yt+=xe?1:2)re.next(wt[Yt]);return this._checkFinalizedStatuses(re),Ne}_trimBuffer(){const{_bufferSize:re,_timestampProvider:Ne,_buffer:xe,_infiniteTimeWindow:Re}=this,wt=(Re?1:2)*re;if(re<1/0&&wt<xe.length&&xe.splice(0,xe.length-wt),!Re){const Yt=Ne.now();let pn=0;for(let ze=1;ze<xe.length&&xe[ze]<=Yt;ze+=2)pn=ze;pn&&xe.splice(0,pn+1)}}}var Qe=x(3020);function it(mt,re,Ne){let xe,Re=!1;return mt&&"object"==typeof mt?({bufferSize:xe=1/0,windowTime:re=1/0,refCount:Re=!1,scheduler:Ne}=mt):xe=mt??1/0,(0,Qe.B)({connector:()=>new Je(xe,re,Ne),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Re})}var qe=x(1374),Lt=x(4674);function Ye(mt,re){return(0,Lt.m)(re)?(0,me.w)(()=>mt,re):(0,me.w)(()=>mt)}var ue=x(5137),Ce=x(2181);x(7142);const Xe=new F.OlP("angularfire2.auth.use-emulator"),Te=new F.OlP("angularfire2.auth.settings"),Nt=new F.OlP("angularfire2.auth.tenant-id"),Zt=new F.OlP("angularfire2.auth.langugage-code"),nn=new F.OlP("angularfire2.auth.use-device-language"),hn=new F.OlP("angularfire.auth.persistence"),Un=(mt,re,Ne,xe,Re,wt,Yt,pn)=>(0,he.cc)(`${mt.name}.auth`,"AngularFireAuth",mt.name,()=>{const ze=re.runOutsideAngular(()=>mt.auth());if(Ne&&ze.useEmulator(...Ne),xe&&(ze.tenantId=xe),ze.languageCode=Re,wt&&ze.useDeviceLanguage(),Yt)for(const[ee,te]of Object.entries(Yt))ze.settings[ee]=te;return pn&&ze.setPersistence(pn),ze},[Ne,xe,Re,wt,Yt,pn]);let Hn=(()=>{class mt{authState;idToken;user;idTokenResult;credential;constructor(Ne,xe,Re,wt,Yt,pn,ze,ee,te,Ie,nt,dt){const Wt=new ye.x,cn=(0,be.of)(void 0).pipe((0,ce.Q)(Yt.outsideAngular),(0,me.w)(()=>wt.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,6365)))),(0,Ve.U)(()=>(0,he.on)(Ne,wt,xe)),(0,Ve.U)(_n=>Un(_n,wt,pn,ee,te,Ie,ze,nt)),it({bufferSize:1,refCount:!1}));if((0,c.PM)(Re))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,be.of)(null);else{cn.pipe((0,qe.P)()).subscribe();const _n=cn.pipe((0,me.w)(jn=>jn.getRedirectResult().then(li=>li,()=>null)),H.iC,it({bufferSize:1,refCount:!1})),un=cn.pipe((0,me.w)(jn=>new se.y(li=>({unsubscribe:wt.runOutsideAngular(()=>jn.onAuthStateChanged(pi=>li.next(pi),pi=>li.error(pi),()=>li.complete()))})))),Pn=cn.pipe((0,me.w)(jn=>new se.y(li=>({unsubscribe:wt.runOutsideAngular(()=>jn.onIdTokenChanged(pi=>li.next(pi),pi=>li.error(pi),()=>li.complete()))}))));this.authState=_n.pipe(Ye(un),(0,ue.R)(Yt.outsideAngular),(0,ce.Q)(Yt.insideAngular)),this.user=_n.pipe(Ye(Pn),(0,ue.R)(Yt.outsideAngular),(0,ce.Q)(Yt.insideAngular)),this.idToken=this.user.pipe((0,me.w)(jn=>jn?(0,Ee.D)(jn.getIdToken()):(0,be.of)(null))),this.idTokenResult=this.user.pipe((0,me.w)(jn=>jn?(0,Ee.D)(jn.getIdTokenResult()):(0,be.of)(null))),this.credential=(0,W.T)(_n,Wt,this.authState.pipe((0,Ce.h)(jn=>!jn))).pipe((0,Ve.U)(jn=>jn?.user?jn:null),(0,ue.R)(Yt.outsideAngular),(0,ce.Q)(Yt.insideAngular))}return(0,he.pX)(this,cn,wt,{spy:{apply:(_n,un,Pn)=>{(_n.startsWith("signIn")||_n.startsWith("createUser"))&&Pn.then(jn=>Wt.next(jn))}}})}static \u0275fac=function(xe){return new(xe||mt)(F.LFG(he.Dh),F.LFG(he.xv,8),F.LFG(F.Lbi),F.LFG(F.R0b),F.LFG(H.HU),F.LFG(Xe,8),F.LFG(Te,8),F.LFG(Nt,8),F.LFG(Zt,8),F.LFG(nn,8),F.LFG(hn,8),F.LFG(H.Rf,8))};static \u0275prov=F.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"any"})}return mt})();var ft=x(6321),ht=x(7921),oe=x(9360),ve=x(8251);function Pe(){return(0,oe.e)((mt,re)=>{let Ne,xe=!1;mt.subscribe((0,ve.x)(re,Re=>{const wt=Ne;Ne=Re,xe&&re.next([wt,Re]),xe=!0}))})}var je=x(6699),Ke=x(3997),$e=x(3106),Ge=x(5776),kt=x(9058),Nn=x(4537);function An(mt,re){if(void 0===re)return{merge:!1};if(void 0!==re.mergeFields&&void 0!==re.merge)throw new Ge.WA("invalid-argument",`Invalid options passed to function ${mt}(): You cannot specify both "merge" and "mergeFields".`);return re}function Gn(){if(typeof Uint8Array>"u")throw new Ge.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Zn(){if(!(0,Ge.Me)())throw new Ge.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ni{constructor(re){this._delegate=re}static fromBase64String(re){return Zn(),new ni(Ge.Jj.fromBase64String(re))}static fromUint8Array(re){return Gn(),new ni(Ge.Jj.fromUint8Array(re))}toBase64(){return Zn(),this._delegate.toBase64()}toUint8Array(){return Gn(),this._delegate.toUint8Array()}isEqual(re){return this._delegate.isEqual(re._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ri(mt){return function wi(mt,re){if("object"!=typeof mt||null===mt)return!1;const Ne=mt;for(const xe of re)if(xe in Ne&&"function"==typeof Ne[xe])return!0;return!1}(mt,["next","error","complete"])}class Si{enableIndexedDbPersistence(re,Ne){return(0,Ge.ST)(re._delegate,{forceOwnership:Ne})}enableMultiTabIndexedDbPersistence(re){return(0,Ge.fH)(re._delegate)}clearIndexedDbPersistence(re){return(0,Ge.Fc)(re._delegate)}}class Ni{constructor(re,Ne,xe){this._delegate=Ne,this._persistenceProvider=xe,this.INTERNAL={delete:()=>this.terminate()},re instanceof Ge.l7||(this._appCompat=re)}get _databaseId(){return this._delegate._databaseId}settings(re){const Ne=this._delegate._getSettings();!re.merge&&Ne.host!==re.host&&(0,Ge.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),re.merge&&delete(re=Object.assign(Object.assign({},Ne),re)).merge,this._delegate._setSettings(re)}useEmulator(re,Ne,xe={}){(0,Ge.at)(this._delegate,re,Ne,xe)}enableNetwork(){return(0,Ge.Ix)(this._delegate)}disableNetwork(){return(0,Ge.TF)(this._delegate)}enablePersistence(re){let Ne=!1,xe=!1;return re&&(Ne=!!re.synchronizeTabs,xe=!!re.experimentalForceOwningTab,(0,Ge.Wi)("synchronizeTabs",Ne,"experimentalForceOwningTab",xe)),Ne?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,xe)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ge.Mx)(this._delegate)}onSnapshotsInSync(re){return(0,Ge.sc)(this._delegate,re)}get app(){if(!this._appCompat)throw new Ge.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(re){try{return new Jt(this,(0,Ge.hJ)(this._delegate,re))}catch(Ne){throw ut(Ne,"collection()","Firestore.collection()")}}doc(re){try{return new Ot(this,(0,Ge.JU)(this._delegate,re))}catch(Ne){throw ut(Ne,"doc()","Firestore.doc()")}}collectionGroup(re){try{return new Oe(this,(0,Ge.B$)(this._delegate,re))}catch(Ne){throw ut(Ne,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(re){return(0,Ge.i3)(this._delegate,Ne=>re(new _t(this,Ne)))}batch(){return(0,Ge.qY)(this._delegate),new vt(new Ge.PU(this._delegate,re=>(0,Ge.GL)(this._delegate,re)))}loadBundle(re){return(0,Ge.Pb)(this._delegate,re)}namedQuery(re){return(0,Ge.L$)(this._delegate,re).then(Ne=>Ne?new Oe(this,Ne):null)}}class gi extends Ge.u7{constructor(re){super(),this.firestore=re}convertBytes(re){return new ni(new Ge.Jj(re))}convertReference(re){const Ne=this.convertDocumentKey(re,this.firestore._databaseId);return Ot.forKey(Ne,this.firestore,null)}}class _t{constructor(re,Ne){this._firestore=re,this._delegate=Ne,this._userDataWriter=new gi(re)}get(re){const Ne=Ft(re);return this._delegate.get(Ne).then(xe=>new yt(this._firestore,new Ge.xU(this._firestore._delegate,this._userDataWriter,xe._key,xe._document,xe.metadata,Ne.converter)))}set(re,Ne,xe){const Re=Ft(re);return xe?(An("Transaction.set",xe),this._delegate.set(Re,Ne,xe)):this._delegate.set(Re,Ne),this}update(re,Ne,xe,...Re){const wt=Ft(re);return 2===arguments.length?this._delegate.update(wt,Ne):this._delegate.update(wt,Ne,xe,...Re),this}delete(re){const Ne=Ft(re);return this._delegate.delete(Ne),this}}class vt{constructor(re){this._delegate=re}set(re,Ne,xe){const Re=Ft(re);return xe?(An("WriteBatch.set",xe),this._delegate.set(Re,Ne,xe)):this._delegate.set(Re,Ne),this}update(re,Ne,xe,...Re){const wt=Ft(re);return 2===arguments.length?this._delegate.update(wt,Ne):this._delegate.update(wt,Ne,xe,...Re),this}delete(re){const Ne=Ft(re);return this._delegate.delete(Ne),this}commit(){return this._delegate.commit()}}class ct{constructor(re,Ne,xe){this._firestore=re,this._userDataWriter=Ne,this._delegate=xe}fromFirestore(re,Ne){const xe=new Ge.$q(this._firestore._delegate,this._userDataWriter,re._key,re._document,re.metadata,null);return this._delegate.fromFirestore(new xt(this._firestore,xe),Ne??{})}toFirestore(re,Ne){return Ne?this._delegate.toFirestore(re,Ne):this._delegate.toFirestore(re)}static getInstance(re,Ne){const xe=ct.INSTANCES;let Re=xe.get(re);Re||(Re=new WeakMap,xe.set(re,Re));let wt=Re.get(Ne);return wt||(wt=new ct(re,new gi(re),Ne),Re.set(Ne,wt)),wt}}ct.INSTANCES=new WeakMap;class Ot{constructor(re,Ne){this.firestore=re,this._delegate=Ne,this._userDataWriter=new gi(re)}static forPath(re,Ne,xe){if(re.length%2!=0)throw new Ge.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${re.canonicalString()} has ${re.length}`);return new Ot(Ne,new Ge.my(Ne._delegate,xe,new Ge.Ky(re)))}static forKey(re,Ne,xe){return new Ot(Ne,new Ge.my(Ne._delegate,xe,re))}get id(){return this._delegate.id}get parent(){return new Jt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(re){try{return new Jt(this.firestore,(0,Ge.hJ)(this._delegate,re))}catch(Ne){throw ut(Ne,"collection()","DocumentReference.collection()")}}isEqual(re){return(re=(0,kt.m9)(re))instanceof Ge.my&&(0,Ge.Eo)(this._delegate,re)}set(re,Ne){Ne=An("DocumentReference.set",Ne);try{return Ne?(0,Ge.pl)(this._delegate,re,Ne):(0,Ge.pl)(this._delegate,re)}catch(xe){throw ut(xe,"setDoc()","DocumentReference.set()")}}update(re,Ne,...xe){try{return 1===arguments.length?(0,Ge.r7)(this._delegate,re):(0,Ge.r7)(this._delegate,re,Ne,...xe)}catch(Re){throw ut(Re,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ge.oe)(this._delegate)}onSnapshot(...re){const Ne=Vt(re),xe=sn(re,Re=>new yt(this.firestore,new Ge.xU(this.firestore._delegate,this._userDataWriter,Re._key,Re._document,Re.metadata,this._delegate.converter)));return(0,Ge.cf)(this._delegate,Ne,xe)}get(re){let Ne;return Ne="cache"===re?.source?(0,Ge.kl)(this._delegate):"server"===re?.source?(0,Ge.Xk)(this._delegate):(0,Ge.QT)(this._delegate),Ne.then(xe=>new yt(this.firestore,new Ge.xU(this.firestore._delegate,this._userDataWriter,xe._key,xe._document,xe.metadata,this._delegate.converter)))}withConverter(re){return new Ot(this.firestore,this._delegate.withConverter(re?ct.getInstance(this.firestore,re):null))}}function ut(mt,re,Ne){return mt.message=mt.message.replace(re,Ne),mt}function Vt(mt){for(const re of mt)if("object"==typeof re&&!ri(re))return re;return{}}function sn(mt,re){var Ne,xe;let Re;return Re=ri(mt[0])?mt[0]:ri(mt[1])?mt[1]:"function"==typeof mt[0]?{next:mt[0],error:mt[1],complete:mt[2]}:{next:mt[1],error:mt[2],complete:mt[3]},{next:wt=>{Re.next&&Re.next(re(wt))},error:null===(Ne=Re.error)||void 0===Ne?void 0:Ne.bind(Re),complete:null===(xe=Re.complete)||void 0===xe?void 0:xe.bind(Re)}}class yt{constructor(re,Ne){this._firestore=re,this._delegate=Ne}get ref(){return new Ot(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(re){return this._delegate.data(re)}get(re,Ne){return this._delegate.get(re,Ne)}isEqual(re){return(0,Ge.qK)(this._delegate,re._delegate)}}class xt extends yt{data(re){const Ne=this._delegate.data(re);return(0,Ge.K9)(void 0!==Ne,"Document in a QueryDocumentSnapshot should exist"),Ne}}class Oe{constructor(re,Ne){this.firestore=re,this._delegate=Ne,this._userDataWriter=new gi(re)}where(re,Ne,xe){try{return new Oe(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.ar)(re,Ne,xe)))}catch(Re){throw ut(Re,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(re,Ne){try{return new Oe(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.Xo)(re,Ne)))}catch(xe){throw ut(xe,/(orderBy|where)\(\)/,"Query.$1()")}}limit(re){try{return new Oe(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.b9)(re)))}catch(Ne){throw ut(Ne,"limit()","Query.limit()")}}limitToLast(re){try{return new Oe(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.vh)(re)))}catch(Ne){throw ut(Ne,"limitToLast()","Query.limitToLast()")}}startAt(...re){try{return new Oe(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.e0)(...re)))}catch(Ne){throw ut(Ne,"startAt()","Query.startAt()")}}startAfter(...re){try{return new Oe(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.TQ)(...re)))}catch(Ne){throw ut(Ne,"startAfter()","Query.startAfter()")}}endBefore(...re){try{return new Oe(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.Lx)(...re)))}catch(Ne){throw ut(Ne,"endBefore()","Query.endBefore()")}}endAt(...re){try{return new Oe(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.Wu)(...re)))}catch(Ne){throw ut(Ne,"endAt()","Query.endAt()")}}isEqual(re){return(0,Ge.iE)(this._delegate,re._delegate)}get(re){let Ne;return Ne="cache"===re?.source?(0,Ge.UQ)(this._delegate):"server"===re?.source?(0,Ge.zN)(this._delegate):(0,Ge.PL)(this._delegate),Ne.then(xe=>new at(this.firestore,new Ge.W(this.firestore._delegate,this._userDataWriter,this._delegate,xe._snapshot)))}onSnapshot(...re){const Ne=Vt(re),xe=sn(re,Re=>new at(this.firestore,new Ge.W(this.firestore._delegate,this._userDataWriter,this._delegate,Re._snapshot)));return(0,Ge.cf)(this._delegate,Ne,xe)}withConverter(re){return new Oe(this.firestore,this._delegate.withConverter(re?ct.getInstance(this.firestore,re):null))}}class pt{constructor(re,Ne){this._firestore=re,this._delegate=Ne}get type(){return this._delegate.type}get doc(){return new xt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class at{constructor(re,Ne){this._firestore=re,this._delegate=Ne}get query(){return new Oe(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(re=>new xt(this._firestore,re))}docChanges(re){return this._delegate.docChanges(re).map(Ne=>new pt(this._firestore,Ne))}forEach(re,Ne){this._delegate.forEach(xe=>{re.call(Ne,new xt(this._firestore,xe))})}isEqual(re){return(0,Ge.qK)(this._delegate,re._delegate)}}class Jt extends Oe{constructor(re,Ne){super(re,Ne),this.firestore=re,this._delegate=Ne}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const re=this._delegate.parent;return re?new Ot(this.firestore,re):null}doc(re){try{return new Ot(this.firestore,void 0===re?(0,Ge.JU)(this._delegate):(0,Ge.JU)(this._delegate,re))}catch(Ne){throw ut(Ne,"doc()","CollectionReference.doc()")}}add(re){return(0,Ge.ET)(this._delegate,re).then(Ne=>new Ot(this.firestore,Ne))}isEqual(re){return(0,Ge.Eo)(this._delegate,re._delegate)}withConverter(re){return new Jt(this.firestore,this._delegate.withConverter(re?ct.getInstance(this.firestore,re):null))}}function Ft(mt){return(0,Ge.Cf)(mt,Ge.my)}class an{constructor(...re){this._delegate=new Ge.Lz(...re)}static documentId(){return new an(Ge.Xb.keyField().canonicalString())}isEqual(re){return(re=(0,kt.m9)(re))instanceof Ge.Lz&&this._delegate._internalPath.isEqual(re._internalPath)}}class kn{constructor(re){this._delegate=re}static serverTimestamp(){const re=(0,Ge.Bt)();return re._methodName="FieldValue.serverTimestamp",new kn(re)}static delete(){const re=(0,Ge.AK)();return re._methodName="FieldValue.delete",new kn(re)}static arrayUnion(...re){const Ne=(0,Ge.vr)(...re);return Ne._methodName="FieldValue.arrayUnion",new kn(Ne)}static arrayRemove(...re){const Ne=(0,Ge.Ab)(...re);return Ne._methodName="FieldValue.arrayRemove",new kn(Ne)}static increment(re){const Ne=(0,Ge.nP)(re);return Ne._methodName="FieldValue.increment",new kn(Ne)}isEqual(re){return this._delegate.isEqual(re._delegate)}}const gt={Firestore:Ni,GeoPoint:Ge.F8,Timestamp:Ge.EK,Blob:ni,Transaction:_t,WriteBatch:vt,DocumentReference:Ot,DocumentSnapshot:yt,Query:Oe,QueryDocumentSnapshot:xt,QuerySnapshot:at,CollectionReference:Jt,FieldPath:an,FieldValue:kn,setLogLevel:function ge(mt){(0,Ge.Ub)(mt)},CACHE_SIZE_UNLIMITED:Ge.IX};function Dt(mt,re){return function et(mt,re=ft.z){return new se.y(Ne=>{let xe;return null!=re?re.schedule(()=>{xe=mt.onSnapshot({includeMetadataChanges:!0},Ne)}):xe=mt.onSnapshot({includeMetadataChanges:!0},Ne),()=>{xe?.()}})}(mt,re)}function Ln(mt,re){return Dt(mt,re).pipe((0,Ve.U)(Ne=>({payload:Ne,type:"query"})))}!function Ae(mt){(function Ze(mt,re){mt.INTERNAL.registerComponent(new Nn.wA("firestore-compat",Ne=>{const xe=Ne.getProvider("app-compat").getImmediate(),Re=Ne.getProvider("firestore").getImmediate();return re(xe,Re)},"PUBLIC").setServiceProps(Object.assign({},gt)))})(mt,(re,Ne)=>new Ni(re,Ne,new Si)),mt.registerVersion("@firebase/firestore-compat","0.3.21")}($e.Z);class oi{ref;afs;constructor(re,Ne){this.ref=re,this.afs=Ne}set(re,Ne){return this.ref.set(re,Ne)}update(re){return this.ref.update(re)}delete(){return this.ref.delete()}collection(re,Ne){const xe=this.ref.collection(re),{ref:Re,query:wt}=fn(xe,Ne);return new V(Re,wt,this.afs)}snapshotChanges(){return function Qt(mt,re){return Dt(mt,re).pipe((0,ht.O)(void 0),Pe(),(0,Ve.U)(Ne=>{const[xe,Re]=Ne;return Re.exists?xe?.exists?{payload:Re,type:"modified"}:{payload:Re,type:"added"}:{payload:Re,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(H.iC)}valueChanges(re={}){return this.snapshotChanges().pipe((0,Ve.U)(({payload:Ne})=>re.idField?{...Ne.data(),[re.idField]:Ne.id}:Ne.data()))}get(re){return(0,Ee.D)(this.ref.get(re)).pipe(H.iC)}}function ki(mt,re){return Ln(mt,re).pipe((0,ht.O)(void 0),Pe(),(0,Ve.U)(Ne=>{const[xe,Re]=Ne,wt=Re.payload.docChanges(),Yt=wt.map(pn=>({type:pn.type,payload:pn}));return xe&&JSON.stringify(xe.payload.metadata)!==JSON.stringify(Re.payload.metadata)&&Re.payload.docs.forEach((pn,ze)=>{const ee=wt.find(Ie=>Ie.doc.ref.isEqual(pn.ref)),te=xe?.payload.docs.find(Ie=>Ie.ref.isEqual(pn.ref));ee&&JSON.stringify(ee.doc.metadata)===JSON.stringify(pn.metadata)||!ee&&te&&JSON.stringify(te.metadata)===JSON.stringify(pn.metadata)||Yt.push({type:"modified",payload:{oldIndex:ze,newIndex:ze,type:"modified",doc:pn}})}),Yt}))}function zt(mt,re,Ne){return ki(mt,Ne).pipe((0,je.R)((xe,Re)=>function ie(mt,re,Ne){return re.forEach(xe=>{Ne.indexOf(xe.type)>-1&&(mt=function N(mt,re){switch(re.type){case"added":if(!mt[re.newIndex]||!mt[re.newIndex].doc.ref.isEqual(re.doc.ref))return B(mt,re.newIndex,0,re);break;case"modified":if(null==mt[re.oldIndex]||mt[re.oldIndex].doc.ref.isEqual(re.doc.ref)){if(re.oldIndex!==re.newIndex){const Ne=mt.slice();return Ne.splice(re.oldIndex,1),Ne.splice(re.newIndex,0,re),Ne}return B(mt,re.newIndex,1,re)}break;case"removed":if(mt[re.oldIndex]&&mt[re.oldIndex].doc.ref.isEqual(re.doc.ref))return B(mt,re.oldIndex,1)}return mt}(mt,xe))}),mt}(xe,Re.map(wt=>wt.payload),re),[]),(0,Ke.x)(),(0,Ve.U)(xe=>xe.map(Re=>({type:Re.type,payload:Re}))))}function B(mt,re,Ne,...xe){const Re=mt.slice();return Re.splice(re,Ne,...xe),Re}function O(mt){return(!mt||0===mt.length)&&(mt=["added","removed","modified"]),mt}class V{ref;query;afs;constructor(re,Ne,xe){this.ref=re,this.query=Ne,this.afs=xe}stateChanges(re){let Ne=ki(this.query,this.afs.schedulers.outsideAngular);return re&&re.length>0&&(Ne=Ne.pipe((0,Ve.U)(xe=>xe.filter(Re=>re.indexOf(Re.type)>-1)))),Ne.pipe((0,ht.O)(void 0),Pe(),(0,Ce.h)(([xe,Re])=>Re.length>0||!xe),(0,Ve.U)(([,xe])=>xe),H.iC)}auditTrail(re){return this.stateChanges(re).pipe((0,je.R)((Ne,xe)=>[...Ne,...xe],[]))}snapshotChanges(re){const Ne=O(re);return zt(this.query,Ne,this.afs.schedulers.outsideAngular).pipe(H.iC)}valueChanges(re={}){return Ln(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ve.U)(Ne=>Ne.payload.docs.map(xe=>re.idField?{...xe.data(),[re.idField]:xe.id}:xe.data())),H.iC)}get(re){return(0,Ee.D)(this.query.get(re)).pipe(H.iC)}add(re){return this.ref.add(re)}doc(re){return new oi(this.ref.doc(re),this.afs)}}class we{query;afs;constructor(re,Ne){this.query=re,this.afs=Ne}stateChanges(re){return re&&0!==re.length?ki(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ve.U)(Ne=>Ne.filter(xe=>re.indexOf(xe.type)>-1)),(0,Ce.h)(Ne=>Ne.length>0),H.iC):ki(this.query,this.afs.schedulers.outsideAngular).pipe(H.iC)}auditTrail(re){return this.stateChanges(re).pipe((0,je.R)((Ne,xe)=>[...Ne,...xe],[]))}snapshotChanges(re){const Ne=O(re);return zt(this.query,Ne,this.afs.schedulers.outsideAngular).pipe(H.iC)}valueChanges(re={}){return Ln(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ve.U)(xe=>xe.payload.docs.map(Re=>re.idField?{[re.idField]:Re.id,...Re.data()}:Re.data())),H.iC)}get(re){return(0,Ee.D)(this.query.get(re)).pipe(H.iC)}}const tt=new F.OlP("angularfire2.enableFirestorePersistence"),Rt=new F.OlP("angularfire2.firestore.persistenceSettings"),$t=new F.OlP("angularfire2.firestore.settings"),Kt=new F.OlP("angularfire2.firestore.use-emulator");function fn(mt,re=(Ne=>Ne)){return{query:re(mt),ref:mt}}let Cn=(()=>{class mt{schedulers;firestore;persistenceEnabled$;constructor(Ne,xe,Re,wt,Yt,pn,ze,ee,te,Ie,nt,dt,Wt,cn,_n,un,Pn){this.schedulers=ze;const jn=(0,he.on)(Ne,pn,xe),li=te;Ie&&Un(jn,pn,nt,Wt,cn,_n,dt,un),[this.firestore,this.persistenceEnabled$]=(0,he.cc)(`${jn.name}.firestore`,"AngularFirestore",jn.name,()=>{const pi=pn.runOutsideAngular(()=>jn.firestore());if(wt&&pi.settings(wt),li&&pi.useEmulator(...li),Re&&!(0,c.PM)(Yt)){const Ji=()=>{try{return(0,Ee.D)(pi.enablePersistence(ee||void 0).then(()=>!0,()=>!1))}catch(er){return typeof console<"u"&&console.warn(er),(0,be.of)(!1)}};return[pi,pn.runOutsideAngular(Ji)]}return[pi,(0,be.of)(!1)]},[wt,li,Re])}collection(Ne,xe){let Re;Re="string"==typeof Ne?this.firestore.collection(Ne):Ne;const{ref:wt,query:Yt}=fn(Re,xe),pn=this.schedulers.ngZone.run(()=>wt);return new V(pn,Yt,this)}collectionGroup(Ne,xe){const Re=xe||(Yt=>Yt),wt=this.firestore.collectionGroup(Ne);return new we(Re(wt),this)}doc(Ne){let xe;xe="string"==typeof Ne?this.firestore.doc(Ne):Ne;const Re=this.schedulers.ngZone.run(()=>xe);return new oi(Re,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(xe){return new(xe||mt)(F.LFG(he.Dh),F.LFG(he.xv,8),F.LFG(tt,8),F.LFG($t,8),F.LFG(F.Lbi),F.LFG(F.R0b),F.LFG(H.HU),F.LFG(Rt,8),F.LFG(Kt,8),F.LFG(Hn,8),F.LFG(Xe,8),F.LFG(Te,8),F.LFG(Nt,8),F.LFG(Zt,8),F.LFG(nn,8),F.LFG(hn,8),F.LFG(H.Rf,8))};static \u0275prov=F.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"any"})}return mt})()},7217:(jt,He,x)=>{x.d(He,{Dh:()=>be,GT:()=>j,cc:()=>Ve,on:()=>Ee,pX:()=>he,xv:()=>se});var c=x(5879),F=x(7142);const H=["ngOnDestroy"],he=(it,qe,Lt,Ye={})=>new Proxy(it,{get:(ue,Ce)=>Lt.runOutsideAngular(()=>{if(it[Ce])return Ye?.spy?.get&&Ye.spy.get(Ce,it[Ce]),it[Ce];if(H.indexOf(Ce)>-1)return()=>{};const Me=qe.toPromise().then(Le=>{const Xe=Le?.[Ce];return"function"==typeof Xe?Xe.bind(Le):Xe?.then?Xe.then(Te=>Lt.run(()=>Te)):Lt.run(()=>Xe)});return new Proxy(()=>{},{get:(Le,Xe)=>Me[Xe],apply:(Le,Xe,Te)=>Me.then(Nt=>{const Zt=Nt?.(...Te);return Ye?.spy?.apply&&Ye.spy.apply(Ce,Te,Zt),Zt})})})}),j=(it,qe)=>{qe.forEach(Lt=>{Object.getOwnPropertyNames(Lt.prototype||Lt).forEach(Ye=>{Object.defineProperty(it.prototype,Ye,Object.getOwnPropertyDescriptor(Lt.prototype||Lt,Ye))})})};class ye{constructor(qe){return qe}}const be=new c.OlP("angularfire2.app.options"),se=new c.OlP("angularfire2.app.name");function Ee(it,qe,Lt){const ue="object"==typeof Lt&&Lt||{};ue.name=ue.name||"string"==typeof Lt&&Lt||"[DEFAULT]";const Me=F.Z.apps.filter(Le=>Le&&Le.name===ue.name)[0]||qe.runOutsideAngular(()=>F.Z.initializeApp(it,ue));try{if(JSON.stringify(it)!==JSON.stringify(Me.options)){const Le=!!module.hot;W("error",`${Me.name} Firebase App already initialized with different options${Le?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ye(Me)}const W=(it,...qe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[it](...qe)};function Ve(it,qe,Lt,Ye,ue){const[,Ce,Me]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===it)||[];if(Ce)return function De(it,qe){try{return it.toString()===qe.toString()}catch{return it===qe}}(ue,Me)||(Qe("error",`${qe} was already initialized on the ${Lt} Firebase App with different settings.${Je?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:ue,was:Me})),Ce;{const Le=Ye();return globalThis.\u0275AngularfireInstanceCache.push([it,Le,ue]),Le}}const Je=typeof module<"u"&&!!module.hot,Qe=(it,...qe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[it](...qe)};globalThis.\u0275AngularfireInstanceCache||=[]},3960:(jt,He,x)=>{x.d(He,{gg:()=>Un,ET:()=>Si,hJ:()=>ut,BS:()=>qn,JU:()=>Ft,ad:()=>O,Cm:()=>$e,pl:()=>dt,r7:()=>pi});var c=x(1920),F=x(5879),H=x(721),he=x(2637),j=x(3182),ye=x(5776),be=x(5592),se=x(7398),Ee=function(){return Ee=Object.assign||function(tn){for(var Mn,$n=1,sr=arguments.length;$n<sr;$n++)for(var Ir in Mn=arguments[$n])Object.prototype.hasOwnProperty.call(Mn,Ir)&&(tn[Ir]=Mn[Ir]);return tn},Ee.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var ce={includeMetadataChanges:!1};function Zt(vn,tn){return void 0===tn&&(tn={}),function Xe(vn){return function me(vn,tn){return void 0===tn&&(tn=ce),new be.y(function(Mn){return{unsubscribe:(0,ye.cf)(vn,tn,{next:Mn.next.bind(Mn),error:Mn.error.bind(Mn),complete:Mn.complete.bind(Mn)})}})}(vn,{includeMetadataChanges:!0}).pipe((0,se.U)(function(tn){return tn.docs}))}(vn).pipe((0,se.U)(function(Mn){return Mn.map(function($n){return function Je(vn,tn){var Mn;void 0===tn&&(tn={});var $n=vn.data(tn);return vn.exists()&&"object"==typeof $n&&null!==$n&&tn.idField?Ee(Ee({},$n),((Mn={})[tn.idField]=vn.id,Mn)):$n}($n,tn)})}))}class Un{constructor(tn){return tn}}const Hn="firestore",ht=new F.OlP("angularfire2.firestore-instances");function ve(vn){return(tn,Mn)=>{const $n=tn.runOutsideAngular(()=>vn(Mn));return new Un($n)}}const Pe={provide:class on{constructor(){return(0,c.vb)(Hn)}},deps:[[new F.FiY,ht]]},je={provide:Un,useFactory:function oe(vn,tn){const Mn=(0,c.JM)(Hn,vn,tn);return Mn&&new Un(Mn)},deps:[[new F.FiY,ht],H.Ot]};let Ke=(()=>{class vn{constructor(){(0,j.KN)("angularfire",c.q4.full,"fst")}static \u0275fac=function($n){return new($n||vn)};static \u0275mod=F.oAB({type:vn});static \u0275inj=F.cJS({providers:[je,Pe]})}return vn})();function $e(vn,...tn){return{ngModule:Ke,providers:[{provide:ht,useFactory:ve(vn),multi:!0,deps:[F.R0b,F.zs3,c.HU,H.z6,[new F.FiY,he.dh],[new F.FiY,c.Rf],...tn]}]}}const qn=(0,c.u3)(Zt,!0),Si=(0,c.u3)(ye.ET,!0),ut=(0,c.u3)(ye.hJ,!0),Ft=(0,c.u3)(ye.JU,!0),O=(0,c.u3)(ye.ad,!0),dt=(0,c.u3)(ye.pl,!0),pi=(0,c.u3)(ye.r7,!0)},1920:(jt,He,x)=>{x.d(He,{q4:()=>De,iC:()=>nn,fc:()=>Nt,HU:()=>Me,Rf:()=>qe,vb:()=>it,JM:()=>Qe,u3:()=>Hn});var c=x(5879),F=x(3182),H=x(1954),j=x(2631);const be=new class ye extends j.v{}(class he extends H.o{constructor(ft,ht){super(ft,ht),this.scheduler=ft,this.work=ht}schedule(ft,ht=0){return ht>0?super.schedule(ft,ht):(this.delay=ht,this.state=ft,this.scheduler.flush(this),this)}execute(ft,ht){return ht>0||this.closed?super.execute(ft,ht):this._execute(ft,ht)}requestAsyncId(ft,ht,oe=0){return null!=oe&&oe>0||null==oe&&this.delay>0?super.requestAsyncId(ft,ht,oe):(ft.flush(this),0)}});var Ee=x(6321),W=x(5592),ce=x(9397),me=x(3093),Ve=x(5137);const De=new c.GfV("ANGULARFIRE2_VERSION");function Qe(on,ft,ht){if(ft){if(1===ft.length)return ft[0];const Pe=ft.filter(je=>je.app===ht);if(1===Pe.length)return Pe[0]}return ht.container.getProvider(on).getImmediate({optional:!0})}const it=(on,ft)=>{const ht=ft?[ft]:(0,F.C6)(),oe=[];return ht.forEach(ve=>{ve.container.getProvider(on).instances.forEach(je=>{oe.includes(je)||oe.push(je)})}),oe};class qe{constructor(){return it(Lt)}}const Lt="app-check";function Ye(){}class ue{zone;delegate;constructor(ft,ht=be){this.zone=ft,this.delegate=ht}now(){return this.delegate.now()}schedule(ft,ht,oe){const ve=this.zone;return this.delegate.schedule(function(je){ve.runGuarded(()=>{ft.apply(this,[je])})},ht,oe)}}class Ce{zone;task=null;constructor(ft){this.zone=ft}call(ft,ht){const oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ye,{},Ye,Ye)),ht.pipe((0,ce.b)({next:oe,complete:oe,error:oe})).subscribe(ft).add(oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Me=(()=>{class on{ngZone;outsideAngular;insideAngular;constructor(ht){this.ngZone=ht,this.outsideAngular=ht.runOutsideAngular(()=>new ue(Zone.current)),this.insideAngular=ht.run(()=>new ue(Zone.current,Ee.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(oe){return new(oe||on)(c.LFG(c.R0b))};static \u0275prov=c.Yz7({token:on,factory:on.\u0275fac,providedIn:"root"})}return on})();function Le(){const on=globalThis.\u0275AngularFireScheduler;if(!on)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return on}function Te(on){return Le().ngZone.run(()=>on())}function Nt(on){return on.pipe((0,me.Q)(Le().outsideAngular))}function nn(on){return function hn(on){return function(ht){return(ht=ht.lift(new Ce(on.ngZone))).pipe((0,Ve.R)(on.outsideAngular),(0,me.Q)(on.insideAngular))}}(Le())(on)}const Un=(on,ft)=>function(){const oe=arguments;return ft&&setTimeout(()=>{"scheduled"===ft.state&&ft.invoke()},10),Te(()=>on.apply(void 0,oe))},Hn=(on,ft)=>function(){let ht;const oe=arguments;for(let Pe=0;Pe<arguments.length;Pe++)"function"==typeof oe[Pe]&&(ft&&(ht||=Te(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ye,{},Ye,Ye))),oe[Pe]=Un(oe[Pe],ht));const ve=function Xe(on){return Le().ngZone.runOutsideAngular(()=>on())}(()=>on.apply(this,oe));if(!ft){if(ve instanceof W.y){const Pe=Le();return ve.pipe((0,Ve.R)(Pe.outsideAngular),(0,me.Q)(Pe.insideAngular))}return Te(()=>ve)}return ve instanceof W.y?ve.pipe(nn):ve instanceof Promise?Te(()=>new Promise((Pe,je)=>ve.then(Ke=>Te(()=>Pe(Ke)),Ke=>Te(()=>je(Ke))))):"function"==typeof ve&&ht?function(){return setTimeout(()=>{ht&&"scheduled"===ht.state&&ht.invoke()},10),ve.apply(this,arguments)}:Te(()=>ve)}},6223:(jt,He,x)=>{x.d(He,{EJ:()=>yo,Fj:()=>De,JJ:()=>Si,JL:()=>Ni,JU:()=>se,Kr:()=>bo,NI:()=>Fr,On:()=>Lr,UX:()=>No,YN:()=>Wi,_Y:()=>Vs,a5:()=>Zn,cw:()=>B,kI:()=>Ye,sg:()=>ur,u:()=>wn,u5:()=>sl});var c=x(5879),F=x(6814),H=x(2459),he=x(9315),j=x(7398);let ye=(()=>{class Y{constructor(U,_e){this._renderer=U,this._elementRef=_e,this.onChange=We=>{},this.onTouched=()=>{}}setProperty(U,_e){this._renderer.setProperty(this._elementRef.nativeElement,U,_e)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static#e=this.\u0275fac=function(_e){return new(_e||Y)(c.Y36(c.Qsj),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:Y})}return Y})(),be=(()=>{class Y extends ye{static#e=this.\u0275fac=function(){let U;return function(We){return(U||(U=c.n5z(Y)))(We||Y)}}();static#t=this.\u0275dir=c.lG2({type:Y,features:[c.qOj]})}return Y})();const se=new c.OlP("NgValueAccessor"),ce={provide:se,useExisting:(0,c.Gpc)(()=>De),multi:!0},Ve=new c.OlP("CompositionEventMode");let De=(()=>{class Y extends ye{constructor(U,_e,We){super(U,_e),this._compositionMode=We,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function me(){const Y=(0,F.q)()?(0,F.q)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static#e=this.\u0275fac=function(_e){return new(_e||Y)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Ve,8))};static#t=this.\u0275dir=c.lG2({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(_e,We){1&_e&&c.NdJ("input",function(mi){return We._handleInput(mi.target.value)})("blur",function(){return We.onTouched()})("compositionstart",function(){return We._compositionStart()})("compositionend",function(mi){return We._compositionEnd(mi.target.value)})},features:[c._Bn([ce]),c.qOj]})}return Y})();function Je(Y){return null==Y||("string"==typeof Y||Array.isArray(Y))&&0===Y.length}function Qe(Y){return null!=Y&&"number"==typeof Y.length}const it=new c.OlP("NgValidators"),qe=new c.OlP("NgAsyncValidators"),Lt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ye{static min(J){return function ue(Y){return J=>{if(Je(J.value)||Je(Y))return null;const U=parseFloat(J.value);return!isNaN(U)&&U<Y?{min:{min:Y,actual:J.value}}:null}}(J)}static max(J){return function Ce(Y){return J=>{if(Je(J.value)||Je(Y))return null;const U=parseFloat(J.value);return!isNaN(U)&&U>Y?{max:{max:Y,actual:J.value}}:null}}(J)}static required(J){return function Me(Y){return Je(Y.value)?{required:!0}:null}(J)}static requiredTrue(J){return function Le(Y){return!0===Y.value?null:{required:!0}}(J)}static email(J){return function Xe(Y){return Je(Y.value)||Lt.test(Y.value)?null:{email:!0}}(J)}static minLength(J){return function Te(Y){return J=>Je(J.value)||!Qe(J.value)?null:J.value.length<Y?{minlength:{requiredLength:Y,actualLength:J.value.length}}:null}(J)}static maxLength(J){return function Nt(Y){return J=>Qe(J.value)&&J.value.length>Y?{maxlength:{requiredLength:Y,actualLength:J.value.length}}:null}(J)}static pattern(J){return function Zt(Y){if(!Y)return nn;let J,U;return"string"==typeof Y?(U="","^"!==Y.charAt(0)&&(U+="^"),U+=Y,"$"!==Y.charAt(Y.length-1)&&(U+="$"),J=new RegExp(U)):(U=Y.toString(),J=Y),_e=>{if(Je(_e.value))return null;const We=_e.value;return J.test(We)?null:{pattern:{requiredPattern:U,actualValue:We}}}}(J)}static nullValidator(J){return null}static compose(J){return oe(J)}static composeAsync(J){return Pe(J)}}function nn(Y){return null}function hn(Y){return null!=Y}function Un(Y){return(0,c.QGY)(Y)?(0,H.D)(Y):Y}function Hn(Y){let J={};return Y.forEach(U=>{J=null!=U?{...J,...U}:J}),0===Object.keys(J).length?null:J}function on(Y,J){return J.map(U=>U(Y))}function ht(Y){return Y.map(J=>function ft(Y){return!Y.validate}(J)?J:U=>J.validate(U))}function oe(Y){if(!Y)return null;const J=Y.filter(hn);return 0==J.length?null:function(U){return Hn(on(U,J))}}function ve(Y){return null!=Y?oe(ht(Y)):null}function Pe(Y){if(!Y)return null;const J=Y.filter(hn);return 0==J.length?null:function(U){const _e=on(U,J).map(Un);return(0,he.D)(_e).pipe((0,j.U)(Hn))}}function je(Y){return null!=Y?Pe(ht(Y)):null}function Ke(Y,J){return null===Y?[J]:Array.isArray(Y)?[...Y,J]:[Y,J]}function $e(Y){return Y._rawValidators}function Ge(Y){return Y._rawAsyncValidators}function kt(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function Nn(Y,J){return Array.isArray(Y)?Y.includes(J):Y===J}function En(Y,J){const U=kt(J);return kt(Y).forEach(We=>{Nn(U,We)||U.push(We)}),U}function qn(Y,J){return kt(J).filter(U=>!Nn(Y,U))}class An{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(J){this._rawValidators=J||[],this._composedValidatorFn=ve(this._rawValidators)}_setAsyncValidators(J){this._rawAsyncValidators=J||[],this._composedAsyncValidatorFn=je(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(J){this._onDestroyCallbacks.push(J)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(J=>J()),this._onDestroyCallbacks=[]}reset(J=void 0){this.control&&this.control.reset(J)}hasError(J,U){return!!this.control&&this.control.hasError(J,U)}getError(J,U){return this.control?this.control.getError(J,U):null}}class Gn extends An{get formDirective(){return null}get path(){return null}}class Zn extends An{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ni{constructor(J){this._cd=J}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Si=(()=>{class Y extends ni{constructor(U){super(U)}static#e=this.\u0275fac=function(_e){return new(_e||Y)(c.Y36(Zn,2))};static#t=this.\u0275dir=c.lG2({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(_e,We){2&_e&&c.ekj("ng-untouched",We.isUntouched)("ng-touched",We.isTouched)("ng-pristine",We.isPristine)("ng-dirty",We.isDirty)("ng-valid",We.isValid)("ng-invalid",We.isInvalid)("ng-pending",We.isPending)},features:[c.qOj]})}return Y})(),Ni=(()=>{class Y extends ni{constructor(U){super(U)}static#e=this.\u0275fac=function(_e){return new(_e||Y)(c.Y36(Gn,10))};static#t=this.\u0275dir=c.lG2({type:Y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(_e,We){2&_e&&c.ekj("ng-untouched",We.isUntouched)("ng-touched",We.isTouched)("ng-pristine",We.isPristine)("ng-dirty",We.isDirty)("ng-valid",We.isValid)("ng-invalid",We.isInvalid)("ng-pending",We.isPending)("ng-submitted",We.isSubmitted)},features:[c.qOj]})}return Y})();const kn="VALID",gt="INVALID",Ze="PENDING",Ae="DISABLED";function et(Y){return(oi(Y)?Y.validators:Y)||null}function Qt(Y,J){return(oi(J)?J.asyncValidators:Y)||null}function oi(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}class ie{constructor(J,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(J),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(J){this._rawValidators=this._composedValidatorFn=J}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(J){this._rawAsyncValidators=this._composedAsyncValidatorFn=J}get parent(){return this._parent}get valid(){return this.status===kn}get invalid(){return this.status===gt}get pending(){return this.status==Ze}get disabled(){return this.status===Ae}get enabled(){return this.status!==Ae}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(J){this._assignValidators(J)}setAsyncValidators(J){this._assignAsyncValidators(J)}addValidators(J){this.setValidators(En(J,this._rawValidators))}addAsyncValidators(J){this.setAsyncValidators(En(J,this._rawAsyncValidators))}removeValidators(J){this.setValidators(qn(J,this._rawValidators))}removeAsyncValidators(J){this.setAsyncValidators(qn(J,this._rawAsyncValidators))}hasValidator(J){return Nn(this._rawValidators,J)}hasAsyncValidator(J){return Nn(this._rawAsyncValidators,J)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(J={}){this.touched=!0,this._parent&&!J.onlySelf&&this._parent.markAsTouched(J)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(J=>J.markAllAsTouched())}markAsUntouched(J={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}markAsDirty(J={}){this.pristine=!1,this._parent&&!J.onlySelf&&this._parent.markAsDirty(J)}markAsPristine(J={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}markAsPending(J={}){this.status=Ze,!1!==J.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!J.onlySelf&&this._parent.markAsPending(J)}disable(J={}){const U=this._parentMarkedDirty(J.onlySelf);this.status=Ae,this.errors=null,this._forEachChild(_e=>{_e.disable({...J,onlySelf:!0})}),this._updateValue(),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...J,skipPristineCheck:U}),this._onDisabledChange.forEach(_e=>_e(!0))}enable(J={}){const U=this._parentMarkedDirty(J.onlySelf);this.status=kn,this._forEachChild(_e=>{_e.enable({...J,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent}),this._updateAncestors({...J,skipPristineCheck:U}),this._onDisabledChange.forEach(_e=>_e(!1))}_updateAncestors(J){this._parent&&!J.onlySelf&&(this._parent.updateValueAndValidity(J),J.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(J){this._parent=J}getRawValue(){return this.value}updateValueAndValidity(J={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kn||this.status===Ze)&&this._runAsyncValidator(J.emitEvent)),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.updateValueAndValidity(J)}_updateTreeValidity(J={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(J)),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ae:kn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(J){if(this.asyncValidator){this.status=Ze,this._hasOwnPendingAsyncValidator=!0;const U=Un(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(_e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(_e,{emitEvent:J})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(J,U={}){this.errors=J,this._updateControlsErrors(!1!==U.emitEvent)}get(J){let U=J;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((_e,We)=>_e&&_e._find(We),this)}getError(J,U){const _e=U?this.get(U):this;return _e&&_e.errors?_e.errors[J]:null}hasError(J,U){return!!this.getError(J,U)}get root(){let J=this;for(;J._parent;)J=J._parent;return J}_updateControlsErrors(J){this.status=this._calculateStatus(),J&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(J)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Ae:this.errors?gt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ze)?Ze:this._anyControlsHaveStatus(gt)?gt:kn}_anyControlsHaveStatus(J){return this._anyControls(U=>U.status===J)}_anyControlsDirty(){return this._anyControls(J=>J.dirty)}_anyControlsTouched(){return this._anyControls(J=>J.touched)}_updatePristine(J={}){this.pristine=!this._anyControlsDirty(),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}_updateTouched(J={}){this.touched=this._anyControlsTouched(),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}_registerOnCollectionChange(J){this._onCollectionChange=J}_setUpdateStrategy(J){oi(J)&&null!=J.updateOn&&(this._updateOn=J.updateOn)}_parentMarkedDirty(J){return!J&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(J){return null}_assignValidators(J){this._rawValidators=Array.isArray(J)?J.slice():J,this._composedValidatorFn=function Dt(Y){return Array.isArray(Y)?ve(Y):Y||null}(this._rawValidators)}_assignAsyncValidators(J){this._rawAsyncValidators=Array.isArray(J)?J.slice():J,this._composedAsyncValidatorFn=function Ln(Y){return Array.isArray(Y)?je(Y):Y||null}(this._rawAsyncValidators)}}class B extends ie{constructor(J,U,_e){super(et(U),Qt(_e,U)),this.controls=J,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(J,U){return this.controls[J]?this.controls[J]:(this.controls[J]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(J,U,_e={}){this.registerControl(J,U),this.updateValueAndValidity({emitEvent:_e.emitEvent}),this._onCollectionChange()}removeControl(J,U={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(J,U,_e={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],U&&this.registerControl(J,U),this.updateValueAndValidity({emitEvent:_e.emitEvent}),this._onCollectionChange()}contains(J){return this.controls.hasOwnProperty(J)&&this.controls[J].enabled}setValue(J,U={}){(function zt(Y,J,U){Y._forEachChild((_e,We)=>{if(void 0===U[We])throw new c.vHH(1002,"")})})(this,0,J),Object.keys(J).forEach(_e=>{(function ki(Y,J,U){const _e=Y.controls;if(!(J?Object.keys(_e):_e).length)throw new c.vHH(1e3,"");if(!_e[U])throw new c.vHH(1001,"")})(this,!0,_e),this.controls[_e].setValue(J[_e],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(J,U={}){null!=J&&(Object.keys(J).forEach(_e=>{const We=this.controls[_e];We&&We.patchValue(J[_e],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(J={},U={}){this._forEachChild((_e,We)=>{_e.reset(J?J[We]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(J,U,_e)=>(J[_e]=U.getRawValue(),J))}_syncPendingControls(){let J=this._reduceChildren(!1,(U,_e)=>!!_e._syncPendingControls()||U);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){Object.keys(this.controls).forEach(U=>{const _e=this.controls[U];_e&&J(_e,U)})}_setUpControls(){this._forEachChild(J=>{J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(J){for(const[U,_e]of Object.entries(this.controls))if(this.contains(U)&&J(_e))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,_e,We)=>((_e.enabled||this.disabled)&&(U[We]=_e.value),U))}_reduceChildren(J,U){let _e=J;return this._forEachChild((We,Wn)=>{_e=U(_e,We,Wn)}),_e}_allControlsDisabled(){for(const J of Object.keys(this.controls))if(this.controls[J].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(J){return this.controls.hasOwnProperty(J)?this.controls[J]:null}}const tt=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Rt}),Rt="always";function $t(Y,J){return[...J.path,Y]}function Kt(Y,J,U=Rt){mt(Y,J),J.valueAccessor.writeValue(Y.value),(Y.disabled||"always"===U)&&J.valueAccessor.setDisabledState?.(Y.disabled),function Ne(Y,J){J.valueAccessor.registerOnChange(U=>{Y._pendingValue=U,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&Re(Y,J)})}(Y,J),function wt(Y,J){const U=(_e,We)=>{J.valueAccessor.writeValue(_e),We&&J.viewToModelUpdate(_e)};Y.registerOnChange(U),J._registerOnDestroy(()=>{Y._unregisterOnChange(U)})}(Y,J),function xe(Y,J){J.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&Re(Y,J),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,J),function Jn(Y,J){if(J.valueAccessor.setDisabledState){const U=_e=>{J.valueAccessor.setDisabledState(_e)};Y.registerOnDisabledChange(U),J._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(U)})}}(Y,J)}function fn(Y,J,U=!0){const _e=()=>{};J.valueAccessor&&(J.valueAccessor.registerOnChange(_e),J.valueAccessor.registerOnTouched(_e)),re(Y,J),Y&&(J._invokeOnDestroyCallbacks(),Y._registerOnCollectionChange(()=>{}))}function Cn(Y,J){Y.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(J)})}function mt(Y,J){const U=$e(Y);null!==J.validator?Y.setValidators(Ke(U,J.validator)):"function"==typeof U&&Y.setValidators([U]);const _e=Ge(Y);null!==J.asyncValidator?Y.setAsyncValidators(Ke(_e,J.asyncValidator)):"function"==typeof _e&&Y.setAsyncValidators([_e]);const We=()=>Y.updateValueAndValidity();Cn(J._rawValidators,We),Cn(J._rawAsyncValidators,We)}function re(Y,J){let U=!1;if(null!==Y){if(null!==J.validator){const We=$e(Y);if(Array.isArray(We)&&We.length>0){const Wn=We.filter(mi=>mi!==J.validator);Wn.length!==We.length&&(U=!0,Y.setValidators(Wn))}}if(null!==J.asyncValidator){const We=Ge(Y);if(Array.isArray(We)&&We.length>0){const Wn=We.filter(mi=>mi!==J.asyncValidator);Wn.length!==We.length&&(U=!0,Y.setAsyncValidators(Wn))}}}const _e=()=>{};return Cn(J._rawValidators,_e),Cn(J._rawAsyncValidators,_e),U}function Re(Y,J){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),J.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function dt(Y,J){if(!Y.hasOwnProperty("model"))return!1;const U=Y.model;return!!U.isFirstChange()||!Object.is(J,U.currentValue)}function _n(Y,J){if(!J)return null;let U,_e,We;return Array.isArray(J),J.forEach(Wn=>{Wn.constructor===De?U=Wn:function Wt(Y){return Object.getPrototypeOf(Y.constructor)===be}(Wn)?_e=Wn:We=Wn}),We||_e||U||null}function Ji(Y,J){const U=Y.indexOf(J);U>-1&&Y.splice(U,1)}function er(Y){return"object"==typeof Y&&null!==Y&&2===Object.keys(Y).length&&"value"in Y&&"disabled"in Y}const Fr=class extends ie{constructor(J=null,U,_e){super(et(U),Qt(_e,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(J),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oi(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=er(J)?J.value:J)}setValue(J,U={}){this.value=this._pendingValue=J,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(_e=>_e(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(J,U={}){this.setValue(J,U)}reset(J=this.defaultValue,U={}){this._applyFormState(J),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(J){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(J){this._onChange.push(J)}_unregisterOnChange(J){Ji(this._onChange,J)}registerOnDisabledChange(J){this._onDisabledChange.push(J)}_unregisterOnDisabledChange(J){Ji(this._onDisabledChange,J)}_forEachChild(J){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(J){er(J)?(this.value=this._pendingValue=J.value,J.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=J}},as={provide:Zn,useExisting:(0,c.Gpc)(()=>Lr)},Ko=(()=>Promise.resolve())();let Lr=(()=>{class Y extends Zn{constructor(U,_e,We,Wn,mi,Io){super(),this._changeDetectorRef=mi,this.callSetDisabledState=Io,this.control=new Fr,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=U,this._setValidators(_e),this._setAsyncValidators(We),this.valueAccessor=_n(0,Wn)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const _e=U.name.previousValue;this.formDirective.removeControl({name:_e,path:this._getPath(_e)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),dt(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){Ko.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const _e=U.isDisabled.currentValue,We=0!==_e&&(0,c.VuI)(_e);Ko.then(()=>{We&&!this.control.disabled?this.control.disable():!We&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?$t(U,this._parent):[U]}static#e=this.\u0275fac=function(_e){return new(_e||Y)(c.Y36(Gn,9),c.Y36(it,10),c.Y36(qe,10),c.Y36(se,10),c.Y36(c.sBO,8),c.Y36(tt,8))};static#t=this.\u0275dir=c.lG2({type:Y,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([as]),c.qOj,c.TTD]})}return Y})(),Vs=(()=>{class Y{static#e=this.\u0275fac=function(_e){return new(_e||Y)};static#t=this.\u0275dir=c.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Y})(),Kr=(()=>{class Y{static#e=this.\u0275fac=function(_e){return new(_e||Y)};static#t=this.\u0275mod=c.oAB({type:Y});static#n=this.\u0275inj=c.cJS({})}return Y})();const bi=new c.OlP("NgModelWithFormControlWarning"),Rr={provide:Gn,useExisting:(0,c.Gpc)(()=>ur)};let ur=(()=>{class Y extends Gn{constructor(U,_e,We){super(),this.callSetDisabledState=We,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(U),this._setAsyncValidators(_e)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(re(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const _e=this.form.get(U.path);return Kt(_e,U,this.callSetDisabledState),_e.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),_e}getControl(U){return this.form.get(U.path)}removeControl(U){fn(U.control||null,U,!1),function un(Y,J){const U=Y.indexOf(J);U>-1&&Y.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,_e){this.form.get(U.path).setValue(_e)}onSubmit(U){return this.submitted=!0,function cn(Y,J){Y._syncPendingControls(),J.forEach(U=>{const _e=U.control;"submit"===_e.updateOn&&_e._pendingChange&&(U.viewToModelUpdate(_e._pendingValue),_e._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const _e=U.control,We=this.form.get(U.path);_e!==We&&(fn(_e||null,U),(Y=>Y instanceof Fr)(We)&&(Kt(We,U,this.callSetDisabledState),U.control=We))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const _e=this.form.get(U.path);(function Yt(Y,J){mt(Y,J)})(_e,U),_e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const _e=this.form.get(U.path);_e&&function pn(Y,J){return re(Y,J)}(_e,U)&&_e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mt(this.form,this),this._oldForm&&re(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(_e){return new(_e||Y)(c.Y36(it,10),c.Y36(qe,10),c.Y36(tt,8))};static#t=this.\u0275dir=c.lG2({type:Y,selectors:[["","formGroup",""]],hostBindings:function(_e,We){1&_e&&c.NdJ("submit",function(mi){return We.onSubmit(mi)})("reset",function(){return We.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Rr]),c.qOj,c.TTD]})}return Y})();const ji={provide:Zn,useExisting:(0,c.Gpc)(()=>wn)};let wn=(()=>{class Y extends Zn{set isDisabled(U){}static#e=this._ngModelWarningSentOnce=!1;constructor(U,_e,We,Wn,mi){super(),this._ngModelWarningConfig=mi,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(_e),this._setAsyncValidators(We),this.valueAccessor=_n(0,Wn)}ngOnChanges(U){this._added||this._setUpControl(),dt(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(_e){return new(_e||Y)(c.Y36(Gn,13),c.Y36(it,10),c.Y36(qe,10),c.Y36(se,10),c.Y36(bi,8))};static#n=this.\u0275dir=c.lG2({type:Y,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([ji]),c.qOj,c.TTD]})}return Y})();const ii={provide:se,useExisting:(0,c.Gpc)(()=>yo),multi:!0};function $i(Y,J){return null==Y?`${J}`:(J&&"object"==typeof J&&(J="Object"),`${Y}: ${J}`.slice(0,50))}let yo=(()=>{class Y extends be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const We=$i(this._getOptionId(U),U);this.setProperty("value",We)}registerOnChange(U){this.onChange=_e=>{this.value=this._getOptionValue(_e),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const _e of this._optionMap.keys())if(this._compareWith(this._optionMap.get(_e),U))return _e;return null}_getOptionValue(U){const _e=function Vr(Y){return Y.split(":")[0]}(U);return this._optionMap.has(_e)?this._optionMap.get(_e):U}static#e=this.\u0275fac=function(){let U;return function(We){return(U||(U=c.n5z(Y)))(We||Y)}}();static#t=this.\u0275dir=c.lG2({type:Y,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(_e,We){1&_e&&c.NdJ("change",function(mi){return We.onChange(mi.target.value)})("blur",function(){return We.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([ii]),c.qOj]})}return Y})(),Wi=(()=>{class Y{constructor(U,_e,We){this._element=U,this._renderer=_e,this._select=We,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue($i(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(_e){return new(_e||Y)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(yo,9))};static#t=this.\u0275dir=c.lG2({type:Y,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Y})();const no={provide:se,useExisting:(0,c.Gpc)(()=>ei),multi:!0};function Vi(Y,J){return null==Y?`${J}`:("string"==typeof J&&(J=`'${J}'`),J&&"object"==typeof J&&(J="Object"),`${Y}: ${J}`.slice(0,50))}let ei=(()=>{class Y extends be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let _e;if(this.value=U,Array.isArray(U)){const We=U.map(Wn=>this._getOptionId(Wn));_e=(Wn,mi)=>{Wn._setSelected(We.indexOf(mi.toString())>-1)}}else _e=(We,Wn)=>{We._setSelected(!1)};this._optionMap.forEach(_e)}registerOnChange(U){this.onChange=_e=>{const We=[],Wn=_e.selectedOptions;if(void 0!==Wn){const mi=Wn;for(let Io=0;Io<mi.length;Io++){const fs=this._getOptionValue(mi[Io].value);We.push(fs)}}else{const mi=_e.options;for(let Io=0;Io<mi.length;Io++){const Ds=mi[Io];if(Ds.selected){const fs=this._getOptionValue(Ds.value);We.push(fs)}}}this.value=We,U(We)}}_registerOption(U){const _e=(this._idCounter++).toString();return this._optionMap.set(_e,U),_e}_getOptionId(U){for(const _e of this._optionMap.keys())if(this._compareWith(this._optionMap.get(_e)._value,U))return _e;return null}_getOptionValue(U){const _e=function yr(Y){return Y.split(":")[0]}(U);return this._optionMap.has(_e)?this._optionMap.get(_e)._value:U}static#e=this.\u0275fac=function(){let U;return function(We){return(U||(U=c.n5z(Y)))(We||Y)}}();static#t=this.\u0275dir=c.lG2({type:Y,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(_e,We){1&_e&&c.NdJ("change",function(mi){return We.onChange(mi.target)})("blur",function(){return We.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([no]),c.qOj]})}return Y})(),bo=(()=>{class Y{constructor(U,_e,We){this._element=U,this._renderer=_e,this._select=We,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(Vi(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(Vi(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(_e){return new(_e||Y)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(ei,9))};static#t=this.\u0275dir=c.lG2({type:Y,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Y})(),_i=(()=>{class Y{static#e=this.\u0275fac=function(_e){return new(_e||Y)};static#t=this.\u0275mod=c.oAB({type:Y});static#n=this.\u0275inj=c.cJS({imports:[Kr]})}return Y})(),sl=(()=>{class Y{static withConfig(U){return{ngModule:Y,providers:[{provide:tt,useValue:U.callSetDisabledState??Rt}]}}static#e=this.\u0275fac=function(_e){return new(_e||Y)};static#t=this.\u0275mod=c.oAB({type:Y});static#n=this.\u0275inj=c.cJS({imports:[_i]})}return Y})(),No=(()=>{class Y{static withConfig(U){return{ngModule:Y,providers:[{provide:bi,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:tt,useValue:U.callSetDisabledState??Rt}]}}static#e=this.\u0275fac=function(_e){return new(_e||Y)};static#t=this.\u0275mod=c.oAB({type:Y});static#n=this.\u0275inj=c.cJS({imports:[_i]})}return Y})()},2296:(jt,He,x)=>{x.d(He,{lW:()=>Xe,ot:()=>ve});var c=x(2831),F=x(5879),H=x(4300),he=x(2495),j=x(3680);const ye=["mat-button",""],be=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],se=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Lt=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Ye=(0,j.pj)((0,j.Id)((0,j.Kr)(class{constructor(Pe){this._elementRef=Pe}})));let ue=(()=>{class Pe extends Ye{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(Ke){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,Ke)}get disableRipple(){return this._disableRipple}set disableRipple(Ke){this._disableRipple=(0,he.Ig)(Ke),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(Ke){this._disabled=(0,he.Ig)(Ke),this._updateRippleDisabled()}constructor(Ke,$e,Ge,kt){super(Ke),this._platform=$e,this._ngZone=Ge,this._animationMode=kt,this._focusMonitor=(0,F.f3M)(H.tE),this._rippleLoader=(0,F.f3M)(j.Fq),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const Nn=Ke.nativeElement.classList;for(const En of Lt)this._hasHostAttributes(En.selector)&&En.mdcClasses.forEach(qn=>{Nn.add(qn)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Ke="program",$e){Ke?this._focusMonitor.focusVia(this._elementRef.nativeElement,Ke,$e):this._elementRef.nativeElement.focus($e)}_hasHostAttributes(...Ke){return Ke.some($e=>this._elementRef.nativeElement.hasAttribute($e))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function($e){F.$Z()};static#t=this.\u0275dir=F.lG2({type:Pe,features:[F.qOj]})}return Pe})(),Xe=(()=>{class Pe extends ue{constructor(Ke,$e,Ge,kt){super(Ke,$e,Ge,kt)}static#e=this.\u0275fac=function($e){return new($e||Pe)(F.Y36(F.SBq),F.Y36(c.t4),F.Y36(F.R0b),F.Y36(F.QbO,8))};static#t=this.\u0275cmp=F.Xpm({type:Pe,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function($e,Ge){2&$e&&(F.uIk("disabled",Ge.disabled||null),F.ekj("_mat-animation-noopable","NoopAnimations"===Ge._animationMode)("mat-unthemed",!Ge.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[F.qOj],attrs:ye,ngContentSelectors:se,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function($e,Ge){1&$e&&(F.F$t(be),F._UZ(0,"span",0),F.Hsn(1),F.TgZ(2,"span",1),F.Hsn(3,1),F.qZA(),F.Hsn(4,2),F._UZ(5,"span",2)(6,"span",3)),2&$e&&F.ekj("mdc-button__ripple",!Ge._isFab)("mdc-fab__ripple",Ge._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Pe})(),ve=(()=>{class Pe{static#e=this.\u0275fac=function($e){return new($e||Pe)};static#t=this.\u0275mod=F.oAB({type:Pe});static#n=this.\u0275inj=F.cJS({imports:[j.BQ,j.si,j.BQ]})}return Pe})()},3680:(jt,He,x)=>{x.d(He,{BQ:()=>ue,Fq:()=>ki,si:()=>ct,pj:()=>Te,Kr:()=>Nt,Id:()=>Xe});var c=x(5879),F=x(4300),H=x(9388),j=x(6814),ye=x(2831),be=x(2495);const Ye=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function Lt(){return!0}});let ue=(()=>{class zt{constructor(B,N,O){this._sanityChecks=N,this._document=O,this._hasDoneGlobalChecks=!1,B._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(B){return!(0,ye.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[B])}static#e=this.\u0275fac=function(N){return new(N||zt)(c.LFG(F.qm),c.LFG(Ye,8),c.LFG(j.K0))};static#t=this.\u0275mod=c.oAB({type:zt});static#n=this.\u0275inj=c.cJS({imports:[H.vT,H.vT]})}return zt})();function Xe(zt){return class extends zt{get disabled(){return this._disabled}set disabled(ie){this._disabled=(0,be.Ig)(ie)}constructor(...ie){super(...ie),this._disabled=!1}}}function Te(zt,ie){return class extends zt{get color(){return this._color}set color(B){const N=B||this.defaultColor;N!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),N&&this._elementRef.nativeElement.classList.add(`mat-${N}`),this._color=N)}constructor(...B){super(...B),this.defaultColor=ie,this.color=ie}}}function Nt(zt){return class extends zt{get disableRipple(){return this._disableRipple}set disableRipple(ie){this._disableRipple=(0,be.Ig)(ie)}constructor(...ie){super(...ie),this._disableRipple=!1}}}class An{constructor(ie,B,N,O=!1){this._renderer=ie,this.element=B,this.config=N,this._animationForciblyDisabledThroughCss=O,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Gn=(0,ye.i$)({passive:!0,capture:!0});class Zn{constructor(){this._events=new Map,this._delegateEventHandler=ie=>{const B=(0,ye.sA)(ie);B&&this._events.get(ie.type)?.forEach((N,O)=>{(O===B||O.contains(B))&&N.forEach(V=>V.handleEvent(ie))})}}addHandler(ie,B,N,O){const V=this._events.get(B);if(V){const we=V.get(N);we?we.add(O):V.set(N,new Set([O]))}else this._events.set(B,new Map([[N,new Set([O])]])),ie.runOutsideAngular(()=>{document.addEventListener(B,this._delegateEventHandler,Gn)})}removeHandler(ie,B,N){const O=this._events.get(ie);if(!O)return;const V=O.get(B);V&&(V.delete(N),0===V.size&&O.delete(B),0===O.size&&(this._events.delete(ie),document.removeEventListener(ie,this._delegateEventHandler,Gn)))}}const ni={enterDuration:225,exitDuration:150},wi=(0,ye.i$)({passive:!0,capture:!0}),Si=["mousedown","touchstart"],Ni=["mouseup","mouseleave","touchend","touchcancel"];class gi{static#e=this._eventManager=new Zn;constructor(ie,B,N,O){this._target=ie,this._ngZone=B,this._platform=O,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,O.isBrowser&&(this._containerElement=(0,be.fI)(N))}fadeInRipple(ie,B,N={}){const O=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),V={...ni,...N.animation};N.centered&&(ie=O.left+O.width/2,B=O.top+O.height/2);const we=N.radius||function ge(zt,ie,B){const N=Math.max(Math.abs(zt-B.left),Math.abs(zt-B.right)),O=Math.max(Math.abs(ie-B.top),Math.abs(ie-B.bottom));return Math.sqrt(N*N+O*O)}(ie,B,O),tt=ie-O.left,Rt=B-O.top,$t=V.enterDuration,Kt=document.createElement("div");Kt.classList.add("mat-ripple-element"),Kt.style.left=tt-we+"px",Kt.style.top=Rt-we+"px",Kt.style.height=2*we+"px",Kt.style.width=2*we+"px",null!=N.color&&(Kt.style.backgroundColor=N.color),Kt.style.transitionDuration=`${$t}ms`,this._containerElement.appendChild(Kt);const fn=window.getComputedStyle(Kt),Jn=fn.transitionDuration,mt="none"===fn.transitionProperty||"0s"===Jn||"0s, 0s"===Jn||0===O.width&&0===O.height,re=new An(this,Kt,N,mt);Kt.style.transform="scale3d(1, 1, 1)",re.state=0,N.persistent||(this._mostRecentTransientRipple=re);let Ne=null;return!mt&&($t||V.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const xe=()=>this._finishRippleTransition(re),Re=()=>this._destroyRipple(re);Kt.addEventListener("transitionend",xe),Kt.addEventListener("transitioncancel",Re),Ne={onTransitionEnd:xe,onTransitionCancel:Re}}),this._activeRipples.set(re,Ne),(mt||!$t)&&this._finishRippleTransition(re),re}fadeOutRipple(ie){if(2===ie.state||3===ie.state)return;const B=ie.element,N={...ni,...ie.config.animation};B.style.transitionDuration=`${N.exitDuration}ms`,B.style.opacity="0",ie.state=2,(ie._animationForciblyDisabledThroughCss||!N.exitDuration)&&this._finishRippleTransition(ie)}fadeOutAll(){this._getActiveRipples().forEach(ie=>ie.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ie=>{ie.config.persistent||ie.fadeOut()})}setupTriggerEvents(ie){const B=(0,be.fI)(ie);!this._platform.isBrowser||!B||B===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=B,Si.forEach(N=>{gi._eventManager.addHandler(this._ngZone,N,B,this)}))}handleEvent(ie){"mousedown"===ie.type?this._onMousedown(ie):"touchstart"===ie.type?this._onTouchStart(ie):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ni.forEach(B=>{this._triggerElement.addEventListener(B,this,wi)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ie){0===ie.state?this._startFadeOutTransition(ie):2===ie.state&&this._destroyRipple(ie)}_startFadeOutTransition(ie){const B=ie===this._mostRecentTransientRipple,{persistent:N}=ie.config;ie.state=1,!N&&(!B||!this._isPointerDown)&&ie.fadeOut()}_destroyRipple(ie){const B=this._activeRipples.get(ie)??null;this._activeRipples.delete(ie),this._activeRipples.size||(this._containerRect=null),ie===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ie.state=3,null!==B&&(ie.element.removeEventListener("transitionend",B.onTransitionEnd),ie.element.removeEventListener("transitioncancel",B.onTransitionCancel)),ie.element.remove()}_onMousedown(ie){const B=(0,F.X6)(ie),N=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!B&&!N&&(this._isPointerDown=!0,this.fadeInRipple(ie.clientX,ie.clientY,this._target.rippleConfig))}_onTouchStart(ie){if(!this._target.rippleDisabled&&!(0,F.yG)(ie)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const B=ie.changedTouches;if(B)for(let N=0;N<B.length;N++)this.fadeInRipple(B[N].clientX,B[N].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(ie=>{!ie.config.persistent&&(1===ie.state||ie.config.terminateOnPointerUp&&0===ie.state)&&ie.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const ie=this._triggerElement;ie&&(Si.forEach(B=>gi._eventManager.removeHandler(B,ie,this)),this._pointerUpEventsRegistered&&Ni.forEach(B=>ie.removeEventListener(B,this,wi)))}}const _t=new c.OlP("mat-ripple-global-options");let vt=(()=>{class zt{get disabled(){return this._disabled}set disabled(B){B&&this.fadeOutAllNonPersistent(),this._disabled=B,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(B){this._trigger=B,this._setupTriggerEventsIfEnabled()}constructor(B,N,O,V,we){this._elementRef=B,this._animationMode=we,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=V||{},this._rippleRenderer=new gi(this,N,B,O)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(B,N=0,O){return"number"==typeof B?this._rippleRenderer.fadeInRipple(B,N,{...this.rippleConfig,...O}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...B})}static#e=this.\u0275fac=function(N){return new(N||zt)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(ye.t4),c.Y36(_t,8),c.Y36(c.QbO,8))};static#t=this.\u0275dir=c.lG2({type:zt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(N,O){2&N&&c.ekj("mat-ripple-unbounded",O.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return zt})(),ct=(()=>{class zt{static#e=this.\u0275fac=function(N){return new(N||zt)};static#t=this.\u0275mod=c.oAB({type:zt});static#n=this.\u0275inj=c.cJS({imports:[ue,ue]})}return zt})();const Ae={capture:!0},et=["focus","click","mouseenter","touchstart"],Dt="mat-ripple-loader-uninitialized",Qt="mat-ripple-loader-class-name",Ln="mat-ripple-loader-centered",oi="mat-ripple-loader-disabled";let ki=(()=>{class zt{constructor(){this._document=(0,c.f3M)(j.K0,{optional:!0}),this._animationMode=(0,c.f3M)(c.QbO,{optional:!0}),this._globalRippleOptions=(0,c.f3M)(_t,{optional:!0}),this._platform=(0,c.f3M)(ye.t4),this._ngZone=(0,c.f3M)(c.R0b),this._onInteraction=B=>{if(!(B.target instanceof HTMLElement))return;const O=B.target.closest(`[${Dt}]`);O&&this.createRipple(O)},this._ngZone.runOutsideAngular(()=>{for(const B of et)this._document?.addEventListener(B,this._onInteraction,Ae)})}ngOnDestroy(){for(const B of et)this._document?.removeEventListener(B,this._onInteraction,Ae)}configureRipple(B,N){B.setAttribute(Dt,""),(N.className||!B.hasAttribute(Qt))&&B.setAttribute(Qt,N.className||""),N.centered&&B.setAttribute(Ln,""),N.disabled&&B.setAttribute(oi,"")}getRipple(B){return B.matRipple?B.matRipple:this.createRipple(B)}setDisabled(B,N){const O=B.matRipple;O?O.disabled=N:N?B.setAttribute(oi,""):B.removeAttribute(oi)}createRipple(B){if(!this._document)return;B.querySelector(".mat-ripple")?.remove();const N=this._document.createElement("span");N.classList.add("mat-ripple",B.getAttribute(Qt)),B.append(N);const O=new vt(new c.SBq(N),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return O._isInitialized=!0,O.trigger=B,O.centered=B.hasAttribute(Ln),O.disabled=B.hasAttribute(oi),this.attachRipple(B,O),O}attachRipple(B,N){B.removeAttribute(Dt),B.matRipple=N}static#e=this.\u0275fac=function(N){return new(N||zt)};static#t=this.\u0275prov=c.Yz7({token:zt,factory:zt.\u0275fac,providedIn:"root"})}return zt})()},7700:(jt,He,x)=>{x.d(He,{WI:()=>qn,uw:()=>Ni,Is:()=>ut});var c=x(4887),F=x(6814),H=x(5879),he=x(4300),j=x(2831),ye=x(8484),be=x(6028),se=x(8645),Ee=x(4911),W=x(2096),ce=x(9388),me=x(7921);function Ve(yt,xt){}class De{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Qe=(()=>{class yt extends ye.en{constructor(Oe,pt,at,Jt,Ft,an,kn,gt){super(),this._elementRef=Oe,this._focusTrapFactory=pt,this._config=Jt,this._interactivityChecker=Ft,this._ngZone=an,this._overlayRef=kn,this._focusMonitor=gt,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=Ze=>{this._portalOutlet.hasAttached();const Ae=this._portalOutlet.attachDomPortal(Ze);return this._contentAttached(),Ae},this._document=at,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(Oe){this._portalOutlet.hasAttached();const pt=this._portalOutlet.attachComponentPortal(Oe);return this._contentAttached(),pt}attachTemplatePortal(Oe){this._portalOutlet.hasAttached();const pt=this._portalOutlet.attachTemplatePortal(Oe);return this._contentAttached(),pt}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Oe,pt){this._interactivityChecker.isFocusable(Oe)||(Oe.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const at=()=>{Oe.removeEventListener("blur",at),Oe.removeEventListener("mousedown",at),Oe.removeAttribute("tabindex")};Oe.addEventListener("blur",at),Oe.addEventListener("mousedown",at)})),Oe.focus(pt)}_focusByCssSelector(Oe,pt){let at=this._elementRef.nativeElement.querySelector(Oe);at&&this._forceFocus(at,pt)}_trapFocus(){const Oe=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Oe.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(pt=>{pt||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Oe=this._config.restoreFocus;let pt=null;if("string"==typeof Oe?pt=this._document.querySelector(Oe):"boolean"==typeof Oe?pt=Oe?this._elementFocusedBeforeDialogWasOpened:null:Oe&&(pt=Oe),this._config.restoreFocus&&pt&&"function"==typeof pt.focus){const at=(0,j.ht)(),Jt=this._elementRef.nativeElement;(!at||at===this._document.body||at===Jt||Jt.contains(at))&&(this._focusMonitor?(this._focusMonitor.focusVia(pt,this._closeInteractionType),this._closeInteractionType=null):pt.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Oe=this._elementRef.nativeElement,pt=(0,j.ht)();return Oe===pt||Oe.contains(pt)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,j.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(pt){return new(pt||yt)(H.Y36(H.SBq),H.Y36(he.qV),H.Y36(F.K0,8),H.Y36(De),H.Y36(he.ic),H.Y36(H.R0b),H.Y36(c.Iu),H.Y36(he.tE))};static#t=this.\u0275cmp=H.Xpm({type:yt,selectors:[["cdk-dialog-container"]],viewQuery:function(pt,at){if(1&pt&&H.Gf(ye.Pl,7),2&pt){let Jt;H.iGM(Jt=H.CRH())&&(at._portalOutlet=Jt.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(pt,at){2&pt&&H.uIk("id",at._config.id||null)("role",at._config.role)("aria-modal",at._config.ariaModal)("aria-labelledby",at._config.ariaLabel?null:at._ariaLabelledByQueue[0])("aria-label",at._config.ariaLabel)("aria-describedby",at._config.ariaDescribedBy||null)},features:[H.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(pt,at){1&pt&&H.YNc(0,Ve,0,0,"ng-template",0)},dependencies:[ye.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return yt})();class it{constructor(xt,Oe){this.overlayRef=xt,this.config=Oe,this.closed=new se.x,this.disableClose=Oe.disableClose,this.backdropClick=xt.backdropClick(),this.keydownEvents=xt.keydownEvents(),this.outsidePointerEvents=xt.outsidePointerEvents(),this.id=Oe.id,this.keydownEvents.subscribe(pt=>{pt.keyCode===be.hY&&!this.disableClose&&!(0,be.Vb)(pt)&&(pt.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=xt.detachments().subscribe(()=>{!1!==Oe.closeOnOverlayDetachments&&this.close()})}close(xt,Oe){if(this.containerInstance){const pt=this.closed;this.containerInstance._closeInteractionType=Oe?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),pt.next(xt),pt.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(xt="",Oe=""){return this.overlayRef.updateSize({width:xt,height:Oe}),this}addPanelClass(xt){return this.overlayRef.addPanelClass(xt),this}removePanelClass(xt){return this.overlayRef.removePanelClass(xt),this}}const qe=new H.OlP("DialogScrollStrategy"),Lt=new H.OlP("DialogData"),Ye=new H.OlP("DefaultDialogConfig"),Ce={provide:qe,deps:[c.aV],useFactory:function ue(yt){return()=>yt.scrollStrategies.block()}};let Me=0,Le=(()=>{class yt{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(Oe,pt,at,Jt,Ft,an){this._overlay=Oe,this._injector=pt,this._defaultOptions=at,this._parentDialog=Jt,this._overlayContainer=Ft,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new se.x,this._afterOpenedAtThisLevel=new se.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Ee.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,me.O)(void 0))),this._scrollStrategy=an}open(Oe,pt){(pt={...this._defaultOptions||new De,...pt}).id=pt.id||"cdk-dialog-"+Me++,pt.id&&this.getDialogById(pt.id);const Jt=this._getOverlayConfig(pt),Ft=this._overlay.create(Jt),an=new it(Ft,pt),kn=this._attachContainer(Ft,an,pt);return an.containerInstance=kn,this._attachDialogContent(Oe,an,kn,pt),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(an),an.closed.subscribe(()=>this._removeOpenDialog(an,!0)),this.afterOpened.next(an),an}closeAll(){Xe(this.openDialogs,Oe=>Oe.close())}getDialogById(Oe){return this.openDialogs.find(pt=>pt.id===Oe)}ngOnDestroy(){Xe(this._openDialogsAtThisLevel,Oe=>{!1===Oe.config.closeOnDestroy&&this._removeOpenDialog(Oe,!1)}),Xe(this._openDialogsAtThisLevel,Oe=>Oe.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Oe){const pt=new c.X_({positionStrategy:Oe.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Oe.scrollStrategy||this._scrollStrategy(),panelClass:Oe.panelClass,hasBackdrop:Oe.hasBackdrop,direction:Oe.direction,minWidth:Oe.minWidth,minHeight:Oe.minHeight,maxWidth:Oe.maxWidth,maxHeight:Oe.maxHeight,width:Oe.width,height:Oe.height,disposeOnNavigation:Oe.closeOnNavigation});return Oe.backdropClass&&(pt.backdropClass=Oe.backdropClass),pt}_attachContainer(Oe,pt,at){const Jt=at.injector||at.viewContainerRef?.injector,Ft=[{provide:De,useValue:at},{provide:it,useValue:pt},{provide:c.Iu,useValue:Oe}];let an;at.container?"function"==typeof at.container?an=at.container:(an=at.container.type,Ft.push(...at.container.providers(at))):an=Qe;const kn=new ye.C5(an,at.viewContainerRef,H.zs3.create({parent:Jt||this._injector,providers:Ft}),at.componentFactoryResolver);return Oe.attach(kn).instance}_attachDialogContent(Oe,pt,at,Jt){if(Oe instanceof H.Rgc){const Ft=this._createInjector(Jt,pt,at,void 0);let an={$implicit:Jt.data,dialogRef:pt};Jt.templateContext&&(an={...an,..."function"==typeof Jt.templateContext?Jt.templateContext():Jt.templateContext}),at.attachTemplatePortal(new ye.UE(Oe,null,an,Ft))}else{const Ft=this._createInjector(Jt,pt,at,this._injector),an=at.attachComponentPortal(new ye.C5(Oe,Jt.viewContainerRef,Ft,Jt.componentFactoryResolver));pt.componentRef=an,pt.componentInstance=an.instance}}_createInjector(Oe,pt,at,Jt){const Ft=Oe.injector||Oe.viewContainerRef?.injector,an=[{provide:Lt,useValue:Oe.data},{provide:it,useValue:pt}];return Oe.providers&&("function"==typeof Oe.providers?an.push(...Oe.providers(pt,Oe,at)):an.push(...Oe.providers)),Oe.direction&&(!Ft||!Ft.get(ce.Is,null,{optional:!0}))&&an.push({provide:ce.Is,useValue:{value:Oe.direction,change:(0,W.of)()}}),H.zs3.create({parent:Ft||Jt,providers:an})}_removeOpenDialog(Oe,pt){const at=this.openDialogs.indexOf(Oe);at>-1&&(this.openDialogs.splice(at,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Jt,Ft)=>{Jt?Ft.setAttribute("aria-hidden",Jt):Ft.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),pt&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Oe=this._overlayContainer.getContainerElement();if(Oe.parentElement){const pt=Oe.parentElement.children;for(let at=pt.length-1;at>-1;at--){const Jt=pt[at];Jt!==Oe&&"SCRIPT"!==Jt.nodeName&&"STYLE"!==Jt.nodeName&&!Jt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Jt,Jt.getAttribute("aria-hidden")),Jt.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Oe=this._parentDialog;return Oe?Oe._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(pt){return new(pt||yt)(H.LFG(c.aV),H.LFG(H.zs3),H.LFG(Ye,8),H.LFG(yt,12),H.LFG(c.Xj),H.LFG(qe))};static#t=this.\u0275prov=H.Yz7({token:yt,factory:yt.\u0275fac})}return yt})();function Xe(yt,xt){let Oe=yt.length;for(;Oe--;)xt(yt[Oe])}let Te=(()=>{class yt{static#e=this.\u0275fac=function(pt){return new(pt||yt)};static#t=this.\u0275mod=H.oAB({type:yt});static#n=this.\u0275inj=H.cJS({providers:[Le,Ce],imports:[c.U8,ye.eL,he.rt,ye.eL]})}return yt})();var Nt=x(2495),Zt=x(3019),nn=x(2181),hn=x(8180),Un=x(3680);function on(yt,xt){}x(6825);class ft{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ht="mdc-dialog--open",oe="mdc-dialog--opening",ve="mdc-dialog--closing";let Ke=(()=>{class yt extends Qe{constructor(Oe,pt,at,Jt,Ft,an,kn,gt){super(Oe,pt,at,Jt,Ft,an,kn,gt),this._animationStateChanged=new H.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Oe){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Oe})}static#e=this.\u0275fac=function(pt){return new(pt||yt)(H.Y36(H.SBq),H.Y36(he.qV),H.Y36(F.K0,8),H.Y36(ft),H.Y36(he.ic),H.Y36(H.R0b),H.Y36(c.Iu),H.Y36(he.tE))};static#t=this.\u0275cmp=H.Xpm({type:yt,selectors:[["ng-component"]],features:[H.qOj],decls:0,vars:0,template:function(pt,at){},encapsulation:2})}return yt})();const $e="--mat-dialog-transition-duration";function Ge(yt){return null==yt?null:"number"==typeof yt?yt:yt.endsWith("ms")?(0,Nt.su)(yt.substring(0,yt.length-2)):yt.endsWith("s")?1e3*(0,Nt.su)(yt.substring(0,yt.length-1)):"0"===yt?0:null}let kt=(()=>{class yt extends Ke{constructor(Oe,pt,at,Jt,Ft,an,kn,gt,Ze){super(Oe,pt,at,Jt,Ft,an,kn,Ze),this._animationMode=gt,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Ge(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Ge(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty($e,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(oe,ht)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ht),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(ht),this._animationsEnabled?(this._hostElement.style.setProperty($e,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ve)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(oe,ve)}_waitForAnimationToComplete(Oe,pt){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(pt,Oe)}_requestAnimationFrame(Oe){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(Oe):Oe()})}static#e=this.\u0275fac=function(pt){return new(pt||yt)(H.Y36(H.SBq),H.Y36(he.qV),H.Y36(F.K0,8),H.Y36(ft),H.Y36(he.ic),H.Y36(H.R0b),H.Y36(c.Iu),H.Y36(H.QbO,8),H.Y36(he.tE))};static#t=this.\u0275cmp=H.Xpm({type:yt,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(pt,at){2&pt&&(H.Ikx("id",at._config.id),H.uIk("aria-modal",at._config.ariaModal)("role",at._config.role)("aria-labelledby",at._config.ariaLabel?null:at._ariaLabelledByQueue[0])("aria-label",at._config.ariaLabel)("aria-describedby",at._config.ariaDescribedBy||null),H.ekj("_mat-animation-noopable",!at._animationsEnabled))},features:[H.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(pt,at){1&pt&&(H.TgZ(0,"div",0)(1,"div",1),H.YNc(2,on,0,0,"ng-template",2),H.qZA()())},dependencies:[ye.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return yt})();class Nn{constructor(xt,Oe,pt){this._ref=xt,this._containerInstance=pt,this._afterOpened=new se.x,this._beforeClosed=new se.x,this._state=0,this.disableClose=Oe.disableClose,this.id=xt.id,pt._animationStateChanged.pipe((0,nn.h)(at=>"opened"===at.state),(0,hn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),pt._animationStateChanged.pipe((0,nn.h)(at=>"closed"===at.state),(0,hn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),xt.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Zt.T)(this.backdropClick(),this.keydownEvents().pipe((0,nn.h)(at=>at.keyCode===be.hY&&!this.disableClose&&!(0,be.Vb)(at)))).subscribe(at=>{this.disableClose||(at.preventDefault(),function En(yt,xt,Oe){yt._closeInteractionType=xt,yt.close(Oe)}(this,"keydown"===at.type?"keyboard":"mouse"))})}close(xt){this._result=xt,this._containerInstance._animationStateChanged.pipe((0,nn.h)(Oe=>"closing"===Oe.state),(0,hn.q)(1)).subscribe(Oe=>{this._beforeClosed.next(xt),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Oe.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(xt){let Oe=this._ref.config.positionStrategy;return xt&&(xt.left||xt.right)?xt.left?Oe.left(xt.left):Oe.right(xt.right):Oe.centerHorizontally(),xt&&(xt.top||xt.bottom)?xt.top?Oe.top(xt.top):Oe.bottom(xt.bottom):Oe.centerVertically(),this._ref.updatePosition(),this}updateSize(xt="",Oe=""){return this._ref.updateSize(xt,Oe),this}addPanelClass(xt){return this._ref.addPanelClass(xt),this}removePanelClass(xt){return this._ref.removePanelClass(xt),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const qn=new H.OlP("MatMdcDialogData"),An=new H.OlP("mat-mdc-dialog-default-options"),Gn=new H.OlP("mat-mdc-dialog-scroll-strategy"),ni={provide:Gn,deps:[c.aV],useFactory:function Zn(yt){return()=>yt.scrollStrategies.block()}};let wi=0,Si=(()=>{class yt{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Oe=this._parentDialog;return Oe?Oe._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(Oe,pt,at,Jt,Ft,an,kn,gt,Ze,Ae){this._overlay=Oe,this._defaultOptions=at,this._parentDialog=Jt,this._dialogRefConstructor=kn,this._dialogContainerType=gt,this._dialogDataToken=Ze,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new se.x,this._afterOpenedAtThisLevel=new se.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=ft,this.afterAllClosed=(0,Ee.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,me.O)(void 0))),this._scrollStrategy=an,this._dialog=pt.get(Le)}open(Oe,pt){let at;(pt={...this._defaultOptions||new ft,...pt}).id=pt.id||`${this._idPrefix}${wi++}`,pt.scrollStrategy=pt.scrollStrategy||this._scrollStrategy();const Jt=this._dialog.open(Oe,{...pt,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:pt},{provide:De,useValue:pt}]},templateContext:()=>({dialogRef:at}),providers:(Ft,an,kn)=>(at=new this._dialogRefConstructor(Ft,pt,kn),at.updatePosition(pt?.position),[{provide:this._dialogContainerType,useValue:kn},{provide:this._dialogDataToken,useValue:an.data},{provide:this._dialogRefConstructor,useValue:at}])});return at.componentRef=Jt.componentRef,at.componentInstance=Jt.componentInstance,this.openDialogs.push(at),this.afterOpened.next(at),at.afterClosed().subscribe(()=>{const Ft=this.openDialogs.indexOf(at);Ft>-1&&(this.openDialogs.splice(Ft,1),this.openDialogs.length||this._getAfterAllClosed().next())}),at}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Oe){return this.openDialogs.find(pt=>pt.id===Oe)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Oe){let pt=Oe.length;for(;pt--;)Oe[pt].close()}static#e=this.\u0275fac=function(pt){H.$Z()};static#t=this.\u0275prov=H.Yz7({token:yt,factory:yt.\u0275fac})}return yt})(),Ni=(()=>{class yt extends Si{constructor(Oe,pt,at,Jt,Ft,an,kn,gt){super(Oe,pt,Jt,an,kn,Ft,Nn,kt,qn,gt),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(pt){return new(pt||yt)(H.LFG(c.aV),H.LFG(H.zs3),H.LFG(F.Ye,8),H.LFG(An,8),H.LFG(Gn),H.LFG(yt,12),H.LFG(c.Xj),H.LFG(H.QbO,8))};static#t=this.\u0275prov=H.Yz7({token:yt,factory:yt.\u0275fac})}return yt})(),ut=(()=>{class yt{static#e=this.\u0275fac=function(pt){return new(pt||yt)};static#t=this.\u0275mod=H.oAB({type:yt});static#n=this.\u0275inj=H.cJS({providers:[Ni,ni],imports:[Te,c.U8,ye.eL,Un.BQ,Un.BQ]})}return yt})()},2939:(jt,He,x)=>{x.d(He,{ZX:()=>nn,ux:()=>on});var c=x(5879),F=x(8645),H=x(6814),he=x(2296),j=x(6825),ye=x(8484),be=x(2831),se=x(8180),Ee=x(9773),W=x(4300),ce=x(1088),me=x(4887),Ve=x(3680);function De(ft,ht){if(1&ft){const oe=c.EpF();c.TgZ(0,"div",2)(1,"button",3),c.NdJ("click",function(){c.CHM(oe);const Pe=c.oxw();return c.KtG(Pe.action())}),c._uU(2),c.qZA()()}if(2&ft){const oe=c.oxw();c.xp6(2),c.hij(" ",oe.data.action," ")}}const Je=["label"];function Qe(ft,ht){}const it=Math.pow(2,31)-1;class qe{constructor(ht,oe){this._overlayRef=oe,this._afterDismissed=new F.x,this._afterOpened=new F.x,this._onAction=new F.x,this._dismissedByAction=!1,this.containerInstance=ht,ht._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(ht){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(ht,it))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Lt=new c.OlP("MatSnackBarData");class Ye{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let ue=(()=>{class ft{static#e=this.\u0275fac=function(ve){return new(ve||ft)};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return ft})(),Ce=(()=>{class ft{static#e=this.\u0275fac=function(ve){return new(ve||ft)};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return ft})(),Me=(()=>{class ft{static#e=this.\u0275fac=function(ve){return new(ve||ft)};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return ft})(),Le=(()=>{class ft{constructor(oe,ve){this.snackBarRef=oe,this.data=ve}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(ve){return new(ve||ft)(c.Y36(qe),c.Y36(Lt))};static#t=this.\u0275cmp=c.Xpm({type:ft,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(ve,Pe){1&ve&&(c.TgZ(0,"div",0),c._uU(1),c.qZA(),c.YNc(2,De,3,1,"div",1)),2&ve&&(c.xp6(1),c.hij(" ",Pe.data.message,"\n"),c.xp6(1),c.Q6J("ngIf",Pe.hasAction))},dependencies:[H.O5,he.lW,ue,Ce,Me],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return ft})();const Xe={snackBarState:(0,j.X$)("state",[(0,j.SB)("void, hidden",(0,j.oB)({transform:"scale(0.8)",opacity:0})),(0,j.SB)("visible",(0,j.oB)({transform:"scale(1)",opacity:1})),(0,j.eR)("* => visible",(0,j.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,j.eR)("* => void, * => hidden",(0,j.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,j.oB)({opacity:0})))])};let Te=0,Nt=(()=>{class ft extends ye.en{constructor(oe,ve,Pe,je,Ke){super(),this._ngZone=oe,this._elementRef=ve,this._changeDetectorRef=Pe,this._platform=je,this.snackBarConfig=Ke,this._document=(0,c.f3M)(H.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new F.x,this._onExit=new F.x,this._onEnter=new F.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Te++,this.attachDomPortal=$e=>{this._assertNotAttached();const Ge=this._portalOutlet.attachDomPortal($e);return this._afterPortalAttached(),Ge},this._live="assertive"!==Ke.politeness||Ke.announcementMessage?"off"===Ke.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(oe){this._assertNotAttached();const ve=this._portalOutlet.attachComponentPortal(oe);return this._afterPortalAttached(),ve}attachTemplatePortal(oe){this._assertNotAttached();const ve=this._portalOutlet.attachTemplatePortal(oe);return this._afterPortalAttached(),ve}onAnimationEnd(oe){const{fromState:ve,toState:Pe}=oe;if(("void"===Pe&&"void"!==ve||"hidden"===Pe)&&this._completeExit(),"visible"===Pe){const je=this._onEnter;this._ngZone.run(()=>{je.next(),je.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,se.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const oe=this._elementRef.nativeElement,ve=this.snackBarConfig.panelClass;ve&&(Array.isArray(ve)?ve.forEach(Pe=>oe.classList.add(Pe)):oe.classList.add(ve)),this._exposeToModals()}_exposeToModals(){const oe=this._liveElementId,ve=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Pe=0;Pe<ve.length;Pe++){const je=ve[Pe],Ke=je.getAttribute("aria-owns");this._trackedModals.add(je),Ke?-1===Ke.indexOf(oe)&&je.setAttribute("aria-owns",Ke+" "+oe):je.setAttribute("aria-owns",oe)}}_clearFromModals(){this._trackedModals.forEach(oe=>{const ve=oe.getAttribute("aria-owns");if(ve){const Pe=ve.replace(this._liveElementId,"").trim();Pe.length>0?oe.setAttribute("aria-owns",Pe):oe.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const oe=this._elementRef.nativeElement.querySelector("[aria-hidden]"),ve=this._elementRef.nativeElement.querySelector("[aria-live]");if(oe&&ve){let Pe=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&oe.contains(document.activeElement)&&(Pe=document.activeElement),oe.removeAttribute("aria-hidden"),ve.appendChild(oe),Pe?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(ve){return new(ve||ft)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(be.t4),c.Y36(Ye))};static#t=this.\u0275dir=c.lG2({type:ft,viewQuery:function(ve,Pe){if(1&ve&&c.Gf(ye.Pl,7),2&ve){let je;c.iGM(je=c.CRH())&&(Pe._portalOutlet=je.first)}},features:[c.qOj]})}return ft})(),Zt=(()=>{class ft extends Nt{_afterPortalAttached(){super._afterPortalAttached();const oe=this._label.nativeElement,ve="mdc-snackbar__label";oe.classList.toggle(ve,!oe.querySelector(`.${ve}`))}static#e=this.\u0275fac=function(){let oe;return function(Pe){return(oe||(oe=c.n5z(ft)))(Pe||ft)}}();static#t=this.\u0275cmp=c.Xpm({type:ft,selectors:[["mat-snack-bar-container"]],viewQuery:function(ve,Pe){if(1&ve&&c.Gf(Je,7),2&ve){let je;c.iGM(je=c.CRH())&&(Pe._label=je.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(ve,Pe){1&ve&&c.WFA("@state.done",function(Ke){return Pe.onAnimationEnd(Ke)}),2&ve&&c.d8E("@state",Pe._animationState)},features:[c.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(ve,Pe){1&ve&&(c.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),c.YNc(4,Qe,0,0,"ng-template",4),c.qZA(),c._UZ(5,"div"),c.qZA()()),2&ve&&(c.xp6(5),c.uIk("aria-live",Pe._live)("role",Pe._role)("id",Pe._liveElementId))},dependencies:[ye.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Xe.snackBarState]}})}return ft})(),nn=(()=>{class ft{static#e=this.\u0275fac=function(ve){return new(ve||ft)};static#t=this.\u0275mod=c.oAB({type:ft});static#n=this.\u0275inj=c.cJS({imports:[me.U8,ye.eL,H.ez,he.ot,Ve.BQ,Ve.BQ]})}return ft})();const Un=new c.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function hn(){return new Ye}});let Hn=(()=>{class ft{get _openedSnackBarRef(){const oe=this._parentSnackBar;return oe?oe._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(oe){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=oe:this._snackBarRefAtThisLevel=oe}constructor(oe,ve,Pe,je,Ke,$e){this._overlay=oe,this._live=ve,this._injector=Pe,this._breakpointObserver=je,this._parentSnackBar=Ke,this._defaultConfig=$e,this._snackBarRefAtThisLevel=null}openFromComponent(oe,ve){return this._attach(oe,ve)}openFromTemplate(oe,ve){return this._attach(oe,ve)}open(oe,ve="",Pe){const je={...this._defaultConfig,...Pe};return je.data={message:oe,action:ve},je.announcementMessage===oe&&(je.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,je)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(oe,ve){const je=c.zs3.create({parent:ve&&ve.viewContainerRef&&ve.viewContainerRef.injector||this._injector,providers:[{provide:Ye,useValue:ve}]}),Ke=new ye.C5(this.snackBarContainerComponent,ve.viewContainerRef,je),$e=oe.attach(Ke);return $e.instance.snackBarConfig=ve,$e.instance}_attach(oe,ve){const Pe={...new Ye,...this._defaultConfig,...ve},je=this._createOverlay(Pe),Ke=this._attachSnackBarContainer(je,Pe),$e=new qe(Ke,je);if(oe instanceof c.Rgc){const Ge=new ye.UE(oe,null,{$implicit:Pe.data,snackBarRef:$e});$e.instance=Ke.attachTemplatePortal(Ge)}else{const Ge=this._createInjector(Pe,$e),kt=new ye.C5(oe,void 0,Ge),Nn=Ke.attachComponentPortal(kt);$e.instance=Nn.instance}return this._breakpointObserver.observe(ce.u3.HandsetPortrait).pipe((0,Ee.R)(je.detachments())).subscribe(Ge=>{je.overlayElement.classList.toggle(this.handsetCssClass,Ge.matches)}),Pe.announcementMessage&&Ke._onAnnounce.subscribe(()=>{this._live.announce(Pe.announcementMessage,Pe.politeness)}),this._animateSnackBar($e,Pe),this._openedSnackBarRef=$e,this._openedSnackBarRef}_animateSnackBar(oe,ve){oe.afterDismissed().subscribe(()=>{this._openedSnackBarRef==oe&&(this._openedSnackBarRef=null),ve.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{oe.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):oe.containerInstance.enter(),ve.duration&&ve.duration>0&&oe.afterOpened().subscribe(()=>oe._dismissAfter(ve.duration))}_createOverlay(oe){const ve=new me.X_;ve.direction=oe.direction;let Pe=this._overlay.position().global();const je="rtl"===oe.direction,Ke="left"===oe.horizontalPosition||"start"===oe.horizontalPosition&&!je||"end"===oe.horizontalPosition&&je,$e=!Ke&&"center"!==oe.horizontalPosition;return Ke?Pe.left("0"):$e?Pe.right("0"):Pe.centerHorizontally(),"top"===oe.verticalPosition?Pe.top("0"):Pe.bottom("0"),ve.positionStrategy=Pe,this._overlay.create(ve)}_createInjector(oe,ve){return c.zs3.create({parent:oe&&oe.viewContainerRef&&oe.viewContainerRef.injector||this._injector,providers:[{provide:qe,useValue:ve},{provide:Lt,useValue:oe.data}]})}static#e=this.\u0275fac=function(ve){return new(ve||ft)(c.LFG(me.aV),c.LFG(W.Kd),c.LFG(c.zs3),c.LFG(ce.Yg),c.LFG(ft,12),c.LFG(Un))};static#t=this.\u0275prov=c.Yz7({token:ft,factory:ft.\u0275fac})}return ft})(),on=(()=>{class ft extends Hn{constructor(oe,ve,Pe,je,Ke,$e){super(oe,ve,Pe,je,Ke,$e),this.simpleSnackBarComponent=Le,this.snackBarContainerComponent=Zt,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(ve){return new(ve||ft)(c.LFG(me.aV),c.LFG(W.Kd),c.LFG(c.zs3),c.LFG(ce.Yg),c.LFG(ft,12),c.LFG(Un))};static#t=this.\u0275prov=c.Yz7({token:ft,factory:ft.\u0275fac,providedIn:nn})}return ft})()},6593:(jt,He,x)=>{x.d(He,{Dx:()=>ge,H7:()=>gt,b2:()=>ri,q6:()=>An,se:()=>Te});var c=x(5879),F=x(6814);class H extends F.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class he extends H{static makeCurrent(){(0,F.HT)(new he)}onAndCancel(N,O,V){return N.addEventListener(O,V),()=>{N.removeEventListener(O,V)}}dispatchEvent(N,O){N.dispatchEvent(O)}remove(N){N.parentNode&&N.parentNode.removeChild(N)}createElement(N,O){return(O=O||this.getDefaultDocument()).createElement(N)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(N){return N.nodeType===Node.ELEMENT_NODE}isShadowRoot(N){return N instanceof DocumentFragment}getGlobalEventTarget(N,O){return"window"===O?window:"document"===O?N:"body"===O?N.body:null}getBaseHref(N){const O=function ye(){return j=j||document.querySelector("base"),j?j.getAttribute("href"):null}();return null==O?null:function se(B){be=be||document.createElement("a"),be.setAttribute("href",B);const N=be.pathname;return"/"===N.charAt(0)?N:`/${N}`}(O)}resetBaseElement(){j=null}getUserAgent(){return window.navigator.userAgent}getCookie(N){return(0,F.Mx)(document.cookie,N)}}let be,j=null,W=(()=>{class B{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(V){return new(V||B)};static#t=this.\u0275prov=c.Yz7({token:B,factory:B.\u0275fac})}return B})();const ce=new c.OlP("EventManagerPlugins");let me=(()=>{class B{constructor(O,V){this._zone=V,this._eventNameToPlugin=new Map,O.forEach(we=>{we.manager=this}),this._plugins=O.slice().reverse()}addEventListener(O,V,we){return this._findPluginFor(V).addEventListener(O,V,we)}getZone(){return this._zone}_findPluginFor(O){let V=this._eventNameToPlugin.get(O);if(V)return V;if(V=this._plugins.find(tt=>tt.supports(O)),!V)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(O,V),V}static#e=this.\u0275fac=function(V){return new(V||B)(c.LFG(ce),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:B,factory:B.\u0275fac})}return B})();class Ve{constructor(N){this._doc=N}}const De="ng-app-id";let Je=(()=>{class B{constructor(O,V,we,tt={}){this.doc=O,this.appId=V,this.nonce=we,this.platformId=tt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,F.PM)(tt),this.resetHostNodes()}addStyles(O){for(const V of O)1===this.changeUsageCount(V,1)&&this.onStyleAdded(V)}removeStyles(O){for(const V of O)this.changeUsageCount(V,-1)<=0&&this.onStyleRemoved(V)}ngOnDestroy(){const O=this.styleNodesInDOM;O&&(O.forEach(V=>V.remove()),O.clear());for(const V of this.getAllStyles())this.onStyleRemoved(V);this.resetHostNodes()}addHost(O){this.hostNodes.add(O);for(const V of this.getAllStyles())this.addStyleToHost(O,V)}removeHost(O){this.hostNodes.delete(O)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(O){for(const V of this.hostNodes)this.addStyleToHost(V,O)}onStyleRemoved(O){const V=this.styleRef;V.get(O)?.elements?.forEach(we=>we.remove()),V.delete(O)}collectServerRenderedStyles(){const O=this.doc.head?.querySelectorAll(`style[${De}="${this.appId}"]`);if(O?.length){const V=new Map;return O.forEach(we=>{null!=we.textContent&&V.set(we.textContent,we)}),V}return null}changeUsageCount(O,V){const we=this.styleRef;if(we.has(O)){const tt=we.get(O);return tt.usage+=V,tt.usage}return we.set(O,{usage:V,elements:[]}),V}getStyleElement(O,V){const we=this.styleNodesInDOM,tt=we?.get(V);if(tt?.parentNode===O)return we.delete(V),tt.removeAttribute(De),tt;{const Rt=this.doc.createElement("style");return this.nonce&&Rt.setAttribute("nonce",this.nonce),Rt.textContent=V,this.platformIsServer&&Rt.setAttribute(De,this.appId),Rt}}addStyleToHost(O,V){const we=this.getStyleElement(O,V);O.appendChild(we);const tt=this.styleRef,Rt=tt.get(V)?.elements;Rt?Rt.push(we):tt.set(V,{elements:[we],usage:1})}resetHostNodes(){const O=this.hostNodes;O.clear(),O.add(this.doc.head)}static#e=this.\u0275fac=function(V){return new(V||B)(c.LFG(F.K0),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:B,factory:B.\u0275fac})}return B})();const Qe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},it=/%COMP%/g,Ce=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Xe(B,N){return N.map(O=>O.replace(it,B))}let Te=(()=>{class B{constructor(O,V,we,tt,Rt,$t,Kt,fn=null){this.eventManager=O,this.sharedStylesHost=V,this.appId=we,this.removeStylesOnCompDestroy=tt,this.doc=Rt,this.platformId=$t,this.ngZone=Kt,this.nonce=fn,this.rendererByCompId=new Map,this.platformIsServer=(0,F.PM)($t),this.defaultRenderer=new Nt(O,Rt,Kt,this.platformIsServer)}createRenderer(O,V){if(!O||!V)return this.defaultRenderer;this.platformIsServer&&V.encapsulation===c.ifc.ShadowDom&&(V={...V,encapsulation:c.ifc.Emulated});const we=this.getOrCreateRenderer(O,V);return we instanceof on?we.applyToHost(O):we instanceof Hn&&we.applyStyles(),we}getOrCreateRenderer(O,V){const we=this.rendererByCompId;let tt=we.get(V.id);if(!tt){const Rt=this.doc,$t=this.ngZone,Kt=this.eventManager,fn=this.sharedStylesHost,Cn=this.removeStylesOnCompDestroy,Jn=this.platformIsServer;switch(V.encapsulation){case c.ifc.Emulated:tt=new on(Kt,fn,V,this.appId,Cn,Rt,$t,Jn);break;case c.ifc.ShadowDom:return new Un(Kt,fn,O,V,Rt,$t,this.nonce,Jn);default:tt=new Hn(Kt,fn,V,Cn,Rt,$t,Jn)}we.set(V.id,tt)}return tt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(V){return new(V||B)(c.LFG(me),c.LFG(Je),c.LFG(c.AFp),c.LFG(Ce),c.LFG(F.K0),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))};static#t=this.\u0275prov=c.Yz7({token:B,factory:B.\u0275fac})}return B})();class Nt{constructor(N,O,V,we){this.eventManager=N,this.doc=O,this.ngZone=V,this.platformIsServer=we,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(N,O){return O?this.doc.createElementNS(Qe[O]||O,N):this.doc.createElement(N)}createComment(N){return this.doc.createComment(N)}createText(N){return this.doc.createTextNode(N)}appendChild(N,O){(hn(N)?N.content:N).appendChild(O)}insertBefore(N,O,V){N&&(hn(N)?N.content:N).insertBefore(O,V)}removeChild(N,O){N&&N.removeChild(O)}selectRootElement(N,O){let V="string"==typeof N?this.doc.querySelector(N):N;if(!V)throw new c.vHH(-5104,!1);return O||(V.textContent=""),V}parentNode(N){return N.parentNode}nextSibling(N){return N.nextSibling}setAttribute(N,O,V,we){if(we){O=we+":"+O;const tt=Qe[we];tt?N.setAttributeNS(tt,O,V):N.setAttribute(O,V)}else N.setAttribute(O,V)}removeAttribute(N,O,V){if(V){const we=Qe[V];we?N.removeAttributeNS(we,O):N.removeAttribute(`${V}:${O}`)}else N.removeAttribute(O)}addClass(N,O){N.classList.add(O)}removeClass(N,O){N.classList.remove(O)}setStyle(N,O,V,we){we&(c.JOm.DashCase|c.JOm.Important)?N.style.setProperty(O,V,we&c.JOm.Important?"important":""):N.style[O]=V}removeStyle(N,O,V){V&c.JOm.DashCase?N.style.removeProperty(O):N.style[O]=""}setProperty(N,O,V){N[O]=V}setValue(N,O){N.nodeValue=O}listen(N,O,V){if("string"==typeof N&&!(N=(0,F.q)().getGlobalEventTarget(this.doc,N)))throw new Error(`Unsupported event target ${N} for event ${O}`);return this.eventManager.addEventListener(N,O,this.decoratePreventDefault(V))}decoratePreventDefault(N){return O=>{if("__ngUnwrap__"===O)return N;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>N(O)):N(O))&&O.preventDefault()}}}function hn(B){return"TEMPLATE"===B.tagName&&void 0!==B.content}class Un extends Nt{constructor(N,O,V,we,tt,Rt,$t,Kt){super(N,tt,Rt,Kt),this.sharedStylesHost=O,this.hostEl=V,this.shadowRoot=V.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const fn=Xe(we.id,we.styles);for(const Cn of fn){const Jn=document.createElement("style");$t&&Jn.setAttribute("nonce",$t),Jn.textContent=Cn,this.shadowRoot.appendChild(Jn)}}nodeOrShadowRoot(N){return N===this.hostEl?this.shadowRoot:N}appendChild(N,O){return super.appendChild(this.nodeOrShadowRoot(N),O)}insertBefore(N,O,V){return super.insertBefore(this.nodeOrShadowRoot(N),O,V)}removeChild(N,O){return super.removeChild(this.nodeOrShadowRoot(N),O)}parentNode(N){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(N)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Hn extends Nt{constructor(N,O,V,we,tt,Rt,$t,Kt){super(N,tt,Rt,$t),this.sharedStylesHost=O,this.removeStylesOnCompDestroy=we,this.styles=Kt?Xe(Kt,V.styles):V.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class on extends Hn{constructor(N,O,V,we,tt,Rt,$t,Kt){const fn=we+"-"+V.id;super(N,O,V,tt,Rt,$t,Kt,fn),this.contentAttr=function Me(B){return"_ngcontent-%COMP%".replace(it,B)}(fn),this.hostAttr=function Le(B){return"_nghost-%COMP%".replace(it,B)}(fn)}applyToHost(N){this.applyStyles(),this.setAttribute(N,this.hostAttr,"")}createElement(N,O){const V=super.createElement(N,O);return super.setAttribute(V,this.contentAttr,""),V}}let ft=(()=>{class B extends Ve{constructor(O){super(O)}supports(O){return!0}addEventListener(O,V,we){return O.addEventListener(V,we,!1),()=>this.removeEventListener(O,V,we)}removeEventListener(O,V,we){return O.removeEventListener(V,we)}static#e=this.\u0275fac=function(V){return new(V||B)(c.LFG(F.K0))};static#t=this.\u0275prov=c.Yz7({token:B,factory:B.\u0275fac})}return B})();const ht=["alt","control","meta","shift"],oe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ve={alt:B=>B.altKey,control:B=>B.ctrlKey,meta:B=>B.metaKey,shift:B=>B.shiftKey};let Pe=(()=>{class B extends Ve{constructor(O){super(O)}supports(O){return null!=B.parseEventName(O)}addEventListener(O,V,we){const tt=B.parseEventName(V),Rt=B.eventCallback(tt.fullKey,we,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,F.q)().onAndCancel(O,tt.domEventName,Rt))}static parseEventName(O){const V=O.toLowerCase().split("."),we=V.shift();if(0===V.length||"keydown"!==we&&"keyup"!==we)return null;const tt=B._normalizeKey(V.pop());let Rt="",$t=V.indexOf("code");if($t>-1&&(V.splice($t,1),Rt="code."),ht.forEach(fn=>{const Cn=V.indexOf(fn);Cn>-1&&(V.splice(Cn,1),Rt+=fn+".")}),Rt+=tt,0!=V.length||0===tt.length)return null;const Kt={};return Kt.domEventName=we,Kt.fullKey=Rt,Kt}static matchEventFullKeyCode(O,V){let we=oe[O.key]||O.key,tt="";return V.indexOf("code.")>-1&&(we=O.code,tt="code."),!(null==we||!we)&&(we=we.toLowerCase()," "===we?we="space":"."===we&&(we="dot"),ht.forEach(Rt=>{Rt!==we&&(0,ve[Rt])(O)&&(tt+=Rt+".")}),tt+=we,tt===V)}static eventCallback(O,V,we){return tt=>{B.matchEventFullKeyCode(tt,O)&&we.runGuarded(()=>V(tt))}}static _normalizeKey(O){return"esc"===O?"escape":O}static#e=this.\u0275fac=function(V){return new(V||B)(c.LFG(F.K0))};static#t=this.\u0275prov=c.Yz7({token:B,factory:B.\u0275fac})}return B})();const An=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:F.bD},{provide:c.g9A,useValue:function kt(){he.makeCurrent()},multi:!0},{provide:F.K0,useFactory:function En(){return(0,c.RDi)(document),document},deps:[]}]),Gn=new c.OlP(""),Zn=[{provide:c.rWj,useClass:class Ee{addToWindow(N){c.dqk.getAngularTestability=(V,we=!0)=>{const tt=N.findTestabilityInTree(V,we);if(null==tt)throw new c.vHH(5103,!1);return tt},c.dqk.getAllAngularTestabilities=()=>N.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>N.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(V=>{const we=c.dqk.getAllAngularTestabilities();let tt=we.length,Rt=!1;const $t=function(Kt){Rt=Rt||Kt,tt--,0==tt&&V(Rt)};we.forEach(Kt=>{Kt.whenStable($t)})})}findTestabilityInTree(N,O,V){return null==O?null:N.getTestability(O)??(V?(0,F.q)().isShadowRoot(O)?this.findTestabilityInTree(N,O.host,!0):this.findTestabilityInTree(N,O.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],ni=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Nn(){return new c.qLn},deps:[]},{provide:ce,useClass:ft,multi:!0,deps:[F.K0,c.R0b,c.Lbi]},{provide:ce,useClass:Pe,multi:!0,deps:[F.K0]},Te,Je,me,{provide:c.FYo,useExisting:Te},{provide:F.JF,useClass:W,deps:[]},[]];let ri=(()=>{class B{constructor(O){}static withServerTransition(O){return{ngModule:B,providers:[{provide:c.AFp,useValue:O.appId}]}}static#e=this.\u0275fac=function(V){return new(V||B)(c.LFG(Gn,12))};static#t=this.\u0275mod=c.oAB({type:B});static#n=this.\u0275inj=c.cJS({providers:[...ni,...Zn],imports:[F.ez,c.hGG]})}return B})(),ge=(()=>{class B{constructor(O){this._doc=O}getTitle(){return this._doc.title}setTitle(O){this._doc.title=O||""}static#e=this.\u0275fac=function(V){return new(V||B)(c.LFG(F.K0))};static#t=this.\u0275prov=c.Yz7({token:B,factory:function(V){let we=null;return we=V?new V:function gi(){return new ge((0,c.LFG)(F.K0))}(),we},providedIn:"root"})}return B})();typeof window<"u"&&window;let gt=(()=>{class B{static#e=this.\u0275fac=function(V){return new(V||B)};static#t=this.\u0275prov=c.Yz7({token:B,factory:function(V){let we=null;return we=V?new(V||B):c.LFG(Ae),we},providedIn:"root"})}return B})(),Ae=(()=>{class B extends gt{constructor(O){super(),this._doc=O}sanitize(O,V){if(null==V)return null;switch(O){case c.q3G.NONE:return V;case c.q3G.HTML:return(0,c.qzn)(V,"HTML")?(0,c.z3N)(V):(0,c.EiD)(this._doc,String(V)).toString();case c.q3G.STYLE:return(0,c.qzn)(V,"Style")?(0,c.z3N)(V):V;case c.q3G.SCRIPT:if((0,c.qzn)(V,"Script"))return(0,c.z3N)(V);throw new c.vHH(5200,!1);case c.q3G.URL:return(0,c.qzn)(V,"URL")?(0,c.z3N)(V):(0,c.mCW)(String(V));case c.q3G.RESOURCE_URL:if((0,c.qzn)(V,"ResourceURL"))return(0,c.z3N)(V);throw new c.vHH(5201,!1);default:throw new c.vHH(5202,!1)}}bypassSecurityTrustHtml(O){return(0,c.JVY)(O)}bypassSecurityTrustStyle(O){return(0,c.L6k)(O)}bypassSecurityTrustScript(O){return(0,c.eBb)(O)}bypassSecurityTrustUrl(O){return(0,c.LAX)(O)}bypassSecurityTrustResourceUrl(O){return(0,c.pB0)(O)}static#e=this.\u0275fac=function(V){return new(V||B)(c.LFG(F.K0))};static#t=this.\u0275prov=c.Yz7({token:B,factory:function(V){let we=null;return we=V?new V:function Ze(B){return new Ae(B.get(F.K0))}(c.LFG(c.zs3)),we},providedIn:"root"})}return B})()},2862:(jt,He,x)=>{x.d(He,{F0:()=>xr,rH:()=>dc,Bz:()=>Ht,lC:()=>wn});var c=x(5879),F=x(5592),H=x(4674),j=x(2459),ye=x(2096),be=x(5619),se=x(2572),Ee=x(6973),W=x(5211),ce=x(4911),me=x(8407),Ve=x(8504),De=x(6232),Je=x(7394),Qe=x(9360),it=x(8251);function qe(){return(0,Qe.e)((w,R)=>{let E=null;w._refCount++;const P=(0,it.x)(R,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(E=null);const G=w._connection,de=E;E=null,G&&(!de||G===de)&&G.unsubscribe(),R.unsubscribe()});w.subscribe(P),P.closed||(E=w.connect())})}class Lt extends F.y{constructor(R,E){super(),this.source=R,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,Qe.A)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new Je.w0;const E=this.getSubject();R.add(this.source.subscribe((0,it.x)(E,void 0,()=>{this._teardown(),E.complete()},P=>{this._teardown(),E.error(P)},()=>this._teardown()))),R.closed&&(this._connection=null,R=Je.w0.EMPTY)}return R}refCount(){return qe()(this)}}var Ye=x(8645),ue=x(6814),Ce=x(7398),Me=x(4664),Le=x(8180),Xe=x(7921),Te=x(2181),Nt=x(1631),Zt=x(1374),nn=x(6328),hn=x(9397),Un=x(6306),Hn=x(6699),on=x(3572),ft=x(2032),ht=x(4418),ve=x(4716),Pe=x(9773),je=x(7537),Ke=x(6593);const $e="primary",Ge=Symbol("RouteTitle");class kt{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const E=this.params[R];return Array.isArray(E)?E[0]:E}return null}getAll(R){if(this.has(R)){const E=this.params[R];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Nn(w){return new kt(w)}function En(w,R,E){const P=E.path.split("/");if(P.length>w.length||"full"===E.pathMatch&&(R.hasChildren()||P.length<w.length))return null;const G={};for(let de=0;de<P.length;de++){const Ue=P[de],It=w[de];if(Ue.startsWith(":"))G[Ue.substring(1)]=It;else if(Ue!==It.path)return null}return{consumed:w.slice(0,P.length),posParams:G}}function An(w,R){const E=w?Object.keys(w):void 0,P=R?Object.keys(R):void 0;if(!E||!P||E.length!=P.length)return!1;let G;for(let de=0;de<E.length;de++)if(G=E[de],!Gn(w[G],R[G]))return!1;return!0}function Gn(w,R){if(Array.isArray(w)&&Array.isArray(R)){if(w.length!==R.length)return!1;const E=[...w].sort(),P=[...R].sort();return E.every((G,de)=>P[de]===G)}return w===R}function Zn(w){return w.length>0?w[w.length-1]:null}function ni(w){return function he(w){return!!w&&(w instanceof F.y||(0,H.m)(w.lift)&&(0,H.m)(w.subscribe))}(w)?w:(0,c.QGY)(w)?(0,j.D)(Promise.resolve(w)):(0,ye.of)(w)}const ri={exact:function gi(w,R,E){if(!yt(w.segments,R.segments)||!ct(w.segments,R.segments,E)||w.numberOfChildren!==R.numberOfChildren)return!1;for(const P in R.children)if(!w.children[P]||!gi(w.children[P],R.children[P],E))return!1;return!0},subset:_t},wi={exact:function Ni(w,R){return An(w,R)},subset:function ge(w,R){return Object.keys(R).length<=Object.keys(w).length&&Object.keys(R).every(E=>Gn(w[E],R[E]))},ignored:()=>!0};function Si(w,R,E){return ri[E.paths](w.root,R.root,E.matrixParams)&&wi[E.queryParams](w.queryParams,R.queryParams)&&!("exact"===E.fragment&&w.fragment!==R.fragment)}function _t(w,R,E){return vt(w,R,R.segments,E)}function vt(w,R,E,P){if(w.segments.length>E.length){const G=w.segments.slice(0,E.length);return!(!yt(G,E)||R.hasChildren()||!ct(G,E,P))}if(w.segments.length===E.length){if(!yt(w.segments,E)||!ct(w.segments,E,P))return!1;for(const G in R.children)if(!w.children[G]||!_t(w.children[G],R.children[G],P))return!1;return!0}{const G=E.slice(0,w.segments.length),de=E.slice(w.segments.length);return!!(yt(w.segments,G)&&ct(w.segments,G,P)&&w.children[$e])&&vt(w.children[$e],R,de,P)}}function ct(w,R,E){return R.every((P,G)=>wi[E](w[G].parameters,P.parameters))}class Ot{constructor(R=new ut([],{}),E={},P=null){this.root=R,this.queryParams=E,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return at.serialize(this)}}class ut{constructor(R,E){this.segments=R,this.children=E,this.parent=null,Object.values(E).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jt(this)}}class Vt{constructor(R,E){this.path=R,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Nn(this.parameters)),this._parameterMap}toString(){return Dt(this)}}function yt(w,R){return w.length===R.length&&w.every((E,P)=>E.path===R[P].path)}let Oe=(()=>{class w{static#e=this.\u0275fac=function(P){return new(P||w)};static#t=this.\u0275prov=c.Yz7({token:w,factory:function(){return new pt},providedIn:"root"})}return w})();class pt{parse(R){const E=new we(R);return new Ot(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(R){const E=`/${Ft(R.root,!0)}`,P=function Ln(w){const R=Object.keys(w).map(E=>{const P=w[E];return Array.isArray(P)?P.map(G=>`${kn(E)}=${kn(G)}`).join("&"):`${kn(E)}=${kn(P)}`}).filter(E=>!!E);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${E}${P}${"string"==typeof R.fragment?`#${function gt(w){return encodeURI(w)}(R.fragment)}`:""}`}}const at=new pt;function Jt(w){return w.segments.map(R=>Dt(R)).join("/")}function Ft(w,R){if(!w.hasChildren())return Jt(w);if(R){const E=w.children[$e]?Ft(w.children[$e],!1):"",P=[];return Object.entries(w.children).forEach(([G,de])=>{G!==$e&&P.push(`${G}:${Ft(de,!1)}`)}),P.length>0?`${E}(${P.join("//")})`:E}{const E=function xt(w,R){let E=[];return Object.entries(w.children).forEach(([P,G])=>{P===$e&&(E=E.concat(R(G,P)))}),Object.entries(w.children).forEach(([P,G])=>{P!==$e&&(E=E.concat(R(G,P)))}),E}(w,(P,G)=>G===$e?[Ft(w.children[$e],!1)]:[`${G}:${Ft(P,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[$e]?`${Jt(w)}/${E[0]}`:`${Jt(w)}/(${E.join("//")})`}}function an(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kn(w){return an(w).replace(/%3B/gi,";")}function Ze(w){return an(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ae(w){return decodeURIComponent(w)}function et(w){return Ae(w.replace(/\+/g,"%20"))}function Dt(w){return`${Ze(w.path)}${function Qt(w){return Object.keys(w).map(R=>`;${Ze(R)}=${Ze(w[R])}`).join("")}(w.parameters)}`}const oi=/^[^\/()?;#]+/;function ki(w){const R=w.match(oi);return R?R[0]:""}const zt=/^[^\/()?;=#]+/,B=/^[^=?&#]+/,O=/^[^&#]+/;class we{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ut([],{}):new ut([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(R.length>0||Object.keys(E).length>0)&&(P[$e]=new ut(R,E)),P}parseSegment(){const R=ki(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(R),new Vt(Ae(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const E=function ie(w){const R=w.match(zt);return R?R[0]:""}(this.remaining);if(!E)return;this.capture(E);let P="";if(this.consumeOptional("=")){const G=ki(this.remaining);G&&(P=G,this.capture(P))}R[Ae(E)]=Ae(P)}parseQueryParam(R){const E=function N(w){const R=w.match(B);return R?R[0]:""}(this.remaining);if(!E)return;this.capture(E);let P="";if(this.consumeOptional("=")){const Ue=function V(w){const R=w.match(O);return R?R[0]:""}(this.remaining);Ue&&(P=Ue,this.capture(P))}const G=et(E),de=et(P);if(R.hasOwnProperty(G)){let Ue=R[G];Array.isArray(Ue)||(Ue=[Ue],R[G]=Ue),Ue.push(de)}else R[G]=de}parseParens(R){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=ki(this.remaining),G=this.remaining[P.length];if("/"!==G&&")"!==G&&";"!==G)throw new c.vHH(4010,!1);let de;P.indexOf(":")>-1?(de=P.slice(0,P.indexOf(":")),this.capture(de),this.capture(":")):R&&(de=$e);const Ue=this.parseChildren();E[de]=1===Object.keys(Ue).length?Ue[$e]:new ut([],Ue),this.consumeOptional("//")}return E}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new c.vHH(4011,!1)}}function tt(w){return w.segments.length>0?new ut([],{[$e]:w}):w}function Rt(w){const R={};for(const P of Object.keys(w.children)){const de=Rt(w.children[P]);if(P===$e&&0===de.segments.length&&de.hasChildren())for(const[Ue,It]of Object.entries(de.children))R[Ue]=It;else(de.segments.length>0||de.hasChildren())&&(R[P]=de)}return function $t(w){if(1===w.numberOfChildren&&w.children[$e]){const R=w.children[$e];return new ut(w.segments.concat(R.segments),R.children)}return w}(new ut(w.segments,R))}function Kt(w){return w instanceof Ot}function Cn(w){let R;const G=tt(function E(de){const Ue={};for(const Ct of de.children){const Sn=E(Ct);Ue[Ct.outlet]=Sn}const It=new ut(de.url,Ue);return de===w&&(R=It),It}(w.root));return R??G}function Jn(w,R,E,P){let G=w;for(;G.parent;)G=G.parent;if(0===R.length)return Ne(G,G,G,E,P);const de=function wt(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Re(!0,0,w);let R=0,E=!1;const P=w.reduce((G,de,Ue)=>{if("object"==typeof de&&null!=de){if(de.outlets){const It={};return Object.entries(de.outlets).forEach(([Ct,Sn])=>{It[Ct]="string"==typeof Sn?Sn.split("/"):Sn}),[...G,{outlets:It}]}if(de.segmentPath)return[...G,de.segmentPath]}return"string"!=typeof de?[...G,de]:0===Ue?(de.split("/").forEach((It,Ct)=>{0==Ct&&"."===It||(0==Ct&&""===It?E=!0:".."===It?R++:""!=It&&G.push(It))}),G):[...G,de]},[]);return new Re(E,R,P)}(R);if(de.toRoot())return Ne(G,G,new ut([],{}),E,P);const Ue=function pn(w,R,E){if(w.isAbsolute)return new Yt(R,!0,0);if(!E)return new Yt(R,!1,NaN);if(null===E.parent)return new Yt(E,!0,0);const P=mt(w.commands[0])?0:1;return function ze(w,R,E){let P=w,G=R,de=E;for(;de>G;){if(de-=G,P=P.parent,!P)throw new c.vHH(4005,!1);G=P.segments.length}return new Yt(P,!1,G-de)}(E,E.segments.length-1+P,w.numberOfDoubleDots)}(de,G,w),It=Ue.processChildren?Ie(Ue.segmentGroup,Ue.index,de.commands):te(Ue.segmentGroup,Ue.index,de.commands);return Ne(G,Ue.segmentGroup,It,E,P)}function mt(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function re(w){return"object"==typeof w&&null!=w&&w.outlets}function Ne(w,R,E,P,G){let Ue,de={};P&&Object.entries(P).forEach(([Ct,Sn])=>{de[Ct]=Array.isArray(Sn)?Sn.map(Di=>`${Di}`):`${Sn}`}),Ue=w===R?E:xe(w,R,E);const It=tt(Rt(Ue));return new Ot(It,de,G)}function xe(w,R,E){const P={};return Object.entries(w.children).forEach(([G,de])=>{P[G]=de===R?E:xe(de,R,E)}),new ut(w.segments,P)}class Re{constructor(R,E,P){if(this.isAbsolute=R,this.numberOfDoubleDots=E,this.commands=P,R&&P.length>0&&mt(P[0]))throw new c.vHH(4003,!1);const G=P.find(re);if(G&&G!==Zn(P))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yt{constructor(R,E,P){this.segmentGroup=R,this.processChildren=E,this.index=P}}function te(w,R,E){if(w||(w=new ut([],{})),0===w.segments.length&&w.hasChildren())return Ie(w,R,E);const P=function nt(w,R,E){let P=0,G=R;const de={match:!1,pathIndex:0,commandIndex:0};for(;G<w.segments.length;){if(P>=E.length)return de;const Ue=w.segments[G],It=E[P];if(re(It))break;const Ct=`${It}`,Sn=P<E.length-1?E[P+1]:null;if(G>0&&void 0===Ct)break;if(Ct&&Sn&&"object"==typeof Sn&&void 0===Sn.outlets){if(!_n(Ct,Sn,Ue))return de;P+=2}else{if(!_n(Ct,{},Ue))return de;P++}G++}return{match:!0,pathIndex:G,commandIndex:P}}(w,R,E),G=E.slice(P.commandIndex);if(P.match&&P.pathIndex<w.segments.length){const de=new ut(w.segments.slice(0,P.pathIndex),{});return de.children[$e]=new ut(w.segments.slice(P.pathIndex),w.children),Ie(de,0,G)}return P.match&&0===G.length?new ut(w.segments,{}):P.match&&!w.hasChildren()?dt(w,R,E):P.match?Ie(w,0,G):dt(w,R,E)}function Ie(w,R,E){if(0===E.length)return new ut(w.segments,{});{const P=function ee(w){return re(w[0])?w[0].outlets:{[$e]:w}}(E),G={};if(Object.keys(P).some(de=>de!==$e)&&w.children[$e]&&1===w.numberOfChildren&&0===w.children[$e].segments.length){const de=Ie(w.children[$e],R,E);return new ut(w.segments,de.children)}return Object.entries(P).forEach(([de,Ue])=>{"string"==typeof Ue&&(Ue=[Ue]),null!==Ue&&(G[de]=te(w.children[de],R,Ue))}),Object.entries(w.children).forEach(([de,Ue])=>{void 0===P[de]&&(G[de]=Ue)}),new ut(w.segments,G)}}function dt(w,R,E){const P=w.segments.slice(0,R);let G=0;for(;G<E.length;){const de=E[G];if(re(de)){const Ct=Wt(de.outlets);return new ut(P,Ct)}if(0===G&&mt(E[0])){P.push(new Vt(w.segments[R].path,cn(E[0]))),G++;continue}const Ue=re(de)?de.outlets[$e]:`${de}`,It=G<E.length-1?E[G+1]:null;Ue&&It&&mt(It)?(P.push(new Vt(Ue,cn(It))),G+=2):(P.push(new Vt(Ue,{})),G++)}return new ut(P,{})}function Wt(w){const R={};return Object.entries(w).forEach(([E,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(R[E]=dt(new ut([],{}),0,P))}),R}function cn(w){const R={};return Object.entries(w).forEach(([E,P])=>R[E]=`${P}`),R}function _n(w,R,E){return w==E.path&&An(R,E.parameters)}const un="imperative";class Pn{constructor(R,E){this.id=R,this.url=E}}class jn extends Pn{constructor(R,E,P="imperative",G=null){super(R,E),this.type=0,this.navigationTrigger=P,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class li extends Pn{constructor(R,E,P){super(R,E),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pi extends Pn{constructor(R,E,P,G){super(R,E),this.reason=P,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ji extends Pn{constructor(R,E,P,G){super(R,E),this.reason=P,this.code=G,this.type=16}}class er extends Pn{constructor(R,E,P,G){super(R,E),this.error=P,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fr extends Pn{constructor(R,E,P,G){super(R,E),this.urlAfterRedirects=P,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vn extends Pn{constructor(R,E,P,G){super(R,E),this.urlAfterRedirects=P,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tn extends Pn{constructor(R,E,P,G,de){super(R,E),this.urlAfterRedirects=P,this.state=G,this.shouldActivate=de,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mn extends Pn{constructor(R,E,P,G){super(R,E),this.urlAfterRedirects=P,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $n extends Pn{constructor(R,E,P,G){super(R,E),this.urlAfterRedirects=P,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sr{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ir{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class po{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ss{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mo{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class as{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ko{constructor(R,E,P){this.routerEvent=R,this.position=E,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Lr{}class Vs{constructor(R){this.url=R}}class qo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Bo,this.attachRef=null}}let Bo=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(E,P){const G=this.getOrCreateContext(E);G.outlet=P,this.contexts.set(E,G)}onChildOutletDestroyed(E){const P=this.getContext(E);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let P=this.getContext(E);return P||(P=new qo,this.contexts.set(E,P)),P}getContext(E){return this.contexts.get(E)||null}static#e=this.\u0275fac=function(P){return new(P||w)};static#t=this.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();class oo{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const E=this.pathFromRoot(R);return E.length>1?E[E.length-2]:null}children(R){const E=Kr(R,this._root);return E?E.children.map(P=>P.value):[]}firstChild(R){const E=Kr(R,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(R){const E=Uo(R,this._root);return E.length<2?[]:E[E.length-2].children.map(G=>G.value).filter(G=>G!==R)}pathFromRoot(R){return Uo(R,this._root).map(E=>E.value)}}function Kr(w,R){if(w===R.value)return R;for(const E of R.children){const P=Kr(w,E);if(P)return P}return null}function Uo(w,R){if(w===R.value)return[R];for(const E of R.children){const P=Uo(w,E);if(P.length)return P.unshift(R),P}return[]}class to{constructor(R,E){this.value=R,this.children=E}toString(){return`TreeNode(${this.value})`}}function jo(w){const R={};return w&&w.children.forEach(E=>R[E.value.outlet]=E),R}class Us extends oo{constructor(R,E){super(R),this.snapshot=E,Oi(this,R)}toString(){return this.snapshot.toString()}}function bi(w,R){const E=function pr(w,R){const Ue=new vo([],{},{},"",{},$e,R,null,{});return new Ro("",new to(Ue,[]))}(0,R),P=new be.X([new Vt("",{})]),G=new be.X({}),de=new be.X({}),Ue=new be.X({}),It=new be.X(""),Ct=new Hi(P,G,Ue,It,de,$e,R,E.root);return Ct.snapshot=E.root,new Us(new to(Ct,[]),E)}class Hi{constructor(R,E,P,G,de,Ue,It,Ct){this.urlSubject=R,this.paramsSubject=E,this.queryParamsSubject=P,this.fragmentSubject=G,this.dataSubject=de,this.outlet=Ue,this.component=It,this._futureSnapshot=Ct,this.title=this.dataSubject?.pipe((0,Ce.U)(Sn=>Sn[Ge]))??(0,ye.of)(void 0),this.url=R,this.params=E,this.queryParams=P,this.fragment=G,this.data=de}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ce.U)(R=>Nn(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ce.U)(R=>Nn(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rr(w,R="emptyOnly"){const E=w.pathFromRoot;let P=0;if("always"!==R)for(P=E.length-1;P>=1;){const G=E[P],de=E[P-1];if(G.routeConfig&&""===G.routeConfig.path)P--;else{if(de.component)break;P--}}return function ur(w){return w.reduce((R,E)=>({params:{...R.params,...E.params},data:{...R.data,...E.data},resolve:{...E.data,...R.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(P))}class vo{get title(){return this.data?.[Ge]}constructor(R,E,P,G,de,Ue,It,Ct,Sn){this.url=R,this.params=E,this.queryParams=P,this.fragment=G,this.data=de,this.outlet=Ue,this.component=It,this.routeConfig=Ct,this._resolve=Sn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ro extends oo{constructor(R,E){super(E),this.url=R,Oi(this,E)}toString(){return zo(this._root)}}function Oi(w,R){R.value._routerState=w,R.children.forEach(E=>Oi(w,E))}function zo(w){const R=w.children.length>0?` { ${w.children.map(zo).join(", ")} } `:"";return`${w.value}${R}`}function Po(w){if(w.snapshot){const R=w.snapshot,E=w._futureSnapshot;w.snapshot=E,An(R.queryParams,E.queryParams)||w.queryParamsSubject.next(E.queryParams),R.fragment!==E.fragment&&w.fragmentSubject.next(E.fragment),An(R.params,E.params)||w.paramsSubject.next(E.params),function qn(w,R){if(w.length!==R.length)return!1;for(let E=0;E<w.length;++E)if(!An(w[E],R[E]))return!1;return!0}(R.url,E.url)||w.urlSubject.next(E.url),An(R.data,E.data)||w.dataSubject.next(E.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function ji(w,R){const E=An(w.params,R.params)&&function sn(w,R){return yt(w,R)&&w.every((E,P)=>An(E.parameters,R[P].parameters))}(w.url,R.url);return E&&!(!w.parent!=!R.parent)&&(!w.parent||ji(w.parent,R.parent))}let wn=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=$e,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Bo),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)($i,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:P,previousValue:G}=E.name;if(P)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,P){this.activated=E,this._activatedRoute=P,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,P){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=E;const G=this.location,Ue=E.snapshot.component,It=this.parentContexts.getOrCreateContext(this.name).children,Ct=new ii(E,It,G.injector);this.activated=G.createComponent(Ue,{index:G.length,injector:Ct,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(P){return new(P||w)};static#t=this.\u0275dir=c.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]})}return w})();class ii{constructor(R,E,P){this.route=R,this.childContexts=E,this.parent=P}get(R,E){return R===Hi?this.route:R===Bo?this.childContexts:this.parent.get(R,E)}}const $i=new c.OlP("");let Vr=(()=>{class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:P}=E,G=(0,se.a)([P.queryParams,P.params,P.data]).pipe((0,Me.w)(([de,Ue,It],Ct)=>(It={...de,...Ue,...It},0===Ct?(0,ye.of)(It):Promise.resolve(It)))).subscribe(de=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(E);const Ue=(0,c.qFp)(P.component);if(Ue)for(const{templateName:It}of Ue.inputs)E.activatedComponentRef.setInput(It,de[It]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,G)}static#e=this.\u0275fac=function(P){return new(P||w)};static#t=this.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac})}return w})();function Wi(w,R,E){if(E&&w.shouldReuseRoute(R.value,E.value.snapshot)){const P=E.value;P._futureSnapshot=R.value;const G=function no(w,R,E){return R.children.map(P=>{for(const G of E.children)if(w.shouldReuseRoute(P.value,G.value.snapshot))return Wi(w,P,G);return Wi(w,P)})}(w,R,E);return new to(P,G)}{if(w.shouldAttach(R.value)){const de=w.retrieve(R.value);if(null!==de){const Ue=de.route;return Ue.value._futureSnapshot=R.value,Ue.children=R.children.map(It=>Wi(w,It)),Ue}}const P=function Vi(w){return new Hi(new be.X(w.url),new be.X(w.params),new be.X(w.queryParams),new be.X(w.fragment),new be.X(w.data),w.outlet,w.component,w)}(R.value),G=R.children.map(de=>Wi(w,de));return new to(P,G)}}const yr="ngNavigationCancelingError";function ls(w,R){const{redirectTo:E,navigationBehaviorOptions:P}=Kt(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,G=ei(!1,0,R);return G.url=E,G.navigationBehaviorOptions=P,G}function ei(w,R,E){const P=new Error("NavigationCancelingError: "+(w||""));return P[yr]=!0,P.cancellationCode=R,E&&(P.url=E),P}function Is(w){return w&&w[yr]}let cs=(()=>{class w{static#e=this.\u0275fac=function(P){return new(P||w)};static#t=this.\u0275cmp=c.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(P,G){1&P&&c._UZ(0,"router-outlet")},dependencies:[wn],encapsulation:2})}return w})();function Yo(w){const R=w.children&&w.children.map(Yo),E=R?{...w,children:R}:{...w};return!E.component&&!E.loadComponent&&(R||E.loadChildren)&&E.outlet&&E.outlet!==$e&&(E.component=cs),E}function Yn(w){return w.outlet||$e}function Yr(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let R=w.parent;R;R=R.parent){const E=R.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Ho{constructor(R,E,P,G,de){this.routeReuseStrategy=R,this.futureState=E,this.currState=P,this.forwardEvent=G,this.inputBindingEnabled=de}activate(R){const E=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,P,R),Po(this.futureState.root),this.activateChildRoutes(E,P,R)}deactivateChildRoutes(R,E,P){const G=jo(E);R.children.forEach(de=>{const Ue=de.value.outlet;this.deactivateRoutes(de,G[Ue],P),delete G[Ue]}),Object.values(G).forEach(de=>{this.deactivateRouteAndItsChildren(de,P)})}deactivateRoutes(R,E,P){const G=R.value,de=E?E.value:null;if(G===de)if(G.component){const Ue=P.getContext(G.outlet);Ue&&this.deactivateChildRoutes(R,E,Ue.children)}else this.deactivateChildRoutes(R,E,P);else de&&this.deactivateRouteAndItsChildren(E,P)}deactivateRouteAndItsChildren(R,E){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,E):this.deactivateRouteAndOutlet(R,E)}detachAndStoreRouteSubtree(R,E){const P=E.getContext(R.value.outlet),G=P&&R.value.component?P.children:E,de=jo(R);for(const Ue of Object.keys(de))this.deactivateRouteAndItsChildren(de[Ue],G);if(P&&P.outlet){const Ue=P.outlet.detach(),It=P.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:Ue,route:R,contexts:It})}}deactivateRouteAndOutlet(R,E){const P=E.getContext(R.value.outlet),G=P&&R.value.component?P.children:E,de=jo(R);for(const Ue of Object.keys(de))this.deactivateRouteAndItsChildren(de[Ue],G);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(R,E,P){const G=jo(E);R.children.forEach(de=>{this.activateRoutes(de,G[de.value.outlet],P),this.forwardEvent(new as(de.value.snapshot))}),R.children.length&&this.forwardEvent(new ss(R.value.snapshot))}activateRoutes(R,E,P){const G=R.value,de=E?E.value:null;if(Po(G),G===de)if(G.component){const Ue=P.getOrCreateContext(G.outlet);this.activateChildRoutes(R,E,Ue.children)}else this.activateChildRoutes(R,E,P);else if(G.component){const Ue=P.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const It=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Ue.children.onOutletReAttached(It.contexts),Ue.attachRef=It.componentRef,Ue.route=It.route.value,Ue.outlet&&Ue.outlet.attach(It.componentRef,It.route.value),Po(It.route.value),this.activateChildRoutes(R,null,Ue.children)}else{const It=Yr(G.snapshot);Ue.attachRef=null,Ue.route=G,Ue.injector=It,Ue.outlet&&Ue.outlet.activateWith(G,Ue.injector),this.activateChildRoutes(R,null,Ue.children)}}else this.activateChildRoutes(R,null,P)}}class Eo{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Ur{constructor(R,E){this.component=R,this.route=E}}function br(w,R,E){const P=w._root;return dr(P,R?R._root:null,E,[P.value])}function _i(w,R){const E=Symbol(),P=R.get(w,E);return P===E?"function"!=typeof w||(0,c.Z0I)(w)?R.get(w):w:P}function dr(w,R,E,P,G={canDeactivateChecks:[],canActivateChecks:[]}){const de=jo(R);return w.children.forEach(Ue=>{(function hs(w,R,E,P,G={canDeactivateChecks:[],canActivateChecks:[]}){const de=w.value,Ue=R?R.value:null,It=E?E.getContext(w.value.outlet):null;if(Ue&&de.routeConfig===Ue.routeConfig){const Ct=function jr(w,R,E){if("function"==typeof E)return E(w,R);switch(E){case"pathParamsChange":return!yt(w.url,R.url);case"pathParamsOrQueryParamsChange":return!yt(w.url,R.url)||!An(w.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ji(w,R)||!An(w.queryParams,R.queryParams);default:return!ji(w,R)}}(Ue,de,de.routeConfig.runGuardsAndResolvers);Ct?G.canActivateChecks.push(new Eo(P)):(de.data=Ue.data,de._resolvedData=Ue._resolvedData),dr(w,R,de.component?It?It.children:null:E,P,G),Ct&&It&&It.outlet&&It.outlet.isActivated&&G.canDeactivateChecks.push(new Ur(It.outlet.component,Ue))}else Ue&&Zo(R,It,G),G.canActivateChecks.push(new Eo(P)),dr(w,null,de.component?It?It.children:null:E,P,G)})(Ue,de[Ue.value.outlet],E,P.concat([Ue.value]),G),delete de[Ue.value.outlet]}),Object.entries(de).forEach(([Ue,It])=>Zo(It,E.getContext(Ue),G)),G}function Zo(w,R,E){const P=jo(w),G=w.value;Object.entries(P).forEach(([de,Ue])=>{Zo(Ue,G.component?R?R.children.getContext(de):null:R,E)}),E.canDeactivateChecks.push(new Ur(G.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,G))}function zr(w){return"function"==typeof w}function _e(w){return w instanceof Ee.K||"EmptyError"===w?.name}const We=Symbol("INITIAL_VALUE");function Wn(){return(0,Me.w)(w=>(0,se.a)(w.map(R=>R.pipe((0,Le.q)(1),(0,Xe.O)(We)))).pipe((0,Ce.U)(R=>{for(const E of R)if(!0!==E){if(E===We)return We;if(!1===E||E instanceof Ot)return E}return!0}),(0,Te.h)(R=>R!==We),(0,Le.q)(1)))}function al(w){return(0,me.z)((0,hn.b)(R=>{if(Kt(R))throw ls(0,R)}),(0,Ce.U)(R=>!0===R))}class ba{constructor(R){this.segmentGroup=R||null}}class wo{constructor(R){this.urlTree=R}}function Cr(w){return(0,Ve._)(new ba(w))}function xs(w){return(0,Ve._)(new wo(w))}class Ts{constructor(R,E){this.urlSerializer=R,this.urlTree=E}noMatchError(R){return new c.vHH(4002,!1)}lineralizeSegments(R,E){let P=[],G=E.root;for(;;){if(P=P.concat(G.segments),0===G.numberOfChildren)return(0,ye.of)(P);if(G.numberOfChildren>1||!G.children[$e])return(0,Ve._)(new c.vHH(4e3,!1));G=G.children[$e]}}applyRedirectCommands(R,E,P){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),R,P)}applyRedirectCreateUrlTree(R,E,P,G){const de=this.createSegmentGroup(R,E.root,P,G);return new Ot(de,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(R,E){const P={};return Object.entries(R).forEach(([G,de])=>{if("string"==typeof de&&de.startsWith(":")){const It=de.substring(1);P[G]=E[It]}else P[G]=de}),P}createSegmentGroup(R,E,P,G){const de=this.createSegments(R,E.segments,P,G);let Ue={};return Object.entries(E.children).forEach(([It,Ct])=>{Ue[It]=this.createSegmentGroup(R,Ct,P,G)}),new ut(de,Ue)}createSegments(R,E,P,G){return E.map(de=>de.path.startsWith(":")?this.findPosParam(R,de,G):this.findOrReturn(de,P))}findPosParam(R,E,P){const G=P[E.path.substring(1)];if(!G)throw new c.vHH(4001,!1);return G}findOrReturn(R,E){let P=0;for(const G of E){if(G.path===R.path)return E.splice(P),G;P++}return R}}const Pr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function za(w,R,E,P,G){const de=ps(w,R,E);return de.matched?(P=function Gi(w,R){return w.providers&&!w._injector&&(w._injector=(0,c.MMx)(w.providers,R,`Route: ${w.path}`)),w._injector??R}(R,P),function ya(w,R,E,P){const G=R.canMatch;if(!G||0===G.length)return(0,ye.of)(!0);const de=G.map(Ue=>{const It=_i(Ue,w);return ni(function Y(w){return w&&zr(w.canMatch)}(It)?It.canMatch(R,E):w.runInContext(()=>It(R,E)))});return(0,ye.of)(de).pipe(Wn(),al())}(P,R,E).pipe((0,Ce.U)(Ue=>!0===Ue?de:{...Pr}))):(0,ye.of)(de)}function ps(w,R,E){if(""===R.path)return"full"===R.pathMatch&&(w.hasChildren()||E.length>0)?{...Pr}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const G=(R.matcher||En)(E,w,R);if(!G)return{...Pr};const de={};Object.entries(G.posParams??{}).forEach(([It,Ct])=>{de[It]=Ct.path});const Ue=G.consumed.length>0?{...de,...G.consumed[G.consumed.length-1].parameters}:de;return{matched:!0,consumedSegments:G.consumed,remainingSegments:E.slice(G.consumed.length),parameters:Ue,positionalParamSegments:G.posParams??{}}}function so(w,R,E,P){return E.length>0&&function Hs(w,R,E){return E.some(P=>Qr(w,R,P)&&Yn(P)!==$e)}(w,E,P)?{segmentGroup:new ut(R,Nl(P,new ut(E,w.children))),slicedSegments:[]}:0===E.length&&function ll(w,R,E){return E.some(P=>Qr(w,R,P))}(w,E,P)?{segmentGroup:new ut(w.segments,Ea(w,0,E,P,w.children)),slicedSegments:E}:{segmentGroup:new ut(w.segments,w.children),slicedSegments:E}}function Ea(w,R,E,P,G){const de={};for(const Ue of P)if(Qr(w,E,Ue)&&!G[Yn(Ue)]){const It=new ut([],{});de[Yn(Ue)]=It}return{...G,...de}}function Nl(w,R){const E={};E[$e]=R;for(const P of w)if(""===P.path&&Yn(P)!==$e){const G=new ut([],{});E[Yn(P)]=G}return E}function Qr(w,R,E){return(!(w.hasChildren()||R.length>0)||"full"!==E.pathMatch)&&""===E.path}class sa{constructor(R,E,P,G,de,Ue,It){this.injector=R,this.configLoader=E,this.rootComponentType=P,this.config=G,this.urlTree=de,this.paramsInheritanceStrategy=Ue,this.urlSerializer=It,this.allowRedirects=!0,this.applyRedirects=new Ts(this.urlSerializer,this.urlTree)}noMatchError(R){return new c.vHH(4002,!1)}recognize(){const R=so(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,$e).pipe((0,Un.K)(E=>{if(E instanceof wo)return this.allowRedirects=!1,this.urlTree=E.urlTree,this.match(E.urlTree);throw E instanceof ba?this.noMatchError(E):E}),(0,Ce.U)(E=>{const P=new vo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$e,this.rootComponentType,null,{}),G=new to(P,E),de=new Ro("",G),Ue=function fn(w,R,E=null,P=null){return Jn(Cn(w),R,E,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return Ue.queryParams=this.urlTree.queryParams,de.url=this.urlSerializer.serialize(Ue),this.inheritParamsAndData(de._root),{state:de,tree:Ue}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,$e).pipe((0,Un.K)(P=>{throw P instanceof ba?this.noMatchError(P):P}))}inheritParamsAndData(R){const E=R.value,P=Rr(E,this.paramsInheritanceStrategy);E.params=Object.freeze(P.params),E.data=Object.freeze(P.data),R.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(R,E,P,G){return 0===P.segments.length&&P.hasChildren()?this.processChildren(R,E,P):this.processSegment(R,E,P,P.segments,G,!0)}processChildren(R,E,P){const G=[];for(const de of Object.keys(P.children))"primary"===de?G.unshift(de):G.push(de);return(0,j.D)(G).pipe((0,nn.b)(de=>{const Ue=P.children[de],It=function ws(w,R){const E=w.filter(P=>Yn(P)===R);return E.push(...w.filter(P=>Yn(P)!==R)),E}(E,de);return this.processSegmentGroup(R,It,Ue,de)}),(0,Hn.R)((de,Ue)=>(de.push(...Ue),de)),(0,on.d)(null),(0,ft.Z)(),(0,Nt.z)(de=>{if(null===de)return Cr(P);const Ue=aa(de);return function Co(w){w.sort((R,E)=>R.value.outlet===$e?-1:E.value.outlet===$e?1:R.value.outlet.localeCompare(E.value.outlet))}(Ue),(0,ye.of)(Ue)}))}processSegment(R,E,P,G,de,Ue){return(0,j.D)(E).pipe((0,nn.b)(It=>this.processSegmentAgainstRoute(It._injector??R,E,It,P,G,de,Ue).pipe((0,Un.K)(Ct=>{if(Ct instanceof ba)return(0,ye.of)(null);throw Ct}))),(0,Zt.P)(It=>!!It),(0,Un.K)(It=>{if(_e(It))return function Ri(w,R,E){return 0===R.length&&!w.children[E]}(P,G,de)?(0,ye.of)([]):Cr(P);throw It}))}processSegmentAgainstRoute(R,E,P,G,de,Ue,It){return function cl(w,R,E,P){return!!(Yn(w)===P||P!==$e&&Qr(R,E,w))&&("**"===w.path||ps(R,w,E).matched)}(P,G,de,Ue)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(R,G,P,de,Ue,It):It&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,G,E,P,de,Ue):Cr(G):Cr(G)}expandSegmentAgainstRouteUsingRedirect(R,E,P,G,de,Ue){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,P,G,Ue):this.expandRegularSegmentAgainstRouteUsingRedirect(R,E,P,G,de,Ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,E,P,G){const de=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?xs(de):this.applyRedirects.lineralizeSegments(P,de).pipe((0,Nt.z)(Ue=>{const It=new ut(Ue,{});return this.processSegment(R,E,It,Ue,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,E,P,G,de,Ue){const{matched:It,consumedSegments:Ct,remainingSegments:Sn,positionalParamSegments:Di}=ps(E,G,de);if(!It)return Cr(E);const Ci=this.applyRedirects.applyRedirectCommands(Ct,G.redirectTo,Di);return G.redirectTo.startsWith("/")?xs(Ci):this.applyRedirects.lineralizeSegments(G,Ci).pipe((0,Nt.z)(zi=>this.processSegment(R,P,E,zi.concat(Sn),Ue,!1)))}matchSegmentAgainstRoute(R,E,P,G,de,Ue){let It;if("**"===P.path){const Ct=G.length>0?Zn(G).parameters:{},Sn=new vo(G,Ct,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kl(P),Yn(P),P.component??P._loadedComponent??null,P,dl(P));It=(0,ye.of)({snapshot:Sn,consumedSegments:[],remainingSegments:[]}),E.children={}}else It=za(E,P,G,R).pipe((0,Ce.U)(({matched:Ct,consumedSegments:Sn,remainingSegments:Di,parameters:Ci})=>Ct?{snapshot:new vo(Sn,Ci,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kl(P),Yn(P),P.component??P._loadedComponent??null,P,dl(P)),consumedSegments:Sn,remainingSegments:Di}:null));return It.pipe((0,Me.w)(Ct=>null===Ct?Cr(E):this.getChildConfig(R=P._injector??R,P,G).pipe((0,Me.w)(({routes:Sn})=>{const Di=P._loadedInjector??R,{snapshot:Ci,consumedSegments:zi,remainingSegments:Ss}=Ct,{segmentGroup:lo,slicedSegments:ua}=so(E,zi,Ss,Sn);if(0===ua.length&&lo.hasChildren())return this.processChildren(Di,Sn,lo).pipe((0,Ce.U)(ha=>null===ha?null:[new to(Ci,ha)]));if(0===Sn.length&&0===ua.length)return(0,ye.of)([new to(Ci,[])]);const da=Yn(P)===de;return this.processSegment(Di,Sn,lo,ua,da?$e:de,!0).pipe((0,Ce.U)(ha=>[new to(Ci,ha)]))}))))}getChildConfig(R,E,P){return E.children?(0,ye.of)({routes:E.children,injector:R}):E.loadChildren?void 0!==E._loadedRoutes?(0,ye.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function js(w,R,E,P){const G=R.canLoad;if(void 0===G||0===G.length)return(0,ye.of)(!0);const de=G.map(Ue=>{const It=_i(Ue,w);return ni(function Zr(w){return w&&zr(w.canLoad)}(It)?It.canLoad(R,E):w.runInContext(()=>It(R,E)))});return(0,ye.of)(de).pipe(Wn(),al())}(R,E,P).pipe((0,Nt.z)(G=>G?this.configLoader.loadChildren(R,E).pipe((0,hn.b)(de=>{E._loadedRoutes=de.routes,E._loadedInjector=de.injector})):function Dr(w){return(0,Ve._)(ei(!1,3))}())):(0,ye.of)({routes:[],injector:R})}}function Ia(w){const R=w.value.routeConfig;return R&&""===R.path}function aa(w){const R=[],E=new Set;for(const P of w){if(!Ia(P)){R.push(P);continue}const G=R.find(de=>P.value.routeConfig===de.value.routeConfig);void 0!==G?(G.children.push(...P.children),E.add(G)):R.push(P)}for(const P of E){const G=aa(P.children);R.push(new to(P.value,G))}return R.filter(P=>!E.has(P))}function kl(w){return w.data||{}}function dl(w){return w.resolve||{}}function Ca(w){return"string"==typeof w.title||null===w.title}function $a(w){return(0,Me.w)(R=>{const E=w(R);return E?(0,j.D)(E).pipe((0,Ce.U)(()=>R)):(0,ye.of)(R)})}const Fo=new c.OlP("ROUTES");let hl=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,ye.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const P=ni(E.loadComponent()).pipe((0,Ce.U)(z),(0,hn.b)(de=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=de}),(0,ve.x)(()=>{this.componentLoaders.delete(E)})),G=new Lt(P,()=>new Ye.x).pipe(qe());return this.componentLoaders.set(E,G),G}loadChildren(E,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,ye.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const de=function T(w,R,E,P){return ni(w.loadChildren()).pipe((0,Ce.U)(z),(0,Nt.z)(G=>G instanceof c.YKP||Array.isArray(G)?(0,ye.of)(G):(0,j.D)(R.compileModuleAsync(G))),(0,Ce.U)(G=>{P&&P(w);let de,Ue,It=!1;return Array.isArray(G)?(Ue=G,!0):(de=G.create(E).injector,Ue=de.get(Fo,[],{optional:!0,self:!0}).flat()),{routes:Ue.map(Yo),injector:de}}))}(P,this.compiler,E,this.onLoadEndListener).pipe((0,ve.x)(()=>{this.childrenLoaders.delete(P)})),Ue=new Lt(de,()=>new Ye.x).pipe(qe());return this.childrenLoaders.set(P,Ue),Ue}static#e=this.\u0275fac=function(P){return new(P||w)};static#t=this.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function z(w){return function ne(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let X=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ye.x,this.transitionAbortSubject=new Ye.x,this.configLoader=(0,c.f3M)(hl),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Oe),this.rootContexts=(0,c.f3M)(Bo),this.inputBindingEnabled=null!==(0,c.f3M)($i,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ye.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new Ir(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new sr(G))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:P})}setupNavigations(E,P,G){return this.transitions=new be.X({id:0,currentUrlTree:P,currentRawUrl:P,currentBrowserUrl:P,extractedUrl:E.urlHandlingStrategy.extract(P),urlAfterRedirects:E.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:un,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Te.h)(de=>0!==de.id),(0,Ce.U)(de=>({...de,extractedUrl:E.urlHandlingStrategy.extract(de.rawUrl)})),(0,Me.w)(de=>{this.currentTransition=de;let Ue=!1,It=!1;return(0,ye.of)(de).pipe((0,hn.b)(Ct=>{this.currentNavigation={id:Ct.id,initialUrl:Ct.rawUrl,extractedUrl:Ct.extractedUrl,trigger:Ct.source,extras:Ct.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Me.w)(Ct=>{const Sn=Ct.currentBrowserUrl.toString(),Di=!E.navigated||Ct.extractedUrl.toString()!==Sn||Sn!==Ct.currentUrlTree.toString();if(!Di&&"reload"!==(Ct.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const zi="";return this.events.next(new Ji(Ct.id,this.urlSerializer.serialize(Ct.rawUrl),zi,0)),Ct.resolve(null),De.E}if(E.urlHandlingStrategy.shouldProcessUrl(Ct.rawUrl))return(0,ye.of)(Ct).pipe((0,Me.w)(zi=>{const Ss=this.transitions?.getValue();return this.events.next(new jn(zi.id,this.urlSerializer.serialize(zi.extractedUrl),zi.source,zi.restoredState)),Ss!==this.transitions?.getValue()?De.E:Promise.resolve(zi)}),function $s(w,R,E,P,G,de){return(0,Nt.z)(Ue=>function Nc(w,R,E,P,G,de,Ue="emptyOnly"){return new sa(w,R,E,P,G,Ue,de).recognize()}(w,R,E,P,Ue.extractedUrl,G,de).pipe((0,Ce.U)(({state:It,tree:Ct})=>({...Ue,targetSnapshot:It,urlAfterRedirects:Ct}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,hn.b)(zi=>{de.targetSnapshot=zi.targetSnapshot,de.urlAfterRedirects=zi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:zi.urlAfterRedirects};const Ss=new Fr(zi.id,this.urlSerializer.serialize(zi.extractedUrl),this.urlSerializer.serialize(zi.urlAfterRedirects),zi.targetSnapshot);this.events.next(Ss)}));if(Di&&E.urlHandlingStrategy.shouldProcessUrl(Ct.currentRawUrl)){const{id:zi,extractedUrl:Ss,source:lo,restoredState:ua,extras:da}=Ct,ha=new jn(zi,this.urlSerializer.serialize(Ss),lo,ua);this.events.next(ha);const Fc=bi(0,this.rootComponentType).snapshot;return this.currentTransition=de={...Ct,targetSnapshot:Fc,urlAfterRedirects:Ss,extras:{...da,skipLocationChange:!1,replaceUrl:!1}},(0,ye.of)(de)}{const zi="";return this.events.next(new Ji(Ct.id,this.urlSerializer.serialize(Ct.extractedUrl),zi,1)),Ct.resolve(null),De.E}}),(0,hn.b)(Ct=>{const Sn=new vn(Ct.id,this.urlSerializer.serialize(Ct.extractedUrl),this.urlSerializer.serialize(Ct.urlAfterRedirects),Ct.targetSnapshot);this.events.next(Sn)}),(0,Ce.U)(Ct=>(this.currentTransition=de={...Ct,guards:br(Ct.targetSnapshot,Ct.currentSnapshot,this.rootContexts)},de)),function mi(w,R){return(0,Nt.z)(E=>{const{targetSnapshot:P,currentSnapshot:G,guards:{canActivateChecks:de,canDeactivateChecks:Ue}}=E;return 0===Ue.length&&0===de.length?(0,ye.of)({...E,guardsResult:!0}):function Io(w,R,E,P){return(0,j.D)(w).pipe((0,Nt.z)(G=>function ja(w,R,E,P,G){const de=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!de||0===de.length)return(0,ye.of)(!0);const Ue=de.map(It=>{const Ct=Yr(R)??G,Sn=_i(It,Ct);return ni(function No(w){return w&&zr(w.canDeactivate)}(Sn)?Sn.canDeactivate(w,R,E,P):Ct.runInContext(()=>Sn(w,R,E,P))).pipe((0,Zt.P)())});return(0,ye.of)(Ue).pipe(Wn())}(G.component,G.route,E,R,P)),(0,Zt.P)(G=>!0!==G,!0))}(Ue,P,G,w).pipe((0,Nt.z)(It=>It&&function Cs(w){return"boolean"==typeof w}(It)?function Ds(w,R,E,P){return(0,j.D)(R).pipe((0,nn.b)(G=>(0,W.z)(function cc(w,R){return null!==w&&R&&R(new po(w)),(0,ye.of)(!0)}(G.route.parent,P),function fs(w,R){return null!==w&&R&&R(new Mo(w)),(0,ye.of)(!0)}(G.route,P),function oa(w,R,E){const P=R[R.length-1],de=R.slice(0,R.length-1).reverse().map(Ue=>function va(w){const R=w.routeConfig?w.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:w,guards:R}:null}(Ue)).filter(Ue=>null!==Ue).map(Ue=>(0,ce.P)(()=>{const It=Ue.guards.map(Ct=>{const Sn=Yr(Ue.node)??E,Di=_i(Ct,Sn);return ni(function sl(w){return w&&zr(w.canActivateChild)}(Di)?Di.canActivateChild(P,w):Sn.runInContext(()=>Di(P,w))).pipe((0,Zt.P)())});return(0,ye.of)(It).pipe(Wn())}));return(0,ye.of)(de).pipe(Wn())}(w,G.path,E),function uc(w,R,E){const P=R.routeConfig?R.routeConfig.canActivate:null;if(!P||0===P.length)return(0,ye.of)(!0);const G=P.map(de=>(0,ce.P)(()=>{const Ue=Yr(R)??E,It=_i(de,Ue);return ni(function Qo(w){return w&&zr(w.canActivate)}(It)?It.canActivate(R,w):Ue.runInContext(()=>It(R,w))).pipe((0,Zt.P)())}));return(0,ye.of)(G).pipe(Wn())}(w,G.route,E))),(0,Zt.P)(G=>!0!==G,!0))}(P,de,w,R):(0,ye.of)(It)),(0,Ce.U)(It=>({...E,guardsResult:It})))})}(this.environmentInjector,Ct=>this.events.next(Ct)),(0,hn.b)(Ct=>{if(de.guardsResult=Ct.guardsResult,Kt(Ct.guardsResult))throw ls(0,Ct.guardsResult);const Sn=new tn(Ct.id,this.urlSerializer.serialize(Ct.extractedUrl),this.urlSerializer.serialize(Ct.urlAfterRedirects),Ct.targetSnapshot,!!Ct.guardsResult);this.events.next(Sn)}),(0,Te.h)(Ct=>!!Ct.guardsResult||(this.cancelNavigationTransition(Ct,"",3),!1)),$a(Ct=>{if(Ct.guards.canActivateChecks.length)return(0,ye.of)(Ct).pipe((0,hn.b)(Sn=>{const Di=new Mn(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(Di)}),(0,Me.w)(Sn=>{let Di=!1;return(0,ye.of)(Sn).pipe(function ko(w,R){return(0,Nt.z)(E=>{const{targetSnapshot:P,guards:{canActivateChecks:G}}=E;if(!G.length)return(0,ye.of)(E);let de=0;return(0,j.D)(G).pipe((0,nn.b)(Ue=>function ao(w,R,E,P){const G=w.routeConfig,de=w._resolve;return void 0!==G?.title&&!Ca(G)&&(de[Ge]=G.title),function la(w,R,E,P){const G=function Ha(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===G.length)return(0,ye.of)({});const de={};return(0,j.D)(G).pipe((0,Nt.z)(Ue=>function wa(w,R,E,P){const G=Yr(R)??P,de=_i(w,G);return ni(de.resolve?de.resolve(R,E):G.runInContext(()=>de(R,E)))}(w[Ue],R,E,P).pipe((0,Zt.P)(),(0,hn.b)(It=>{de[Ue]=It}))),(0,ht.h)(1),function oe(w){return(0,Ce.U)(()=>w)}(de),(0,Un.K)(Ue=>_e(Ue)?De.E:(0,Ve._)(Ue)))}(de,w,R,P).pipe((0,Ce.U)(Ue=>(w._resolvedData=Ue,w.data=Rr(w,E).resolve,G&&Ca(G)&&(w.data[Ge]=G.title),null)))}(Ue.route,P,w,R)),(0,hn.b)(()=>de++),(0,ht.h)(1),(0,Nt.z)(Ue=>de===G.length?(0,ye.of)(E):De.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,hn.b)({next:()=>Di=!0,complete:()=>{Di||this.cancelNavigationTransition(Sn,"",2)}}))}),(0,hn.b)(Sn=>{const Di=new $n(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(Di)}))}),$a(Ct=>{const Sn=Di=>{const Ci=[];Di.routeConfig?.loadComponent&&!Di.routeConfig._loadedComponent&&Ci.push(this.configLoader.loadComponent(Di.routeConfig).pipe((0,hn.b)(zi=>{Di.component=zi}),(0,Ce.U)(()=>{})));for(const zi of Di.children)Ci.push(...Sn(zi));return Ci};return(0,se.a)(Sn(Ct.targetSnapshot.root)).pipe((0,on.d)(),(0,Le.q)(1))}),$a(()=>this.afterPreactivation()),(0,Ce.U)(Ct=>{const Sn=function yo(w,R,E){const P=Wi(w,R._root,E?E._root:void 0);return new Us(P,R)}(E.routeReuseStrategy,Ct.targetSnapshot,Ct.currentRouterState);return this.currentTransition=de={...Ct,targetRouterState:Sn},de}),(0,hn.b)(()=>{this.events.next(new Lr)}),((w,R,E,P)=>(0,Ce.U)(G=>(new Ho(R,G.targetRouterState,G.currentRouterState,E,P).activate(w),G)))(this.rootContexts,E.routeReuseStrategy,Ct=>this.events.next(Ct),this.inputBindingEnabled),(0,Le.q)(1),(0,hn.b)({next:Ct=>{Ue=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new li(Ct.id,this.urlSerializer.serialize(Ct.extractedUrl),this.urlSerializer.serialize(Ct.urlAfterRedirects))),E.titleStrategy?.updateTitle(Ct.targetRouterState.snapshot),Ct.resolve(!0)},complete:()=>{Ue=!0}}),(0,Pe.R)(this.transitionAbortSubject.pipe((0,hn.b)(Ct=>{throw Ct}))),(0,ve.x)(()=>{Ue||It||this.cancelNavigationTransition(de,"",1),this.currentNavigation?.id===de.id&&(this.currentNavigation=null)}),(0,Un.K)(Ct=>{if(It=!0,Is(Ct))this.events.next(new pi(de.id,this.urlSerializer.serialize(de.extractedUrl),Ct.message,Ct.cancellationCode)),function bo(w){return Is(w)&&Kt(w.url)}(Ct)?this.events.next(new Vs(Ct.url)):de.resolve(!1);else{this.events.next(new er(de.id,this.urlSerializer.serialize(de.extractedUrl),Ct,de.targetSnapshot??void 0));try{de.resolve(E.errorHandler(Ct))}catch(Sn){de.reject(Sn)}}return De.E}))}))}cancelNavigationTransition(E,P,G){const de=new pi(E.id,this.urlSerializer.serialize(E.extractedUrl),P,G);this.events.next(de),E.resolve(!1)}static#e=this.\u0275fac=function(P){return new(P||w)};static#t=this.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Be(w){return w!==un}let St=(()=>{class w{buildTitle(E){let P,G=E.root;for(;void 0!==G;)P=this.getResolvedTitleForRoute(G)??P,G=G.children.find(de=>de.outlet===$e);return P}getResolvedTitleForRoute(E){return E.data[Ge]}static#e=this.\u0275fac=function(P){return new(P||w)};static#t=this.\u0275prov=c.Yz7({token:w,factory:function(){return(0,c.f3M)(Bt)},providedIn:"root"})}return w})(),Bt=(()=>{class w extends St{constructor(E){super(),this.title=E}updateTitle(E){const P=this.buildTitle(E);void 0!==P&&this.title.setTitle(P)}static#e=this.\u0275fac=function(P){return new(P||w)(c.LFG(Ke.Dx))};static#t=this.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),Fn=(()=>{class w{static#e=this.\u0275fac=function(P){return new(P||w)};static#t=this.\u0275prov=c.Yz7({token:w,factory:function(){return(0,c.f3M)(Yi)},providedIn:"root"})}return w})();class tr{shouldDetach(R){return!1}store(R,E){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,E){return R.routeConfig===E.routeConfig}}let Yi=(()=>{class w extends tr{static#e=this.\u0275fac=function(){let E;return function(G){return(E||(E=c.n5z(w)))(G||w)}}();static#t=this.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Bi=new c.OlP("",{providedIn:"root",factory:()=>({})});let Qn=(()=>{class w{static#e=this.\u0275fac=function(P){return new(P||w)};static#t=this.\u0275prov=c.Yz7({token:w,factory:function(){return(0,c.f3M)(ir)},providedIn:"root"})}return w})(),ir=(()=>{class w{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,P){return E}static#e=this.\u0275fac=function(P){return new(P||w)};static#t=this.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();var Pi=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(Pi||{});function mr(w,R){w.events.pipe((0,Te.h)(E=>E instanceof li||E instanceof pi||E instanceof er||E instanceof Ji),(0,Ce.U)(E=>E instanceof li||E instanceof Ji?Pi.COMPLETE:E instanceof pi&&(0===E.code||1===E.code)?Pi.REDIRECTING:Pi.FAILED),(0,Te.h)(E=>E!==Pi.REDIRECTING),(0,Le.q)(1)).subscribe(()=>{R()})}function Ws(w){throw w}function Gt(w,R,E){return R.parse("/")}const nr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},or={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xr=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this._events=new Ye.x,this.options=(0,c.f3M)(Bi,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||Ws,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Gt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Qn),this.routeReuseStrategy=(0,c.f3M)(Fn),this.titleStrategy=(0,c.f3M)(St),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(Fo,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(X),this.urlSerializer=(0,c.f3M)(Oe),this.location=(0,c.f3M)(ue.Ye),this.componentInputBindingEnabled=!!(0,c.f3M)($i,{optional:!0}),this.eventsSubscription=new Je.w0,this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ot,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const E=this.navigationTransitions.events.subscribe(P=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(Vn(P)&&this._events.next(P));if(P instanceof jn)Be(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(P instanceof Ji)this.rawUrlTree=G.rawUrl;else if(P instanceof Fr){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const de=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(de,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(P instanceof Lr)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(P instanceof pi)0!==P.code&&1!==P.code&&(this.navigated=!0),(3===P.code||2===P.code)&&this.restoreHistory(G);else if(P instanceof Vs){const de=this.urlHandlingStrategy.merge(P.url,G.currentRawUrl),Ue={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Be(G.source)};this.scheduleNavigation(de,un,null,Ue,{resolve:G.resolve,reject:G.reject,promise:G.promise})}P instanceof er&&this.restoreHistory(G,!0),P instanceof li&&(this.navigated=!0),Vn(P)&&this._events.next(P)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(E)}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),un,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const P="popstate"===E.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,P,E.state)},0)}))}navigateToSyncWithBrowser(E,P,G){const de={replaceUrl:!0},Ue=G?.navigationId?G:null;if(G){const Ct={...G};delete Ct.navigationId,delete Ct.\u0275routerPageId,0!==Object.keys(Ct).length&&(de.state=Ct)}const It=this.parseUrl(E);this.scheduleNavigation(It,P,Ue,de)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(Yo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(E,P={}){const{relativeTo:G,queryParams:de,fragment:Ue,queryParamsHandling:It,preserveFragment:Ct}=P,Sn=Ct?this.currentUrlTree.fragment:Ue;let Ci,Di=null;switch(It){case"merge":Di={...this.currentUrlTree.queryParams,...de};break;case"preserve":Di=this.currentUrlTree.queryParams;break;default:Di=de||null}null!==Di&&(Di=this.removeEmptyProps(Di));try{Ci=Cn(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||!E[0].startsWith("/"))&&(E=[]),Ci=this.currentUrlTree.root}return Jn(Ci,E,Di,Sn??null)}navigateByUrl(E,P={skipLocationChange:!1}){const G=Kt(E)?E:this.parseUrl(E),de=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(de,un,null,P)}navigate(E,P={skipLocationChange:!1}){return function yn(w){for(let R=0;R<w.length;R++)if(null==w[R])throw new c.vHH(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,P),P)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let P;try{P=this.urlSerializer.parse(E)}catch(G){P=this.malformedUriErrorHandler(G,this.urlSerializer,E)}return P}isActive(E,P){let G;if(G=!0===P?{...nr}:!1===P?{...or}:P,Kt(E))return Si(this.currentUrlTree,E,G);const de=this.parseUrl(E);return Si(this.currentUrlTree,de,G)}removeEmptyProps(E){return Object.keys(E).reduce((P,G)=>{const de=E[G];return null!=de&&(P[G]=de),P},{})}scheduleNavigation(E,P,G,de,Ue){if(this.disposed)return Promise.resolve(!1);let It,Ct,Sn;Ue?(It=Ue.resolve,Ct=Ue.reject,Sn=Ue.promise):Sn=new Promise((Ci,zi)=>{It=Ci,Ct=zi});const Di=this.pendingTasks.add();return mr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Di))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:E,extras:de,resolve:It,reject:Ct,promise:Sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Sn.catch(Ci=>Promise.reject(Ci))}setBrowserUrl(E,P){const G=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(G)||P.extras.replaceUrl){const Ue={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(G,"",Ue)}else{const de={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(G,"",de)}}restoreHistory(E,P=!1){if("computed"===this.canceledNavigationResolution){const de=this.currentPageId-this.browserPageId;0!==de?this.location.historyGo(de):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===de&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,P){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:P}:{navigationId:E}}static#e=this.\u0275fac=function(P){return new(P||w)};static#t=this.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Vn(w){return!(w instanceof Lr||w instanceof Vs)}let dc=(()=>{class w{constructor(E,P,G,de,Ue,It){this.router=E,this.route=P,this.tabIndexAttribute=G,this.renderer=de,this.el=Ue,this.locationStrategy=It,this.href=null,this.commands=null,this.onChanges=new Ye.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ct=Ue.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ct||"area"===Ct,this.isAnchorElement?this.subscription=E.events.subscribe(Sn=>{Sn instanceof li&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,P,G,de,Ue){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||P||G||de||Ue||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,P){const G=this.renderer,de=this.el.nativeElement;null!==P?G.setAttribute(de,E,P):G.removeAttribute(de,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(P){return new(P||w)(c.Y36(xr),c.Y36(Hi),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(ue.S$))};static#t=this.\u0275dir=c.lG2({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,G){1&P&&c.NdJ("click",function(Ue){return G.onClick(Ue.button,Ue.ctrlKey,Ue.shiftKey,Ue.altKey,Ue.metaKey)}),2&P&&c.uIk("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]})}return w})();class qt{}let lu=(()=>{class w{constructor(E,P,G,de,Ue){this.router=E,this.injector=G,this.preloadingStrategy=de,this.loader=Ue}setUpPreloading(){this.subscription=this.router.events.pipe((0,Te.h)(E=>E instanceof li),(0,nn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,P){const G=[];for(const de of P){de.providers&&!de._injector&&(de._injector=(0,c.MMx)(de.providers,E,`Route: ${de.path}`));const Ue=de._injector??E,It=de._loadedInjector??Ue;(de.loadChildren&&!de._loadedRoutes&&void 0===de.canLoad||de.loadComponent&&!de._loadedComponent)&&G.push(this.preloadConfig(Ue,de)),(de.children||de._loadedRoutes)&&G.push(this.processRoutes(It,de.children??de._loadedRoutes))}return(0,j.D)(G).pipe((0,je.J)())}preloadConfig(E,P){return this.preloadingStrategy.preload(P,()=>{let G;G=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(E,P):(0,ye.of)(null);const de=G.pipe((0,Nt.z)(Ue=>null===Ue?(0,ye.of)(void 0):(P._loadedRoutes=Ue.routes,P._loadedInjector=Ue.injector,this.processRoutes(Ue.injector??E,Ue.routes))));if(P.loadComponent&&!P._loadedComponent){const Ue=this.loader.loadComponent(P);return(0,j.D)([de,Ue]).pipe((0,je.J)())}return de})}static#e=this.\u0275fac=function(P){return new(P||w)(c.LFG(xr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(qt),c.LFG(hl))};static#t=this.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Da=new c.OlP("");let $o=(()=>{class w{constructor(E,P,G,de,Ue={}){this.urlSerializer=E,this.transitions=P,this.viewportScroller=G,this.zone=de,this.options=Ue,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ue.scrollPositionRestoration=Ue.scrollPositionRestoration||"disabled",Ue.anchorScrolling=Ue.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof jn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof li?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof Ji&&0===E.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Ko&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ko(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){c.$Z()};static#t=this.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac})}return w})();function Gs(w,R){return{\u0275kind:w,\u0275providers:R}}function ti(){const w=(0,c.f3M)(c.zs3);return R=>{const E=w.get(c.z2F);if(R!==E.components[0])return;const P=w.get(xr),G=w.get(ca);1===w.get(Fl)&&P.initialNavigation(),w.get(Li,null,c.XFs.Optional)?.setUpPreloading(),w.get(Da,null,c.XFs.Optional)?.init(),P.resetRootComponentType(E.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const ca=new c.OlP("",{factory:()=>new Ye.x}),Fl=new c.OlP("",{providedIn:"root",factory:()=>1}),Li=new c.OlP("");function hc(w){return Gs(0,[{provide:Li,useExisting:lu},{provide:qt,useExisting:w}])}const fl=new c.OlP("ROUTER_FORROOT_GUARD"),Xo=[ue.Ye,{provide:Oe,useClass:pt},xr,Bo,{provide:Hi,useFactory:function cu(w){return w.routerState.root},deps:[xr]},hl,[]];function As(){return new c.PXZ("Router",xr)}let Ht=(()=>{class w{constructor(E){}static forRoot(E,P){return{ngModule:w,providers:[Xo,[],{provide:Fo,multi:!0,useValue:E},{provide:fl,useFactory:Xr,deps:[[xr,new c.FiY,new c.tp0]]},{provide:Bi,useValue:P||{}},P?.useHash?{provide:ue.S$,useClass:ue.Do}:{provide:ue.S$,useClass:ue.b0},{provide:Da,useFactory:()=>{const w=(0,c.f3M)(ue.EM),R=(0,c.f3M)(c.R0b),E=(0,c.f3M)(Bi),P=(0,c.f3M)(X),G=(0,c.f3M)(Oe);return E.scrollOffset&&w.setOffset(E.scrollOffset),new $o(G,P,w,R,E)}},P?.preloadingStrategy?hc(P.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:As},P?.initialNavigation?Ta(P):[],P?.bindToComponentInputs?Gs(8,[Vr,{provide:$i,useExisting:Vr}]).\u0275providers:[],[{provide:ms,useFactory:ti},{provide:c.tb,multi:!0,useExisting:ms}]]}}static forChild(E){return{ngModule:w,providers:[{provide:Fo,multi:!0,useValue:E}]}}static#e=this.\u0275fac=function(P){return new(P||w)(c.LFG(fl,8))};static#t=this.\u0275mod=c.oAB({type:w});static#n=this.\u0275inj=c.cJS({})}return w})();function Xr(w){return"guarded"}function Ta(w){return["disabled"===w.initialNavigation?Gs(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const R=(0,c.f3M)(xr);return()=>{R.setUpLocationChangeListener()}}},{provide:Fl,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?Gs(2,[{provide:Fl,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:R=>{const E=R.get(ue.V_,Promise.resolve());return()=>E.then(()=>new Promise(P=>{const G=R.get(xr),de=R.get(ca);mr(G,()=>{P(!0)}),R.get(X).afterPreactivation=()=>(P(!0),de.closed?(0,ye.of)(void 0):de),G.initialNavigation()}))}}]).\u0275providers:[]]}const ms=new c.OlP("")},3106:(jt,He,x)=>{x.d(He,{Z:()=>Je});var c=x(9058),F=x(4537),H=x(534),he=x(7879);class j{constructor(it,qe){this._delegate=it,this.firebase=qe,(0,H._addComponent)(it,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=it.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this._delegate.automaticDataCollectionEnabled=it}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(it=>{this._delegate.checkDestroyed(),it()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(it,qe=H._DEFAULT_ENTRY_NAME){var Lt;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(it);return!Ye.isInitialized()&&"EXPLICIT"===(null===(Lt=Ye.getComponent())||void 0===Lt?void 0:Lt.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:qe})}_removeServiceInstance(it,qe=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(it).clearInstance(qe)}_addComponent(it){(0,H._addComponent)(this._delegate,it)}_addOrOverwriteComponent(it){(0,H._addOrOverwriteComponent)(this._delegate,it)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function Ee(){const Qe=function se(Qe){const it={},qe={__esModule:!0,initializeApp:function ue(Xe,Te={}){const Nt=H.initializeApp(Xe,Te);if((0,c.r3)(it,Nt.name))return it[Nt.name];const Zt=new Qe(Nt,qe);return it[Nt.name]=Zt,Zt},app:Ye,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Me(Xe){const Te=Xe.name,Nt=Te.replace("-compat","");if(H._registerComponent(Xe)&&"PUBLIC"===Xe.type){const Zt=(nn=Ye())=>{if("function"!=typeof nn[Nt])throw be.create("invalid-app-argument",{appName:Te});return nn[Nt]()};void 0!==Xe.serviceProps&&(0,c.ZB)(Zt,Xe.serviceProps),qe[Nt]=Zt,Qe.prototype[Nt]=function(...nn){return this._getService.bind(this,Te).apply(this,Xe.multipleInstances?nn:[])}}return"PUBLIC"===Xe.type?qe[Nt]:null},removeApp:function Lt(Xe){delete it[Xe]},useAsService:function Le(Xe,Te){return"serverAuth"===Te?null:Te},modularAPIs:H}};function Ye(Xe){if(!(0,c.r3)(it,Xe=Xe||H._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Xe});return it[Xe]}return qe.default=qe,Object.defineProperty(qe,"apps",{get:function Ce(){return Object.keys(it).map(Xe=>it[Xe])}}),Ye.App=Qe,qe}(j);return Qe.INTERNAL=Object.assign(Object.assign({},Qe.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function it(qe){(0,c.ZB)(Qe,qe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Qe}(),ce=new he.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=W;!function De(Qe){(0,H.registerVersion)("@firebase/app-compat","0.2.22",Qe)}()},534:(jt,He,x)=>{x.r(He),x.d(He,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>kn,_DEFAULT_ENTRY_NAME:()=>ct,_addComponent:()=>sn,_addOrOverwriteComponent:()=>yt,_apps:()=>ut,_clearComponents:()=>at,_components:()=>Vt,_getProvider:()=>Oe,_registerComponent:()=>xt,_removeServiceInstance:()=>pt,deleteApp:()=>et,getApp:()=>Ze,getApps:()=>Ae,initializeApp:()=>gt,onLog:()=>Ln,registerVersion:()=>Qt,setLogLevel:()=>oi});var c=x(5861),F=x(4537),H=x(7879),he=x(9058);const j=(xe,Re)=>Re.some(wt=>xe instanceof wt);let ye,be;const W=new WeakMap,ce=new WeakMap,me=new WeakMap,Ve=new WeakMap,De=new WeakMap;let it={get(xe,Re,wt){if(xe instanceof IDBTransaction){if("done"===Re)return ce.get(xe);if("objectStoreNames"===Re)return xe.objectStoreNames||me.get(xe);if("store"===Re)return wt.objectStoreNames[1]?void 0:wt.objectStore(wt.objectStoreNames[0])}return ue(xe[Re])},set:(xe,Re,wt)=>(xe[Re]=wt,!0),has:(xe,Re)=>xe instanceof IDBTransaction&&("done"===Re||"store"===Re)||Re in xe};function Ye(xe){return"function"==typeof xe?function Lt(xe){return xe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(xe)?function(...Re){return xe.apply(Ce(this),Re),ue(W.get(this))}:function(...Re){return ue(xe.apply(Ce(this),Re))}:function(Re,...wt){const Yt=xe.call(Ce(this),Re,...wt);return me.set(Yt,Re.sort?Re.sort():[Re]),ue(Yt)}}(xe):(xe instanceof IDBTransaction&&function Qe(xe){if(ce.has(xe))return;const Re=new Promise((wt,Yt)=>{const pn=()=>{xe.removeEventListener("complete",ze),xe.removeEventListener("error",ee),xe.removeEventListener("abort",ee)},ze=()=>{wt(),pn()},ee=()=>{Yt(xe.error||new DOMException("AbortError","AbortError")),pn()};xe.addEventListener("complete",ze),xe.addEventListener("error",ee),xe.addEventListener("abort",ee)});ce.set(xe,Re)}(xe),j(xe,function se(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(xe,it):xe)}function ue(xe){if(xe instanceof IDBRequest)return function Je(xe){const Re=new Promise((wt,Yt)=>{const pn=()=>{xe.removeEventListener("success",ze),xe.removeEventListener("error",ee)},ze=()=>{wt(ue(xe.result)),pn()},ee=()=>{Yt(xe.error),pn()};xe.addEventListener("success",ze),xe.addEventListener("error",ee)});return Re.then(wt=>{wt instanceof IDBCursor&&W.set(wt,xe)}).catch(()=>{}),De.set(Re,xe),Re}(xe);if(Ve.has(xe))return Ve.get(xe);const Re=Ye(xe);return Re!==xe&&(Ve.set(xe,Re),De.set(Re,xe)),Re}const Ce=xe=>De.get(xe),Xe=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],Nt=new Map;function Zt(xe,Re){if(!(xe instanceof IDBDatabase)||Re in xe||"string"!=typeof Re)return;if(Nt.get(Re))return Nt.get(Re);const wt=Re.replace(/FromIndex$/,""),Yt=Re!==wt,pn=Te.includes(wt);if(!(wt in(Yt?IDBIndex:IDBObjectStore).prototype)||!pn&&!Xe.includes(wt))return;const ze=function(){var ee=(0,c.Z)(function*(te,...Ie){const nt=this.transaction(te,pn?"readwrite":"readonly");let dt=nt.store;return Yt&&(dt=dt.index(Ie.shift())),(yield Promise.all([dt[wt](...Ie),pn&&nt.done]))[0]});return function(Ie){return ee.apply(this,arguments)}}();return Nt.set(Re,ze),ze}!function qe(xe){it=xe(it)}(xe=>({...xe,get:(Re,wt,Yt)=>Zt(Re,wt)||xe.get(Re,wt,Yt),has:(Re,wt)=>!!Zt(Re,wt)||xe.has(Re,wt)}));class nn{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function hn(xe){const Re=xe.getComponent();return"VERSION"===Re?.type}(wt)){const Yt=wt.getImmediate();return`${Yt.library}/${Yt.version}`}return null}).filter(wt=>wt).join(" ")}}const Un="@firebase/app",on=new H.Yd("@firebase/app"),ct="[DEFAULT]",Ot={[Un]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ut=new Map,Vt=new Map;function sn(xe,Re){try{xe.container.addComponent(Re)}catch(wt){on.debug(`Component ${Re.name} failed to register with FirebaseApp ${xe.name}`,wt)}}function yt(xe,Re){xe.container.addOrOverwriteComponent(Re)}function xt(xe){const Re=xe.name;if(Vt.has(Re))return on.debug(`There were multiple attempts to register component ${Re}.`),!1;Vt.set(Re,xe);for(const wt of ut.values())sn(wt,xe);return!0}function Oe(xe,Re){const wt=xe.container.getProvider("heartbeat").getImmediate({optional:!0});return wt&&wt.triggerHeartbeat(),xe.container.getProvider(Re)}function pt(xe,Re,wt=ct){Oe(xe,Re).clearInstance(wt)}function at(){Vt.clear()}const Ft=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class an{constructor(Re,wt,Yt){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},wt),this._name=wt.name,this._automaticDataCollectionEnabled=wt.automaticDataCollectionEnabled,this._container=Yt,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}const kn="10.5.2";function gt(xe,Re={}){let wt=xe;"object"!=typeof Re&&(Re={name:Re});const Yt=Object.assign({name:ct,automaticDataCollectionEnabled:!1},Re),pn=Yt.name;if("string"!=typeof pn||!pn)throw Ft.create("bad-app-name",{appName:String(pn)});if(wt||(wt=(0,he.aH)()),!wt)throw Ft.create("no-options");const ze=ut.get(pn);if(ze){if((0,he.vZ)(wt,ze.options)&&(0,he.vZ)(Yt,ze.config))return ze;throw Ft.create("duplicate-app",{appName:pn})}const ee=new F.H0(pn);for(const Ie of Vt.values())ee.addComponent(Ie);const te=new an(wt,Yt,ee);return ut.set(pn,te),te}function Ze(xe=ct){const Re=ut.get(xe);if(!Re&&xe===ct&&(0,he.aH)())return gt();if(!Re)throw Ft.create("no-app",{appName:xe});return Re}function Ae(){return Array.from(ut.values())}function et(xe){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(xe){const Re=xe.name;ut.has(Re)&&(ut.delete(Re),yield Promise.all(xe.container.getProviders().map(wt=>wt.delete())),xe.isDeleted=!0)})).apply(this,arguments)}function Qt(xe,Re,wt){var Yt;let pn=null!==(Yt=Ot[xe])&&void 0!==Yt?Yt:xe;wt&&(pn+=`-${wt}`);const ze=pn.match(/\s|\//),ee=Re.match(/\s|\//);if(ze||ee){const te=[`Unable to register library "${pn}" with version "${Re}":`];return ze&&te.push(`library name "${pn}" contains illegal characters (whitespace or "/")`),ze&&ee&&te.push("and"),ee&&te.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void on.warn(te.join(" "))}xt(new F.wA(`${pn}-version`,()=>({library:pn,version:Re}),"VERSION"))}function Ln(xe,Re){if(null!==xe&&"function"!=typeof xe)throw Ft.create("invalid-log-argument");(0,H.Am)(xe,Re)}function oi(xe){(0,H.Ub)(xe)}const ki="firebase-heartbeat-database",zt=1,ie="firebase-heartbeat-store";let B=null;function N(){return B||(B=function Me(xe,Re,{blocked:wt,upgrade:Yt,blocking:pn,terminated:ze}={}){const ee=indexedDB.open(xe,Re),te=ue(ee);return Yt&&ee.addEventListener("upgradeneeded",Ie=>{Yt(ue(ee.result),Ie.oldVersion,Ie.newVersion,ue(ee.transaction),Ie)}),wt&&ee.addEventListener("blocked",Ie=>wt(Ie.oldVersion,Ie.newVersion,Ie)),te.then(Ie=>{ze&&Ie.addEventListener("close",()=>ze()),pn&&Ie.addEventListener("versionchange",nt=>pn(nt.oldVersion,nt.newVersion,nt))}).catch(()=>{}),te}(ki,zt,{upgrade:(xe,Re)=>{0===Re&&xe.createObjectStore(ie)}}).catch(xe=>{throw Ft.create("idb-open",{originalErrorMessage:xe.message})})),B}function V(){return(V=(0,c.Z)(function*(xe){try{return yield(yield N()).transaction(ie).objectStore(ie).get(Rt(xe))}catch(Re){if(Re instanceof he.ZR)on.warn(Re.message);else{const wt=Ft.create("idb-get",{originalErrorMessage:Re?.message});on.warn(wt.message)}}})).apply(this,arguments)}function we(xe,Re){return tt.apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(xe,Re){try{const Yt=(yield N()).transaction(ie,"readwrite");yield Yt.objectStore(ie).put(Re,Rt(xe)),yield Yt.done}catch(wt){if(wt instanceof he.ZR)on.warn(wt.message);else{const Yt=Ft.create("idb-set",{originalErrorMessage:wt?.message});on.warn(Yt.message)}}})).apply(this,arguments)}function Rt(xe){return`${xe.name}!${xe.options.appId}`}class fn{constructor(Re){this.container=Re,this._heartbeatsCache=null;const wt=this.container.getProvider("app").getImmediate();this._storage=new mt(wt),this._heartbeatsCachePromise=this._storage.read().then(Yt=>(this._heartbeatsCache=Yt,Yt))}triggerHeartbeat(){var Re=this;return(0,c.Z)(function*(){const Yt=Re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pn=Cn();if(null===Re._heartbeatsCache&&(Re._heartbeatsCache=yield Re._heartbeatsCachePromise),Re._heartbeatsCache.lastSentHeartbeatDate!==pn&&!Re._heartbeatsCache.heartbeats.some(ze=>ze.date===pn))return Re._heartbeatsCache.heartbeats.push({date:pn,agent:Yt}),Re._heartbeatsCache.heartbeats=Re._heartbeatsCache.heartbeats.filter(ze=>{const ee=new Date(ze.date).valueOf();return Date.now()-ee<=2592e6}),Re._storage.overwrite(Re._heartbeatsCache)})()}getHeartbeatsHeader(){var Re=this;return(0,c.Z)(function*(){if(null===Re._heartbeatsCache&&(yield Re._heartbeatsCachePromise),null===Re._heartbeatsCache||0===Re._heartbeatsCache.heartbeats.length)return"";const wt=Cn(),{heartbeatsToSend:Yt,unsentEntries:pn}=function Jn(xe,Re=1024){const wt=[];let Yt=xe.slice();for(const pn of xe){const ze=wt.find(ee=>ee.agent===pn.agent);if(ze){if(ze.dates.push(pn.date),re(wt)>Re){ze.dates.pop();break}}else if(wt.push({agent:pn.agent,dates:[pn.date]}),re(wt)>Re){wt.pop();break}Yt=Yt.slice(1)}return{heartbeatsToSend:wt,unsentEntries:Yt}}(Re._heartbeatsCache.heartbeats),ze=(0,he.L)(JSON.stringify({version:2,heartbeats:Yt}));return Re._heartbeatsCache.lastSentHeartbeatDate=wt,pn.length>0?(Re._heartbeatsCache.heartbeats=pn,yield Re._storage.overwrite(Re._heartbeatsCache)):(Re._heartbeatsCache.heartbeats=[],Re._storage.overwrite(Re._heartbeatsCache)),ze})()}}function Cn(){return(new Date).toISOString().substring(0,10)}class mt{constructor(Re){this.app=Re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Re=this;return(0,c.Z)(function*(){return(yield Re._canUseIndexedDBPromise)&&(yield function O(xe){return V.apply(this,arguments)}(Re.app))||{heartbeats:[]}})()}overwrite(Re){var wt=this;return(0,c.Z)(function*(){var Yt;if(yield wt._canUseIndexedDBPromise){const ze=yield wt.read();return we(wt.app,{lastSentHeartbeatDate:null!==(Yt=Re.lastSentHeartbeatDate)&&void 0!==Yt?Yt:ze.lastSentHeartbeatDate,heartbeats:Re.heartbeats})}})()}add(Re){var wt=this;return(0,c.Z)(function*(){var Yt;if(yield wt._canUseIndexedDBPromise){const ze=yield wt.read();return we(wt.app,{lastSentHeartbeatDate:null!==(Yt=Re.lastSentHeartbeatDate)&&void 0!==Yt?Yt:ze.lastSentHeartbeatDate,heartbeats:[...ze.heartbeats,...Re.heartbeats]})}})()}}function re(xe){return(0,he.L)(JSON.stringify({version:2,heartbeats:xe})).length}!function Ne(xe){xt(new F.wA("platform-logger",Re=>new nn(Re),"PRIVATE")),xt(new F.wA("heartbeat",Re=>new fn(Re),"PRIVATE")),Qt(Un,"0.9.22",xe),Qt(Un,"0.9.22","esm2017"),Qt("fire-js","")}("")},4537:(jt,He,x)=>{x.d(He,{H0:()=>se,wA:()=>H});var c=x(5861),F=x(9058);class H{constructor(W,ce,me){this.name=W,this.instanceFactory=ce,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const he="[DEFAULT]";class j{constructor(W,ce){this.name=W,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const ce=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(ce)){const me=new F.BH;if(this.instancesDeferred.set(ce,me),this.isInitialized(ce)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:ce});Ve&&me.resolve(Ve)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(W){var ce;const me=this.normalizeInstanceIdentifier(W?.identifier),Ve=null!==(ce=W?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(De){if(Ve)return null;throw De}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function be(Ee){return"EAGER"===Ee.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:he})}catch{}for(const[ce,me]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(ce);try{const De=this.getOrInitializeService({instanceIdentifier:Ve});me.resolve(De)}catch{}}}}clearInstance(W=he){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,c.Z)(function*(){const ce=Array.from(W.instances.values());yield Promise.all([...ce.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...ce.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=he){return this.instances.has(W)}getOptions(W=he){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:ce={}}=W,me=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:me,options:ce});for(const[De,Je]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(De)&&Je.resolve(Ve);return Ve}onInit(W,ce){var me;const Ve=this.normalizeInstanceIdentifier(ce),De=null!==(me=this.onInitCallbacks.get(Ve))&&void 0!==me?me:new Set;De.add(W),this.onInitCallbacks.set(Ve,De);const Je=this.instances.get(Ve);return Je&&W(Je,Ve),()=>{De.delete(W)}}invokeOnInitCallbacks(W,ce){const me=this.onInitCallbacks.get(ce);if(me)for(const Ve of me)try{Ve(W,ce)}catch{}}getOrInitializeService({instanceIdentifier:W,options:ce={}}){let me=this.instances.get(W);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=W,Ee===he?void 0:Ee),options:ce}),this.instances.set(W,me),this.instancesOptions.set(W,ce),this.invokeOnInitCallbacks(me,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,me)}catch{}var Ee;return me||null}normalizeInstanceIdentifier(W=he){return this.component?this.component.multipleInstances?W:he:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const ce=this.getProvider(W.name);if(ce.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);ce.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const ce=new j(W,this);return this.providers.set(W,ce),ce}getProviders(){return Array.from(this.providers.values())}}},7879:(jt,He,x)=>{x.d(He,{Am:()=>Ee,Ub:()=>se,Yd:()=>be,in:()=>F});const c=[];var F=function(W){return W[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",W}(F||{});const H={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},he=F.INFO,j={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},ye=(W,ce,...me)=>{if(ce<W.logLevel)return;const Ve=(new Date).toISOString(),De=j[ce];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[De](`[${Ve}]  ${W.name}:`,...me)};class be{constructor(ce){this.name=ce,this._logLevel=he,this._logHandler=ye,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in F))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?H[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...ce),this._logHandler(this,F.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...ce),this._logHandler(this,F.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,F.INFO,...ce),this._logHandler(this,F.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,F.WARN,...ce),this._logHandler(this,F.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...ce),this._logHandler(this,F.ERROR,...ce)}}function se(W){c.forEach(ce=>{ce.setLogLevel(W)})}function Ee(W,ce){for(const me of c){let Ve=null;ce&&ce.level&&(Ve=H[ce.level]),me.userLogHandler=null===W?null:(De,Je,...Qe)=>{const it=Qe.map(qe=>{if(null==qe)return null;if("string"==typeof qe)return qe;if("number"==typeof qe||"boolean"==typeof qe)return qe.toString();if(qe instanceof Error)return qe.message;try{return JSON.stringify(qe)}catch{return null}}).filter(qe=>qe).join(" ");Je>=(Ve??De.logLevel)&&W({level:F[Je].toLowerCase(),message:it,args:Qe,type:De.name})}}}},3182:(jt,He,x)=>{x.d(He,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=x(534);(0,c.registerVersion)("firebase","10.5.2","app")},752:(jt,He,x)=>{x.d(He,{Xb:()=>c.a9,v0:()=>c.o,w$:()=>c.af,e5:()=>c.aa,w7:()=>c.C,ck:()=>c.aj});var c=x(3560);x(9058),x(534),x(7879),x(4537)},7142:(jt,He,x)=>{x.d(He,{Z:()=>c.Z});var c=x(3106);c.Z.registerVersion("firebase","10.5.2","app-compat")},6365:(jt,He,x)=>{x.r(He);var c=x(5861),F=x(3106),H=x(3560),he=x(9058),be=(x(534),x(7879),x(4537));function se(){return window}function ce(){return ce=(0,c.Z)(function*(N,O,V){var we;const{BuildInfo:tt}=se();(0,H.at)(O.sessionId,"AuthEvent did not contain a session ID");const Rt=yield function qe(N){return Lt.apply(this,arguments)}(O.sessionId),$t={};return(0,H.au)()?$t.ibi=tt.packageName:(0,H.av)()?$t.apn=tt.packageName:(0,H.aw)(N,"operation-not-supported-in-this-environment"),tt.displayName&&($t.appDisplayName=tt.displayName),$t.sessionId=Rt,(0,H.ax)(N,V,O.type,void 0,null!==(we=O.eventId)&&void 0!==we?we:void 0,$t)}),ce.apply(this,arguments)}function Ve(){return(Ve=(0,c.Z)(function*(N){const{BuildInfo:O}=se(),V={};(0,H.au)()?V.iosBundleId=O.packageName:(0,H.av)()?V.androidPackageName=O.packageName:(0,H.aw)(N,"operation-not-supported-in-this-environment"),yield(0,H.ay)(N,V)})).apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(N,O,V){const{cordova:we}=se();let tt=()=>{};try{yield new Promise((Rt,$t)=>{let Kt=null;function fn(){var mt;Rt();const re=null===(mt=we.plugins.browsertab)||void 0===mt?void 0:mt.close;"function"==typeof re&&re(),"function"==typeof V?.close&&V.close()}function Cn(){Kt||(Kt=window.setTimeout(()=>{$t((0,H.aA)(N,"redirect-cancelled-by-user"))},2e3))}function Jn(){"visible"===document?.visibilityState&&Cn()}O.addPassiveListener(fn),document.addEventListener("resume",Cn,!1),(0,H.av)()&&document.addEventListener("visibilitychange",Jn,!1),tt=()=>{O.removePassiveListener(fn),document.removeEventListener("resume",Cn,!1),document.removeEventListener("visibilitychange",Jn,!1),Kt&&window.clearTimeout(Kt)}})}finally{tt()}})).apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(N){const O=function Ye(N){if((0,H.at)(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(N);const O=new ArrayBuffer(N.length),V=new Uint8Array(O);for(let we=0;we<N.length;we++)V[we]=N.charCodeAt(we);return V}(N),V=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(V)).map(tt=>tt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ce extends H.aC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(V=>V(O)),super.onEvent(O)}initialized(){var O=this;return(0,c.Z)(function*(){yield O.initPromise})()}}function Xe(N){return Te.apply(this,arguments)}function Te(){return(Te=(0,c.Z)(function*(N){const O=yield nn()._get(hn(N));return O&&(yield nn()._remove(hn(N))),O})).apply(this,arguments)}function Zt(){const N=[];for(let V=0;V<20;V++){const we=Math.floor(62*Math.random());N.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(we))}return N.join("")}function nn(){return(0,H.aD)(H.b)}function hn(N){return(0,H.aE)("authEvent",N.config.apiKey,N.name)}function on(N){if(!N?.includes("?"))return{};const[O,...V]=N.split("?");return(0,he.zd)(V.join("?"))}const oe=class ht{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aF,this._overrideRedirectResult=H.aG}_initialize(O){var V=this;return(0,c.Z)(function*(){const we=O._key();let tt=V.eventManagers.get(we);return tt||(tt=new Ce(O),V.eventManagers.set(we,tt),V.attachCallbackListeners(O,tt)),tt})()}_openPopup(O){(0,H.aw)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,V,we,tt){var Rt=this;return(0,c.Z)(function*(){!function it(N){var O,V,we,tt,Rt,$t,Kt,fn,Cn,Jn;const mt=se();(0,H.aB)("function"==typeof(null===(O=mt?.universalLinks)||void 0===O?void 0:O.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.aB)(typeof(null===(V=mt?.BuildInfo)||void 0===V?void 0:V.packageName)<"u",N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.aB)("function"==typeof(null===(Rt=null===(tt=null===(we=mt?.cordova)||void 0===we?void 0:we.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===Rt?void 0:Rt.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.aB)("function"==typeof(null===(fn=null===(Kt=null===($t=mt?.cordova)||void 0===$t?void 0:$t.plugins)||void 0===Kt?void 0:Kt.browsertab)||void 0===fn?void 0:fn.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.aB)("function"==typeof(null===(Jn=null===(Cn=mt?.cordova)||void 0===Cn?void 0:Cn.InAppBrowser)||void 0===Jn?void 0:Jn.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const $t=yield Rt._initialize(O);yield $t.initialized(),$t.resetRedirect(),(0,H.aH)(),yield Rt._originValidation(O);const Kt=function Me(N,O,V=null){return{type:O,eventId:V,urlResponse:null,sessionId:Zt(),postBody:null,tenantId:N.tenantId,error:(0,H.aA)(N,"no-auth-event")}}(O,we,tt);yield function Le(N,O){return nn()._set(hn(N),O)}(O,Kt);const fn=yield function W(N,O,V){return ce.apply(this,arguments)}(O,Kt,V),Cn=yield function De(N){const{cordova:O}=se();return new Promise(V=>{O.plugins.browsertab.isAvailable(we=>{let tt=null;we?O.plugins.browsertab.openUrl(N):tt=O.InAppBrowser.open(N,(0,H.az)()?"_blank":"_system","location=yes"),V(tt)})})}(fn);return function Je(N,O,V){return Qe.apply(this,arguments)}(O,$t,Cn)})()}_isIframeWebStorageSupported(O,V){throw new Error("Method not implemented.")}_originValidation(O){const V=O._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function me(N){return Ve.apply(this,arguments)}(O)),this.originValidationPromises[V]}attachCallbackListeners(O,V){const{universalLinks:we,handleOpenURL:tt,BuildInfo:Rt}=se(),$t=setTimeout((0,c.Z)(function*(){yield Xe(O),V.onEvent(ve())}),500),Kt=function(){var Jn=(0,c.Z)(function*(mt){clearTimeout($t);const re=yield Xe(O);let Ne=null;re&&mt?.url&&(Ne=function Nt(N,O){var V,we;const tt=function Hn(N){const O=on(N),V=O.link?decodeURIComponent(O.link):void 0,we=on(V).link,tt=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return on(tt).link||tt||we||V||N}(O);if(tt.includes("/__/auth/callback")){const Rt=on(tt),$t=Rt.firebaseError?function Un(N){try{return JSON.parse(N)}catch{return null}}(decodeURIComponent(Rt.firebaseError)):null,Kt=null===(we=null===(V=$t?.code)||void 0===V?void 0:V.split("auth/"))||void 0===we?void 0:we[1],fn=Kt?(0,H.aA)(Kt):null;return fn?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:fn,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:tt,postBody:null}}return null}(re,mt.url)),V.onEvent(Ne||ve())});return function(re){return Jn.apply(this,arguments)}}();typeof we<"u"&&"function"==typeof we.subscribe&&we.subscribe(null,Kt);const fn=tt,Cn=`${Rt.packageName.toLowerCase()}://`;se().handleOpenURL=function(){var Jn=(0,c.Z)(function*(mt){if(mt.toLowerCase().startsWith(Cn)&&Kt({url:mt}),"function"==typeof fn)try{fn(mt)}catch(re){console.error(re)}});return function(mt){return Jn.apply(this,arguments)}}()}};function ve(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aA)("no-auth-event")}}function Ge(){var N;return(null===(N=self?.location)||void 0===N?void 0:N.protocol)||null}function Nn(N=(0,he.z$)()){return!("file:"!==Ge()&&"ionic:"!==Ge()&&"capacitor:"!==Ge()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zn(){try{const N=self.localStorage,O=H.aM();if(N)return N.setItem(O,"1"),N.removeItem(O),!function Gn(N=(0,he.z$)()){return function qn(){return(0,he.w1)()&&11===document?.documentMode}()||function An(N=(0,he.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,he.hl)()}catch{return ni()&&(0,he.hl)()}return!1}function ni(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ri(){return(function kt(){return"http:"===Ge()||"https:"===Ge()}()||(0,he.ru)()||Nn())&&!function En(){return(0,he.b$)()||(0,he.UG)()}()&&Zn()&&!ni()}function wi(){return Nn()&&typeof document<"u"}function Ni(){return(Ni=(0,c.Z)(function*(){return!!wi()&&new Promise(N=>{const O=setTimeout(()=>{N(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),N(!0)})})})).apply(this,arguments)}const ge={LOCAL:"local",NONE:"none",SESSION:"session"},_t=H.aB,vt="persistence";function Ot(N){return ut.apply(this,arguments)}function ut(){return(ut=(0,c.Z)(function*(N){yield N._initializationPromise;const O=sn(),V=H.aE(vt,N.config.apiKey,N.name);O&&O.setItem(V,N._getPersistence())})).apply(this,arguments)}function sn(){var N;try{return(null===(N=function gi(){return typeof window<"u"?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch{return null}}const yt=H.aB;class xt{constructor(){this.browserResolver=H.aD(H.k),this.cordovaResolver=H.aD(oe),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aF,this._overrideRedirectResult=H.aG}_initialize(O){var V=this;return(0,c.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,V,we,tt){var Rt=this;return(0,c.Z)(function*(){return yield Rt.selectUnderlyingResolver(),Rt.assertedUnderlyingResolver._openPopup(O,V,we,tt)})()}_openRedirect(O,V,we,tt){var Rt=this;return(0,c.Z)(function*(){return yield Rt.selectUnderlyingResolver(),Rt.assertedUnderlyingResolver._openRedirect(O,V,we,tt)})()}_isIframeWebStorageSupported(O,V){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,V)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return wi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,c.Z)(function*(){if(O.underlyingResolver)return;const V=yield function Si(){return Ni.apply(this,arguments)}();O.underlyingResolver=V?O.cordovaResolver:O.browserResolver})()}}function Oe(N){return N.unwrap()}function at(N){return Ft(N)}function Ft(N){const{_tokenResponse:O}=N instanceof he.ZR?N.customData:N;if(!O)return null;if(!(N instanceof he.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return H.P.credentialFromResult(N);const V=O.providerId;if(!V||V===H.p.PASSWORD)return null;let we;switch(V){case H.p.GOOGLE:we=H.W;break;case H.p.FACEBOOK:we=H.V;break;case H.p.GITHUB:we=H.X;break;case H.p.TWITTER:we=H._;break;default:const{oauthIdToken:tt,oauthAccessToken:Rt,oauthTokenSecret:$t,pendingToken:Kt,nonce:fn}=O;return Rt||$t||tt||Kt?Kt?V.startsWith("saml.")?H.aP._create(V,Kt):H.M._fromParams({providerId:V,signInMethod:V,pendingToken:Kt,idToken:tt,accessToken:Rt}):new H.Y(V).credential({idToken:tt,accessToken:Rt,rawNonce:fn}):null}return N instanceof he.ZR?we.credentialFromError(N):we.credentialFromResult(N)}function an(N,O){return O.catch(V=>{throw V instanceof he.ZR&&function Jt(N,O){var V;const we=null===(V=O.customData)||void 0===V?void 0:V._tokenResponse;if("auth/multi-factor-auth-required"===O?.code)O.resolver=new Ze(N,H.ar(N,O));else if(we){const tt=Ft(O),Rt=O;tt&&(Rt.credential=tt,Rt.tenantId=we.tenantId||void 0,Rt.email=we.email||void 0,Rt.phoneNumber=we.phoneNumber||void 0)}}(N,V),V}).then(V=>{const tt=V.user;return{operationType:V.operationType,credential:at(V),additionalUserInfo:H.ap(V),user:Ae.getOrCreate(tt)}})}function kn(N,O){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(N,O){const V=yield O;return{verificationId:V.verificationId,confirm:we=>an(N,V.confirm(we))}})).apply(this,arguments)}class Ze{constructor(O,V){this.resolver=V,this.auth=function pt(N){return N.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return an(Oe(this.auth),this.resolver.resolveSignIn(O))}}class Ae{constructor(O){this._delegate=O,this.multiFactor=H.as(O)}static getOrCreate(O){return Ae.USER_MAP.has(O)||Ae.USER_MAP.set(O,new Ae(O)),Ae.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var V=this;return(0,c.Z)(function*(){return an(V.auth,H.a1(V._delegate,O))})()}linkWithPhoneNumber(O,V){var we=this;return(0,c.Z)(function*(){return kn(we.auth,H.l(we._delegate,O,V))})()}linkWithPopup(O){var V=this;return(0,c.Z)(function*(){return an(V.auth,H.d(V._delegate,O,xt))})()}linkWithRedirect(O){var V=this;return(0,c.Z)(function*(){return yield Ot(H.aI(V.auth)),H.g(V._delegate,O,xt)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var V=this;return(0,c.Z)(function*(){return an(V.auth,H.a2(V._delegate,O))})()}reauthenticateWithPhoneNumber(O,V){return kn(this.auth,H.r(this._delegate,O,V))}reauthenticateWithPopup(O){return an(this.auth,H.e(this._delegate,O,xt))}reauthenticateWithRedirect(O){var V=this;return(0,c.Z)(function*(){return yield Ot(H.aI(V.auth)),H.h(V._delegate,O,xt)})()}sendEmailVerification(O){return H.af(this._delegate,O)}unlink(O){var V=this;return(0,c.Z)(function*(){return yield H.ao(V._delegate,O),V})()}updateEmail(O){return H.ak(this._delegate,O)}updatePassword(O){return H.al(this._delegate,O)}updatePhoneNumber(O){return H.u(this._delegate,O)}updateProfile(O){return H.aj(this._delegate,O)}verifyBeforeUpdateEmail(O,V){return H.ag(this._delegate,O,V)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ae.USER_MAP=new WeakMap;const et=H.aB;let Dt=(()=>{class N{constructor(V,we){if(this.app=V,we.isInitialized())return this._delegate=we.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:tt}=V.options;et(tt,"invalid-api-key",{appName:V.name}),et(tt,"invalid-api-key",{appName:V.name});const Rt=typeof window<"u"?xt:void 0;this._delegate=we.initialize({options:{persistence:Ln(tt,V.name),popupRedirectResolver:Rt}}),this._delegate._updateErrorMap(H.E),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ae.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(V){this._delegate.languageCode=V}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(V){this._delegate.tenantId=V}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(V,we){H.J(this._delegate,V,we)}applyActionCode(V){return H.a6(this._delegate,V)}checkActionCode(V){return H.a7(this._delegate,V)}confirmPasswordReset(V,we){return H.a5(this._delegate,V,we)}createUserWithEmailAndPassword(V,we){var tt=this;return(0,c.Z)(function*(){return an(tt._delegate,H.a9(tt._delegate,V,we))})()}fetchProvidersForEmail(V){return this.fetchSignInMethodsForEmail(V)}fetchSignInMethodsForEmail(V){return H.ae(this._delegate,V)}isSignInWithEmailLink(V){return H.ac(this._delegate,V)}getRedirectResult(){var V=this;return(0,c.Z)(function*(){et(ri(),V._delegate,"operation-not-supported-in-this-environment");const we=yield H.j(V._delegate,xt);return we?an(V._delegate,Promise.resolve(we)):{credential:null,user:null}})()}addFrameworkForLogging(V){!function Pe(N,O){(0,H.aI)(N)._logFramework(O)}(this._delegate,V)}onAuthStateChanged(V,we,tt){const{next:Rt,error:$t,complete:Kt}=Qt(V,we,tt);return this._delegate.onAuthStateChanged(Rt,$t,Kt)}onIdTokenChanged(V,we,tt){const{next:Rt,error:$t,complete:Kt}=Qt(V,we,tt);return this._delegate.onIdTokenChanged(Rt,$t,Kt)}sendSignInLinkToEmail(V,we){return H.ab(this._delegate,V,we)}sendPasswordResetEmail(V,we){return H.a4(this._delegate,V,we||void 0)}setPersistence(V){var we=this;return(0,c.Z)(function*(){let tt;switch(function ct(N,O){_t(Object.values(ge).includes(O),N,"invalid-persistence-type"),(0,he.b$)()?_t(O!==ge.SESSION,N,"unsupported-persistence-type"):(0,he.UG)()?_t(O===ge.NONE,N,"unsupported-persistence-type"):ni()?_t(O===ge.NONE||O===ge.LOCAL&&(0,he.hl)(),N,"unsupported-persistence-type"):_t(O===ge.NONE||Zn(),N,"unsupported-persistence-type")}(we._delegate,V),V){case ge.SESSION:tt=H.a;break;case ge.LOCAL:tt=(yield H.aD(H.i)._isAvailable())?H.i:H.b;break;case ge.NONE:tt=H.Q;break;default:return H.aw("argument-error",{appName:we._delegate.name})}return we._delegate.setPersistence(tt)})()}signInAndRetrieveDataWithCredential(V){return this.signInWithCredential(V)}signInAnonymously(){return an(this._delegate,H.$(this._delegate))}signInWithCredential(V){return an(this._delegate,H.a0(this._delegate,V))}signInWithCustomToken(V){return an(this._delegate,H.a3(this._delegate,V))}signInWithEmailAndPassword(V,we){return an(this._delegate,H.aa(this._delegate,V,we))}signInWithEmailLink(V,we){return an(this._delegate,H.ad(this._delegate,V,we))}signInWithPhoneNumber(V,we){return kn(this._delegate,H.s(this._delegate,V,we))}signInWithPopup(V){var we=this;return(0,c.Z)(function*(){return et(ri(),we._delegate,"operation-not-supported-in-this-environment"),an(we._delegate,H.c(we._delegate,V,xt))})()}signInWithRedirect(V){var we=this;return(0,c.Z)(function*(){return et(ri(),we._delegate,"operation-not-supported-in-this-environment"),yield Ot(we._delegate),H.f(we._delegate,V,xt)})()}updateCurrentUser(V){return this._delegate.updateCurrentUser(V)}verifyPasswordResetCode(V){return H.a8(this._delegate,V)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=ge,N})();function Qt(N,O,V){let we=N;"function"!=typeof N&&({next:we,error:O,complete:V}=N);const tt=we;return{next:$t=>tt($t&&Ae.getOrCreate($t)),error:O,complete:V}}function Ln(N,O){const V=function Vt(N,O){const V=sn();if(!V)return[];const we=H.aE(vt,N,O);switch(V.getItem(we)){case ge.NONE:return[H.Q];case ge.LOCAL:return[H.i,H.a];case ge.SESSION:return[H.a];default:return[]}}(N,O);if(typeof self<"u"&&!V.includes(H.i)&&V.push(H.i),typeof window<"u")for(const we of[H.b,H.a])V.includes(we)||V.push(we);return V.includes(H.Q)||V.push(H.Q),V}class oi{constructor(){this.providerId="phone",this._delegate=new H.P(Oe(F.Z.auth()))}static credential(O,V){return H.P.credential(O,V)}verifyPhoneNumber(O,V){return this._delegate.verifyPhoneNumber(O,V)}unwrap(){return this._delegate}}oi.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,oi.PROVIDER_ID=H.P.PROVIDER_ID;const ki=H.aB;class zt{constructor(O,V,we=F.Z.app()){var tt;ki(null===(tt=we.options)||void 0===tt?void 0:tt.apiKey,"invalid-api-key",{appName:we.name}),this._delegate=new H.R(we.auth(),O,V),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function B(N){N.INTERNAL.registerComponent(new be.wA("auth-compat",O=>{const V=O.getProvider("app-compat").getImmediate(),we=O.getProvider("auth");return new Dt(V,we)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.U,FacebookAuthProvider:H.V,GithubAuthProvider:H.X,GoogleAuthProvider:H.W,OAuthProvider:H.Y,SAMLAuthProvider:H.Z,PhoneAuthProvider:oi,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:zt,TwitterAuthProvider:H._,Auth:Dt,AuthCredential:H.K,Error:he.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.4.8")}(F.Z)},1835:(jt,He,x)=>{x.d(He,{oj:()=>se});var c=x(5879),F=x(3161),H=x(4060),he=x(6814);class ye{constructor(W,ce,me){this.nodes=W,this.viewRef=ce,this.componentRef=me}}class be{constructor(W,ce,me,Ve,De,Je,Qe,it,qe){this._viewContainerRef=W,this._renderer=ce,this._elementRef=me,this._injector=Ve,this._componentFactoryResolver=De,this._ngZone=Je,this._applicationRef=Qe,this._posService=it,this._document=qe,this.onBeforeShow=new c.vpe,this.onShown=new c.vpe,this.onBeforeHide=new c.vpe,this.onHidden=new c.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(W){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(W),this}to(W){return this.container=W||this.container,this}position(W){return W?(this.attachment=W.attachment||this.attachment,this._elementRef=W.target||this._elementRef,this):this}provide(W){return this._providers.push(W),this}show(W={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(W.content,W.context,W.initialState);const ce=c.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(ce,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,W),this.container instanceof c.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const me=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!me)return;me.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(W.id?{id:W.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(W){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const ce=this._componentRef.location.nativeElement;return ce.parentNode?.removeChild(ce),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(W?{id:W}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(W){this.triggers=W.triggers||this.triggers,this._listenOpts.outsideClick=W.outsideClick,this._listenOpts.outsideEsc=W.outsideEsc,W.target=W.target||this._elementRef?.nativeElement;const ce=this._listenOpts.hide=()=>W.hide?W.hide():void this.hide(),me=this._listenOpts.show=De=>{W.show?W.show(De):this.show(De),De()};return this._renderer&&(this._unregisterListenersFn=(0,F.wo)(this._renderer,{target:W.target,triggers:W.triggers,show:me,hide:ce,toggle:De=>{this.isShown?ce():me(De)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(W,ce){return W&&ce&&(this._inlineViewRef=W.createEmbeddedView(ce)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const W=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,F.Rg)(this._renderer,{targets:[W,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,F.C)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(W,ce,me){if(!W)return new ye([]);if(W instanceof c.Rgc){if(this._viewContainerRef){const Je=this._viewContainerRef.createEmbeddedView(W,ce);return Je.markForCheck(),new ye([Je.rootNodes],Je)}const De=W.createEmbeddedView({});return this._applicationRef.attachView(De),new ye([De.rootNodes],De)}if("function"==typeof W){const De=this._componentFactoryResolver.resolveComponentFactory(W),Je=c.zs3.create({providers:this._providers,parent:this._injector}),Qe=De.create(Je);return Object.assign(Qe.instance,me),this._applicationRef.attachView(Qe.hostView),new ye([[Qe.location.nativeElement]],Qe.hostView,Qe)}const Ve=this._renderer?[this._renderer.createText(`${W}`)]:[];return new ye([Ve])}}let se=(()=>{class Ee{constructor(ce,me,Ve,De,Je,Qe){this._componentFactoryResolver=ce,this._ngZone=me,this._injector=Ve,this._posService=De,this._applicationRef=Je,this._document=Qe}createLoader(ce,me,Ve){return new be(me,Ve,ce,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static#e=this.\u0275fac=function(me){return new(me||Ee)(c.LFG(c._Vd),c.LFG(c.R0b),c.LFG(c.zs3),c.LFG(H.sA),c.LFG(c.z2F),c.LFG(he.K0))};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},2500:(jt,He,x)=>{x.d(He,{Hz:()=>Je,Mq:()=>Qe,TO:()=>De,fc:()=>Ee,mr:()=>it});var c=x(5879),F=x(2181),H=x(1835),he=x(6825),j=x(6814),ye=x(4060);const be=function(qe){return{dropdown:qe}},se=["*"];let Ee=(()=>{class qe{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}static#e=this.\u0275fac=function(ue){return new(ue||qe)};static#t=this.\u0275prov=c.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})(),W=(()=>{class qe{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new c.vpe,this.isDisabledChange=new c.vpe,this.toggleClick=new c.vpe,this.counts=0,this.dropdownMenu=new Promise(Ye=>{this.resolveDropdownMenu=Ye})}static#e=this.\u0275fac=function(ue){return new(ue||qe)};static#t=this.\u0275prov=c.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"platform"})}return qe})();const me=[(0,he.oB)({height:0,overflow:"hidden"}),(0,he.jt)("220ms cubic-bezier(0, 0, 0.2, 1)",(0,he.oB)({height:"*",overflow:"hidden"}))];let Ve=(()=>{class qe{get direction(){return this._state.direction}constructor(Ye,ue,Ce,Me,Le){this._state=Ye,this.cd=ue,this._renderer=Ce,this._element=Me,this.isOpen=!1,this._factoryDropDownAnimation=Le.build(me),this._subscription=Ye.isOpenChange.subscribe(Xe=>{this.isOpen=Xe;const Te=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),Te&&(this._renderer.addClass(Te,"show"),(Te.classList.contains("dropdown-menu-right")||Te.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(Te,"left","auto"),this._renderer.setStyle(Te,"right","0")),"up"===this.direction&&(this._renderer.setStyle(Te,"top","auto"),this._renderer.setStyle(Te,"transform","translateY(-101%)"))),Te&&this._state.isAnimated&&this._factoryDropDownAnimation.create(Te).play(),this.cd.markForCheck(),this.cd.detectChanges()})}_contains(Ye){return this._element.nativeElement.contains(Ye)}ngOnDestroy(){this._subscription.unsubscribe()}static#e=this.\u0275fac=function(ue){return new(ue||qe)(c.Y36(W),c.Y36(c.sBO),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(he._j))};static#t=this.\u0275cmp=c.Xpm({type:qe,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:se,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(ue,Ce){1&ue&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA()),2&ue&&(c.ekj("dropup","up"===Ce.direction)("show",Ce.isOpen)("open",Ce.isOpen),c.Q6J("ngClass",c.VKq(7,be,"down"===Ce.direction)))},dependencies:[j.mk],encapsulation:2,changeDetection:0})}return qe})(),De=(()=>{class qe{set autoClose(Ye){this._state.autoClose=Ye}get autoClose(){return this._state.autoClose}set isAnimated(Ye){this._state.isAnimated=Ye}get isAnimated(){return this._state.isAnimated}set insideClick(Ye){this._state.insideClick=Ye}get insideClick(){return this._state.insideClick}set isDisabled(Ye){this._isDisabled=Ye,this._state.isDisabledChange.emit(Ye),Ye&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(Ye){Ye?this.show():this.hide()}get _showInline(){return!this.container}constructor(Ye,ue,Ce,Me,Le,Xe,Te){this._elementRef=Ye,this._renderer=ue,this._viewContainerRef=Ce,this._cis=Me,this._state=Le,this._config=Xe,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=Te.build(me),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:W,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(Ye=>this.toggle(Ye))),this._subscriptions.push(this._state.isDisabledChange.pipe((0,F.h)(Ye=>Ye)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(Ye=>{this._dropdown.attachInline(Ye.viewContainer,Ye.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(Ye=>{const ue=this.dropup||typeof this.dropup<"u"&&this.dropup;this._state.direction=ue?"up":"down";const Ce=this.placement||(ue?"top start":"bottom start");this._dropdown.attach(Ve).to(this.container).position({attachment:Ce}).show({content:Ye.templateRef,placement:Ce}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(Ye){return this.isOpen||!Ye?this.hide():this.show()}_contains(Ye){return this._elementRef.nativeElement.contains(Ye.target)||this._dropdown.instance&&this._dropdown.instance._contains(Ye.target)}navigationClick(Ye){const ue=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!ue)return;const Ce=this._elementRef.nativeElement.ownerDocument.activeElement,Me=ue.querySelectorAll(".dropdown-item");switch(Ye.keyCode){case 38:this._state.counts>0&&Me[--this._state.counts].focus();break;case 40:this._state.counts+1<Me.length&&(Ce.classList!==Me[this._state.counts].classList?Me[this._state.counts].focus():Me[++this._state.counts].focus())}Ye.preventDefault()}ngOnDestroy(){for(const Ye of this._subscriptions)Ye.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles()}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const Ye=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",Ye?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",Ye?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}static#e=this.\u0275fac=function(ue){return new(ue||qe)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.s_b),c.Y36(H.oj),c.Y36(W),c.Y36(Ee),c.Y36(he._j))};static#t=this.\u0275dir=c.lG2({type:qe,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(ue,Ce){1&ue&&c.NdJ("keydown.arrowDown",function(Le){return Ce.navigationClick(Le)})("keydown.arrowUp",function(Le){return Ce.navigationClick(Le)}),2&ue&&c.ekj("dropup",Ce.dropup)("open",Ce.isOpen)("show",Ce.isOpen)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[c._Bn([W])]})}return qe})(),Je=(()=>{class qe{constructor(Ye,ue,Ce){Ye.resolveDropdownMenu({templateRef:Ce,viewContainer:ue})}static#e=this.\u0275fac=function(ue){return new(ue||qe)(c.Y36(W),c.Y36(c.s_b),c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:qe,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]})}return qe})(),Qe=(()=>{class qe{constructor(Ye,ue,Ce,Me,Le){this._changeDetectorRef=Ye,this._dropdown=ue,this._element=Ce,this._renderer=Me,this._state=Le,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(Xe=>{this.isOpen=Xe,Xe?(this._documentClickListener=this._renderer.listen("document","click",Te=>{this._state.autoClose&&2!==Te.button&&!this._element.nativeElement.contains(Te.target)&&(!this._state.insideClick||!this._dropdown._contains(Te))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(Xe=>this.isDisabled=Xe||void 0))}onClick(Ye){this._state.stopOnClickPropagation&&Ye.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const Ye of this._subscriptions)Ye.unsubscribe()}static#e=this.\u0275fac=function(ue){return new(ue||qe)(c.Y36(c.sBO),c.Y36(De),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(W))};static#t=this.\u0275dir=c.lG2({type:qe,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(ue,Ce){1&ue&&c.NdJ("click",function(Le){return Ce.onClick(Le)}),2&ue&&c.uIk("aria-haspopup",!0)("disabled",Ce.isDisabled)("aria-expanded",Ce.isOpen)},exportAs:["bs-dropdown-toggle"]})}return qe})(),it=(()=>{class qe{static forRoot(){return{ngModule:qe,providers:[H.oj,ye.sA,W]}}static#e=this.\u0275fac=function(ue){return new(ue||qe)};static#t=this.\u0275mod=c.oAB({type:qe});static#n=this.\u0275inj=c.cJS({imports:[j.ez]})}return qe})()},4060:(jt,He,x)=>{x.d(He,{sA:()=>Ni});var c=x(3161),F=x(5879),H=x(6814),he=x(8645),j=x(3019),ye=x(2438),be=x(2096),se=x(927),Ee=function(ge){return ge.top="top",ge.bottom="bottom",ge.left="left",ge.right="right",ge.auto="auto",ge.end="right",ge.start="left",ge["top left"]="top left",ge["top right"]="top right",ge["right top"]="right top",ge["right bottom"]="right bottom",ge["bottom right"]="bottom right",ge["bottom left"]="bottom left",ge["left bottom"]="left bottom",ge["left top"]="left top",ge["top start"]="top left",ge["top end"]="top right",ge["end top"]="right top",ge["end bottom"]="right bottom",ge["bottom end"]="bottom right",ge["bottom start"]="bottom left",ge["start bottom"]="start bottom",ge["start top"]="left top",ge}(Ee||{}),W=function(ge){return ge.top="top",ge.bottom="bottom",ge.left="start",ge.right="end",ge.auto="auto",ge.end="end",ge.start="start",ge["top left"]="top start",ge["top right"]="top end",ge["right top"]="end top",ge["right bottom"]="end bottom",ge["bottom right"]="bottom end",ge["bottom left"]="bottom start",ge["left bottom"]="start bottom",ge["left top"]="start top",ge["top start"]="top start",ge["top end"]="top end",ge["end top"]="end top",ge["end bottom"]="end bottom",ge["bottom end"]="bottom end",ge["bottom start"]="bottom start",ge["start bottom"]="start bottom",ge["start top"]="start top",ge}(W||{});function ce(ge,_t){if(1!==ge.nodeType)return[];const ct=ge.ownerDocument.defaultView?.getComputedStyle(ge,null);return _t?ct&&ct[_t]:ct}function me(ge){if(!ge)return document.documentElement;let ct,vt=ge?.offsetParent;for(;null===vt&&ge.nextElementSibling&&ct!==ge.nextElementSibling;)ct=ge.nextElementSibling,vt=ct.offsetParent;const Ot=vt&&vt.nodeName;return Ot&&"BODY"!==Ot&&"HTML"!==Ot?vt&&-1!==["TH","TD","TABLE"].indexOf(vt.nodeName)&&"static"===ce(vt,"position")?me(vt):vt:ct?ct.ownerDocument.documentElement:document.documentElement}function De(ge){return null!==ge.parentNode?De(ge.parentNode):ge}function Je(ge,_t){if(!(ge&&ge.nodeType&&_t&&_t.nodeType))return document.documentElement;const vt=ge.compareDocumentPosition(_t)&Node.DOCUMENT_POSITION_FOLLOWING,ct=vt?ge:_t,Ot=vt?_t:ge,ut=document.createRange();ut.setStart(ct,0),ut.setEnd(Ot,0);const Vt=ut.commonAncestorContainer;if(ge!==Vt&&_t!==Vt||ct.contains(Ot))return function Ve(ge){const{nodeName:_t}=ge;return"BODY"!==_t&&("HTML"===_t||me(ge.firstElementChild)===ge)}(Vt)?Vt:me(Vt);const sn=De(ge);return sn.host?Je(sn.host,_t):Je(ge,De(_t).host)}function Qe(ge){if(!ge||!ge.parentElement)return document.documentElement;let _t=ge.parentElement;for(;_t?.parentElement&&"none"===ce(_t,"transform");)_t=_t.parentElement;return _t||document.documentElement}function it(ge,_t){const vt="x"===_t?"Left":"Top",ct="Left"===vt?"Right":"Bottom";return parseFloat(ge[`border${vt}Width`])+parseFloat(ge[`border${ct}Width`])}function qe(ge,_t,vt,ct){return Math.max(_t[`offset${ge}`],_t[`scroll${ge}`],vt[`client${ge}`],vt[`offset${ge}`],vt[`scroll${ge}`],0)}function Lt(ge){const _t=ge.body,vt=ge.documentElement;return{height:qe("Height",_t,vt),width:qe("Width",_t,vt)}}function Ye(ge){return{...ge,right:(ge.left||0)+ge.width,bottom:(ge.top||0)+ge.height}}function Ce(ge){return"number"==typeof ge||"[object Number]"===Object.prototype.toString.call(ge)}function Me(ge){const _t=ge.getBoundingClientRect();if(!(_t&&Ce(_t.top)&&Ce(_t.left)&&Ce(_t.bottom)&&Ce(_t.right)))return _t;const vt={left:_t.left,top:_t.top,width:_t.right-_t.left,height:_t.bottom-_t.top},ct="HTML"===ge.nodeName?Lt(ge.ownerDocument):void 0,Ot=ct?.width||ge.clientWidth||Ce(_t.right)&&Ce(vt.left)&&_t.right-vt.left||0,ut=ct?.height||ge.clientHeight||Ce(_t.bottom)&&Ce(vt.top)&&_t.bottom-vt.top||0;let Vt=ge.offsetWidth-Ot,sn=ge.offsetHeight-ut;if(Vt||sn){const yt=ce(ge);Vt-=it(yt,"x"),sn-=it(yt,"y"),vt.width-=Vt,vt.height-=sn}return Ye(vt)}function Le(ge){return"HTML"===ge.nodeName?ge:ge.parentNode||ge.host}function Xe(ge){if(!ge)return document.body;switch(ge.nodeName){case"HTML":case"BODY":return ge.ownerDocument.body;case"#document":return ge.body}const{overflow:_t,overflowX:vt,overflowY:ct}=ce(ge);return/(auto|scroll|overlay)/.test(String(_t)+String(ct)+String(vt))?ge:Xe(Le(ge))}function Te(ge,_t,vt=!1){const ct="HTML"===_t.nodeName,Ot=Me(ge),ut=Me(_t),sn=(Xe(ge),ce(_t)),yt=parseFloat(sn.borderTopWidth),xt=parseFloat(sn.borderLeftWidth);vt&&ct&&(ut.top=Math.max(ut.top??0,0),ut.left=Math.max(ut.left??0,0));const Oe=Ye({top:(Ot.top??0)-(ut.top??0)-yt,left:(Ot.left??0)-(ut.left??0)-xt,width:Ot.width,height:Ot.height});if(Oe.marginTop=0,Oe.marginLeft=0,ct){const pt=parseFloat(sn.marginTop),at=parseFloat(sn.marginLeft);Ce(Oe.top)&&(Oe.top-=yt-pt),Ce(Oe.bottom)&&(Oe.bottom-=yt-pt),Ce(Oe.left)&&(Oe.left-=xt-at),Ce(Oe.right)&&(Oe.right-=xt-at),Oe.marginTop=pt,Oe.marginLeft=at}return Oe}function Nt(ge,_t="top"){const vt="top"===_t?"scrollTop":"scrollLeft",ct=ge.nodeName;return"BODY"===ct||"HTML"===ct?(ge.ownerDocument.scrollingElement||ge.ownerDocument.documentElement)[vt]:ge[vt]}function nn(ge){const _t=ge.nodeName;return"BODY"!==_t&&"HTML"!==_t&&("fixed"===ce(ge,"position")||nn(Le(ge)))}function hn(ge,_t,vt=0,ct,Ot=!1){let ut={top:0,left:0};const Vt=Ot?Qe(ge):Je(ge,_t);if("viewport"===ct)ut=function Zt(ge,_t=!1){const vt=ge.ownerDocument.documentElement,ct=Te(ge,vt),Ot=Math.max(vt.clientWidth,window.innerWidth||0),ut=Math.max(vt.clientHeight,window.innerHeight||0),Vt=_t?0:Nt(vt),sn=_t?0:Nt(vt,"left");return Ye({top:Vt-Number(ct?.top)+Number(ct?.marginTop),left:sn-Number(ct?.left)+Number(ct?.marginLeft),width:Ot,height:ut})}(Vt,Ot);else{let sn;"scrollParent"===ct?(sn=Xe(Le(_t)),"BODY"===sn.nodeName&&(sn=ge.ownerDocument.documentElement)):sn="window"===ct?ge.ownerDocument.documentElement:ct;const yt=Te(sn,Vt,Ot);if(yt&&"HTML"===sn.nodeName&&!nn(Vt)){const{height:xt,width:Oe}=Lt(ge.ownerDocument);Ce(ut.top)&&Ce(yt.top)&&Ce(yt.marginTop)&&(ut.top+=yt.top-yt.marginTop),Ce(ut.top)&&(ut.bottom=Number(xt)+Number(yt.top)),Ce(ut.left)&&Ce(yt.left)&&Ce(yt.marginLeft)&&(ut.left+=yt.left-yt.marginLeft),Ce(ut.top)&&(ut.right=Number(Oe)+Number(yt.left))}else yt&&(ut=yt)}return Ce(ut.left)&&(ut.left+=vt),Ce(ut.top)&&(ut.top+=vt),Ce(ut.right)&&(ut.right-=vt),Ce(ut.bottom)&&(ut.bottom-=vt),ut}function Un({width:ge,height:_t}){return ge*_t}function Hn(ge,_t,vt,ct,Ot=["top","bottom","right","left"],ut="viewport",Vt=0){if(-1===ge.indexOf("auto"))return ge;const sn=hn(vt,ct,Vt,ut),yt={top:{width:sn?.width??0,height:(_t?.top??0)-(sn?.top??0)},right:{width:(sn?.right??0)-(_t?.right??0),height:sn?.height??0},bottom:{width:sn?.width??0,height:(sn?.bottom??0)-(_t?.bottom??0)},left:{width:(_t.left??0)-(sn?.left??0),height:sn?.height??0}},xt=Object.keys(yt).map(Jt=>({position:Jt,...yt[Jt],area:Un(yt[Jt])})).sort((Jt,Ft)=>Ft.area-Jt.area);let Oe=xt.filter(({width:Jt,height:Ft})=>Jt>=vt.clientWidth&&Ft>=vt.clientHeight);Oe=Oe.filter(({position:Jt})=>Ot.some(Ft=>Ft===Jt));const pt=Oe.length>0?Oe[0].position:xt[0].position,at=ge.split(" ")[1];return vt.className=vt.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,c.Wl)().isBs5?W[pt]:pt}`),pt+(at?`-${at}`:"")}const oe=(ge,_t=0)=>ge?parseFloat(ge):_t;function ve(ge){const vt=ge.ownerDocument.defaultView?.getComputedStyle(ge),ct=oe(vt?.marginTop)+oe(vt?.marginBottom),Ot=oe(vt?.marginLeft)+oe(vt?.marginRight);return{width:Number(ge.offsetWidth)+Ot,height:Number(ge.offsetHeight)+ct}}function Pe(ge,_t,vt){return Te(_t,vt?Qe(ge):Je(ge,_t),vt)}function je(ge,_t,vt){const ct=vt.split(" ")[0],Ot=ve(ge),ut={width:Ot.width,height:Ot.height},Vt=-1!==["right","left"].indexOf(ct),sn=Vt?"top":"left",yt=Vt?"left":"top",xt=Vt?"height":"width",Oe=Vt?"width":"height";return ut[sn]=(_t[sn]??0)+_t[xt]/2-Ot[xt]/2,ut[yt]=ct===yt?(_t[yt]??0)-Ot[Oe]:_t[function ft(ge){const _t={left:"right",right:"left",bottom:"top",top:"bottom"};return ge.replace(/left|right|bottom|top/g,vt=>_t[vt])}(yt)]??0,ut}function Ke(ge,_t){return!!ge.modifiers[_t]?.enabled}const $e={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Ge(ge,_t){return!!(0,c.Wl)().isBs5&&$e[_t].includes(ge)}function En(ge,_t,vt){!ge||!_t||Object.keys(_t).forEach(ct=>{let Ot="";-1!==["width","height","top","right","bottom","left"].indexOf(ct)&&function ue(ge){return""!==ge&&!isNaN(parseFloat(ge))&&isFinite(Number(ge))}(_t[ct])&&(Ot="px"),vt?vt.setStyle(ge,ct,`${String(_t[ct])}${Ot}`):ge.style[ct]=String(_t[ct])+Ot})}function qn(ge){let _t=ge.offsets.target;const vt=ge.instance.target.querySelector(".arrow");if(!vt)return ge;const ct=-1!==["left","right"].indexOf(ge.placement.split(" ")[0]),Ot=ct?"height":"width",ut=ct?"Top":"Left",Vt=ut.toLowerCase(),sn=ct?"left":"top",yt=ct?"bottom":"right",xt=ve(vt)[Ot],Oe=ge.placement.split(" ")[1];(ge.offsets.host[yt]??0)-xt<(_t[Vt]??0)&&(_t[Vt]-=(_t[Vt]??0)-((ge.offsets.host[yt]??0)-xt)),Number(ge.offsets.host[Vt])+Number(xt)>(_t[yt]??0)&&(_t[Vt]+=Number(ge.offsets.host[Vt])+Number(xt)-Number(_t[yt])),_t=Ye(_t);const pt=ce(ge.instance.target),at=parseFloat(pt[`margin${ut}`])||0,Jt=parseFloat(pt[`border${ut}Width`])||0;let Ft;if(Oe){const kn=parseFloat(pt.borderRadius)||0,gt=Number(at+Jt+kn);Ft=Vt===Oe?Number(ge.offsets.host[Vt])+gt:Number(ge.offsets.host[Vt])+Number(ge.offsets.host[Ot]-gt)}else Ft=Number(ge.offsets.host[Vt])+Number(ge.offsets.host[Ot]/2-xt/2);let an=Ft-(_t[Vt]??0)-at-Jt;return an=Math.max(Math.min(_t[Ot]-(xt+5),an),0),ge.offsets.arrow={[Vt]:Math.round(an),[sn]:""},ge.instance.arrow=vt,ge}function An(ge){if(ge.offsets.target=Ye(ge.offsets.target),!Ke(ge.options,"flip"))return ge.offsets.target={...ge.offsets.target,...je(ge.instance.target,ge.offsets.host,ge.placement)},ge;const _t=hn(ge.instance.target,ge.instance.host,0,"viewport",!1);let vt=ge.placement.split(" ")[0],ct=ge.placement.split(" ")[1]||"";const sn=Hn("auto",ge.offsets.host,ge.instance.target,ge.instance.host,ge.options.allowedPositions),yt=[vt,sn];return yt.forEach((xt,Oe)=>{if(vt!==xt||yt.length===Oe+1)return;vt=ge.placement.split(" ")[0];const pt="left"===vt&&Math.floor(ge.offsets.target.right??0)>Math.floor(ge.offsets.host.left??0)||"right"===vt&&Math.floor(ge.offsets.target.left??0)<Math.floor(ge.offsets.host.right??0)||"top"===vt&&Math.floor(ge.offsets.target.bottom??0)>Math.floor(ge.offsets.host.top??0)||"bottom"===vt&&Math.floor(ge.offsets.target.top??0)<Math.floor(ge.offsets.host.bottom??0),at=Math.floor(ge.offsets.target.left??0)<Math.floor(_t.left??0),Jt=Math.floor(ge.offsets.target.right??0)>Math.floor(_t.right??0),Ft=Math.floor(ge.offsets.target.top??0)<Math.floor(_t.top??0),an=Math.floor(ge.offsets.target.bottom??0)>Math.floor(_t.bottom??0),kn="left"===vt&&at||"right"===vt&&Jt||"top"===vt&&Ft||"bottom"===vt&&an,gt=-1!==["top","bottom"].indexOf(vt),Ze=gt&&"left"===ct&&at||gt&&"right"===ct&&Jt||!gt&&"left"===ct&&Ft||!gt&&"right"===ct&&an;(pt||kn||Ze)&&((pt||kn)&&(vt=yt[Oe+1]),Ze&&(ct=function ht(ge){return"right"===ge?"left":"left"===ge?"right":ge}(ct)),ge.placement=vt+(ct?` ${ct}`:""),ge.offsets.target={...ge.offsets.target,...je(ge.instance.target,ge.offsets.host,ge.placement)})}),ge}function Zn(ge){if(!Ke(ge.options,"preventOverflow"))return ge;const _t="transform",vt=ge.instance.target.style,{top:ct,left:Ot,[_t]:ut}=vt;vt.top="",vt.left="",vt[_t]="";const Vt=hn(ge.instance.target,ge.instance.host,0,ge.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);vt.top=ct,vt.left=Ot,vt[_t]=ut;const yt={primary(xt){let Oe=ge.offsets.target[xt];return(ge.offsets.target[xt]??0)<(Vt[xt]??0)&&(Oe=Math.max(ge.offsets.target[xt]??0,Vt[xt]??0)),{[xt]:Oe}},secondary(xt){const Oe="right"===xt,pt=Oe?"left":"top";let Jt=ge.offsets.target[pt];return(ge.offsets.target[xt]??0)>(Vt[xt]??0)&&(Jt=Math.min(ge.offsets.target[pt]??0,(Vt[xt]??0)-ge.offsets.target[Oe?"width":"height"])),{[pt]:Jt}}};return["left","right","top","bottom"].forEach(xt=>{const Oe=-1!==["left","top","start"].indexOf(xt)?yt.primary:yt.secondary;ge.offsets.target={...ge.offsets.target,...Oe(xt)}}),ge}function ni(ge){const _t=ge.placement,vt=_t.split(" ")[0],ct=_t.split(" ")[1];if(ct){const{host:Ot,target:ut}=ge.offsets,Vt=-1!==["bottom","top"].indexOf(vt),sn=Vt?"left":"top",yt=Vt?"width":"height",xt={start:{[sn]:Ot[sn]},end:{[sn]:(Ot[sn]??0)+Ot[yt]-ut[yt]}};ge.offsets.target={...ut,[sn]:sn===ct?xt.start[sn]:xt.end[sn]}}return ge}const wi=new class ri{position(_t,vt){return this.offset(_t,vt)}offset(_t,vt){return Pe(vt,_t)}positionElements(_t,vt,ct,Ot,ut){const Vt=[An,ni,Zn,qn],yt=function Gn(ge,_t,vt,ct){if(!ge||!_t)return;const Ot=Pe(ge,_t);!vt.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!vt.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(vt="auto");const ut=!!vt.match(/auto/g);let Vt=vt.match(/auto\s(left|right|top|bottom|start|end)/)?vt.split(" ")[1]||"auto":vt;const sn=Vt.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return sn&&(Vt=sn[1]+(sn[2]?` ${sn[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(Vt)&&(Vt="auto"),Vt=Hn(Vt,Ot,ge,_t,ct?ct.allowedPositions:void 0),{options:ct||{modifiers:{}},instance:{target:ge,host:_t,arrow:void 0},offsets:{target:je(ge,Ot,Vt),host:Ot,arrow:void 0},positionFixed:!1,placement:Vt,placementAuto:ut}}(vt,_t,Ee[ct],ut);if(yt)return Vt.reduce((xt,Oe)=>Oe(xt),yt)}};function Si(ge,_t,vt,ct,Ot,ut){const Vt=wi.positionElements(ge,_t,vt,ct,Ot);if(!Vt)return;const sn=function on(ge){return{width:ge.offsets.target.width,height:ge.offsets.target.height,left:Math.floor(ge.offsets.target.left??0),top:Math.round(ge.offsets.target.top??0),bottom:Math.round(ge.offsets.target.bottom??0),right:Math.floor(ge.offsets.target.right??0)}}(Vt);En(_t,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${sn.left}px, ${sn.top}px, 0px)`},ut),Vt.instance.arrow&&En(Vt.instance.arrow,Vt.offsets.arrow,ut),function Nn(ge,_t){const vt=ge.instance.target;let ct=vt.className;const Ot=(0,c.Wl)().isBs5?W[ge.placement]:ge.placement;ge.placementAuto&&(ct=ct.replace(/bs-popover-auto/g,`bs-popover-${Ot}`),ct=ct.replace(/ms-2|me-2|mb-2|mt-2/g,""),ct=ct.replace(/bs-tooltip-auto/g,`bs-tooltip-${Ot}`),ct=ct.replace(/\sauto/g,` ${Ot}`),-1!==ct.indexOf("popover")&&(ct=ct+" "+function kt(ge){return(0,c.Wl)().isBs5?Ge(ge,"end")?"ms-2":Ge(ge,"start")?"me-2":Ge(ge,"top")?"mb-2":Ge(ge,"bottom")?"mt-2":"":""}(Ot)),-1!==ct.indexOf("popover")&&-1===ct.indexOf("popover-auto")&&(ct+=" popover-auto"),-1!==ct.indexOf("tooltip")&&-1===ct.indexOf("tooltip-auto")&&(ct+=" tooltip-auto")),ct=ct.replace(/left|right|top|bottom|end|start/g,`${Ot.split(" ")[0]}`),_t?_t.setAttribute(vt,"class",ct):vt.className=ct}(Vt,ut)}let Ni=(()=>{class ge{constructor(vt,ct,Ot){this.update$$=new he.x,this.positionElements=new Map,this.isDisabled=!1,(0,H.NF)(Ot)&&vt.runOutsideAngular(()=>{this.triggerEvent$=(0,j.T)((0,ye.R)(window,"scroll",{passive:!0}),(0,ye.R)(window,"resize",{passive:!0}),(0,be.of)(0,se.Z),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(ut=>{Si(gi(ut.target),gi(ut.element),ut.attachment,ut.appendToBody,this.options,ct.createRenderer(null,null))})})})}position(vt){this.addPositionElement(vt)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(vt){this.positionElements.set(gi(vt.element),vt)}calcPosition(){this.update$$.next(null)}deletePositionElement(vt){this.positionElements.delete(gi(vt))}setOptions(vt){this.options=vt}static#e=this.\u0275fac=function(ct){return new(ct||ge)(F.LFG(F.R0b),F.LFG(F.FYo),F.LFG(F.Lbi))};static#t=this.\u0275prov=F.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})();function gi(ge){return"string"==typeof ge?document.querySelector(ge):ge instanceof F.SBq?ge.nativeElement:ge??null}},3161:(jt,He,x)=>{x.d(He,{C:()=>be,Rg:()=>ye,Wl:()=>Te,cQ:()=>hn,tj:()=>Ee,wo:()=>j});class c{constructor(ht,oe){this.open=ht,this.close=oe||ht}isManual(){return"manual"===this.open||"manual"===this.close}}const F={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function j(ft,ht){const oe=function H(ft,ht=F){const oe=(ft||"").trim();if(0===oe.length)return[];const ve=oe.split(/\s+/).map(je=>je.split(":")).map(je=>{const Ke=ht[je[0]]||je;return new c(Ke[0],Ke[1])}),Pe=ve.filter(je=>je.isManual());if(Pe.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===Pe.length&&ve.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return ve}(ht.triggers),ve=ht.target;if(1===oe.length&&oe[0].isManual())return Function.prototype;const Pe=[],je=[],Ke=()=>{je.forEach($e=>Pe.push($e())),je.length=0};return oe.forEach($e=>{const Ge=$e.open===$e.close,kt=Ge?ht.toggle:ht.show;if(!Ge&&$e.close&&ht.hide){const Nn=$e.close,En=ht.hide;je.push(()=>ft.listen(ve,Nn,En))}kt&&Pe.push(ft.listen(ve,$e.open,()=>kt(Ke)))}),()=>{Pe.forEach($e=>$e())}}function ye(ft,ht){return ht.outsideClick?ft.listen("document","click",oe=>{ht.target&&ht.target.contains(oe.target)||ht.targets&&ht.targets.some(ve=>ve.contains(oe.target))||ht.hide&&ht.hide()}):Function.prototype}function be(ft,ht){return ht.outsideEsc?ft.listen("document","keyup.esc",oe=>{ht.target&&ht.target.contains(oe.target)||ht.targets&&ht.targets.some(ve=>ve.contains(oe.target))||ht.hide&&ht.hide()}):Function.prototype}const se=typeof window<"u"&&window||{},Ee=se.document;var Ye=function(ft){return ft.isBs4="bs4",ft.isBs5="bs5",ft}(Ye||{});let ue;function Ce(){const ft=se.document.createElement("span");ft.innerText="testing bs version",ft.classList.add("d-none"),ft.classList.add("pl-1"),se.document.head.appendChild(ft);const ht=se.getComputedStyle(ft).paddingLeft;return ht&&parseFloat(ht)?(se.document.head.removeChild(ft),"bs4"):(se.document.head.removeChild(ft),"bs5")}function Te(){return{isBs4:(ue||(ue=Ce()),"bs4"===ue),isBs5:(ue||(ue=Ce()),"bs5"===ue)}}class hn{static reflow(ht){}static getStyles(ht){let oe=ht.ownerDocument.defaultView;return(!oe||!oe.opener)&&(oe=se),oe.getComputedStyle(ht)}static stackOverflowConfig(){const ht=function Nt(){const ft=Te(),ht=Object.keys(ft).find(oe=>ft[oe]);return Ye[ht]}();return{crossorigin:"anonymous",integrity:"bs5"===ht?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===ht?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console},2530:(jt,He,x)=>{x.d(He,{e7:()=>ce,to:()=>Ee});var c=x(5879),F=x(6223),H=x(6814);const he=["captchaWrapperElem"];let j=(()=>{class me{constructor(De){this.zone=De,this.scriptElemId="ngx-catpcha-script",this.windowGrecaptcha="grecaptcha",this.windowGrecaptchaEnterprise="enterprise",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.windowOnLoadEnterpriseCallbackProperty="ngx_captcha_onload_enterprise_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com",this.enterpriseApi="enterprise.js",this.defaultApi="api.js"}registerCaptchaScript(De,Je,Qe,it){if(this.grecaptchaScriptLoaded(De.useEnterprise))return void this.zone.run(De.useEnterprise?()=>{Qe(window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])}:()=>{Qe(window[this.windowGrecaptcha])});De.useEnterprise?window[this.getCallbackName(!0)]=()=>this.zone.run(Qe.bind(this,window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])):window[this.getCallbackName(!1)]=()=>this.zone.run(Qe.bind(this,window[this.windowGrecaptcha]));const qe=document.createElement("script");qe.id=this.scriptElemId,qe.innerHTML="",qe.src=this.getCaptchaScriptUrl(De,Je,it),qe.async=!0,qe.defer=!0,document.getElementsByTagName("head")[0].appendChild(qe)}cleanup(){const De=document.getElementById(this.scriptElemId);De&&De.remove(),window[this.getCallbackName()]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(De){return!!(window[this.getCallbackName(De)]&&window[this.windowGrecaptcha]&&(De&&window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise]||window[this.windowGrecaptcha].execute))}getCallbackName(De){return De?this.windowOnLoadEnterpriseCallbackProperty:this.windowOnLoadCallbackProperty}getLanguageParam(De){return De?`&hl=${De}`:""}getCaptchaScriptUrl(De,Je,Qe){return`https://www.${De.useGlobalDomain?this.globalDomain:this.defaultDomain}/recaptcha/${De.useEnterprise?this.enterpriseApi:this.defaultApi}?onload=${this.getCallbackName(De.useEnterprise)}&render=${Je}${this.getLanguageParam(Qe)}`}}return me.\u0275fac=function(De){return new(De||me)(c.LFG(c.R0b))},me.\u0275prov=c.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})(),ye=(()=>{class me{constructor(De,Je,Qe,it){this.renderer=De,this.zone=Je,this.injector=Qe,this.scriptService=it,this.captchaElemPrefix="ngx_captcha_id_",this.setupCaptcha=!0,this.useGlobalDomain=!1,this.useEnterprise=!1,this.type="image",this.tabIndex=0,this.success=new c.vpe,this.load=new c.vpe,this.reset=new c.vpe,this.ready=new c.vpe,this.error=new c.vpe,this.expire=new c.vpe,this.setupAfterLoad=!1,this.resetCaptchaAfterSuccess=!1,this.onChange=qe=>{},this.onTouched=qe=>{},this.isLoaded=!1}ngAfterViewInit(){this.control=this.injector.get(F.a5,void 0,c.XFs.Optional)?.control}ngAfterViewChecked(){this.setupCaptcha&&(this.setupCaptcha=!1,this.setupComponent())}ngOnChanges(De){De&&De.hl&&!De.hl.firstChange&&De.hl.currentValue!==De.hl.previousValue&&this.scriptService.cleanup(),De&&De.useGlobalDomain&&!De.useGlobalDomain.firstChange&&De.useGlobalDomain.currentValue!==De.useGlobalDomain.previousValue&&this.scriptService.cleanup(),this.setupCaptcha=!0}getResponse(){return this.reCaptchaApi.getResponse(this.captchaId)}getCaptchaId(){return this.captchaId}resetCaptcha(){this.zone.run(()=>{this.reCaptchaApi.reset(),this.onChange(void 0),this.onTouched(void 0),this.reset.next()})}getCurrentResponse(){return this.currentResponse}reloadCaptcha(){this.setupComponent()}ensureCaptchaElem(De){const Je=document.getElementById(De);if(!Je)throw Error(`Captcha element with id '${De}' was not found`);this.captchaElem=Je}renderReCaptcha(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.captchaId=this.reCaptchaApi.render(this.captchaElemId,this.getCaptchaProperties()),this.ready.next()},0)})}handleCallback(De){this.currentResponse=De,this.success.next(De),this.zone.run(()=>{this.onChange(De),this.onTouched(De)}),this.resetCaptchaAfterSuccess&&this.resetCaptcha()}getPseudoUniqueNumber(){return(new Date).getUTCMilliseconds()+Math.floor(9999*Math.random())}setupComponent(){this.captchaSpecificSetup(),this.createAndSetCaptchaElem(),this.scriptService.registerCaptchaScript({useGlobalDomain:this.useGlobalDomain,useEnterprise:this.useEnterprise},"explicit",De=>{this.onloadCallback(De)},this.hl)}onloadCallback(De){if(this.reCaptchaApi=De,!this.reCaptchaApi)throw Error("ReCaptcha Api was not initialized correctly");this.isLoaded=!0,this.load.next(),this.renderReCaptcha(),this.setupAfterLoad&&(this.setupAfterLoad=!1,this.setupComponent())}generateNewElemId(){return this.captchaElemPrefix+this.getPseudoUniqueNumber()}createAndSetCaptchaElem(){if(this.captchaElemId=this.generateNewElemId(),!this.captchaElemId)throw Error("Captcha elem Id is not set");if(!this.captchaWrapperElem)throw Error("Captcha DOM element is not initialized");this.captchaWrapperElem.nativeElement.innerHTML="";const De=this.renderer.createElement("div");De.id=this.captchaElemId,this.renderer.appendChild(this.captchaWrapperElem.nativeElement,De),setTimeout(()=>{this.captchaElemId&&this.ensureCaptchaElem(this.captchaElemId)},0)}writeValue(De){}registerOnChange(De){this.onChange=De}registerOnTouched(De){this.onTouched=De}handleErrorCallback(){this.zone.run(()=>{this.onChange(void 0),this.onTouched(void 0)}),this.error.next()}handleExpireCallback(){this.expire.next(),this.resetCaptcha()}}return me.\u0275fac=function(De){return new(De||me)(c.Y36(c.Qsj),c.Y36(c.R0b),c.Y36(c.zs3),c.Y36(j))},me.\u0275dir=c.lG2({type:me,inputs:{siteKey:"siteKey",useGlobalDomain:"useGlobalDomain",useEnterprise:"useEnterprise",type:"type",hl:"hl",tabIndex:"tabIndex"},outputs:{success:"success",load:"load",reset:"reset",ready:"ready",error:"error",expire:"expire"},features:[c.TTD]}),me})();var be=function(me){return me[me.InvisibleReCaptcha=0]="InvisibleReCaptcha",me[me.ReCaptcha2=1]="ReCaptcha2",me}(be||{});let Ee=(()=>{class me extends ye{constructor(De,Je,Qe,it){super(De,Je,Qe,it),this.renderer=De,this.zone=Je,this.injector=Qe,this.scriptService=it,this.windowOnErrorCallbackProperty="ngx_captcha_error_callback",this.windowOnExpireCallbackProperty="ngx_captcha_expire_callback",this.theme="light",this.size="normal",this.recaptchaType=be.ReCaptcha2}ngOnChanges(De){super.ngOnChanges(De)}ngOnDestroy(){window[this.windowOnErrorCallbackProperty]={},window[this.windowOnExpireCallbackProperty]={}}captchaSpecificSetup(){this.registerCallbacks()}getCaptchaProperties(){return{sitekey:this.siteKey,callback:De=>this.zone.run(()=>this.handleCallback(De)),"expired-callback":()=>this.zone.run(()=>this.handleExpireCallback()),"error-callback":()=>this.zone.run(()=>this.handleErrorCallback()),theme:this.theme,type:this.type,size:this.size,tabindex:this.tabIndex}}registerCallbacks(){window[this.windowOnErrorCallbackProperty]=super.handleErrorCallback.bind(this),window[this.windowOnExpireCallbackProperty]=super.handleExpireCallback.bind(this)}}return me.\u0275fac=function(De){return new(De||me)(c.Y36(c.Qsj),c.Y36(c.R0b),c.Y36(c.zs3),c.Y36(j))},me.\u0275cmp=c.Xpm({type:me,selectors:[["ngx-recaptcha2"]],viewQuery:function(De,Je){if(1&De&&c.Gf(he,5),2&De){let Qe;c.iGM(Qe=c.CRH())&&(Je.captchaWrapperElem=Qe.first)}},inputs:{theme:"theme",size:"size"},features:[c._Bn([{provide:F.JU,useExisting:(0,c.Gpc)(()=>me),multi:!0}]),c.qOj,c.TTD],decls:2,vars:0,consts:[["captchaWrapperElem",""]],template:function(De,Je){1&De&&c._UZ(0,"div",null,0)},encapsulation:2}),me})(),W=(()=>{class me{constructor(De,Je){this.scriptService=De,this.zone=Je}execute(De,Je,Qe,it,qe){this.executeAsPromise(De,Je,it).then(Qe).catch(Lt=>qe?qe(Lt):console.error(Lt))}executeAsPromise(De,Je,Qe){return new Promise((it,qe)=>{this.scriptService.registerCaptchaScript(Qe||{},De,ue=>{this.zone.runOutsideAngular(()=>{try{ue.execute(De,{action:Je}).then(Ce=>this.zone.run(()=>it(Ce)))}catch(Ce){qe(Ce)}})})})}}return me.\u0275fac=function(De){return new(De||me)(c.LFG(j),c.LFG(c.R0b))},me.\u0275prov=c.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})(),ce=(()=>{class me{}return me.\u0275fac=function(De){return new(De||me)},me.\u0275mod=c.oAB({type:me}),me.\u0275inj=c.cJS({providers:[j,W],imports:[H.ez]}),me})()},5861:(jt,He,x)=>{function c(H,he,j,ye,be,se,Ee){try{var W=H[se](Ee),ce=W.value}catch(me){return void j(me)}W.done?he(ce):Promise.resolve(ce).then(ye,be)}function F(H){return function(){var he=this,j=arguments;return new Promise(function(ye,be){var se=H.apply(he,j);function Ee(ce){c(se,ye,be,Ee,W,"next",ce)}function W(ce){c(se,ye,be,Ee,W,"throw",ce)}Ee(void 0)})}}x.d(He,{Z:()=>F})},7582:(jt,He,x)=>{function he(oe,ve){var Pe={};for(var je in oe)Object.prototype.hasOwnProperty.call(oe,je)&&ve.indexOf(je)<0&&(Pe[je]=oe[je]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(je=Object.getOwnPropertySymbols(oe);Ke<je.length;Ke++)ve.indexOf(je[Ke])<0&&Object.prototype.propertyIsEnumerable.call(oe,je[Ke])&&(Pe[je[Ke]]=oe[je[Ke]])}return Pe}function me(oe,ve,Pe,je){return new(Pe||(Pe=Promise))(function($e,Ge){function kt(qn){try{En(je.next(qn))}catch(An){Ge(An)}}function Nn(qn){try{En(je.throw(qn))}catch(An){Ge(An)}}function En(qn){qn.done?$e(qn.value):function Ke($e){return $e instanceof Pe?$e:new Pe(function(Ge){Ge($e)})}(qn.value).then(kt,Nn)}En((je=je.apply(oe,ve||[])).next())})}function ue(oe){return this instanceof ue?(this.v=oe,this):new ue(oe)}function Ce(oe,ve,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,je=Pe.apply(oe,ve||[]),$e=[];return Ke={},Ge("next"),Ge("throw"),Ge("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function Ge(Gn){je[Gn]&&(Ke[Gn]=function(Zn){return new Promise(function(ni,ri){$e.push([Gn,Zn,ni,ri])>1||kt(Gn,Zn)})})}function kt(Gn,Zn){try{!function Nn(Gn){Gn.value instanceof ue?Promise.resolve(Gn.value.v).then(En,qn):An($e[0][2],Gn)}(je[Gn](Zn))}catch(ni){An($e[0][3],ni)}}function En(Gn){kt("next",Gn)}function qn(Gn){kt("throw",Gn)}function An(Gn,Zn){Gn(Zn),$e.shift(),$e.length&&kt($e[0][0],$e[0][1])}}function Le(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,ve=oe[Symbol.asyncIterator];return ve?ve.call(oe):(oe=function Qe(oe){var ve="function"==typeof Symbol&&Symbol.iterator,Pe=ve&&oe[ve],je=0;if(Pe)return Pe.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&je>=oe.length&&(oe=void 0),{value:oe&&oe[je++],done:!oe}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),Pe={},je("next"),je("throw"),je("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function je($e){Pe[$e]=oe[$e]&&function(Ge){return new Promise(function(kt,Nn){!function Ke($e,Ge,kt,Nn){Promise.resolve(Nn).then(function(En){$e({value:En,done:kt})},Ge)}(kt,Nn,(Ge=oe[$e](Ge)).done,Ge.value)})}}}x.d(He,{FC:()=>Ce,KL:()=>Le,_T:()=>he,mG:()=>me,qq:()=>ue}),"function"==typeof SuppressedError&&SuppressedError}},jt=>{jt(jt.s=5768)}]);